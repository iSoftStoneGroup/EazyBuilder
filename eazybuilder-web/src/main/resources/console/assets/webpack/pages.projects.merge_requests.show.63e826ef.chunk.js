(this.webpackJsonp=this.webpackJsonp||[]).push([[346,24,27,28,45,60,68,84,91,99,111,136,139,140,420,436],{"+8HN":function(e,t,n){"use strict";n.d(t,"b",(function(){return ye})),n.d(t,"c",(function(){return l})),n.d(t,"f",(function(){return we})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return je})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return r})),n.d(t,"a",(function(){return Se})),n.d(t,"k",(function(){return be})),n.d(t,"l",(function(){return Ce})),n.d(t,"m",(function(){return ve})),n.d(t,"n",(function(){return u})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return I})),n.d(t,"q",(function(){return xe})),n.d(t,"r",(function(){return Ee})),n.d(t,"s",(function(){return D})),n.d(t,"e",(function(){return re})),n.d(t,"d",(function(){return ue}));var i="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:i,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},s=function(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.hasOwnProperty(t)?{space:r[t],local:e}:e};function a(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===i&&t.documentElement.namespaceURI===i?t.createElement(e):t.createElementNS(n,e)}}function o(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}var l=function(e){var t=s(e);return(t.local?o:a)(t)};function c(){}var u=function(e){return null==e?c:function(){return this.querySelector(e)}};function d(){return[]}var f=function(e){return null==e?d:function(){return this.querySelectorAll(e)}},h=function(e){return function(){return this.matches(e)}};if("undefined"!=typeof document){var p=document.documentElement;if(!p.matches){var m=p.webkitMatchesSelector||p.msMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector;h=function(e){return function(){return m.call(this,e)}}}}var g=h,v=function(e){return new Array(e.length)};function b(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}b.prototype={constructor:b,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var y="$";function _(e,t,n,i,r,s){for(var a,o=0,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],i[o]=a):n[o]=new b(e,s[o]);for(;o<l;++o)(a=t[o])&&(r[o]=a)}function w(e,t,n,i,r,s,a){var o,l,c,u={},d=t.length,f=s.length,h=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(h[o]=c=y+a.call(l,l.__data__,o,t),c in u?r[o]=l:u[c]=l);for(o=0;o<f;++o)(l=u[c=y+a.call(e,s[o],o,s)])?(i[o]=l,l.__data__=s[o],u[c]=null):n[o]=new b(e,s[o]);for(o=0;o<d;++o)(l=t[o])&&u[h[o]]===l&&(r[o]=l)}function O(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function k(e){return function(){this.removeAttribute(e)}}function S(e){return function(){this.removeAttributeNS(e.space,e.local)}}function j(e,t){return function(){this.setAttribute(e,t)}}function C(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function x(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function E(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}var D=function(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView};function P(e){return function(){this.style.removeProperty(e)}}function T(e,t,n){return function(){this.style.setProperty(e,t,n)}}function N(e,t,n){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function I(e,t){return e.style.getPropertyValue(t)||D(e).getComputedStyle(e,null).getPropertyValue(t)}function L(e){return function(){delete this[e]}}function R(e,t){return function(){this[e]=t}}function A(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function F(e){return e.trim().split(/^|\s+/)}function q(e){return e.classList||new M(e)}function M(e){this._node=e,this._names=F(e.getAttribute("class")||"")}function B(e,t){for(var n=q(e),i=-1,r=t.length;++i<r;)n.add(t[i])}function $(e,t){for(var n=q(e),i=-1,r=t.length;++i<r;)n.remove(t[i])}function V(e){return function(){B(this,e)}}function U(e){return function(){$(this,e)}}function G(e,t){return function(){(t.apply(this,arguments)?B:$)(this,e)}}M.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function H(){this.textContent=""}function z(e){return function(){this.textContent=e}}function W(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Q(){this.innerHTML=""}function K(e){return function(){this.innerHTML=e}}function Y(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function J(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Z(){return null}function ee(){var e=this.parentNode;e&&e.removeChild(this)}function te(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function ne(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var ie={},re=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ie={mouseenter:"mouseover",mouseleave:"mouseout"}));function se(e,t,n){return e=ae(e,t,n),function(t){var n=t.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||e.call(this,t)}}function ae(e,t,n){return function(i){var r=re;re=i;try{e.call(this,this.__data__,t,n)}finally{re=r}}}function oe(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function le(e){return function(){var t=this.__on;if(t){for(var n,i=0,r=-1,s=t.length;i<s;++i)n=t[i],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?t.length=r:delete this.__on}}}function ce(e,t,n){var i=ie.hasOwnProperty(e.type)?se:ae;return function(r,s,a){var o,l=this.__on,c=i(t,s,a);if(l)for(var u=0,d=l.length;u<d;++u)if((o=l[u]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.capture),this.addEventListener(o.type,o.listener=c,o.capture=n),void(o.value=t);this.addEventListener(e.type,c,n),o={type:e.type,name:e.name,value:t,listener:c,capture:n},l?l.push(o):this.__on=[o]}}function ue(e,t,n,i){var r=re;e.sourceEvent=re,re=e;try{return t.apply(n,i)}finally{re=r}}function de(e,t,n){var i=D(e),r=i.CustomEvent;"function"==typeof r?r=new r(t,n):(r=i.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function fe(e,t){return function(){return de(this,e,t)}}function he(e,t){return function(){return de(this,e,t.apply(this,arguments))}}var pe=[null];function me(e,t){this._groups=e,this._parents=t}function ge(){return new me([[document.documentElement]],pe)}me.prototype=ge.prototype={constructor:me,select:function(e){"function"!=typeof e&&(e=u(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,a,o=t[r],l=o.length,c=i[r]=new Array(l),d=0;d<l;++d)(s=o[d])&&(a=e.call(s,s.__data__,d,o))&&("__data__"in s&&(a.__data__=s.__data__),c[d]=a);return new me(i,this._parents)},selectAll:function(e){"function"!=typeof e&&(e=f(e));for(var t=this._groups,n=t.length,i=[],r=[],s=0;s<n;++s)for(var a,o=t[s],l=o.length,c=0;c<l;++c)(a=o[c])&&(i.push(e.call(a,a.__data__,c,o)),r.push(a));return new me(i,r)},filter:function(e){"function"!=typeof e&&(e=g(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,a=t[r],o=a.length,l=i[r]=[],c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new me(i,this._parents)},data:function(e,t){if(!e)return p=new Array(this.size()),u=-1,this.each((function(e){p[++u]=e})),p;var n,i=t?w:_,r=this._parents,s=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var a=s.length,o=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var d=r[u],f=s[u],h=f.length,p=e.call(d,d&&d.__data__,u,r),m=p.length,g=l[u]=new Array(m),v=o[u]=new Array(m);i(d,f,g,v,c[u]=new Array(h),p,t);for(var b,y,O=0,k=0;O<m;++O)if(b=g[O]){for(O>=k&&(k=O+1);!(y=v[k])&&++k<m;);b._next=y||null}}return(o=new me(o,r))._enter=l,o._exit=c,o},enter:function(){return new me(this._enter||this._groups.map(v),this._parents)},exit:function(){return new me(this._exit||this._groups.map(v),this._parents)},merge:function(e){for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),a=new Array(i),o=0;o<s;++o)for(var l,c=t[o],u=n[o],d=c.length,f=a[o]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;o<i;++o)a[o]=t[o];return new me(a,this._parents)},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var i,r=e[t],s=r.length-1,a=r[s];--s>=0;)(i=r[s])&&(a&&a!==i.nextSibling&&a.parentNode.insertBefore(i,a),a=i);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=O);for(var n=this._groups,i=n.length,r=new Array(i),s=0;s<i;++s){for(var a,o=n[s],l=o.length,c=r[s]=new Array(l),u=0;u<l;++u)(a=o[u])&&(c[u]=a);c.sort(t)}return new me(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){var e=new Array(this.size()),t=-1;return this.each((function(){e[++t]=this})),e},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var i=e[t],r=0,s=i.length;r<s;++r){var a=i[r];if(a)return a}return null},size:function(){var e=0;return this.each((function(){++e})),e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,i=t.length;n<i;++n)for(var r,s=t[n],a=0,o=s.length;a<o;++a)(r=s[a])&&e.call(r,r.__data__,a,s);return this},attr:function(e,t){var n=s(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==t?n.local?S:k:"function"==typeof t?n.local?E:x:n.local?C:j)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?P:"function"==typeof t?N:T)(e,t,null==n?"":n)):I(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?L:"function"==typeof t?A:R)(e,t)):this.node()[e]},classed:function(e,t){var n=F(e+"");if(arguments.length<2){for(var i=q(this.node()),r=-1,s=n.length;++r<s;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?G:t?V:U)(n,t))},text:function(e){return arguments.length?this.each(null==e?H:("function"==typeof e?W:z)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Q:("function"==typeof e?Y:K)(e)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each(J)},append:function(e){var t="function"==typeof e?e:l(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:l(e),i=null==t?Z:"function"==typeof t?t:u(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(ee)},clone:function(e){return this.select(e?ne:te)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var i,r,s=oe(e+""),a=s.length;if(!(arguments.length<2)){for(o=t?ce:le,null==n&&(n=!1),i=0;i<a;++i)this.each(o(s[i],t,n));return this}var o=this.node().__on;if(o)for(var l,c=0,u=o.length;c<u;++c)for(i=0,l=o[c];i<a;++i)if((r=s[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?he:fe)(e,t))}};var ve=ge,be=function(e){return"string"==typeof e?new me([[document.querySelector(e)]],[document.documentElement]):new me([[e]],pe)},ye=function(e){return be(l(e).call(document.documentElement))},_e=0;function we(){return new Oe}function Oe(){this._="@"+(++_e).toString(36)}Oe.prototype=we.prototype={constructor:Oe,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var ke=function(){for(var e,t=re;e=t.sourceEvent;)t=e;return t},Se=function(e,t){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var r=e.getBoundingClientRect();return[t.clientX-r.left-e.clientLeft,t.clientY-r.top-e.clientTop]},je=function(e){var t=ke();return t.changedTouches&&(t=t.changedTouches[0]),Se(e,t)},Ce=function(e){return"string"==typeof e?new me([document.querySelectorAll(e)],[document.documentElement]):new me([null==e?[]:e],pe)},xe=function(e,t,n){arguments.length<3&&(n=t,t=ke().changedTouches);for(var i,r=0,s=t?t.length:0;r<s;++r)if((i=t[r]).identifier===n)return Se(e,i);return null},Ee=function(e,t){null==t&&(t=ke().touches);for(var n=0,i=t?t.length:0,r=new Array(i);n<i;++n)r[n]=Se(e,t[n]);return r}},"+FvQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o}));var i=n("04nr");const r=function(e){return{endpoint:e.notesData.draftsPath,data:e}},s=function(e){return{endpoint:e.notesData.draftsPath,data:Object(i.i)(e)}},a=function(e,t){return e[t]?e[t].line_code:""},o=function(e,t){if(null===t)return!0;if("left"===t||"right"===t){const n="left"===t?"right":"left",i=e[t]&&e[t].line_code||"",r=e[n]&&e[n].line_code||"";if(i!==r||"left"===t&&i===r)return!0}return!1}},"+YT9":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TimelogFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Timelog"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"timeSpent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"spentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"note"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"fragment TimelogFragment on Timelog {\n  timeSpent\n  user {\n    name\n  }\n  spentAt\n  note {\n    body\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"+g5w":function(e,t,n){"use strict";var i=n("b9Gi"),r=n("FxFN"),s=n("xk0s"),a=n("H3X6");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={subscription:null,name:"AssigneesRealtime",props:{mediator:{type:Object,required:!1,default:null},issuableType:{type:String,required:!0},issuableId:{type:Number,required:!0},queryVariables:{type:Object,required:!0}},computed:{issuableClass(){var e=this;return Object.keys(s.c).find((function(t){return s.c[t]===e.issuableType}))}},apollo:{issuable:{query(){return a.b[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},subscribeToMore:{document(){return a.b[this.issuableType].subscription},variables(){return{issuableId:Object(r.c)(this.issuableClass,this.issuableId)}},updateQuery(e,t){var n;let{subscriptionData:r}=t;if(e&&(null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.issuableAssigneesUpdated)){const t=Object(i.a)(e,(function(e){e.workspace.issuable.assignees.nodes=r.data.issuableAssigneesUpdated.assignees.nodes}));return this.mediator&&this.handleFetchResult(t),t}return e}}}},methods:{handleFetchResult(e){const{nodes:t}=e.workspace.issuable.assignees,n=t.map((function(e){return l(l({},e),{},{avatar_url:e.avatarUrl,id:Object(r.e)(e.id)})}));this.mediator.store.setAssigneesFromRealtime(n)}},render:()=>null},d=n("tBpV"),f=Object(d.a)(u,void 0,void 0,!1,null,null,null);t.a=f.exports},"+ooC":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"issueSetAssignees"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assigneeUsernames"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetAssignees"},name:{kind:"Name",value:"issueSetAssignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"assigneeUsernames"},value:{kind:"Variable",name:{kind:"Name",value:"assigneeUsernames"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:504}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nmutation issueSetAssignees($iid: String!, $assigneeUsernames: [String!]!, $fullPath: ID!) {\n  issuableSetAssignees: issueSetAssignees(\n    input: { iid: $iid, assigneeUsernames: $assigneeUsernames, projectPath: $fullPath }\n  ) {\n    issuable: issue {\n      id\n      assignees {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.issueSetAssignees=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"issueSetAssignees")},"/SQJ":function(e,t,n){"use strict";n.d(t,"d",(function(){return ke})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return Se})),n.d(t,"b",(function(){return je}));var i=n("7dDw");function r(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function a(e){return{y:e,m:0,d:1,H:0,M:0,S:0,L:0}}function o(e){var t=e.dateTime,n=e.date,o=e.time,l=e.periods,c=e.days,u=e.shortDays,d=e.months,f=e.shortMonths,p=y(l),m=_(l),g=y(c),v=_(c),b=y(u),ke=_(u),Se=y(d),je=_(d),Ce=y(f),xe=_(f),Ee={a:function(e){return u[e.getDay()]},A:function(e){return c[e.getDay()]},b:function(e){return f[e.getMonth()]},B:function(e){return d[e.getMonth()]},c:null,d:B,e:B,f:H,H:$,I:V,j:U,L:G,m:z,M:W,p:function(e){return l[+(e.getHours()>=12)]},Q:we,s:Oe,S:Q,u:K,U:Y,V:X,w:J,W:Z,x:null,X:null,y:ee,Y:te,Z:ne,"%":_e},De={a:function(e){return u[e.getUTCDay()]},A:function(e){return c[e.getUTCDay()]},b:function(e){return f[e.getUTCMonth()]},B:function(e){return d[e.getUTCMonth()]},c:null,d:ie,e:ie,f:le,H:re,I:se,j:ae,L:oe,m:ce,M:ue,p:function(e){return l[+(e.getUTCHours()>=12)]},Q:we,s:Oe,S:de,u:fe,U:he,V:pe,w:me,W:ge,x:null,X:null,y:ve,Y:be,Z:ye,"%":_e},Pe={a:function(e,t,n){var i=b.exec(t.slice(n));return i?(e.w=ke[i[0].toLowerCase()],n+i[0].length):-1},A:function(e,t,n){var i=g.exec(t.slice(n));return i?(e.w=v[i[0].toLowerCase()],n+i[0].length):-1},b:function(e,t,n){var i=Ce.exec(t.slice(n));return i?(e.m=xe[i[0].toLowerCase()],n+i[0].length):-1},B:function(e,t,n){var i=Se.exec(t.slice(n));return i?(e.m=je[i[0].toLowerCase()],n+i[0].length):-1},c:function(e,n,i){return Ie(e,t,n,i)},d:P,e:P,f:A,H:N,I:N,j:T,L:R,m:D,M:I,p:function(e,t,n){var i=p.exec(t.slice(n));return i?(e.p=m[i[0].toLowerCase()],n+i[0].length):-1},Q:q,s:M,S:L,u:O,U:k,V:S,w:w,W:j,x:function(e,t,i){return Ie(e,n,t,i)},X:function(e,t,n){return Ie(e,o,t,n)},y:x,Y:C,Z:E,"%":F};function Te(e,t){return function(n){var i,r,s,a=[],o=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++o<c;)37===e.charCodeAt(o)&&(a.push(e.slice(l,o)),null!=(r=h[i=e.charAt(++o)])?i=e.charAt(++o):r="e"===i?" ":"0",(s=t[i])&&(i=s(n,r)),a.push(i),l=o+1);return a.push(e.slice(l,o)),a.join("")}}function Ne(e,t){return function(n){var r,o,l=a(1900);if(Ie(l,e,n+="",0)!=n.length)return null;if("Q"in l)return new Date(l.Q);if("p"in l&&(l.H=l.H%12+12*l.p),"V"in l){if(l.V<1||l.V>53)return null;"w"in l||(l.w=1),"Z"in l?(o=(r=s(a(l.y))).getUTCDay(),r=o>4||0===o?i.P.ceil(r):Object(i.P)(r),r=i.F.offset(r,7*(l.V-1)),l.y=r.getUTCFullYear(),l.m=r.getUTCMonth(),l.d=r.getUTCDate()+(l.w+6)%7):(o=(r=t(a(l.y))).getDay(),r=o>4||0===o?i.l.ceil(r):Object(i.l)(r),r=i.a.offset(r,7*(l.V-1)),l.y=r.getFullYear(),l.m=r.getMonth(),l.d=r.getDate()+(l.w+6)%7)}else("W"in l||"U"in l)&&("w"in l||(l.w="u"in l?l.u%7:"W"in l?1:0),o="Z"in l?s(a(l.y)).getUTCDay():t(a(l.y)).getDay(),l.m=0,l.d="W"in l?(l.w+6)%7+7*l.W-(o+5)%7:l.w+7*l.U-(o+6)%7);return"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,s(l)):t(l)}}function Ie(e,t,n,i){for(var r,s,a=0,o=t.length,l=n.length;a<o;){if(i>=l)return-1;if(37===(r=t.charCodeAt(a++))){if(r=t.charAt(a++),!(s=Pe[r in h?t.charAt(a++):r])||(i=s(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return Ee.x=Te(n,Ee),Ee.X=Te(o,Ee),Ee.c=Te(t,Ee),De.x=Te(n,De),De.X=Te(o,De),De.c=Te(t,De),{format:function(e){var t=Te(e+="",Ee);return t.toString=function(){return e},t},parse:function(e){var t=Ne(e+="",r);return t.toString=function(){return e},t},utcFormat:function(e){var t=Te(e+="",De);return t.toString=function(){return e},t},utcParse:function(e){var t=Ne(e,s);return t.toString=function(){return e},t}}}var l,c,u,d,f,h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,m=/^%/,g=/[\\^$*+?|[\]().{}]/g;function v(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",s=r.length;return i+(s<n?new Array(n-s+1).join(t)+r:r)}function b(e){return e.replace(g,"\\$&")}function y(e){return new RegExp("^(?:"+e.map(b).join("|")+")","i")}function _(e){for(var t={},n=-1,i=e.length;++n<i;)t[e[n].toLowerCase()]=n;return t}function w(e,t,n){var i=p.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function O(e,t,n){var i=p.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function k(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function S(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function j(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function C(e,t,n){var i=p.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function x(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function E(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function D(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function P(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function T(e,t,n){var i=p.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function N(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function I(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function L(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function R(e,t,n){var i=p.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function A(e,t,n){var i=p.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function F(e,t,n){var i=m.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function q(e,t,n){var i=p.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function M(e,t,n){var i=p.exec(t.slice(n));return i?(e.Q=1e3*+i[0],n+i[0].length):-1}function B(e,t){return v(e.getDate(),t,2)}function $(e,t){return v(e.getHours(),t,2)}function V(e,t){return v(e.getHours()%12||12,t,2)}function U(e,t){return v(1+i.a.count(Object(i.D)(e),e),t,3)}function G(e,t){return v(e.getMilliseconds(),t,3)}function H(e,t){return G(e,t)+"000"}function z(e,t){return v(e.getMonth()+1,t,2)}function W(e,t){return v(e.getMinutes(),t,2)}function Q(e,t){return v(e.getSeconds(),t,2)}function K(e){var t=e.getDay();return 0===t?7:t}function Y(e,t){return v(i.t.count(Object(i.D)(e),e),t,2)}function X(e,t){var n=e.getDay();return e=n>=4||0===n?Object(i.v)(e):i.v.ceil(e),v(i.v.count(Object(i.D)(e),e)+(4===Object(i.D)(e).getDay()),t,2)}function J(e){return e.getDay()}function Z(e,t){return v(i.l.count(Object(i.D)(e),e),t,2)}function ee(e,t){return v(e.getFullYear()%100,t,2)}function te(e,t){return v(e.getFullYear()%1e4,t,4)}function ne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+v(t/60|0,"0",2)+v(t%60,"0",2)}function ie(e,t){return v(e.getUTCDate(),t,2)}function re(e,t){return v(e.getUTCHours(),t,2)}function se(e,t){return v(e.getUTCHours()%12||12,t,2)}function ae(e,t){return v(1+i.F.count(Object(i.hb)(e),e),t,3)}function oe(e,t){return v(e.getUTCMilliseconds(),t,3)}function le(e,t){return oe(e,t)+"000"}function ce(e,t){return v(e.getUTCMonth()+1,t,2)}function ue(e,t){return v(e.getUTCMinutes(),t,2)}function de(e,t){return v(e.getUTCSeconds(),t,2)}function fe(e){var t=e.getUTCDay();return 0===t?7:t}function he(e,t){return v(i.X.count(Object(i.hb)(e),e),t,2)}function pe(e,t){var n=e.getUTCDay();return e=n>=4||0===n?Object(i.Z)(e):i.Z.ceil(e),v(i.Z.count(Object(i.hb)(e),e)+(4===Object(i.hb)(e).getUTCDay()),t,2)}function me(e){return e.getUTCDay()}function ge(e,t){return v(i.P.count(Object(i.hb)(e),e),t,2)}function ve(e,t){return v(e.getUTCFullYear()%100,t,2)}function be(e,t){return v(e.getUTCFullYear()%1e4,t,4)}function ye(){return"+0000"}function _e(){return"%"}function we(e){return+e}function Oe(e){return Math.floor(+e/1e3)}function ke(e){return l=o(e),c=l.format,u=l.parse,d=l.utcFormat,f=l.utcParse,l}ke({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Se=Date.prototype.toISOString?function(e){return e.toISOString()}:d("%Y-%m-%dT%H:%M:%S.%LZ");var je=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:f("%Y-%m-%dT%H:%M:%S.%LZ")},"/eF7":function(e,t,n){var i=n("omPs"),r=n("LlRA"),s=n("1/+g"),a=n("LK1c"),o=n("qifX"),l=n("iNcF"),c=n("qmgT"),u=n("gO+Z"),d=n("mqi7"),f=n("1sa0"),h=n("5TiC"),p=n("ZB1U"),m=n("aYTY"),g=n("90A/"),v=n("z9/d"),b=n("P/Kr"),y=n("FBB6"),_=n("dOWE"),w=n("XCkn"),O=n("2rze"),k=n("/NDV"),S=n("UwPs"),j=1,C=2,x=4,E="[object Arguments]",D="[object Function]",P="[object GeneratorFunction]",T="[object Object]",N={};N[E]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[T]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[D]=N["[object WeakMap]"]=!1,e.exports=function e(t,n,I,L,R,A){var F,q=n&j,M=n&C,B=n&x;if(I&&(F=R?I(t,L,R,A):I(t)),void 0!==F)return F;if(!w(t))return t;var $=b(t);if($){if(F=m(t),!q)return c(t,F)}else{var V=p(t),U=V==D||V==P;if(y(t))return l(t,q);if(V==T||V==E||U&&!R){if(F=M||U?{}:v(t),!q)return M?d(t,o(F,t)):u(t,a(F,t))}else{if(!N[V])return R?t:{};F=g(t,V,q)}}A||(A=new i);var G=A.get(t);if(G)return G;A.set(t,F),O(t)?t.forEach((function(i){F.add(e(i,n,I,i,t,A))})):_(t)&&t.forEach((function(i,r){F.set(r,e(i,n,I,r,t,A))}));var H=$?void 0:(B?M?h:f:M?S:k)(t);return r(H||t,(function(i,r){H&&(i=t[r=i]),s(F,r,e(i,n,I,r,t,A))})),F}},"/ode":function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return j}));n("jaBk"),n("S26F"),n("pBsb"),n("+xeR"),n("orcL");var i=n("d+lS"),r=n.n(i),s=n("eVUo"),a=n("EmJ/"),o=n.n(a),l=n("06tH"),c=n.n(l),u=n("tDP3"),d=n("NmEs"),f=n("nc9B"),h=n("XRO8"),p=n("2ibD"),m=n("1OWu"),g=n("/lV4");const v="animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd",b="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",y=/(?:, and | and |, )/,_={activity:"Activity",people:"People",nature:"Nature",food:"Food",travel:"Travel",objects:"Objects",symbols:"Symbols",flags:"Flags"},w="is-visible",O="is-rendered";class k{constructor(e){this.emoji=e,this.eventListeners=[],this.toggleButtonSelector=".js-add-award",this.menuClass="js-award-emoji-menu"}bindEvents(){var e=this;const t=this.targetContainerEl?o()(this.targetContainerEl):o()(document);this.registerEventListener("one",t,"mouseenter focus",this.toggleButtonSelector,"mouseenter focus",(function(){0===o()(".".concat(e.menuClass)).length&&requestAnimationFrame((function(){e.createEmojiMenu()}))})),this.registerEventListener("on",t,"click",this.toggleButtonSelector,(function(t){t.stopPropagation(),t.preventDefault(),e.showEmojiMenu(o()(t.currentTarget))})),this.registerEventListener("on",o()("html"),"click",(function(t){o()(t.target).closest(".".concat(e.menuClass)).length||(o()(".js-awards-block.current").removeClass("current"),o()(".".concat(e.menuClass)).is(":visible")&&(o()("".concat(e.toggleButtonSelector,".is-active")).removeClass("is-active"),e.hideMenuElement(o()(".".concat(e.menuClass)))))}));const n=".js-awards-block .js-emoji-btn, .".concat(this.menuClass," .js-emoji-btn");this.registerEventListener("on",t,"click",n,(function(t){t.preventDefault();const n=o()(t.currentTarget),i=n.find("gl-emoji"),r=n.find(".icon"),s=(i.length?i:r).data("name");n.closest(".js-awards-block").addClass("current"),e.addAward(e.getVotesBlock(),e.getAwardUrl(),s)}))}registerEventListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"on",t=arguments.length>1?arguments[1]:void 0;for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];t[e].call(t,...i),this.eventListeners.push({element:t,args:i})}showEmojiMenu(e){var t=this;e.hasClass("js-note-emoji")?e.closest(".note").find(".js-awards-block").addClass("current"):e.closest(".js-awards-block").addClass("current");const n=o()(".".concat(this.menuClass));n.length?n.is(".is-visible")?(e.removeClass("is-active"),this.hideMenuElement(n),o()(".js-emoji-menu-search").blur()):(e.addClass("is-active"),this.positionMenu(n,e),this.showMenuElement(n),o()(".js-emoji-menu-search").focus()):(e.addClass("is-loading is-active"),this.createEmojiMenu((function(){const n=o()(".".concat(t.menuClass));return e.removeClass("is-loading"),t.positionMenu(n,e),setTimeout((function(){t.showMenuElement(n),o()(".js-emoji-menu-search").focus()}),200)})))}createEmojiMenu(e){if(this.isCreatingEmojiMenu)return;this.isCreatingEmojiMenu=!0;const t=this.emoji.getEmojiCategoryMap(),n=Object.keys(t)[0],i=t[n],r=this.renderCategory(_[n],i),s=this.getFrequentlyUsedEmojis();let a="";s.length>0&&(a=this.renderCategory("Frequently used",s,{menuListClass:"frequent-emojis"}));const o='\n      <div class="emoji-menu '.concat(this.menuClass,'">\n        <input type="text" name="emoji-menu-search" value="" class="js-emoji-menu-search emoji-search search-input form-control" placeholder="Search emoji" />\n\n        <div class="emoji-menu-content">\n          ').concat(a,"\n          ").concat(r,"\n        </div>\n      </div>\n    ");(this.targetContainerEl?this.targetContainerEl:document.body).insertAdjacentHTML("beforeend",o),this.addRemainingEmojiMenuCategories(),this.setupSearch(),e&&e()}addRemainingEmojiMenuCategories(){var e=this;if(this.isAddingRemainingEmojiMenuCategories)return;this.isAddingRemainingEmojiMenuCategories=!0;const t=this.emoji.getEmojiCategoryMap(),n=document.querySelector(".".concat(this.menuClass)),i=n.querySelector(".emoji-menu-content");Object.keys(t).slice(1).reduce((function(n,r){return n.then((function(){return new Promise((function(n){const s=t[r],a=e.renderCategory(_[r],s);requestAnimationFrame((function(){i.insertAdjacentHTML("beforeend",a),n()}))}))}))}),Promise.resolve()).then((function(){n&&n.dispatchEvent(new CustomEvent("build-emoji-menu-finish"))})).catch((function(e){throw i.insertAdjacentHTML("beforeend","<p>We encountered an error while adding the remaining categories</p>"),new Error("Error occurred in addRemainingEmojiMenuCategories: ".concat(e.message))}))}renderCategory(e,t){var n=this;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return'\n      <h5 class="emoji-menu-title">\n        '.concat(e,'\n      </h5>\n      <ul class="clearfix emoji-menu-list ').concat(i.menuListClass||"",'">\n        ').concat(t.map((function(e){return'\n          <li class="emoji-menu-list-item">\n            <button class="emoji-menu-btn text-center js-emoji-btn" type="button">\n              '.concat(n.emoji.glEmojiTag(e,{sprite:!0}),"\n            </button>\n          </li>\n        ")})).join("\n"),"\n      </ul>\n    ")}positionMenu(e,t){if(this.targetContainerEl)return e.css({top:"".concat(t.outerHeight(),"px")});const n=t.data("position"),i={top:"".concat(t.offset().top+t.outerHeight(),"px")};return"xs"===s.b.getBreakpointSize()||"sm"===s.b.getBreakpointSize()?i.left="5%":"right"===n?(i.left="".concat(t.offset().left-e.outerWidth()+20,"px"),e.addClass("is-aligned-right")):(i.left="".concat(t.offset().left,"px"),e.removeClass("is-aligned-right")),e.css(i)}addAward(e,t,n,i,r){var s=this;const a=e.closest(".js-noteable-awards").length;if(Object(m.f)()&&!a){const t=e.attr("id").replace("note_","");this.hideMenuElement(o()(".".concat(this.menuClass))),o()("".concat(this.toggleButtonSelector,".is-active")).removeClass("is-active");const i=new CustomEvent("toggleAward",{detail:{awardName:n,noteId:t}});document.querySelector(".js-vue-notes-event").dispatchEvent(i)}const l=this.emoji.normalizeEmojiName(n),c=this.findEmojiIcon(e,l).parent();return this.postEmoji(c,t,l,(function(){return s.addAwardToEmojiBar(e,l,i),"function"==typeof r?r():void 0})),this.hideMenuElement(o()(".".concat(this.menuClass))),o()("".concat(this.toggleButtonSelector,".is-active")).removeClass("is-active")}addAwardToEmojiBar(e,t,n){(n||null===n)&&this.checkMutuality(e,t),this.addEmojiToFrequentlyUsedList(t);const i=this.emoji.normalizeEmojiName(t),r=this.findEmojiIcon(e,i).parent();if(r.length>0)if(this.isActive(r))this.decrementCounter(r,i);else{const t=r.find(".js-counter");t.text(parseInt(t.text(),10)+1),r.addClass("active"),this.addYouToUserList(e,i),this.animateEmoji(r)}else e.removeClass("hidden"),this.createEmoji(e,i)}getVotesBlock(){if(Object(m.f)()){const e=o()("".concat(this.toggleButtonSelector,".is-active")).closest(".note.timeline-entry");if(e.length)return e}const e=o()(".js-awards-block.current");let t=e;return 0===e.length&&(t=o()(".js-awards-block").eq(0)),t}getAwardUrl(){return this.getVotesBlock().data("awardUrl")}checkMutuality(e,t){const n=this.getAwardUrl();if("thumbsup"===t||"thumbsdown"===t){const i="thumbsup"===t?"thumbsdown":"thumbsup";e.find('[data-name="'.concat(i,'"]')).parent().hasClass("active")&&this.addAward(e,n,i,!1)}}isActive(e){return e.hasClass("active")}decrementCounter(e,t){const n=o()(".js-counter",e),i=parseInt(n.text(),10);return i>1?(n.text(i-1),this.removeYouFromUserList(e)):"thumbsup"===t||"thumbsdown"===t?(Object(f.b)(e),n.text("0"),this.removeYouFromUserList(e),e.parents(".note").length&&this.removeEmoji(e)):this.removeEmoji(e),e.removeClass("active")}removeEmoji(e){Object(f.b)(e),e.remove();const t=this.getVotesBlock();0===t.find(".js-emoji-btn").length&&t.addClass("hidden")}getAwardTooltip(e){return e.attr("data-original-title")||e.attr("data-title")||""}toSentence(e){let t;return t=e.length<=2?e.join(" and "):"".concat(e.slice(0,-1).join(", "),", and ").concat(e[e.length-1])}removeYouFromUserList(e){const t=e,n=this.getAwardTooltip(t).split(y);return n.splice(n.indexOf("You"),1),t.closest(".js-emoji-btn").removeData("title").removeAttr("data-title").removeAttr("data-original-title").attr("title",this.toSentence(n)),Object(f.c)(t),t}addYouToUserList(e,t){const n=this.findEmojiIcon(e,t).parent(),i=this.getAwardTooltip(n);let r=[];return i&&(r=i.trim().split(y)),r.unshift("You"),n.attr("title",this.toSentence(r)),Object(f.c)(n),n}createAwardButtonForVotesBlock(e,t){const n='\n      <button class="gl-button btn btn-default award-control js-emoji-btn has-tooltip active" title="You">\n        '.concat(this.emoji.glEmojiTag(t),'\n        <span class="award-control-text js-counter">1</span>\n      </button>\n    '),i=o()(n);i.insertBefore(e.find(".js-award-holder")).find(".emoji-icon").data("name",t),this.animateEmoji(i),e.removeClass("current")}animateEmoji(e){e.addClass("pulse animated once short"),this.registerEventListener("on",e,v,(function(e){o()(e.currentTarget).removeClass("pulse animated once short")}))}createEmoji(e,t){var n=this;o()(".".concat(this.menuClass)).length&&this.createAwardButtonForVotesBlock(e,t),this.createEmojiMenu((function(){n.createAwardButtonForVotesBlock(e,t)}))}postEmoji(e,t,n,i){p.a.post(t,{name:n}).then((function(e){let{data:t}=e;t.ok&&i()})).catch((function(){return Object(h.c)(Object(g.a)("Something went wrong on our end."))}))}findEmojiIcon(e,t){return e.find('.js-emoji-btn [data-name="'.concat(t,'"]'))}scrollToAwards(){Object(d.Q)(".awards",{offset:-110})}addEmojiToFrequentlyUsedList(e){this.emoji.isEmojiNameValid(e)&&(this.frequentlyUsedEmojis=r()(this.getFrequentlyUsedEmojis().concat(e)),c.a.set("frequently_used_emojis",this.frequentlyUsedEmojis.join(","),{expires:365}))}getFrequentlyUsedEmojis(){var e=this;return this.frequentlyUsedEmojis||function(){const t=r()((c.a.get("frequently_used_emojis")||"").split(","));return e.frequentlyUsedEmojis=t.filter((function(t){return e.emoji.isEmojiNameValid(t)})),e.frequentlyUsedEmojis}()}setupSearch(){var e=this;const t=o()(".js-emoji-menu-search");this.registerEventListener("on",t,"input",(function(t){const n=o()(t.target).val().trim();e.searchEmojis(n)}));const n=o()(".".concat(this.menuClass));this.registerEventListener("on",n,b,(function(t){t.target===t.currentTarget&&e.searchEmojis("")}))}searchEmojis(e){if(o()(".js-emoji-menu-search").val(e),o()("ul.emoji-menu-search, h5.emoji-search-title").remove(),e.length>0){const t=o()('<h5 class="emoji-search-title"/>').text("Search results"),n=this.findMatchingEmojiElements(e).show(),i=o()("<ul>").addClass("emoji-menu-list emoji-menu-search").append(n);o()(".emoji-menu-content ul, .emoji-menu-content h5").hide(),o()(".emoji-menu-content").append(t).append(i)}else o()(".emoji-menu-content").children().show()}findMatchingEmojiElements(e){const t=this.emoji.searchEmoji(e).map((function(e){return e.emoji.name}));return o()(".emoji-menu-list:not(.frequent-emojis) [data-name]").filter((function(e,n){return t.indexOf(n.dataset.name)>=0})).closest("li").clone()}showMenuElement(e){return e.addClass(O),Promise.resolve().then((function(){return e.addClass(w)}))}hideMenuElement(e){e.on(b,(function(t){t.currentTarget===t.target&&e.removeClass(O).off(b)})),e.removeClass(w)}destroy(){this.eventListeners.forEach((function(e){e.element.off.call(e.element,...e.args)})),o()(".".concat(this.menuClass)).remove()}}let S=null;function j(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return S&&!e||(S=u.initEmojiMap().then((function(){const e=new k(u);return e.bindEvents(),e}))),S}},"/uU4":function(e,t,n){"use strict";var i=n("jB52"),r=n("Yyc1"),s=n("wP8z"),a=n("yi8e"),o=n("/lV4"),l=n("4ZIW"),c=n("CqXh"),u=n("7KAB");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=[{key:u.DESC,text:Object(o.a)("Newest first"),cls:"js-newest-first"},{key:u.ASC,text:Object(o.a)("Oldest first"),cls:"js-oldest-first"}];var m={SORT_OPTIONS:p,components:{GlDropdown:r.a,GlDropdownItem:s.a,LocalStorageSync:c.a},mixins:[l.a.mixin()],computed:f(f({},Object(a.d)(["sortDirection","persistSortOrder","noteableType"])),{},{selectedOption(){var e=this;return p.find((function(t){let{key:n}=t;return e.sortDirection===n}))},dropdownText(){return this.selectedOption.text},storageKey(){return"sort_direction_".concat(this.noteableType.toLowerCase())}}),methods:f(f({},Object(a.c)(["setDiscussionSortDirection"])),{},{fetchSortedDiscussions(e){this.isDropdownItemActive(e)||(this.setDiscussionSortDirection({direction:e}),this.track("change_discussion_sort_direction",{property:e}))},isDropdownItemActive(e){return e===this.sortDirection}})},g=n("tBpV"),v=Object(g.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-mr-3 gl-display-inline-block gl-vertical-align-bottom full-width-mobile",attrs:{"data-testid":"sort-discussion-filter"}},[n("local-storage-sync",{attrs:{value:e.sortDirection,"storage-key":e.storageKey,persist:e.persistSortOrder},on:{input:function(t){return e.setDiscussionSortDirection({direction:t})}}}),e._v(" "),n("gl-dropdown",{staticClass:"js-dropdown-text full-width-mobile",attrs:{text:e.dropdownText}},e._l(e.$options.SORT_OPTIONS,(function(t){var i=t.text,r=t.key,s=t.cls;return n("gl-dropdown-item",{key:r,class:s,attrs:{"is-check-item":!0,"is-checked":e.isDropdownItemActive(r)},on:{click:function(t){return e.fetchSortedDiscussions(r)}}},[e._v("\n      "+e._s(i)+"\n    ")])})),1)],1)}),[],!1,null,null,null).exports;t.a=function(e){const t=document.getElementById("js-vue-sort-issue-discussions");return t?new i.default({el:t,store:e,render:e=>e(v)}):null}},"04nr":function(e,t,n){"use strict";n.d(t,"n",(function(){return O})),n.d(t,"e",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return j})),n.d(t,"k",(function(){return x})),n.d(t,"q",(function(){return E})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return P})),n.d(t,"r",(function(){return T})),n.d(t,"p",(function(){return R})),n.d(t,"o",(function(){return F})),n.d(t,"h",(function(){return q})),n.d(t,"m",(function(){return M})),n.d(t,"g",(function(){return B})),n.d(t,"d",(function(){return $})),n.d(t,"l",(function(){return V})),n.d(t,"s",(function(){return U})),n.d(t,"c",(function(){return G})),n.d(t,"f",(function(){return H}));n("EWC9"),n("QifN"),n("S26F"),n("pBsb"),n("orcL");var i=n("VNnR"),r=n.n(i),s=n("Ur9C"),a=n.n(s),o=n("BAGK"),l=(n("0AwG"),n("pIt4")),c=n("Gtn5");function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=function(e){return["new","new-nonewline"].includes(e.type)},m=function(e){return["old","old-nonewline"].includes(e.type)},g=function(e){return!e.type},v=function(e){return["match","new-nonewline","old-nonewline"].includes(e.type)},b=function(e){return[l.f,l.g].includes(e.type)},y=function(e){return e.type===l.e},_=function(e){return e.type===l.h},w=function(e){return e.type===l.i},O=function(e,t){let n=null,i=-1;const r=[];let s=0;for(let a=0,o=e.length,c=0;a<o;a+=1){const o=e[a];if(o.chunk=s,v(o)&&(s+=1),m(o)||_(o)||t)r.push({[l.O]:o,[l.P]:null}),null===n&&(n=c),c+=1;else if(p(o)||w(o))if(null!==n){r[n].right=o;const e=n+1;n=e<c?e:null}else r.push({[l.O]:null,[l.P]:o}),n=null,c+=1;else(v(o)||g(o)||b(o)||y(o)&&t)&&(i<=0?(r.push({[l.O]:o,[l.P]:!t&&o}),!t&&b(o)&&(i=c),n=null,c+=1):(r[i][l.P]=o,i=-1))}return r};function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"file_hash";return e.find((function(e){return e[n]===t}))}function S(e){const{commit:t,note:n,noteableType:i,noteableData:r,diffFile:s,noteTargetLine:a,diffViewType:o,linePosition:c,positionType:u,lineRange:d}=e,f=JSON.stringify({base_sha:s.diff_refs.base_sha,start_sha:s.diff_refs.start_sha,head_sha:s.diff_refs.head_sha,old_path:s.old_path,new_path:s.new_path,position_type:u||l.lb,old_line:a?a.old_line:null,new_line:a?a.new_line:null,x:e.x,y:e.y,width:e.width,height:e.height,line_range:d});return{view:o,line_type:c===l.P?l.Y:l.cb,merge_request_diff_head_sha:s.diff_refs.head_sha,in_reply_to_discussion_id:"",note_project_id:"",target_type:r.targetType,target_id:r.id,return_discussion:!0,note:{note:n,position:f,noteable_type:i,noteable_id:r.id,commit_id:t&&t.id,type:s.diff_refs.start_sha&&s.diff_refs.head_sha?l.u:l.K,line_code:a?a.line_code:null}}}function j(e){const t=S(e);return{endpoint:e.noteableData.create_note_path,data:t}}const C=function(e,t){const{oldLineNumber:n,newLineNumber:i}=t;return e.findIndex((function(e){return e.old_line===n&&e.new_line===i}))},x=function(e,t,n){return C(t[l.I],n)};function E(e,t,n){const i=C(e[l.I],t),r=n?1:-1;i>-1&&e[l.I].splice(i+r,1)}function D(e,t,n,i,r){const{oldLineNumber:s,newLineNumber:a}=t,o=e.length;let c=-1;const u=e.map((function(e,t){return e.type===l.Q?c=t:Object.assign(e,{old_line:n?s+t+1:s+t-o,new_line:n?a+t+1:a+t-o}),e}));if(c>-1){const e=u[c];let t;t=i?r:n?u[c-1]:u[c+1],Object.assign(e,{meta_data:{old_pos:t.old_line,new_pos:t.new_line}})}return u}function P(e){!function(e){const{inlineLines:t,contextLines:n,lineNumbers:i,isExpandDown:r}=e,s=r?1:0;if(!r&&e.bottom)t.push(...n);else{const e=C(t,i);t.splice(e+s,0,...n)}}(e)}function T(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};delete e.text;const t=f({},e);if(e.rich_text){const n=t.rich_text.charAt(0);" "!==n&&"+"!==n&&"-"!==n||(t.rich_text=e.rich_text.substring(1))}return t}function N(e,t){const n=e[l.I],i=!n.length;return f(f({},e),{},{[l.I]:i?t[l.I]:n,parallel_diff_lines:null,renderIt:t.renderIt,collapsed:t.collapsed})}function I(e){const t=!e[l.I];return Object.assign(e,{[l.I]:t?[]:e[l.I],parallel_diff_lines:null}),e}function L(e,t){var n;e.alreadyPrepared||Object.assign(e,{commentsDisabled:t.brokenSymlink,rich_text:(n=e.rich_text,n?n.replace(/^[+ -]/,""):void 0),discussionsExpanded:!0,discussions:[],hasForm:!1,text:void 0,alreadyPrepared:!0})}function R(e){let{line:t,diffFile:n,index:i=0}=e;const r=i+1,s=f(f({},t),{},{line_code:"".concat(n.file_hash,"_").concat(r,"_").concat(r),new_line:r,old_line:r});return L(s,n),s}function A(e){return e[l.I].forEach((function(t){return L(t,e)})),e}function F(e){let{diff:t,priorFiles:n=[],meta:i=!1}=e;const r=(t.diff_files||[]).map((function(e,t,n){return Object(c.d)({file:e,allFiles:n,meta:i})})).map(I).map(A).map((function(e,t){return function(e,t){return Object.assign(e,{renderIt:t<3&&e[l.I].length<l.M,isShowingFullFile:!1,isLoadingFullFile:!1,discussions:[],renderingLines:!1}),e}(e,n.length+t)}));return function(e){const t=e.reduce((function(e,t){const n=function(e){return"".concat(e.content_sha,"-").concat(e.file_hash)}(t);return f(f({},e),{},{[n]:e[n]?N(e[n],t):t})}),{});return Object.values(t)}([...n,...r])}function q(e){let t=[];return(t=e.reduce((function(e,t){return t[l.I].forEach((function(n){e.push({file:t,line:n})})),e}),[])).reduce((function(e,t){let{file:n,line:i}=t;return i.line_code&&(e[i.line_code]={base_sha:n.diff_refs.base_sha,head_sha:n.diff_refs.head_sha,start_sha:n.diff_refs.start_sha,new_path:n.new_path,old_path:n.old_path,old_line:i.old_line,new_line:i.new_line,line_range:null,line_code:i.line_code,position_type:"text"}),e}),{})}function M(e){let{discussion:t,diffPosition:n,latestDiff:i}=e;if(!n)return!1;const{line_code:s}=n,a=u(n,["line_code"]),{line_range:o}=a,l=u(a,["line_range"]);if(t.original_position&&t.position){const e=function(e){const{line_range:t}=e;return u(e,["line_range"])};return[t.original_position,t.position,...t.positions||[]].map(e).some((function(e){return r()(e,l)}))}return i&&t.active&&s===t.line_code}const B=function(e){const t=Object.keys(o.t).find((function(t){return e["".concat(t,"_file")]}));return o.t[t]||e.viewer&&e.viewer.name===o.v.mode_changed&&o.v.mode_changed||o.t.replaced},$=function(e){let{diffLines:t,data:n,typeKey:i,oldLineKey:r,newLineKey:s,mapLine:o}=e;const l=n.length,c=[];for(let e=0,u=t.length;e<u;e+=1){const u=t[e];if("match"===a()(i)(u)){const i=t[e-1],u=t[e+1],d=a()(s),f=d(i)||0,h=d(u)-1||l;c.push(...n.slice(f,h).map((function(e,t){return o({line:Object.assign(e,{hasForm:!1,discussions:[]}),oldLine:(a()(r)(i)||0)+t+1,newLine:(d(i)||0)+t+1})})))}else c.push(u)}return c},V=function(e){return requestIdleCallback(e)};const U=function(e,t,n){(function(e,t){return e[l.I].filter((function(e){return e.line_code===t}))})(e,t).forEach(n)},G=function(e){let t=!0;return e[l.I].forEach((function(e){!function(e){e&&e.discussions.length&&(t=t&&e.discussionsExpanded)}(e)})),t},H=function(e,t){return e?e===l.gb:t!==l.ab}},"0DPl":function(e,t,n){"use strict";var i=n("EmJ/"),r=n.n(i),s=n("m/7A");const a=function(e,t,n,i){const r=Math.floor(e.offsetTop-t);if(r<=n&&!e.classList.contains("is-stuck")){const t=i?function(){const e=document.createElement("div");return e.classList.add("sticky-placeholder"),e}():null,n=e.offsetHeight;e.classList.add("is-stuck"),i&&(e.parentNode.insertBefore(t,e.nextElementSibling),t.style.height="".concat(n-e.offsetHeight,"px"))}else r>n&&e.classList.contains("is-stuck")&&(e.classList.remove("is-stuck"),i&&e.nextElementSibling&&e.nextElementSibling.classList.contains("sticky-placeholder")&&e.nextElementSibling.remove())};t.a=function(e){!function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&"undefined"!=typeof CSS&&CSS.supports("(position: -webkit-sticky) or (position: sticky)")&&document.addEventListener("scroll",(function(){return a(e,window.scrollY,t,n)}),{passive:!0})}(document.querySelector(".js-diff-files-changed"),e),Object(s.a)(r()(".js-diff-stats-dropdown"),{filterable:!0,remoteFilter:!1})}},"0RVY":function(e,t,n){"use strict";var i=n("xk0s"),r=n("/lV4"),s=n("MV2A"),a=n("LLbv"),o=n("NY3P"),l=n("Qaw2");const c={BUSY:Object(r.a)("Busy"),CANNOT_MERGE:Object(r.a)("Cannot merge"),LC_CANNOT_MERGE:Object(r.a)("cannot merge")},u=function(e){return"(".concat(e,")")};var d={components:{AssigneeAvatar:l.a,GlLink:s.a},directives:{GlTooltip:a.a},props:{user:{type:Object,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{cannotMerge(){return"merge_request"===this.issuableType&&!this.user.can_merge},tooltipTitle(){const{name:e="",availability:t=""}=this.user;return function(e){let{name:t,availability:n,cannotMerge:i=!0,tooltipHasName:s=!1}=e;if(!s)return i?c.CANNOT_MERGE:"";const a=[];return n&&Object(o.a)(n)&&a.push(c.BUSY),i&&a.push(c.LC_CANNOT_MERGE),s&&a.length?Object(r.f)(Object(r.a)("%{name} %{status}"),{name:t,status:a.map(u).join(" ")}):t}({name:e,availability:t,cannotMerge:this.cannotMerge,tooltipHasName:this.tooltipHasName})},tooltipOption(){return{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},assigneeUrl(){return this.user.web_url||this.user.webUrl}}},f=n("tBpV"),h=Object(f.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:this.tooltipOption,expression:"tooltipOption"}],staticClass:"gl-display-inline-block",attrs:{href:this.assigneeUrl,title:this.tooltipTitle}},[t("span",{staticClass:"gl-display-flex"},[t("assignee-avatar",{attrs:{user:this.user,"img-size":32,"issuable-type":this.issuableType}}),this._v(" "),this._t("default")],2)])}),[],!1,null,null,null).exports,p=n("rRHO");var m={components:{AssigneeAvatarLink:h,UserNameWithStatus:p.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({showLess:!0}),computed:{firstUser(){return this.users[0]},hasOneUser(){return 1===this.users.length},hiddenAssigneesLabel(){const{numberOfHiddenAssignees:e}=this;return Object(r.f)(Object(r.a)("+ %{numberOfHiddenAssignees} more"),{numberOfHiddenAssignees:e})},renderShowMoreSection(){return this.users.length>5},numberOfHiddenAssignees(){return this.users.length-5},uncollapsedUsers(){const e=this.showLess?Math.min(this.users.length,5):this.users.length;return this.showLess?this.users.slice(0,e):this.users},username(){return"@".concat(this.firstUser.username)}},methods:{toggleShowLess(){this.showLess=!this.showLess},userAvailability(e){var t;return this.issuableType===i.c.MergeRequest?(null==e?void 0:e.availability)||"":(null==e?void 0:null===(t=e.status)||void 0===t?void 0:t.availability)||""}}},g=Object(f.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.hasOneUser?n("assignee-avatar-link",{attrs:{"tooltip-placement":"left","tooltip-has-name":!1,user:e.firstUser,"issuable-type":e.issuableType}},[n("div",{staticClass:"ml-2 gl-line-height-normal"},[n("user-name-with-status",{attrs:{name:e.firstUser.name,availability:e.userAvailability(e.firstUser)}}),e._v(" "),n("div",[e._v(e._s(e.username))])],1)]):n("div",[n("div",{staticClass:"user-list"},e._l(e.uncollapsedUsers,(function(t){return n("div",{key:t.id,staticClass:"user-item"},[n("assignee-avatar-link",{attrs:{user:t,"issuable-type":e.issuableType}})],1)})),0),e._v(" "),e.renderShowMoreSection?n("div",{staticClass:"user-list-more gl-hover-text-blue-800"},[n("button",{staticClass:"btn-link",attrs:{type:"button","data-qa-selector":"more_assignees_link"},on:{click:e.toggleShowLess}},[e.showLess?[e._v("\n        "+e._s(e.hiddenAssigneesLabel)+"\n      ")]:[e._v(e._s(e.__("- show less")))]],2)]):e._e()])}),[],!1,null,null,null);t.a=g.exports},"0V1+":function(e,t,n){"use strict";var i=n("s1D3"),r=n("Zpbh"),s={name:"IssueStatusIcon",components:{GlIcon:i.a},props:{status:{type:String,required:!0},statusIconSize:{type:Number,required:!1,default:24}},computed:{iconName(){return this.isStatusFailed?"status_failed_borderless":this.isStatusSuccess?"status_success_borderless":"dash"},isStatusFailed(){return this.status===r.i},isStatusSuccess(){return this.status===r.k},isStatusNeutral(){return this.status===r.j}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"report-block-list-icon",class:{failed:this.isStatusFailed,success:this.isStatusSuccess,neutral:this.isStatusNeutral}},[t("gl-icon",{attrs:{name:this.iconName,size:this.statusIconSize,"data-qa-selector":"status_"+this.status+"_icon"}})],1)}),[],!1,null,null,null);t.a=o.exports},"0ch9":function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"i",(function(){return r})),n.d(t,"u",(function(){return s})),n.d(t,"t",(function(){return a})),n.d(t,"s",(function(){return o})),n.d(t,"v",(function(){return l})),n.d(t,"w",(function(){return c})),n.d(t,"F",(function(){return u})),n.d(t,"G",(function(){return d})),n.d(t,"I",(function(){return f})),n.d(t,"H",(function(){return h})),n.d(t,"y",(function(){return p})),n.d(t,"x",(function(){return m})),n.d(t,"C",(function(){return g})),n.d(t,"B",(function(){return v})),n.d(t,"A",(function(){return b})),n.d(t,"z",(function(){return y})),n.d(t,"E",(function(){return _})),n.d(t,"D",(function(){return w})),n.d(t,"O",(function(){return O})),n.d(t,"N",(function(){return k})),n.d(t,"K",(function(){return S})),n.d(t,"M",(function(){return j})),n.d(t,"J",(function(){return C})),n.d(t,"P",(function(){return x})),n.d(t,"L",(function(){return E})),n.d(t,"d",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"b",(function(){return T})),n.d(t,"e",(function(){return N})),n.d(t,"a",(function(){return I})),n.d(t,"g",(function(){return L})),n.d(t,"f",(function(){return R})),n.d(t,"l",(function(){return A})),n.d(t,"k",(function(){return F})),n.d(t,"m",(function(){return q})),n.d(t,"o",(function(){return M})),n.d(t,"n",(function(){return B})),n.d(t,"j",(function(){return $})),n.d(t,"r",(function(){return V})),n.d(t,"q",(function(){return U})),n.d(t,"p",(function(){return G}));const i="mark",r="measure",s="snippet-view-app-start",a="snippet-edit-app-start",o="snippet-blobs-content-finished",l="snippet-blobs-content",c="webide-app-start",u="webide-file-clicked",d="webide-file-finished",f="webide-init-editor-start",h="webide-init-editor-finish",p="webide-getBranchData-start",m="webide-getBranchData-finish",g="webide-getFileData-start",v="webide-getFileData-finish",b="webide-getFiles-start",y="webide-getFiles-finish",_="webide-getProjectData-start",w="webide-getProjectData-finish",O="webide-file-loading-after-interaction",k="WebIDE: Project data",S="WebIDE: Branch data",j="WebIDE: File data",C="WebIDE: Before Vue app",x="WebIDE: Repo Editor",E="WebIDE: Fetch Files",D="mr-diffs-mark-file-tree-start",P="mr-diffs-mark-file-tree-end",T="mr-diffs-mark-diff-files-start",N="mr-diffs-mark-first-diff-file-shown",I="mr-diffs-mark-diff-files-end",L="mr-diffs-measure-file-tree-done",R="mr-diffs-measure-diff-files-done",A="pipelines-detail-links-mark-calculate-start",F="pipelines-detail-links-mark-calculate-end",q="Pipelines Detail Graph: Links Calculation",M="pipeline_graph_link_calculation_duration_seconds",B="pipeline_graph_links_total",$="pipeline_graph_links_per_job_ratio",V="blobviewer-load-viewer-start",U="blobviewer-load-viewer-finish",G="Repository File Viewer: loading the content"},"0hjN":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var i=n("yWhq"),r=n("jB52"),s=(n("jaBk"),n("QifN"),n("orcL"),n("lx39")),a=n.n(s),o=n("5Hk+"),l=n.n(o),c=n("vZ/O"),u=n("MV2A"),d=n("1cpz"),f=n("Yyc1"),h=n("wP8z"),p=n("30su"),m=n("4lAS"),g=n("PrLL"),v=n("qPgm"),b=n("Zia5"),y=n("Tmea"),_=n.n(y),w=n("LkaW"),O=n("iN9h"),k=n("/lV4"),S=n("i7S8"),j={name:"GroupSelect",components:{GlDropdown:f.a,GlDropdownItem:h.a,GlDropdownText:w.a,GlSearchBoxByType:O.a},model:{prop:"selectedGroup"},data:()=>({isFetching:!1,groups:[],selectedGroup:{},searchTerm:""}),computed:{selectedGroupName(){return this.selectedGroup.name||this.$options.i18n.dropdownText},isFetchResultEmpty(){return 0===this.groups.length}},watch:{searchTerm(){this.retrieveGroups()}},mounted(){this.retrieveGroups()},methods:{retrieveGroups:_()((function(){var e=this;return this.isFetching=!0,v.a.groups(this.searchTerm,this.$options.defaultFetchOptions).then((function(t){e.groups=t.map((function(e){return{id:e.id,name:e.full_name,path:e.path}})),e.isFetching=!1})).catch((function(){e.isFetching=!1}))}),S.b),selectGroup(e){this.selectedGroup=e,this.$emit("input",this.selectedGroup)}},i18n:{dropdownText:Object(k.e)("GroupSelect|Select a group"),searchPlaceholder:Object(k.e)("GroupSelect|Search groups"),emptySearchResult:Object(k.e)("GroupSelect|No matching results")},defaultFetchOptions:{exclude_internal:!0,active:!0}},C=n("tBpV"),x=Object(C.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-dropdown",{attrs:{"data-testid":"group-select-dropdown",text:e.selectedGroupName,block:"","menu-class":"gl-w-full!"}},[n("gl-search-box-by-type",{attrs:{"is-loading":e.isFetching,placeholder:e.$options.i18n.searchPlaceholder,"data-qa-selector":"group_select_dropdown_search_field"},model:{value:e.searchTerm,callback:function(t){e.searchTerm="string"==typeof t?t.trim():t},expression:"searchTerm"}}),e._v(" "),e._l(e.groups,(function(t){return n("gl-dropdown-item",{key:t.id,attrs:{name:t.name},on:{click:function(n){return e.selectGroup(t)}}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),e._v(" "),e.isFetchResultEmpty&&!e.isFetching?n("gl-dropdown-text",{attrs:{"data-testid":"empty-result-message"}},[n("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.$options.i18n.emptySearchResult))])]):e._e()],2)],1)}),[],!1,null,null,null).exports,E=(n("l9AF"),n("e+NP")),D=n("tbP8"),P=n("N5YB"),T=n("ZvgQ"),N={components:{GlTokenSelector:E.a,GlAvatar:D.a,GlAvatarLabeled:P.a,GlSprintf:p.a},props:{placeholder:{type:String,required:!1,default:""},ariaLabelledby:{type:String,required:!0}},data:()=>({loading:!1,query:"",users:[],selectedTokens:[],hasBeenFocused:!1,hideDropdownWithNoItems:!0}),computed:{emailIsValid(){return null!==this.query.match(/.+@/)},placeholderText(){return 0===this.selectedTokens.length?this.placeholder:""}},methods:{handleTextInput(e){this.hideDropdownWithNoItems=!1,this.query=e,this.loading=!0,this.retrieveUsers(e)},retrieveUsers:_()((function(){var e=this;return Object(T.f)(this.query,this.$options.queryOptions).then((function(t){e.users=t.data.map((function(e){return{id:e.id,name:e.name,username:e.username,avatar_url:e.avatar_url}})),e.loading=!1})).catch((function(){e.loading=!1}))}),S.b),handleInput(){this.$emit("input",this.selectedTokens)},handleBlur(){this.hideDropdownWithNoItems=!1},handleFocus(){this.hasBeenFocused&&(this.loading=!0,this.retrieveUsers()),this.hasBeenFocused=!0}},queryOptions:{exclude_internal:!0,active:!0},i18n:{inviteTextMessage:Object(k.a)('Invite "%{email}" by email')}},I=Object(C.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-token-selector",{attrs:{"dropdown-items":e.users,loading:e.loading,"allow-user-defined-tokens":e.emailIsValid,"hide-dropdown-with-no-items":e.hideDropdownWithNoItems,placeholder:e.placeholderText,"aria-labelledby":e.ariaLabelledby},on:{blur:e.handleBlur,"text-input":e.handleTextInput,input:e.handleInput,focus:e.handleFocus},scopedSlots:e._u([{key:"token-content",fn:function(t){var i=t.token;return[i.avatar_url?n("gl-avatar",{attrs:{src:i.avatar_url,size:16}}):e._e(),e._v("\n    "+e._s(i.name)+"\n  ")]}},{key:"dropdown-item-content",fn:function(e){var t=e.dropdownItem;return[n("gl-avatar-labeled",{attrs:{src:t.avatar_url,size:32,label:t.name,"sub-label":t.username}})]}},{key:"user-defined-token-content",fn:function(t){var i=t.inputText;return[n("gl-sprintf",{attrs:{message:e.$options.i18n.inviteTextMessage},scopedSlots:e._u([{key:"email",fn:function(){return[n("span",[e._v(e._s(i))])]},proxy:!0}],null,!0)})]}}]),model:{value:e.selectedTokens,callback:function(t){e.selectedTokens=t},expression:"selectedTokens"}})}),[],!1,null,null,null).exports,L=n("GuZl"),R=n("A2UA");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={name:"InviteMembersModal",components:{GlDatepicker:c.a,GlLink:u.a,GlModal:d.a,GlDropdown:f.a,GlDropdownItem:h.a,GlSprintf:p.a,GlButton:m.a,GlFormInput:g.a,MembersTokenSelect:I,GroupSelect:x},props:{id:{type:String,required:!0},isProject:{type:Boolean,required:!0},name:{type:String,required:!0},accessLevels:{type:Object,required:!0},defaultAccessLevel:{type:Number,required:!0},helpLink:{type:String,required:!0}},data(){return{visible:!0,modalId:"invite-members-modal",selectedAccessLevel:this.defaultAccessLevel,inviteeType:"members",newUsersToInvite:[],selectedDate:void 0,groupToBeSharedWith:{}}},computed:{isInviteGroup(){return"group"===this.inviteeType},introText(){const e=this.isProject?"toProject":"toGroup";return Object(k.f)(this.$options.labels[this.inviteeType][e].introText,{name:this.name})},toastOptions(){var e=this;return{onComplete:function(){e.selectedAccessLevel=e.defaultAccessLevel,e.newUsersToInvite=[],e.groupToBeSharedWith={}}}},basePostData(){return{expires_at:this.selectedDate,format:"json"}},selectedRoleName(){var e=this;return Object.keys(this.accessLevels).find((function(t){return e.accessLevels[t]===Number(e.selectedAccessLevel)}))},inviteDisabled(){return 0===this.newUsersToInvite.length&&0===Object.keys(this.groupToBeSharedWith).length}},mounted(){var e=this;R.a.$on("openModal",(function(t){e.openModal(t)}))},methods:{partitionNewUsersToInvite(){const[e,t]=l()(this.newUsersToInvite,(function(e){return a()(e.id)&&e.id.includes("user-defined-token")}));return[e.map((function(e){return e.name})).join(","),t.map((function(e){return e.id})).join(",")]},openModal(e){let{inviteeType:t,source:n}=e;this.inviteeType=t,this.source=n,this.$root.$emit(L.c,this.modalId)},closeModal(){this.$root.$emit(L.a,this.modalId)},sendInvite(){this.isInviteGroup?this.submitShareWithGroup():this.submitInviteMembers(),this.closeModal()},trackInvite(){if(this.source===S.a){new b.a(S.a).event("comment_invite_success")}},cancelInvite(){this.selectedAccessLevel=this.defaultAccessLevel,this.selectedDate=void 0,this.newUsersToInvite=[],this.groupToBeSharedWith={},this.closeModal()},changeSelectedItem(e){this.selectedAccessLevel=e},submitShareWithGroup(){(this.isProject?v.a.projectShareWithGroup.bind(v.a):v.a.groupShareWithGroup.bind(v.a))(this.id,this.shareWithGroupPostData(this.groupToBeSharedWith.id)).then(this.showToastMessageSuccess).catch(this.showToastMessageError)},submitInviteMembers(){const[e,t]=this.partitionNewUsersToInvite(),n=[];if(""!==e){const t=this.isProject?v.a.inviteProjectMembersByEmail.bind(v.a):v.a.inviteGroupMembersByEmail.bind(v.a);n.push(t(this.id,this.inviteByEmailPostData(e)))}if(""!==t){const e=this.isProject?v.a.addProjectMembersByUserId.bind(v.a):v.a.addGroupMembersByUserId.bind(v.a);n.push(e(this.id,this.addByUserIdPostData(t)))}this.trackInvite(),Promise.all(n).then(this.showToastMessageSuccess).catch(this.showToastMessageError)},inviteByEmailPostData(e){return F(F({},this.basePostData),{},{email:e,access_level:this.selectedAccessLevel})},addByUserIdPostData(e){return F(F({},this.basePostData),{},{user_id:e,access_level:this.selectedAccessLevel})},shareWithGroupPostData(e){return F(F({},this.basePostData),{},{group_id:e,group_access:this.selectedAccessLevel})},showToastMessageSuccess(){this.$toast.show(this.$options.labels.toastMessageSuccessful,this.toastOptions)},showToastMessageError(e){const t=e.response.data.message||this.$options.labels.toastMessageUnsuccessful;this.$toast.show(t,this.toastOptions)}},labels:{members:{modalTitle:Object(k.e)("InviteMembersModal|Invite members"),searchField:Object(k.e)("InviteMembersModal|GitLab member or email address"),placeHolder:Object(k.e)("InviteMembersModal|Select members or type email addresses"),toGroup:{introText:Object(k.e)("InviteMembersModal|You're inviting members to the %{strongStart}%{name}%{strongEnd} group.")},toProject:{introText:Object(k.e)("InviteMembersModal|You're inviting members to the %{strongStart}%{name}%{strongEnd} project.")}},group:{modalTitle:Object(k.e)("InviteMembersModal|Invite a group"),searchField:Object(k.e)("InviteMembersModal|Select a group to invite"),placeHolder:Object(k.e)("InviteMembersModal|Search for a group to invite"),toGroup:{introText:Object(k.e)("InviteMembersModal|You're inviting a group to the %{strongStart}%{name}%{strongEnd} group.")},toProject:{introText:Object(k.e)("InviteMembersModal|You're inviting a group to the %{strongStart}%{name}%{strongEnd} project.")}},accessLevel:Object(k.e)("InviteMembersModal|Choose a role permission"),accessExpireDate:Object(k.e)("InviteMembersModal|Access expiration date (optional)"),toastMessageSuccessful:Object(k.e)("InviteMembersModal|Members were successfully added"),toastMessageUnsuccessful:Object(k.e)("InviteMembersModal|Some of the members could not be added"),readMoreText:Object(k.e)("InviteMembersModal|%{linkStart}Read more%{linkEnd} about role permissions"),inviteButtonText:Object(k.e)("InviteMembersModal|Invite"),cancelButtonText:Object(k.e)("InviteMembersModal|Cancel"),headerCloseLabel:Object(k.e)("InviteMembersModal|Close invite team members")},membersTokenSelectLabelId:"invite-members-input"},B=Object(C.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{"modal-id":e.modalId,size:"sm","data-qa-selector":"invite_members_modal_content",title:e.$options.labels[e.inviteeType].modalTitle,"header-close-label":e.$options.labels.headerCloseLabel},scopedSlots:e._u([{key:"modal-footer",fn:function(){return[n("div",{staticClass:"gl-display-flex gl-flex-direction-row gl-justify-content-end gl-flex-wrap gl-m-0"},[n("gl-button",{ref:"cancelButton",on:{click:e.cancelInvite}},[e._v("\n        "+e._s(e.$options.labels.cancelButtonText)+"\n      ")]),e._v(" "),n("div",{staticClass:"gl-mr-3"}),e._v(" "),n("gl-button",{ref:"inviteButton",attrs:{disabled:e.inviteDisabled,variant:"success","data-qa-selector":"invite_button"},on:{click:e.sendInvite}},[e._v(e._s(e.$options.labels.inviteButtonText))])],1)]},proxy:!0}])},[n("div",[n("p",{ref:"introText"},[n("gl-sprintf",{attrs:{message:e.introText},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}}])})],1),e._v(" "),n("label",{staticClass:"gl-font-weight-bold gl-mt-5",attrs:{id:e.$options.membersTokenSelectLabelId}},[e._v(e._s(e.$options.labels[e.inviteeType].searchField))]),e._v(" "),n("div",{staticClass:"gl-mt-2"},[e.isInviteGroup?e._e():n("members-token-select",{attrs:{"aria-labelledby":e.$options.membersTokenSelectLabelId,placeholder:e.$options.labels[e.inviteeType].placeHolder},model:{value:e.newUsersToInvite,callback:function(t){e.newUsersToInvite=t},expression:"newUsersToInvite"}}),e._v(" "),e.isInviteGroup?n("group-select",{model:{value:e.groupToBeSharedWith,callback:function(t){e.groupToBeSharedWith=t},expression:"groupToBeSharedWith"}}):e._e()],1),e._v(" "),n("label",{staticClass:"gl-font-weight-bold gl-mt-3"},[e._v(e._s(e.$options.labels.accessLevel))]),e._v(" "),n("div",{staticClass:"gl-mt-2 gl-w-half gl-xs-w-full"},[n("gl-dropdown",e._b({staticClass:"gl-shadow-none gl-w-full",attrs:{"data-qa-selector":"access_level_dropdown",text:e.selectedRoleName}},"gl-dropdown",e.$attrs,!1),[e._l(e.accessLevels,(function(t,i){return[n("gl-dropdown-item",{key:t,attrs:{"active-class":"is-active","is-check-item":"","is-checked":t===e.selectedAccessLevel},on:{click:function(n){return e.changeSelectedItem(t)}}},[n("div",[e._v(e._s(i))])])]}))],2)],1),e._v(" "),n("div",{staticClass:"gl-mt-2 gl-w-half gl-xs-w-full"},[n("gl-sprintf",{attrs:{message:e.$options.labels.readMoreText},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.helpLink,target:"_blank"}},[e._v(e._s(i))])]}}])})],1),e._v(" "),n("label",{staticClass:"gl-font-weight-bold gl-mt-5 gl-display-block",attrs:{for:"expires_at"}},[e._v(e._s(e.$options.labels.accessExpireDate))]),e._v(" "),n("div",{staticClass:"gl-mt-2 gl-w-half gl-xs-w-full gl-display-inline-block"},[n("gl-datepicker",{staticClass:"gl-display-inline!",attrs:{"min-date":new Date,target:null},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.formattedDate;return[n("gl-form-input",{staticClass:"gl-w-full",attrs:{value:i,placeholder:e.__("YYYY-MM-DD")}})]}}]),model:{value:e.selectedDate,callback:function(t){e.selectedDate=t},expression:"selectedDate"}})],1)])])}),[],!1,null,null,null).exports,$=n("NmEs");function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(){const e=document.querySelector(".js-invite-members-modal");return!!e&&new r.default({el:e,render:function(t){return t(B,{props:U(U({},e.dataset),{},{isProject:Object($.K)(e.dataset.isProject),accessLevels:JSON.parse(e.dataset.accessLevels),defaultAccessLevel:parseInt(e.dataset.defaultAccessLevel,10)})})}})}r.default.use(i.a)},"0r/n":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workInProgressQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shouldBeRebased"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceBranchProtected"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:190}};n.loc.source={body:"query workInProgressQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      shouldBeRebased\n      sourceBranchProtected\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.workInProgressQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"workInProgressQuery")},176:function(e,t,n){n("HVBj"),n("gjpc"),e.exports=n("g7k4")},"1OWu":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"e",(function(){return u}));n("orcL"),n("7jeQ");var i=n("NmEs");const r=function(e){return Boolean(e&&e.scrollWidth>e.offsetWidth)},s=function(e,t){e&&e.classList.add(t)},a=function(){return Object(i.B)()||Object(i.y)()||Object(i.C)()},o=function(e){let{scrollTop:t}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>n},l=function(e){let{scrollTop:t,offsetHeight:n,scrollHeight:i}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t+n<i-r},c=function(e,t){e&&Object.entries(t).map((function(t){let[n,i]=t;i?e.classList.add(n):e.classList.remove(n)}))},u=function(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}},"1Pjf":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getAllIssues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webPath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:193}};n.loc.source={body:"query getAllIssues($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    issues {\n      nodes {\n        id\n        title\n        webPath\n        webUrl\n        state\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getAllIssues=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getAllIssues")},"1Pt7":function(e,t,n){"use strict";n("S26F");var i=n("1fc5"),r=n("4lAS"),s=n("LLbv"),a=n("ydqu"),o=n("Agcx"),l=n("Fsq/"),c=n("ZHzM"),u=n("sHIo"),d=n("ONti"),f={components:{UserAvatarLink:c.a,ModalCopyButton:o.a,TimeAgoTooltip:l.a,CommitPipelineStatus:a.a,GlButtonGroup:i.a,GlButton:r.a},directives:{GlTooltip:s.a},mixins:[Object(u.a)()],props:{isSelectable:{type:Boolean,required:!1,default:!1},commit:{type:Object,required:!0},checked:{type:Boolean,required:!1,default:!1},collapsible:{type:Boolean,required:!1,default:!0}},computed:{author(){return this.commit.author||{}},authorName(){return this.author.name||this.commit.author_name},authorClass(){return this.author.name?"js-user-link":""},authorId(){return this.author.id?this.author.id:""},authorUrl(){return this.author.web_url||"mailto:".concat(this.commit.author_email)},authorAvatar(){return this.author.avatar_url||this.commit.author_gravatar_url},commitDescription(){return this.commit.description_html.replace(/^&#x000A;/,"")}},created(){var e=this;this.$nextTick((function(){Object(d.a)(e.$el.querySelectorAll(".js-user-link"))}))}},h=n("tBpV"),p=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"commit",class:{"js-toggle-container":e.collapsible}},[n("div",{staticClass:"d-block d-sm-flex flex-row-reverse justify-content-between align-items-start flex-lg-row-reverse"},[n("div",{staticClass:"commit-actions flex-row d-none d-sm-flex align-items-start flex-wrap justify-content-end"},[e.commit.signature_html?n("div",{domProps:{innerHTML:e._s(e.commit.signature_html)}}):e._e(),e._v(" "),e.commit.pipeline_status_path?n("commit-pipeline-status",{staticClass:"d-inline-flex mb-2",attrs:{endpoint:e.commit.pipeline_status_path}}):e._e(),e._v(" "),n("gl-button-group",{staticClass:"gl-ml-4 gl-mb-4",attrs:{"data-testid":"commit-sha-group"}},[n("gl-button",{staticClass:"gl-font-monospace",attrs:{label:"","data-testid":"commit-sha-short-id"},domProps:{textContent:e._s(e.commit.short_id)}}),e._v(" "),n("modal-copy-button",{staticClass:"input-group-text",attrs:{text:e.commit.id,title:e.__("Copy commit SHA")}})],1)],1),e._v(" "),n("div",[n("div",{staticClass:"d-flex float-left align-items-center align-self-start"},[e.isSelectable?n("input",{staticClass:"mr-2",attrs:{type:"checkbox"},domProps:{checked:e.checked},on:{change:function(t){return e.$emit("handleCheckboxChange",t.target.checked)}}}):e._e(),e._v(" "),n("user-avatar-link",{staticClass:"avatar-cell d-none d-sm-block",attrs:{"link-href":e.authorUrl,"img-src":e.authorAvatar,"img-alt":e.authorName,"img-size":40}})],1),e._v(" "),n("div",{staticClass:"commit-detail flex-list"},[n("div",{staticClass:"commit-content",attrs:{"data-qa-selector":"commit_content"}},[n("a",{staticClass:"commit-row-message item-title",attrs:{href:e.commit.commit_url},domProps:{innerHTML:e._s(e.commit.title_html)}}),e._v(" "),n("span",{staticClass:"commit-row-message d-block d-sm-none"},[e._v(" "+e._s(e.commit.short_id))]),e._v(" "),e.commit.description_html&&e.collapsible?n("gl-button",{staticClass:"js-toggle-button",attrs:{size:"small",icon:"ellipsis_h","aria-label":e.__("Toggle commit description")}}):e._e(),e._v(" "),n("div",{staticClass:"committer"},[n("a",{class:e.authorClass,attrs:{href:e.authorUrl,"data-user-id":e.authorId},domProps:{textContent:e._s(e.authorName)}}),e._v("\n            "+e._s(e.s__("CommitWidget|authored"))+"\n            "),n("time-ago-tooltip",{attrs:{time:e.commit.authored_date}})],1)],1)])])]),e._v(" "),n("div",[e.commit.description_html?n("pre",{staticClass:"commit-row-description gl-mb-3 gl-text-body",class:{"js-toggle-content":e.collapsible,"d-block":!e.collapsible},domProps:{innerHTML:e._s(e.commitDescription)}}):e._e()])])}),[],!1,null,null,null);t.a=p.exports},"1TVX":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"toggleWIPStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"wip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetWip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"wip"},value:{kind:"Variable",name:{kind:"Name",value:"wip"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeableDiscussionsState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workInProgress"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:267}};n.loc.source={body:"mutation toggleWIPStatus($projectPath: ID!, $iid: String!, $wip: Boolean!) {\n  mergeRequestSetWip(input: { projectPath: $projectPath, iid: $iid, wip: $wip }) {\n    mergeRequest {\n      mergeableDiscussionsState\n      title\n      workInProgress\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.toggleWIPStatus=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"toggleWIPStatus")},"1X7o":function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var i=n("gr1B"),r=n("GiFX"),s=n("5v28"),a=n("Usid");const o=new i.b({introspectionQueryResultData:a}),l=Object(s.default)({},{cacheConfig:{fragmentMatcher:o},assumeImmutableResults:!0}),c=new r.default({defaultClient:l})},"1ZpL":function(e,t,n){var i,r,s;
/*! waitForImages jQuery Plugin - v2.1.0 - 2016-01-04
* https://github.com/alexanderdickson/waitForImages
* Copyright (c) 2016 Alex Dickson; Licensed MIT */r=[n("EmJ/")],void 0===(s="function"==typeof(i=function(e){e.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},e.expr[":"]["has-src"]=function(t){return e(t).is('img[src][src!=""]')},e.expr[":"].uncached=function(t){return!!e(t).is(":has-src")&&!t.complete},e.fn.waitForImages=function(){var t,n,i,r=0,s=0,a=e.Deferred();if(e.isPlainObject(arguments[0])?(i=arguments[0].waitForAll,n=arguments[0].each,t=arguments[0].finished):1===arguments.length&&"boolean"===e.type(arguments[0])?i=arguments[0]:(t=arguments[0],n=arguments[1],i=arguments[2]),t=t||e.noop,n=n||e.noop,i=!!i,!e.isFunction(t)||!e.isFunction(n))throw new TypeError("An invalid callback was supplied.");return this.each((function(){var o=e(this),l=[],c=e.waitForImages.hasImageProperties||[],u=e.waitForImages.hasImageAttributes||[],d=/url\(\s*(['"]?)(.*?)\1\s*\)/g;i?o.find("*").addBack().each((function(){var t=e(this);t.is("img:has-src")&&!t.is("[srcset]")&&l.push({src:t.attr("src"),element:t[0]}),e.each(c,(function(e,n){var i,r=t.css(n);if(!r)return!0;for(;i=d.exec(r);)l.push({src:i[2],element:t[0]})})),e.each(u,(function(e,n){if(!t.attr(n))return!0;l.push({src:t.attr("src"),srcset:t.attr("srcset"),element:t[0]})}))})):o.find("img:has-src").each((function(){l.push({src:this.src,element:this})})),r=l.length,s=0,0===r&&(t.call(o[0]),a.resolveWith(o[0])),e.each(l,(function(i,l){var c=new Image,u="load.waitForImages error.waitForImages";e(c).one(u,(function i(c){var d=[s,r,"load"==c.type];if(s++,n.apply(l.element,d),a.notifyWith(l.element,d),e(this).off(u,i),s==r)return t.call(o[0]),a.resolveWith(o[0]),!1})),l.srcset&&(c.srcset=l.srcset),c.src=l.src}))})),a.promise()}})?i.apply(t,r):i)||(e.exports=s)},"1fc5":function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("lgrP"),a=n("t8l0");var o={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(a.b)(i.g,"size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},l=r.a.extend({name:i.i,functional:!0,props:o,render:function(e,t){var n,i,r,a=t.props,o=t.data,l=t.children;return e(a.tag,Object(s.a)(o,{class:(n={"btn-group":!a.vertical,"btn-group-vertical":a.vertical},i="btn-group-".concat(a.size),r=a.size,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),attrs:{role:a.ariaRole}}),l)}}),c=n("Pyw5");const u={components:{BButtonGroup:l}};const d=n.n(c)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},"1pLT":function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"setBaseConfig",(function(){return ee})),n.d(i,"setTabIndex",(function(){return te})),n.d(i,"searchCommits",(function(){return ne})),n.d(i,"setCommits",(function(){return ie})),n.d(i,"createContextCommits",(function(){return re})),n.d(i,"fetchContextCommits",(function(){return se})),n.d(i,"setContextCommits",(function(){return ae})),n.d(i,"removeContextCommits",(function(){return oe})),n.d(i,"setSelectedCommits",(function(){return le})),n.d(i,"setSearchText",(function(){return ce})),n.d(i,"setToRemoveCommits",(function(){return ue})),n.d(i,"resetModalState",(function(){return de}));n("S26F"),n("+xeR");var r=n("EmJ/"),s=n.n(r),a=n("XRO8"),o=n("/lV4"),l=n("SqD0"),c=n("2ibD"),u=n("0AwG"),d=n("3twG"),f=(n("TZoF"),n("eVUo")),h=n("06tH"),p=n.n(h),m=n("jB52"),g=n("T3gz"),v=n("7xOh"),b=n("NmEs"),y=n("4lAS"),_=Object(v.a)(),w={components:{GlButton:y.a},props:{commitsEmpty:{type:Boolean,required:!1,default:!1},contextCommitsEmpty:{type:Boolean,required:!0}},computed:{buttonText(){return this.contextCommitsEmpty||this.commitsEmpty?Object(o.e)("AddContextCommits|Add previously merged commits"):Object(o.e)("AddContextCommits|Add/remove")}},methods:{openModal(){_.$emit("openModal")}}},O=n("tBpV"),k=Object(O.a)(w,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{class:[{"ml-3":!e.contextCommitsEmpty,"mt-3":!e.commitsEmpty&&e.contextCommitsEmpty}],attrs:{variant:e.commitsEmpty?"info":"default"},on:{click:e.openModal}},[e._v("\n  "+e._s(e.buttonText)+"\n")])}),[],!1,null,null,null).exports,S=(n("jaBk"),n("orcL"),n("1cpz")),j=n("pbPB"),C=n("sF+2"),x=n("iN9h"),E=n("30su"),D=n("yi8e"),P=n("FkSe"),T=n("dsWN"),N=n("1Pt7"),I={components:{GlLoadingIcon:P.a,GlAlert:T.a,CommitItem:N.a},props:{isLoading:{type:Boolean,required:!0},loadingError:{type:Boolean,required:!0},loadingFailedText:{type:String,required:!0},commits:{type:Array,required:!0},emptyListText:{type:String,required:!1,default:Object(o.a)("No commits present here")}}},L=Object(O.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoading?n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"lg"}}):e.loadingError?n("gl-alert",{staticClass:"mt-3",attrs:{variant:"danger",dismissible:!1}},[e._v("\n  "+e._s(e.loadingFailedText)+"\n")]):0===e.commits.length?n("div",{staticClass:"text-center mt-4"},[n("span",[e._v(e._s(e.emptyListText))])]):n("div",[n("ul",{staticClass:"content-list commit-list flex-list"},e._l(e.commits,(function(t,i){return n("commit-item",{key:t.id,attrs:{"is-selectable":!0,commit:t,checked:t.isSelected},on:{handleCheckboxChange:function(t){return e.$emit("handleCommitSelect",[i,t])}}})})),1)])}),[],!1,null,null,null).exports,R=n("GuZl");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const M=function(e,t){return e.findIndex((function(e){return e.short_id===t}))},B=function(e,t,n){const i=[...e];return i[t]=F(F({},i[t]),{},{isSelected:n}),i};function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G={components:{GlModal:S.a,GlTabs:j.a,GlTab:C.a,ReviewTabContainer:L,GlSearchBoxByType:x.a,GlSprintf:E.a},props:{contextCommitsPath:{type:String,required:!0},targetBranch:{type:String,required:!0},mergeRequestIid:{type:Number,required:!0},projectId:{type:Number,required:!0}},computed:V(V({},Object(D.f)(["tabIndex","isLoadingCommits","commits","commitsLoadingError","isLoadingContextCommits","contextCommits","contextCommitsLoadingError","selectedCommits","searchText","toRemoveCommits"])),{},{currentTabIndex:{get(){return this.tabIndex},set(e){this.setTabIndex(e)}},selectedCommitsCount(){return this.selectedCommits.filter((function(e){return e.isSelected})).length},shouldPurge(){return this.selectedCommitsCount!==this.selectedCommits.length},uniqueCommits(){var e=this;return this.selectedCommits.filter((function(t){return t.isSelected&&-1===M(e.contextCommits,t.short_id)}))},disableSaveButton(){return(0===this.selectedCommitsCount.length||0===this.uniqueCommits.length)&&0===this.toRemoveCommits.length}}),watch:{tabIndex(e){this.handleTabChange(e)}},mounted(){_.$on("openModal",this.openModal),this.setBaseConfig({contextCommitsPath:this.contextCommitsPath,mergeRequestIid:this.mergeRequestIid,projectId:this.projectId})},beforeDestroy(){_.$off("openModal",this.openModal),clearTimeout(this.timeout),this.timeout=null},methods:V(V({},Object(D.c)(["setBaseConfig","setTabIndex","searchCommits","setCommits","createContextCommits","fetchContextCommits","removeContextCommits","setSelectedCommits","setSearchText","setToRemoveCommits","resetModalState"])),{},{focusSearch(){this.$refs.searchInput.focusInput()},openModal(){this.searchCommits(),this.fetchContextCommits(),this.$root.$emit(R.c,"add-review-item")},handleTabChange(e){0===e&&(this.focusSearch(),this.shouldPurge&&this.setSelectedCommits([...this.commits,...this.selectedCommits].filter((function(e){return e.isSelected}))))},handleSearchCommits(e){var t=this;e.length>=3?(clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.searchCommits(e)}),500)):0===e.length&&this.searchCommits(),this.setSearchText(e)},handleCommitRowSelect(e){const t=e[0],n=e[1],i=0===this.tabIndex?this.commits[t]:this.selectedCommits[t],r=M(this.commits,i.short_id),s=B(this.commits,r,n),a=M(this.selectedCommits,i.short_id);let o=B(this.selectedCommits,a,n);if(n)this.setToRemoveCommits(function(e,t){const n=[...e],i=n.indexOf(t);return-1!==i&&n.splice(i,1),n}(this.toRemoveCommits,i.short_id));else{0===this.tabIndex&&(o=function(e,t){const n=[...e],i=M(n,t);return-1!==i&&n.splice(i,1),n}(o,i.short_id)),-1!==M(this.contextCommits,i.short_id)&&this.setToRemoveCommits([...this.toRemoveCommits,i.short_id])}this.setCommits({commits:s}),this.setSelectedCommits([...o,...s.filter((function(e){return e.isSelected}))])},handleCreateContextCommits(){return this.uniqueCommits.length>0&&this.toRemoveCommits.length>0?Promise.all([this.createContextCommits({commits:this.uniqueCommits}),this.removeContextCommits()]).then((function(e){(e[0]||e[1])&&window.location.reload(),e[0]||e[1]||Object(a.c)(Object(o.e)("ContextCommits|Failed to create/remove context commits. Please try again."))})):this.uniqueCommits.length>0?this.createContextCommits({commits:this.uniqueCommits,forceReload:!0}):this.removeContextCommits(!0)},handleModalClose(){this.resetModalState(),clearTimeout(this.timeout)},handleModalHide(){this.resetModalState(),clearTimeout(this.timeout)}})},H=Object(O.a)(G,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{ref:"modal",attrs:{"cancel-variant":"light",size:"md","body-class":"add-review-item pt-0",scrollable:!0,"ok-title":e.__("Save changes"),"modal-id":"add-review-item",title:e.__("Add or remove previously merged commits"),"ok-disabled":e.disableSaveButton},on:{shown:e.focusSearch,ok:e.handleCreateContextCommits,cancel:e.handleModalClose,close:e.handleModalClose,hide:e.handleModalHide}},[n("gl-tabs",{attrs:{"content-class":"pt-0"},model:{value:e.currentTabIndex,callback:function(t){e.currentTabIndex=t},expression:"currentTabIndex"}},[n("gl-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[n("gl-sprintf",{attrs:{message:e.__("Commits in %{codeStart}"+e.targetBranch+"%{codeEnd}")},scopedSlots:e._u([{key:"code",fn:function(t){var i=t.content;return[n("code",[e._v(e._s(i))])]}}])})]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"mt-2"},[n("gl-search-box-by-type",{ref:"searchInput",attrs:{placeholder:e.__("Search by commit title or SHA")},on:{input:e.handleSearchCommits}}),e._v(" "),n("review-tab-container",{attrs:{"is-loading":e.isLoadingCommits,"loading-error":e.commitsLoadingError,"loading-failed-text":e.__("Unable to load commits. Try again later."),commits:e.commits,"empty-list-text":e.__("Your search didn't match any commits. Try a different query.")},on:{handleCommitSelect:e.handleCommitRowSelect}})],1)]),e._v(" "),n("gl-tab",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v("\n        "+e._s(e.__("Selected commits"))+"\n        "),n("span",{staticClass:"badge badge-pill"},[e._v(e._s(e.selectedCommitsCount))])]},proxy:!0}])},[e._v(" "),n("review-tab-container",{attrs:{"is-loading":e.isLoadingContextCommits,"loading-error":e.contextCommitsLoadingError,"loading-failed-text":e.__("Unable to load commits. Try again later."),commits:e.selectedCommits,"empty-list-text":e.__("Commits you select appear here. Go to the first tab and select commits to add to this merge request.")},on:{handleCommitSelect:e.handleCommitRowSelect}})],1)],1)],1)}),[],!1,null,null,null).exports,z=n("GHFj"),W=n.n(z),Q=n("YqVM"),K=n.n(Q),Y=n("qPgm");function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=function(e,t){let{commit:n}=e;n("SET_BASE_CONFIG",t)},te=function(e,t){let{commit:n}=e;return n("SET_TABINDEX",t)},ne=function(e,t){let{dispatch:n,commit:i,state:r}=e;i("FETCH_COMMITS");let s={};return t&&(s={params:{search:t,per_page:40}}),c.a.get(r.contextCommitsPath,s).then((function(e){let{data:i}=e,s=i.map((function(e){return J(J({},e),{},{isSelected:!1})}));s=s.map((function(e){return r.selectedCommits.find((function(t){return t.short_id===e.short_id&&t.isSelected}))?J(J({},e),{},{isSelected:!0}):e})),n("setCommits",t?{commits:s}:{commits:[...s,...r.contextCommits]})})).catch((function(){i("FETCH_COMMITS_ERROR")}))},ie=function(e,t){let{commit:n}=e,{commits:i,silentAddition:r=!1}=t,s=K()(i,"short_id");n(r?"SET_COMMITS_SILENT":"SET_COMMITS",s=W()(i,(function(e){return new Date(e.committed_date)}),["desc"]))},re=function(e,t){let{state:n}=e,{commits:i,forceReload:r=!1}=t;return Y.a.createContextCommits(n.projectId,n.mergeRequestIid,{commits:i.map((function(e){return e.short_id}))}).then((function(){return r&&window.location.reload(),!0})).catch((function(){return r&&Object(a.c)(Object(o.e)("ContextCommits|Failed to create context commits. Please try again.")),!1}))},se=function(e){let{dispatch:t,commit:n,state:i}=e;return n("FETCH_CONTEXT_COMMITS"),Y.a.allContextCommits(i.projectId,i.mergeRequestIid).then((function(e){let{data:n}=e;const r=n.map((function(e){return J(J({},e),{},{isSelected:!0})}));t("setContextCommits",r),t("setCommits",{commits:[...i.commits,...r],silentAddition:!0}),t("setSelectedCommits",r)})).catch((function(){n("FETCH_CONTEXT_COMMITS_ERROR")}))},ae=function(e,t){let{commit:n}=e;n("SET_CONTEXT_COMMITS",t)},oe=function(e){let{state:t}=e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Y.a.removeContextCommits(t.projectId,t.mergeRequestIid,{commits:t.toRemoveCommits}).then((function(){return n&&window.location.reload(),!0})).catch((function(){return n&&Object(a.c)(Object(o.e)("ContextCommits|Failed to delete context commits. Please try again.")),!1}))},le=function(e,t){let{commit:n}=e,i=K()(t,"short_id");n("SET_SELECTED_COMMITS",i=W()(i,(function(e){return new Date(e.committed_date)}),["desc"]))},ce=function(e,t){let{commit:n}=e;return n("SET_SEARCH_TEXT",t)},ue=function(e,t){let{commit:n}=e;return n("SET_TO_REMOVE_COMMITS",t)},de=function(e){let{commit:t}=e;return t("RESET_MODAL_STATE")};n("EWC9");function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe={SET_BASE_CONFIG(e,t){Object.assign(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){he(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))},SET_TABINDEX(e,t){e.tabIndex=t},FETCH_COMMITS(e){e.isLoadingCommits=!0,e.commitsLoadingError=!1},SET_COMMITS(e,t){e.commits=t,e.isLoadingCommits=!1,e.commitsLoadingError=!1},SET_COMMITS_SILENT(e,t){e.commits=t},FETCH_COMMITS_ERROR(e){e.commitsLoadingError=!0,e.isLoadingCommits=!1},FETCH_CONTEXT_COMMITS(e){e.isLoadingContextCommits=!0,e.contextCommitsLoadingError=!1},SET_CONTEXT_COMMITS(e,t){e.contextCommits=t,e.isLoadingContextCommits=!1,e.contextCommitsLoadingError=!1},FETCH_CONTEXT_COMMITS_ERROR(e){e.contextCommitsLoadingError=!0,e.isLoadingContextCommits=!1},SET_SELECTED_COMMITS(e,t){e.selectedCommits=t},SET_SEARCH_TEXT(e,t){e.searchText=t},SET_TO_REMOVE_COMMITS(e,t){e.toRemoveCommits=t},RESET_MODAL_STATE(e){e.tabIndex=0,e.commits=[],e.contextCommits=[],e.selectedCommits=[],e.toRemoveCommits=[],e.searchText=""}};m.default.use(D.b);var me=function(){return new D.b.Store({namespaced:!0,state:{contextCommitsPath:"",tabIndex:0,isLoadingCommits:!1,commits:[],commitsLoadingError:!1,selectedCommits:[],isLoadingContextCommits:!1,contextCommits:[],contextCommitsLoadingError:!1,searchText:"",toRemoveCommits:[]},actions:i,mutations:pe})};var ge=n("Tctl"),ve=n("DN5t"),be=n("0DPl"),ye=n("bOix"),_e=n("1OWu"),we=n("uqFy"),Oe=n("FYnm");let{location:ke}=window;class Se{constructor(){let{action:e,setUrl:t,stubLocation:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mergeRequestTabs=document.querySelector(".merge-request-tabs-container"),this.mergeRequestTabsAll=this.mergeRequestTabs&&this.mergeRequestTabs.querySelectorAll?this.mergeRequestTabs.querySelectorAll(".merge-request-tabs li"):null,this.mergeRequestTabPanes=document.querySelector("#diff-notes-app"),this.mergeRequestTabPanesAll=this.mergeRequestTabPanes&&this.mergeRequestTabPanes.querySelectorAll?this.mergeRequestTabPanes.querySelectorAll(".tab-pane"):null;const i=document.querySelector(".navbar-gitlab"),r=document.getElementById("js-peek");this.commitsTab=document.querySelector(".tab-content .commits.tab-pane"),this.currentTab=null,this.diffsLoaded=!1,this.pipelinesLoaded=!1,this.commitsLoaded=!1,this.fixedLayoutPref=null,this.eventHub=Object(v.a)(),this.setUrl=void 0===t||t,this.setCurrentAction=this.setCurrentAction.bind(this),this.tabShown=this.tabShown.bind(this),this.clickTab=this.clickTab.bind(this),this.stickyTop=i?i.offsetHeight-16:0,r&&(this.stickyTop+=r.offsetHeight),this.mergeRequestTabs&&(this.stickyTop+=this.mergeRequestTabs.offsetHeight),n&&(ke=n),this.bindEvents(),this.mergeRequestTabs&&this.mergeRequestTabs.querySelector("a[data-action='".concat(e,"']"))&&this.mergeRequestTabs.querySelector("a[data-action='".concat(e,"']")).click&&this.mergeRequestTabs.querySelector("a[data-action='".concat(e,"']")).click()}bindEvents(){var e=this;s()('.merge-request-tabs a[data-toggle="tabvue"]').on("click",this.clickTab),window.addEventListener("popstate",(function(t){t.state&&t.state.action&&(e.tabShown(t.state.action,t.target.location),e.currentAction=t.state.action,e.eventHub.$emit("MergeRequestTabChange",e.getCurrentAction()))}))}unbindEvents(){s()('.merge-request-tabs a[data-toggle="tabvue"]').off("click",this.clickTab)}destroyPipelinesView(){this.commitPipelinesTable&&(this.commitPipelinesTable.$destroy(),this.commitPipelinesTable=null,document.querySelector("#commit-pipeline-table-view").innerHTML="")}clickTab(e){if(e.currentTarget){e.stopImmediatePropagation(),e.preventDefault();const{action:t}=e.currentTarget.dataset||{};if(Object(b.F)(e)){const t=e.currentTarget.getAttribute("href");window.open(t,"_blank")}else if(t){const n=e.currentTarget.getAttribute("href");this.tabShown(t,n),this.setUrl&&this.setCurrentAction(t)}}}tabShown(e,t){if(e!==this.currentTab&&this.mergeRequestTabs){this.currentTab=e,this.mergeRequestTabPanesAll&&this.mergeRequestTabPanesAll.forEach((function(e){e.style.display="none"})),this.mergeRequestTabsAll&&this.mergeRequestTabsAll.forEach((function(e){e.classList.remove("active")}));const n=this.mergeRequestTabPanes.querySelector("#".concat(e));n&&(n.style.display="block");const i=this.mergeRequestTabs.querySelector(".".concat(e,"-tab"));i&&i.classList.add("active"),"commits"===e?(this.loadCommits(t),this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):"new"===e?(this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()):this.isDiffAction(e)?(Object(_e.f)()||this.loadDiff(t),"xl"!==f.b.getBreakpointSize()&&this.shrinkView(),this.expandViewContainer(),this.destroyPipelinesView(),this.commitsTab.classList.remove("active")):"pipelines"===e?(this.resetViewContainer(),this.mountPipelinesView()):(this.mergeRequestTabPanes.querySelector("#notes").style.display="block",this.mergeRequestTabs.querySelector(".notes-tab").classList.add("active"),"xs"!==f.b.getBreakpointSize()&&this.expandView(),this.resetViewContainer(),this.destroyPipelinesView()),s()(".detail-page-description").renderGFM()}else if(e===this.currentAction){const e=document.querySelector(".content-wrapper"),t=document.querySelector(".tab-content");if(e&&t){const n=e.getBoundingClientRect().top,i=t.getBoundingClientRect().top-n-51;"scrollBehavior"in document.documentElement.style?window.scrollTo({top:i,behavior:"smooth"}):window.scrollTo(0,i)}}this.eventHub.$emit("MergeRequestTabChange",e)}scrollToContainerElement(e){if(ke.hash){const t=s()("".concat(e," ").concat(ke.hash,":not(.match)"));t.length&&Object(b.Q)(t[0])}}setCurrentAction(e){this.currentAction=e;let t=ke.pathname.replace(/\/(commits|diffs|pipelines)(\.html)?\/?$/,"");return"show"!==this.currentAction&&"new"!==this.currentAction&&(t+="/".concat(this.currentAction)),t+=ke.search+ke.hash,window.history.state&&window.history.state.url&&window.location.pathname!==t?window.history.pushState({url:t,action:this.currentAction},document.title,t):window.history.replaceState({url:window.location.href,action:e},document.title,window.location.href),t}getCurrentAction(){return this.currentAction}loadCommits(e){var t=this;this.commitsLoaded||(this.toggleLoading(!0),c.a.get("".concat(e,".json")).then((function(e){let{data:n}=e;document.querySelector("div#commits").innerHTML=n.html,Object(ye.x)(s()(".js-timeago","div#commits")),t.commitsLoaded=!0,t.scrollToContainerElement("#commits"),t.toggleLoading(!1),function(){const e=document.querySelector(".add-review-item-modal-trigger"),t=document.querySelector(".add-review-item-modal-wrapper");if(e||t){new m.default({el:e,data(){const{commitsEmpty:e,contextCommitsEmpty:t}=this.$options.el.dataset;return{commitsEmpty:Object(b.K)(e),contextCommitsEmpty:Object(b.K)(t)}},render(e){return e(k,{props:{commitsEmpty:this.commitsEmpty,contextCommitsEmpty:this.contextCommitsEmpty}})}});const n=me();new m.default({el:t,store:n,data(){const{contextCommitsPath:e,targetBranch:t,mergeRequestIid:n,projectId:i}=this.$options.el.dataset;return{contextCommitsPath:e,targetBranch:t,mergeRequestIid:Number(n),projectId:Number(i)}},render(e){return e(H,{props:{contextCommitsPath:this.contextCommitsPath,targetBranch:this.targetBranch,mergeRequestIid:this.mergeRequestIid,projectId:this.projectId}})}})}}()})).catch((function(){t.toggleLoading(!1),Object(a.c)(Object(o.a)("An error occurred while fetching this tab."))})))}mountPipelinesView(){const e=document.querySelector("#commit-pipeline-table-view"),{mrWidgetData:t}=gl;this.commitPipelinesTable=new m.default({provide:{artifactsEndpoint:e.dataset.artifactsEndpoint,artifactsEndpointPlaceholder:e.dataset.artifactsEndpointPlaceholder,targetProjectFullPath:(null==t?void 0:t.target_project_full_path)||""},render:n=>n(g.a,{props:{endpoint:e.dataset.endpoint,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath,canCreatePipelineInTargetProject:Boolean(null==t?void 0:t.can_create_pipeline_in_target_project),sourceProjectFullPath:(null==t?void 0:t.source_project_full_path)||"",targetProjectFullPath:(null==t?void 0:t.target_project_full_path)||"",projectId:e.dataset.projectId,mergeRequestId:t?t.iid:null}})}).$mount(),e.appendChild(this.commitPipelinesTable.$el)}loadDiff(e){var t=this;if(this.diffsLoaded)return void document.dispatchEvent(new CustomEvent("scroll"));const n=Object(b.N)(e);this.toggleLoading(!0),c.a.get("".concat(n,".json").concat(ke.search)).then((function(e){let{data:n}=e;const i=s()("#diffs");i.html(n.html),Object(be.a)(t.stickyTop),Object(ye.x)(s()(".js-timeago","div#diffs")),Object(Oe.a)(s()("#diffs .js-syntax-highlight")),t.isDiffAction(t.currentAction)&&t.expandViewContainer(),t.diffsLoaded=!0,new ve.a,t.scrollToContainerElement("#diffs"),s()(".diff-file").each((function(e,t){new ge.a({openButtons:s()(t).find(".js-edit-blob-link-fork-toggler"),forkButtons:s()(t).find(".js-fork-suggestion-button"),cancelButtons:s()(t).find(".js-cancel-fork-suggestion-button"),suggestionSections:s()(t).find(".js-file-fork-suggestion-section"),actionTextPieces:s()(t).find(".js-file-fork-suggestion-section-action")}).init()}));const r=Object(d.f)(),a=r&&i.find('.note[id="'.concat(r,'"]'));if(a&&a.length>0){const e=a.closest(".notes-content").hasClass("new")?"new":"old";we.a.instance.toggleDiffNote({target:a,lineType:e,forceShow:!0}),a[0].scrollIntoView(),Object(b.t)(),a.addClass("target")}t.toggleLoading(!1)})).catch((function(){t.toggleLoading(!1),Object(a.c)(Object(o.a)("An error occurred while fetching this tab."))}))}toggleLoading(e){s()(".mr-loading-status .loading").toggleClass("hide",!e)}diffViewType(){return s()(".js-diff-view-buttons button.active").data("viewType")}isDiffAction(e){return"diffs"===e||"new/diffs"===e}expandViewContainer(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=s()(".content-wrapper .container-fluid").not(".breadcrumbs");null===this.fixedLayoutPref&&(this.fixedLayoutPref=t.hasClass("container-limited")),"parallel"===this.diffViewType()||e?t.removeClass("container-limited"):t.toggleClass("container-limited",this.fixedLayoutPref)}resetViewContainer(){null!==this.fixedLayoutPref&&s()(".content-wrapper .container-fluid").toggleClass("container-limited",this.fixedLayoutPref)}shrinkView(){const e=s()(".js-sidebar-toggle:visible"),t=e.find(".js-sidebar-expand");setTimeout((function(){t.length&&t.hasClass("hidden")&&e.trigger("click",[!0])}),0)}expandView(){if(Object(b.K)(p.a.get("collapsed_gutter")))return;const e=s()(".js-sidebar-toggle"),t=e.find(".js-sidebar-collapse");setTimeout((function(){t.length&&!t.hasClass("hidden")&&e.trigger("click",[!0])}),0)}}var je=n("QBXl");function Ce(e){var t=this;this.opts=null!=e?e:{},this.submitNoteForm=this.submitNoteForm.bind(this),this.$el=s()(".merge-request"),this.$(".show-all-commits").on("click",(function(){return t.showAllCommits()})),this.initTabs(),this.initMRBtnListeners(),this.initCommitMessageListeners(),s()(".description.js-task-list-container").length&&(this.taskList=new je.a({dataType:"merge_request",fieldName:"description",selector:".detail-page-description",lockVersion:this.$el.data("lockVersion"),onSuccess:function(e){document.querySelector("#task_status").innerText=e.task_status,document.querySelector("#task_status_short").innerText=e.task_status_short},onError:function(){Object(a.c)(Object(o.a)("Someone edited this merge request at the same time you did. Please refresh the page to see changes."))}}))}Ce.prototype.$=function(e){return this.$el.find(e)},Ce.prototype.initTabs=function(){window.mrTabs&&window.mrTabs.unbindEvents(),window.mrTabs=new Se(this.opts)},Ce.prototype.showAllCommits=function(){return this.$(".first-commits").remove(),this.$(".all-commits").removeClass("hide")},Ce.prototype.initMRBtnListeners=function(){const e=this,t=document.querySelectorAll(".js-draft-toggle-button");return t.length&&t.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),t.stopImmediatePropagation();const n=e.href,i=Object(d.g)("merge_request[wip_event]",n)[0],r=e.closest(".dropdown.show");r&&s()(r.firstElementChild).dropdown("toggle"),e.setAttribute("disabled","disabled"),c.a.put(e.href,null,{params:{format:"json"}}).then((function(t){let{data:n}=t;e.removeAttribute("disabled"),l.a.$emit("MRWidgetUpdateRequested"),Ce.toggleDraftStatus(n.title,"unwip"===i)})).catch((function(){e.removeAttribute("disabled"),Object(a.c)(Object(o.a)("Something went wrong. Please try again."))}))}))})),s()(".btn-close, .btn-reopen").on("click",(function(t){const n=s()(this),i=n.hasClass("btn-comment");i&&n.data("submitted")||i&&(n.hasClass("btn-comment-and-close")||n.hasClass("btn-comment-and-reopen"))&&(t.preventDefault(),t.stopImmediatePropagation(),e.submitNoteForm(n.closest("form"),n))}))},Ce.prototype.submitNoteForm=function(e,t){if(e.find("textarea.js-note-text").val().trim().length>0)return e.submit(),t.data("submitted",!0),t.trigger("click")},Ce.prototype.initCommitMessageListeners=function(){s()(document).on("click","a.js-with-description-link",(function(e){const t=s()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithDescription")),s()(".js-with-description-hint").hide(),s()(".js-without-description-hint").show()})),s()(document).on("click","a.js-without-description-link",(function(e){const t=s()("textarea.js-commit-message");e.preventDefault(),t.val(t.data("messageWithoutDescription")),s()(".js-with-description-hint").show(),s()(".js-without-description-hint").hide()}))},Ce.setStatusBoxToMerged=function(){s()(".detail-page-header .status-box").removeClass("status-box-open").addClass("status-box-mr-merged").find("span").text(Object(o.a)("Merged"))},Ce.decreaseCounter=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=s()(".js-merge-counter"),n=Math.max(parseInt(t.text().replace(/[^\d]/,""),10)-e,0);t.text(Object(u.a)(n))},Ce.hideCloseButton=function(){document.querySelector(".merge-request .js-issuable-actions").querySelector("li.js-close-item").classList.add("hidden")},Ce.toggleDraftStatus=function(e,t){t&&Object(a.c)(Object(o.a)("The merge request can now be merged."),"notice");const n=document.querySelector(".merge-request .detail-page-description .title");n&&(n.textContent=e);const i=document.querySelectorAll(".js-draft-toggle-button");i.length&&i.forEach((function(e){const n=e,i=Object(d.y)({"merge_request[wip_event]":t?"wip":"unwip"},n.href);n.setAttribute("href",i),n.textContent=t?Object(o.a)("Mark as draft"):Object(o.a)("Mark as ready")}))};t.a=Ce},"22O2":function(e,t,n){"use strict";n("QifN");var i=n("A7K0"),r=n("30su"),s=n("4lAS"),a=n("dsWN"),o=n("UfEt"),l=n("tPBq"),c={target:"#js-code-quality-walkthrough",components:{GlPopover:i.a,GlSprintf:r.a,GlButton:s.a,GlAlert:a.a},props:{step:{type:String,required:!0},link:{type:String,required:!1,default:null}},data(){return{dismissedSettings:Object(l.a)(),currentStep:o.d[this.step]}},computed:{isPopoverVisible(){return[o.c.commitCiFile,o.c.runningPipeline,o.c.successPipeline,o.c.failedPipeline].includes(this.step)&&Object(l.b)()&&!this.isDismissed},isAlertVisible(){return this.step===o.c.troubleshootJob&&Object(l.b)()&&!this.isDismissed},isDismissed(){return this.dismissedSettings[this.step]},title(){var e;return(null===(e=this.currentStep)||void 0===e?void 0:e.title)||""},body(){var e;return(null===(e=this.currentStep)||void 0===e?void 0:e.body)||""},buttonText(){var e;return(null===(e=this.currentStep)||void 0===e?void 0:e.buttonText)||""},buttonLink(){return[o.c.successPipeline,o.c.failedPipeline].includes(this.step)?this.link:""},placement(){var e;return(null===(e=this.currentStep)||void 0===e?void 0:e.placement)||"bottom"},offset(){var e;return(null===(e=this.currentStep)||void 0===e?void 0:e.offset)||0}},created(){this.trackDisplayed()},updated(){this.trackDisplayed()},methods:{onDismiss(){this.$set(this.dismissedSettings,this.step,!0),Object(l.c)(this.dismissedSettings);const e=[o.c.successPipeline,o.c.failedPipeline].includes(this.step)?"view_logs":"dismissed";this.trackAction(e)},trackDisplayed(){(this.isPopoverVisible||this.isAlertVisible)&&this.trackAction("displayed")},trackAction(e){Object(l.e)("".concat(this.step,"_").concat(e))}}},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isPopoverVisible?n("gl-popover",{key:e.step,attrs:{target:e.$options.target,placement:e.placement,offset:e.offset,show:"",triggers:"manual",container:"viewport"},scopedSlots:e._u([{key:"title",fn:function(){return[n("gl-sprintf",{attrs:{message:e.title},scopedSlots:e._u([{key:"emoji",fn:function(e){var t=e.content;return[n("gl-emoji",{staticClass:"gl-mr-2",attrs:{"data-name":t}})]}}],null,!1,467198260)})]},proxy:!0}],null,!1,582188261)},[e._v(" "),n("gl-sprintf",{attrs:{message:e.body},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}},{key:"lineBreak",fn:function(){return[n("div",{staticClass:"gl-mt-5"})]},proxy:!0},{key:"emoji",fn:function(e){var t=e.content;return[n("gl-emoji",{attrs:{"data-name":t}})]}}],null,!1,3076907580)}),e._v(" "),n("div",{staticClass:"gl-mt-2 gl-text-right"},[n("gl-button",{attrs:{category:"tertiary",variant:"link",href:e.buttonLink},on:{click:e.onDismiss}},[e._v("\n        "+e._s(e.buttonText)+"\n      ")])],1)],1):e._e(),e._v(" "),e.isAlertVisible?n("gl-alert",{staticClass:"gl-my-5",attrs:{variant:"tip",title:e.title,"primary-button-text":e.buttonText,"primary-button-link":e.link},on:{primaryAction:function(t){return e.trackAction("clicked")},dismiss:e.onDismiss}},[e._v("\n    "+e._s(e.body)+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.a=d.exports},"2Swe":function(e,t,n){"use strict";var i=n("LLbv"),r={components:{CiIcon:n("8zNS").a},directives:{GlTooltip:i.a},props:{status:{type:Object,required:!0},showText:{type:Boolean,required:!1,default:!0},iconClasses:{type:String,required:!1,default:""}},computed:{title(){var e;return this.showText?"":null===(e=this.status)||void 0===e?void 0:e.text},detailsPath(){return this.status.detailsPath||this.status.details_path},cssClass(){const e=this.status.group;return e?"ci-status ci-".concat(e," qa-status-badge"):"ci-status qa-status-badge"}}},s=n("tBpV"),a=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],class:e.cssClass,attrs:{href:e.detailsPath,title:e.title}},[n("ci-icon",{attrs:{status:e.status,"css-classes":e.iconClasses}}),e._v(" "),e.showText?[e._v("\n    "+e._s(e.status.text)+"\n  ")]:e._e()],2)}),[],!1,null,null,null);t.a=a.exports},"2kmU":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateEpic"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetConfidential"},name:{kind:"Name",value:"updateEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:175}};n.loc.source={body:"mutation updateEpic($input: UpdateEpicInput!) {\n  issuableSetConfidential: updateEpic(input: $input) {\n    issuable: epic {\n      id\n      confidential\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateEpic=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateEpic")},"2rze":function(e,t,n){var i=n("9s1C"),r=n("wJPF"),s=n("Uc6l"),a=s&&s.isSet,o=a?r(a):i;e.exports=o},"3A1J":function(e,t,n){"use strict";var i=n("LLbv"),r=n("4lAS"),s=n("Pyw5"),a=n.n(s);const o={components:{GlButton:r.a},directives:{GlTooltip:i.a},props:{title:{type:String,required:!1,default:"Clear"},tooltipContainer:{required:!1,default:!1,validator:function(e){return!1===e||"string"==typeof e||e instanceof HTMLElement}}}};const l=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-button",this._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",value:{container:this.tooltipContainer},expression:"{ container: tooltipContainer }",modifiers:{hover:!0}}],staticClass:"gl-clear-icon-button",attrs:{variant:"default",category:"tertiary",size:"small",name:"clear",icon:"clear",title:this.title,"aria-label":this.title}},this.$listeners))},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},"3SQb":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getIssues"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issues"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:110}};n.loc.source={body:"query getIssues($projectPath: ID!) {\n  project(fullPath: $projectPath) {\n    issues {\n      count\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getIssues=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getIssues")},"3zS3":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssuableSeverity"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"severity"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableSeverity"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetSeverity"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"severity"},value:{kind:"Variable",name:{kind:"Name",value:"severity"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"severity"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:249}};n.loc.source={body:"mutation updateIssuableSeverity($projectPath: ID!, $severity: IssuableSeverity!, $iid: String!) {\n  issueSetSeverity(input: { iid: $iid, severity: $severity, projectPath: $projectPath }) {\n    errors\n    issue {\n      iid\n      severity\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateIssuableSeverity=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateIssuableSeverity")},"4UiK":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("0AwG");const r=function(e){try{window.localStorage.removeItem("autosave/".concat(e))}catch(e){console.error(e)}},s=function(e){try{return window.localStorage.getItem("autosave/".concat(e))}catch(e){return console.error(e),null}},a=function(e,t){try{window.localStorage.setItem("autosave/".concat(e),t)}catch(e){console.error(e)}},o=function(e,t){return["Note",Object(i.b)(e),t,"Reply"].join("/")}},"4eas":function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},"5/PK":function(e,t,n){"use strict";var i=n("T9Fk"),r={name:"SmartVirtualList",components:{VirtualList:n.n(i).a},props:{size:{type:Number,required:!0},length:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div",required:!1},wtag:{type:String,default:"div",required:!1},wclass:{type:String,default:null,required:!1}}},s=n("tBpV"),a=Object(s.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.length>e.remain?n("virtual-list",e._b({staticClass:"js-virtual-list",attrs:{size:e.remain,remain:e.remain,rtag:e.rtag,wtag:e.wtag,wclass:e.wclass}},"virtual-list",e.$attrs,!1),[e._t("default")],2):n(e.rtag,{tag:"component",staticClass:"js-plain-element"},[n(e.wtag,{tag:"component",class:e.wclass},[e._t("default")],2)],1)}),[],!1,null,null,null);t.a=a.exports},"50H4":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"mergeRequestIID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"mergeRequestIID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"detailedStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"group"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:280}};n.loc.source={body:"query mergeRequest($projectPath: ID!, $mergeRequestIID: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $mergeRequestIID) {\n      createdAt\n      state\n      headPipeline {\n        detailedStatus {\n          icon\n          group\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.mergeRequest=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"mergeRequest")},"53m/":function(e,t,n){(function(t){window,e.exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,n){var i,r,s,a,o=[].indexOf;i=function(e){return Array.prototype.slice.apply(e)},s=function(e,t){for(;e&&!e.classList.contains(t);)e=e.parentNode;return e},a=function(e,t){var n;return"function"==typeof Event?(n=new Event(e,{bubbles:!0,cancelable:!0})).detail=t:(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,t),n},r=function(){class e{constructor(e){this.el=e,this.container=s(this.el,"js-task-list-container"),this.field=this.container.querySelector(".js-task-list-field"),this.container.addEventListener("change",e=>{if(e.target.classList.contains("task-list-item-checkbox"))return this.updateTaskList(e.target)}),this.enable()}enable(){var e;if(this.container.querySelectorAll(".js-task-list-field").length>0)return i(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.add("enabled")})),i(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!1})),this.container.classList.add("is-task-list-enabled"),e=a("tasklist:enabled"),this.container.dispatchEvent(e)}disable(){var e;return i(this.container.querySelectorAll(".task-list-item")).forEach((function(e){return e.classList.remove("enabled")})),i(this.container.querySelectorAll(".task-list-item-checkbox")).forEach((function(e){return e.disabled=!0})),this.container.classList.remove("is-task-list-enabled"),e=a("tasklist:disabled"),this.container.dispatchEvent(e)}updateTaskList(t){var n,r,s,o,l,c,u;if(s=this.container.querySelectorAll(".task-list-item-checkbox"),o=1+i(s).indexOf(t),n=a("tasklist:change",{index:o,checked:t.checked}),this.field.dispatchEvent(n),!n.defaultPrevented)return({result:u,lineNumber:l,lineSource:c}=e.updateSource(this.field.value,o,t.checked,t)),this.field.value=u,n=a("change"),this.field.dispatchEvent(n),r=a("tasklist:changed",{index:o,checked:t.checked,lineNumber:l,lineSource:c}),this.field.dispatchEvent(r)}static escapePattern(e){return e.replace(/([\[\]])/g,"\\$1").replace(/\s/,"\\s").replace("x","[xX]")}static updateSource(e,t,n,i){return i.parentElement.hasAttribute("data-sourcepos")?this._updateSourcePosition(e,i,n):this._updateSourceRegex(e,t,n)}static _updateSourcePosition(e,t,n){var i,r,s,a,o;return a=e.split("\n"),o=t.parentElement.getAttribute("data-sourcepos"),s=a[(r=parseInt(o.split(":")[0]))-1],i=n?s.replace(this.incompletePattern,this.complete):s.replace(this.completePattern,this.incomplete),a[r-1]=i,{result:a.join("\n"),lineNumber:r,lineSource:s}}static _updateSourceRegex(e,t,n){var i,r,s,a,l,c,u,d;return d=e.split("\n"),i=e.replace(/\r/g,"").replace(this.itemsInParasPattern,"").split("\n"),a=0,s=!1,{result:function(){var e,f,h;for(h=[],r=e=0,f=d.length;e<f;r=++e)l=d[r],s?l.match(this.endFencesPattern)&&(s=!1):l.match(this.startFencesPattern)?s=!0:o.call(i,l)>=0&&l.trim().match(this.itemPattern)&&(a+=1)===t&&(c=r+1,u=l,l=n?l.replace(this.incompletePattern,this.complete):l.replace(this.completePattern,this.incomplete)),h.push(l);return h}.call(this).join("\n"),lineNumber:c,lineSource:u}}}return e.incomplete="[ ]",e.complete="[x]",e.incompletePattern=RegExp(`${e.escapePattern(e.incomplete)}`),e.completePattern=RegExp(`${e.escapePattern(e.complete)}`),e.itemPattern=RegExp(`^(?:\\s*(?:>\\s*)*(?:[-+*]|(?:\\d+\\.)))\\s*(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)})\\s`),e.startFencesPattern=/^`{3}.*$/,e.endFencesPattern=/^`{3}$/,e.itemsInParasPattern=RegExp(`^(${e.escapePattern(e.complete)}|${e.escapePattern(e.incomplete)}).+$`,"g"),e}.call(this),void 0!==t&&(t.fn.taskList=function(e){return this.each((function(n,i){var s;if((s=t(i).data("task-list"))||(s=new r(i),t(i).data("task-list",s),e&&"enable"!==e))return s[e||"enable"]()}))}),e.exports=r}])}).call(this,n("EmJ/"))},"53mm":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3twG");function r(){const e=gon&&gon.relative_url_root||"",t=Object(i.p)(e,"/assets/webpack/");n.p=t}},"58fc":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("FUyg"),o=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{some:function(e){var t=s(this),n=o(t),i=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e,n){if(i(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"5Hk+":function(e,t,n){var i=n("sHai")((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=i},"5QKO":function(e,t,n){"use strict";var i=n("bOix");t.a={methods:{timeFormatted:e=>Object(i.r)().format(e),tooltipTitle:e=>Object(i.h)(e),durationTimeFormatted(e){const t=new Date(1e3*e);let n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getSeconds();return n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),r<10&&(r="0".concat(r)),"".concat(n,":").concat(i,":").concat(r)}}}},"5c3i":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var i=n("/lV4");const r="minute",s="hour",a="day",o="120000",l="d mmm, yyyy",c=[{label:Object(i.a)("30 minutes"),duration:{seconds:1800},name:"thirtyMinutes",interval:r},{label:Object(i.a)("3 hours"),duration:{seconds:10800},name:"threeHours",interval:s},{label:Object(i.a)("8 hours"),duration:{seconds:28800},name:"eightHours",default:!0,interval:s},{label:Object(i.a)("1 day"),duration:{seconds:86400},name:"oneDay",interval:s},{label:Object(i.a)("3 days"),duration:{seconds:259200},name:"threeDays",interval:s},{label:Object(i.a)("7 days"),duration:{seconds:604800},name:"oneWeek",interval:a},{label:Object(i.a)("30 days"),duration:{seconds:2592e3},name:"oneMonth",interval:a}],u=c.find((function(e){return e.default}))},"5iQ2":function(e,t,n){"use strict";n("I52Q")},"64hj":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i={Sidebar:"sidebar",Standalone:"standalone",Embedded:"embedded"}},"669a":function(e,t,n){"use strict";var i=n("yi8e");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={methods:s(s({},Object(i.c)(["toggleDiscussion"])),{},{clickedToggle(e){this.toggleDiscussion({discussionId:e.id})},toggleText:(e,t)=>t+1})}},"69Ig":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("NmEs");class r{constructor(){this.state={},this.state.pipelines=[],this.state.count={},this.state.pageInfo={},this.state.isRunningMergeRequestPipeline=!1}storePipelines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.state.pipelines=e}storeCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.count=e}storePagination(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object.keys(t).length){const n=Object(i.I)(t);e=Object(i.L)(n)}else e=t;this.state.pageInfo=e}toggleIsRunningPipeline(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.isRunningMergeRequestPipeline=e}}},"6GPD":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"readyToMergeQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReadyToMerge"},directives:[]}]}}]}}],loc:{start:0,end:167}};i.loc.source={body:'#import "./ready_to_merge.fragment.graphql"\n\nquery readyToMergeQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    ...ReadyToMerge\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("joDH").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.readyToMergeQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"readyToMergeQuery")},"6VMN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archived"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"onlyAllowMergeIfPipelineSucceeds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoMergeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"conflicts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHeadSha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeError"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeableDiscussionsState"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"warnings"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"shouldBeRebased"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceBranchExists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetBranchExists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canMerge"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workInProgress"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:548}};n.loc.source={body:"query getState($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    archived\n    onlyAllowMergeIfPipelineSucceeds\n\n    mergeRequest(iid: $iid) {\n      autoMergeEnabled\n      commitCount\n      conflicts\n      diffHeadSha\n      mergeError\n      mergeStatus\n      mergeableDiscussionsState\n      headPipeline {\n        id\n        status\n        warnings\n      }\n      shouldBeRebased\n      sourceBranchExists\n      state\n      targetBranchExists\n      userPermissions {\n        canMerge\n      }\n      workInProgress\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getState=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getState")},"6fAW":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("jB52"),r=n("LgEk");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){const e=document.querySelector(".js-invite-members-trigger");return!!e&&new i.default({el:e,render:function(t){return t(r.a,{props:a({},e.dataset)})}})}},"6u3F":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvailability"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:70}};n.loc.source={body:"fragment UserAvailability on User {\n  status {\n    availability\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"71Sp":function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return m}));n("eTVF"),n("QzWB"),n("Z/0p"),n("TXLM"),n("QifN"),n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl"),n("orcL");var i=n("osXd"),r=n.n(i),s=n("cT/n"),a=n("kNKy"),o=n("k4Ha");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d=function(e){return r()(e,(function(e,t){return o.r.includes(t)&&e}))},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=e.flatMap((function(e){let{groups:t}=e;return t}));return Object(a.a)(t)},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Object.keys(e);return t.reduce((function(t,n){const i=Array.from(new Set(function n(i){var r;return(null===(r=e[i])||void 0===r?void 0:r.needs)?e[i].needs.map((function(i){var r;const s=null!==(r=t[i])&&void 0!==r?r:n(i),a=e[i];return a.size>1?[i,a.name,s]:[i,s]})).flat(1/0):[]}(n)));return c(c({},t),{},{[n]:i})}),{})},p=function(e,t){s.d((function(n){n.setTag("component",e),s.a(t)}))},m=function(e,t,n){s.d((function(i){i.setContext("Vue data",n),i.setTag("component",e),s.b(t)}))}},"79Bm":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueDueDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetDate"},name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:173}};n.loc.source={body:"mutation updateIssueDueDate($input: UpdateIssueInput!) {\n  issuableSetDate: updateIssue(input: $input) {\n    issuable: issue {\n      id\n      dueDate\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateIssueDueDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateIssueDueDate")},"7KAB":function(e,t,n){"use strict";n.r(t),n.d(t,"DISCUSSION_NOTE",(function(){return r})),n.d(t,"DIFF_NOTE",(function(){return s})),n.d(t,"DISCUSSION",(function(){return a})),n.d(t,"NOTE",(function(){return o})),n.d(t,"SYSTEM_NOTE",(function(){return l})),n.d(t,"COMMENT",(function(){return c})),n.d(t,"OPENED",(function(){return u})),n.d(t,"REOPENED",(function(){return d})),n.d(t,"CLOSED",(function(){return f})),n.d(t,"MERGED",(function(){return h})),n.d(t,"ISSUE_NOTEABLE_TYPE",(function(){return p})),n.d(t,"EPIC_NOTEABLE_TYPE",(function(){return m})),n.d(t,"MERGE_REQUEST_NOTEABLE_TYPE",(function(){return g})),n.d(t,"UNRESOLVE_NOTE_METHOD_NAME",(function(){return v})),n.d(t,"RESOLVE_NOTE_METHOD_NAME",(function(){return b})),n.d(t,"DESCRIPTION_TYPE",(function(){return y})),n.d(t,"DISCUSSION_FILTERS_DEFAULT_VALUE",(function(){return _})),n.d(t,"COMMENTS_ONLY_FILTER_VALUE",(function(){return w})),n.d(t,"HISTORY_ONLY_FILTER_VALUE",(function(){return O})),n.d(t,"DISCUSSION_TAB_LABEL",(function(){return k})),n.d(t,"NOTE_UNDERSCORE",(function(){return S})),n.d(t,"TIME_DIFFERENCE_VALUE",(function(){return j})),n.d(t,"ASC",(function(){return C})),n.d(t,"DESC",(function(){return x})),n.d(t,"DISCUSSION_FETCH_TIMEOUT",(function(){return E})),n.d(t,"NOTEABLE_TYPE_MAPPING",(function(){return D})),n.d(t,"DISCUSSION_FILTER_TYPES",(function(){return P})),n.d(t,"toggleStateErrorMessage",(function(){return T}));var i=n("/lV4");const r="DiscussionNote",s="DiffNote",a="discussion",o="note",l="systemNote",c="comment",u="opened",d="reopened",f="closed",h="merged",p="issue",m="epic",g="MergeRequest",v="delete",b="post",y="changed the description",_=0,w=1,O=2,k="show",S="note_",j=10,C="asc",x="desc",E=750,D={Issue:p,MergeRequest:g,Epic:m},P={ALL:"all",COMMENTS:"comments",HISTORY:"history"},T={Epic:{[f]:Object(i.a)("Something went wrong while reopening the epic. Please try again later."),[u]:Object(i.a)("Something went wrong while closing the epic. Please try again later."),[d]:Object(i.a)("Something went wrong while closing the epic. Please try again later.")},MergeRequest:{[f]:Object(i.a)("Something went wrong while reopening the merge request. Please try again later."),[u]:Object(i.a)("Something went wrong while closing the merge request. Please try again later."),[d]:Object(i.a)("Something went wrong while closing the merge request. Please try again later.")}}},"7VPc":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueSubscribed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailsDisabled"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:222}};n.loc.source={body:"query issueSubscribed($fullPath: ID!, $iid: String) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      subscribed\n      emailsDisabled\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueSubscribed=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueSubscribed")},"7dDw":function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"L",(function(){return o})),n.d(t,"M",(function(){return l})),n.d(t,"r",(function(){return f})),n.d(t,"s",(function(){return h})),n.d(t,"V",(function(){return f})),n.d(t,"W",(function(){return h})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"B",(function(){return S})),n.d(t,"C",(function(){return T})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return T})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return N})),n.d(t,"x",(function(){return C})),n.d(t,"y",(function(){return I})),n.d(t,"z",(function(){return x})),n.d(t,"A",(function(){return L})),n.d(t,"v",(function(){return E})),n.d(t,"w",(function(){return R})),n.d(t,"c",(function(){return D})),n.d(t,"d",(function(){return A})),n.d(t,"p",(function(){return P})),n.d(t,"q",(function(){return F})),n.d(t,"n",(function(){return M})),n.d(t,"o",(function(){return B})),n.d(t,"D",(function(){return V})),n.d(t,"E",(function(){return U})),n.d(t,"N",(function(){return H})),n.d(t,"O",(function(){return z})),n.d(t,"J",(function(){return Q})),n.d(t,"K",(function(){return K})),n.d(t,"F",(function(){return X})),n.d(t,"G",(function(){return J})),n.d(t,"fb",(function(){return ee})),n.d(t,"gb",(function(){return oe})),n.d(t,"X",(function(){return ee})),n.d(t,"Y",(function(){return oe})),n.d(t,"P",(function(){return te})),n.d(t,"Q",(function(){return le})),n.d(t,"bb",(function(){return ne})),n.d(t,"cb",(function(){return ce})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return ue})),n.d(t,"Z",(function(){return re})),n.d(t,"ab",(function(){return de})),n.d(t,"H",(function(){return se})),n.d(t,"I",(function(){return fe})),n.d(t,"T",(function(){return ae})),n.d(t,"U",(function(){return he})),n.d(t,"R",(function(){return me})),n.d(t,"S",(function(){return ge})),n.d(t,"hb",(function(){return be})),n.d(t,"ib",(function(){return ye}));var i=new Date,r=new Date;function s(e,t,n,a){function o(t){return e(t=new Date(+t)),t}return o.floor=o,o.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},o.round=function(e){var t=o(e),n=o.ceil(e);return e-t<n-e?t:n},o.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},o.range=function(n,i,r){var s,a=[];if(n=o.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return a;do{a.push(s=new Date(+n)),t(n,r),e(n)}while(s<n&&n<i);return a},o.filter=function(n){return s((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(o.count=function(t,s){return i.setTime(+t),r.setTime(+s),e(i),e(r),Math.floor(n(i,r))},o.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?o.filter(a?function(t){return a(t)%e==0}:function(t){return o.count(0,t)%e==0}):o:null}),o}var a=s((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));a.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):a:null};var o=a,l=a.range,c=6e4,u=6048e5,d=s((function(e){e.setTime(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(+e+1e3*t)}),(function(e,t){return(t-e)/1e3}),(function(e){return e.getUTCSeconds()})),f=d,h=d.range,p=s((function(e){e.setTime(Math.floor(e/c)*c)}),(function(e,t){e.setTime(+e+t*c)}),(function(e,t){return(t-e)/c}),(function(e){return e.getMinutes()})),m=p,g=p.range,v=s((function(e){var t=e.getTimezoneOffset()*c%36e5;t<0&&(t+=36e5),e.setTime(36e5*Math.floor((+e-t)/36e5)+t)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getHours()})),b=v,y=v.range,_=s((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*c)/864e5}),(function(e){return e.getDate()-1})),w=_,O=_.range;function k(e){return s((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*c)/u}))}var S=k(0),j=k(1),C=k(2),x=k(3),E=k(4),D=k(5),P=k(6),T=S.range,N=j.range,I=C.range,L=x.range,R=E.range,A=D.range,F=P.range,q=s((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),M=q,B=q.range,$=s((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));$.every=function(e){return isFinite(e=Math.floor(e))&&e>0?s((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var V=$,U=$.range,G=s((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*c)}),(function(e,t){return(t-e)/c}),(function(e){return e.getUTCMinutes()})),H=G,z=G.range,W=s((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+36e5*t)}),(function(e,t){return(t-e)/36e5}),(function(e){return e.getUTCHours()})),Q=W,K=W.range,Y=s((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/864e5}),(function(e){return e.getUTCDate()-1})),X=Y,J=Y.range;function Z(e){return s((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/u}))}var ee=Z(0),te=Z(1),ne=Z(2),ie=Z(3),re=Z(4),se=Z(5),ae=Z(6),oe=ee.range,le=te.range,ce=ne.range,ue=ie.range,de=re.range,fe=se.range,he=ae.range,pe=s((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),me=pe,ge=pe.range,ve=s((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));ve.every=function(e){return isFinite(e=Math.floor(e))&&e>0?s((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var be=ve,ye=ve.range},"7pSU":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"autoMergeEnabledQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"autoMergeEnabled"},directives:[]}]}}]}}]}}],loc:{start:0,end:217}};i.loc.source={body:'#import "./auto_merge_enabled.fragment.graphql"\n\nquery autoMergeEnabledQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      ...autoMergeEnabled\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("noxY").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.autoMergeEnabledQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"autoMergeEnabledQuery")},"7sEu":function(e,t,n){"use strict";var i=n("LLbv"),r=n("s1D3"),s=n("FkSe"),a=n("/lV4"),o=n("+kWK"),l={directives:{GlTooltip:i.a},components:{userAvatarImage:o.a,GlIcon:r.a,GlLoadingIcon:s.a},props:{loading:{type:Boolean,required:!1,default:!1},participants:{type:Array,required:!1,default:function(){return[]}},numberOfLessParticipants:{type:Number,required:!1,default:7},showParticipantLabel:{type:Boolean,required:!1,default:!0}},data:()=>({isShowingMoreParticipants:!1}),computed:{lessParticipants(){return this.participants.slice(0,this.numberOfLessParticipants)},visibleParticipants(){return this.isShowingMoreParticipants?this.participants:this.lessParticipants},hasMoreParticipants(){return this.participants.length>this.numberOfLessParticipants},toggleLabel(){let e="";return e=this.isShowingMoreParticipants?Object(a.a)("- show less"):Object(a.f)(Object(a.a)("+ %{moreCount} more"),{moreCount:this.participants.length-this.numberOfLessParticipants})},participantLabel(){return Object(a.f)(Object(a.d)("%{count} participant","%{count} participants",this.participants.length),{count:this.loading?"":this.participantCount})},participantCount(){return this.participants.length}},methods:{toggleMoreParticipants(){this.isShowingMoreParticipants=!this.isShowingMoreParticipants},onClickCollapsedIcon(){this.$emit("toggleSidebar")}}},c=n("tBpV"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showParticipantLabel?n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.participantLabel},on:{click:e.onClickCollapsedIcon}},[n("gl-icon",{attrs:{name:"users"}}),e._v(" "),e.loading?n("gl-loading-icon"):n("span",{attrs:{"data-testid":"collapsed-count"}},[e._v(" "+e._s(e.participantCount)+" ")])],1):e._e(),e._v(" "),e.showParticipantLabel?n("div",{staticClass:"title hide-collapsed gl-mb-2"},[e.loading?n("gl-loading-icon",{attrs:{inline:!0}}):e._e(),e._v("\n    "+e._s(e.participantLabel)+"\n  ")],1):e._e(),e._v(" "),n("div",{staticClass:"participants-list hide-collapsed"},e._l(e.visibleParticipants,(function(e){return n("div",{key:e.id,staticClass:"participants-author"},[n("a",{staticClass:"author-link",attrs:{href:e.web_url||e.webUrl}},[n("user-avatar-image",{attrs:{lazy:!0,"img-src":e.avatar_url||e.avatarUrl,size:24,"tooltip-text":e.name,"css-classes":"avatar-inline","tooltip-placement":"bottom"}})],1)])})),0),e._v(" "),e.hasMoreParticipants?n("div",{staticClass:"participants-more hide-collapsed"},[n("button",{staticClass:"btn-transparent btn-link",attrs:{type:"button"},on:{click:e.toggleMoreParticipants}},[e._v("\n      "+e._s(e.toggleLabel)+"\n    ")])]):e._e()])}),[],!1,null,null,null);t.a=u.exports},"8E5s":function(e,t,n){"use strict";n("CMwJ")},"8K50":function(e,t,n){"use strict";var i=n("znvU"),r=n("LLbv"),s=n("/lV4"),a=n("s5BM"),o=n("K3k0"),l=(n("orcL"),n("XqDB")),c=n("4lAS"),u=(n("jaBk"),n("KcQl"),n("S26F"),n("dsWN")),d=n("Yyc1"),f=n("wP8z"),h=n("arQV"),p=n("FkSe"),m=n("30su"),g=n("2ibD");var v={i18n:{artifacts:Object(s.a)("Artifacts"),downloadArtifact:Object(s.a)("Download %{name} artifact"),artifactSectionHeader:Object(s.a)("Download artifacts"),artifactsFetchErrorMessage:Object(s.e)("Pipelines|Could not load artifacts.")},directives:{GlTooltip:r.a},components:{GlAlert:u.a,GlDropdown:d.a,GlDropdownItem:f.a,GlDropdownSectionHeader:h.a,GlLoadingIcon:p.a,GlSprintf:m.a},inject:{artifactsEndpoint:{default:""},artifactsEndpointPlaceholder:{default:""}},props:{pipelineId:{type:Number,required:!0}},data:()=>({artifacts:[],hasError:!1,isLoading:!1}),methods:{fetchArtifacts(){var e=this;this.isLoading=!0;const t=this.artifactsEndpoint.replace(this.artifactsEndpointPlaceholder,this.pipelineId);return g.a.get(t).then((function(t){let{data:n}=t;e.artifacts=n.artifacts})).catch((function(){e.hasError=!0})).finally((function(){e.isLoading=!1}))}}},b=n("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.$options.i18n.artifacts,text:e.$options.i18n.artifacts,"aria-label":e.$options.i18n.artifacts,icon:"ellipsis_v","data-testid":"pipeline-multi-actions-dropdown",right:"",lazy:"","text-sr-only":"","no-caret":""},on:{"~show":function(t){return e.fetchArtifacts(t)}}},[n("gl-dropdown-section-header",[e._v(e._s(e.$options.i18n.artifactSectionHeader))]),e._v(" "),e.hasError?n("gl-alert",{attrs:{variant:"danger",dismissible:!1}},[e._v("\n    "+e._s(e.$options.i18n.artifactsFetchErrorMessage)+"\n  ")]):e._e(),e._v(" "),e.isLoading?n("gl-loading-icon"):e._e(),e._v(" "),e._l(e.artifacts,(function(t,i){return n("gl-dropdown-item",{key:i,attrs:{href:t.path,rel:"nofollow",download:"","data-testid":"artifact-item"}},[n("gl-sprintf",{attrs:{message:e.$options.i18n.downloadArtifact},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(t.name))]},proxy:!0}],null,!0)})],1)}))],2)}),[],!1,null,null,null).exports,_=n("s1D3"),w=n("XRO8"),O=n("VuQQ"),k={directives:{GlTooltip:r.a},components:{GlCountdown:O.a,GlDropdown:d.a,GlDropdownItem:f.a,GlIcon:_.a},props:{actions:{type:Array,required:!0}},data:()=>({isLoading:!1}),methods:{onClickAction(e){var t=this;if(e.scheduled_at){const t=Object(s.f)(Object(s.e)("DelayedJobs|Are you sure you want to run %{jobName} immediately? Otherwise this job will run automatically after its timer finishes."),{jobName:e.name});if(!window.confirm(t))return}this.isLoading=!0,g.a.post("".concat(e.path,".json")).then((function(){t.isLoading=!1,a.a.$emit("updateTable")})).catch((function(){t.isLoading=!1,Object(w.b)({message:Object(s.a)("An error occurred while making the request.")})}))},isActionDisabled:e=>void 0!==e.playable&&!e.playable}},S=Object(b.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("Run manual or delayed jobs"),loading:e.isLoading,"data-testid":"pipelines-manual-actions-dropdown",right:"",lazy:"",icon:"play"}},e._l(e.actions,(function(t){return n("gl-dropdown-item",{key:t.path,attrs:{disabled:e.isActionDisabled(t)},on:{click:function(n){return e.onClickAction(t)}}},[n("div",{staticClass:"gl-display-flex gl-justify-content-space-between gl-flex-wrap"},[e._v("\n      "+e._s(t.name)+"\n      "),t.scheduled_at?n("span",[n("gl-icon",{attrs:{name:"clock"}}),e._v(" "),n("gl-countdown",{attrs:{"end-date-string":t.scheduled_at}})],1):e._e()])])})),1)}),[],!1,null,null,null).exports,j={i18n:{cancelTitle:Object(s.a)("Cancel"),redeployTitle:Object(s.a)("Retry")},directives:{GlTooltip:r.a,GlModalDirective:l.a},components:{GlButton:c.a,PipelineMultiActions:y,PipelinesManualActions:S},props:{pipeline:{type:Object,required:!0},cancelingPipeline:{type:Number,required:!1,default:null}},data:()=>({isRetrying:!1}),computed:{actions(){if(!this.pipeline||!this.pipeline.details)return[];const{details:e}=this.pipeline;return[...e.manual_actions||[],...e.scheduled_actions||[]]},isCancelling(){return this.cancelingPipeline===this.pipeline.id}},watch:{pipeline(){this.isRetrying=!1}},methods:{handleCancelClick(){a.a.$emit("openConfirmationModal",{pipeline:this.pipeline,endpoint:this.pipeline.cancel_path})},handleRetryClick(){this.isRetrying=!0,a.a.$emit("retryPipeline",this.pipeline.retry_path)}}},C=Object(b.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-text-right"},[n("div",{staticClass:"btn-group"},[e.actions.length>0?n("pipelines-manual-actions",{attrs:{actions:e.actions}}):e._e(),e._v(" "),e.pipeline.flags.retryable?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"js-pipelines-retry-button",attrs:{"aria-label":e.$options.i18n.redeployTitle,title:e.$options.i18n.redeployTitle,disabled:e.isRetrying,loading:e.isRetrying,"data-qa-selector":"pipeline_retry_button",icon:"repeat",variant:"default",category:"secondary"},on:{click:e.handleRetryClick}}):e._e(),e._v(" "),e.pipeline.flags.cancelable?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}},{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"confirmation-modal",expression:"'confirmation-modal'"}],staticClass:"js-pipelines-cancel-button",attrs:{"aria-label":e.$options.i18n.cancelTitle,title:e.$options.i18n.cancelTitle,loading:e.isCancelling,disabled:e.isCancelling,icon:"close",variant:"danger",category:"primary"},on:{click:e.handleCancelClick}}):e._e(),e._v(" "),n("pipeline-multi-actions",{attrs:{"pipeline-id":e.pipeline.id}})],1)])}),[],!1,null,null,null).exports,x=n("Q33P"),E=n.n(x),D=n("1cpz"),P=n("MV2A"),T=n("8zNS"),N={components:{GlModal:D.a,GlLink:P.a,CiIcon:T.a},props:{pipeline:{type:Object,required:!0,deep:!0}},computed:{modalTitle(){return Object(s.f)(Object(s.e)("Pipeline|Stop pipeline #%{pipelineId}?"),{pipelineId:"".concat(this.pipeline.id)},!1)},modalText(){return Object(s.f)(Object(s.e)("Pipeline|Youre about to stop pipeline %{pipelineId}."),{pipelineId:"<strong>#".concat(this.pipeline.id,"</strong>")},!1)},hasRef(){return!E()(this.pipeline.ref)},primaryProps:()=>({text:Object(s.e)("Pipeline|Stop pipeline"),attributes:[{variant:"danger"}]}),cancelProps:()=>({text:Object(s.a)("Cancel")})},methods:{emitSubmit(e){this.$emit("submit",e)}}},I=Object(b.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{"modal-id":"confirmation-modal",title:e.modalTitle,"action-primary":e.primaryProps,"action-cancel":e.cancelProps},on:{primary:function(t){return e.emitSubmit(t)}}},[n("p",{domProps:{innerHTML:e._s(e.modalText)}}),e._v(" "),e.pipeline?n("p",[e.pipeline.details?n("ci-icon",{staticClass:"vertical-align-middle",attrs:{status:e.pipeline.details.status}}):e._e(),e._v(" "),n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Pipeline")))]),e._v(" "),n("a",{staticClass:"js-pipeline-path link-commit qa-pipeline-path",attrs:{href:e.pipeline.path}},[e._v("#"+e._s(e.pipeline.id))]),e._v(" "),e.hasRef?[e._v("\n      "+e._s(e.__("from"))+"\n      "),n("a",{staticClass:"link-commit ref-name",attrs:{href:e.pipeline.ref.path}},[e._v(e._s(e.pipeline.ref.name))])]:e._e()],2):e._e(),e._v(" "),e.pipeline.commit?[n("p",[n("span",{staticClass:"font-weight-bold"},[e._v(e._s(e.__("Commit")))]),e._v(" "),n("gl-link",{staticClass:"js-commit-sha commit-sha link-commit",attrs:{href:e.pipeline.commit.commit_path}},[e._v("\n        "+e._s(e.pipeline.commit.short_id)+"\n      ")])],1),e._v(" "),n("p",[e._v(e._s(e.pipeline.commit.title))])]:e._e()],2)}),[],!1,null,null,null).exports,L=n("ZHzM"),R=n("sHIo"),A={components:{UserAvatarLink:L.a},mixins:[Object(R.a)()],props:{pipeline:{type:Object,required:!0}},computed:{user(){return this.pipeline.user}}},F=Object(b.a)(A,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pipeline-triggerer",attrs:{"data-testid":"pipeline-triggerer"}},[this.user?t("user-avatar-link",{staticClass:"gl-ml-3 js-pipeline-url-user",attrs:{"link-href":this.user.path,"img-src":this.user.avatar_url,"img-size":26,"tooltip-text":this.user.name}}):t("span",{staticClass:"gl-ml-3 js-pipeline-url-api api"},[this._v("\n    "+this._s(this.s__("Pipelines|API"))+"\n  ")])],1)}),[],!1,null,null,null).exports,q=n("A7K0"),M=n("Lzak"),B=n("qLpH"),$=n("k4Ha"),V={components:{GlLink:P.a,GlPopover:q.a,GlSprintf:m.a,GlBadge:M.a},directives:{GlTooltip:r.a},mixins:[Object(R.a)()],inject:{targetProjectFullPath:{default:""}},props:{pipeline:{type:Object,required:!0},pipelineScheduleUrl:{type:String,required:!0}},computed:{user(){return this.pipeline.user},isScheduled(){return this.pipeline.source===$.q},isInFork(){var e,t;return Boolean(this.targetProjectFullPath&&(null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.project)||void 0===t?void 0:t.full_path)!=="/".concat(this.targetProjectFullPath))},autoDevopsTagId(){return"pipeline-url-autodevops-".concat(this.pipeline.id)},autoDevopsHelpPath:()=>Object(B.a)("topics/autodevops/index.md")}},U=Object(b.a)(V,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pipeline-tags",attrs:{"data-testid":"pipeline-url-table-cell"}},[n("gl-link",{attrs:{href:e.pipeline.path,"data-testid":"pipeline-url-link","data-qa-selector":"pipeline_url_link"}},[n("span",{staticClass:"pipeline-id"},[e._v("#"+e._s(e.pipeline.id))])]),e._v(" "),n("div",{staticClass:"label-container"},[e.isScheduled?n("gl-link",{attrs:{href:e.pipelineScheduleUrl,target:"__blank"}},[n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("This pipeline was triggered by a schedule."),variant:"info",size:"sm","data-testid":"pipeline-url-scheduled"}},[e._v(e._s(e.__("Scheduled")))])],1):e._e(),e._v(" "),e.pipeline.flags.latest?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("Latest pipeline for the most recent commit on this branch"),variant:"success",size:"sm","data-testid":"pipeline-url-latest"}},[e._v(e._s(e.__("latest")))]):e._e(),e._v(" "),e.pipeline.flags.merge_train_pipeline?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("This is a merge train pipeline"),variant:"info",size:"sm","data-testid":"pipeline-url-train"}},[e._v(e._s(e.__("train")))]):e._e(),e._v(" "),e.pipeline.flags.yaml_errors?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.pipeline.yaml_errors,variant:"danger",size:"sm","data-testid":"pipeline-url-yaml"}},[e._v(e._s(e.__("yaml invalid")))]):e._e(),e._v(" "),e.pipeline.flags.failure_reason?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.pipeline.failure_reason,variant:"danger",size:"sm","data-testid":"pipeline-url-failure"}},[e._v(e._s(e.__("error")))]):e._e(),e._v(" "),e.pipeline.flags.auto_devops?[n("gl-link",{attrs:{id:e.autoDevopsTagId,tabindex:"0","data-testid":"pipeline-url-autodevops",role:"button"}},[n("gl-badge",{attrs:{variant:"info",size:"sm"}},[e._v("\n          "+e._s(e.__("Auto DevOps"))+"\n        ")])],1),e._v(" "),n("gl-popover",{attrs:{target:e.autoDevopsTagId,triggers:"focus",placement:"top"},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"gl-font-weight-normal gl-line-height-normal"},[n("gl-sprintf",{attrs:{message:e.__("This pipeline makes use of a predefined CI/CD configuration enabled by %{strongStart}Auto DevOps.%{strongEnd}")},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("b",[e._v(e._s(i))])]}}],null,!1,1478500124)})],1)]},proxy:!0}],null,!1,1243728333)},[e._v(" "),n("gl-link",{attrs:{href:e.autoDevopsHelpPath,"data-testid":"pipeline-url-autodevops-link",target:"_blank"}},[e._v("\n          "+e._s(e.__("Learn more about Auto DevOps"))+"\n        ")])],1)]:e._e(),e._v(" "),e.pipeline.flags.stuck?n("gl-badge",{attrs:{variant:"warning",size:"sm","data-testid":"pipeline-url-stuck"}},[e._v(e._s(e.__("stuck")))]):e._e(),e._v(" "),e.pipeline.flags.detached_merge_request_pipeline?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("Pipelines for merge requests are configured. A detached pipeline runs in the context of the merge request, and not against the merged result. Learn more in the documentation for Pipelines for Merged Results."),variant:"info",size:"sm","data-testid":"pipeline-url-detached"}},[e._v(e._s(e.__("detached")))]):e._e(),e._v(" "),e.isInFork?n("gl-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("Pipeline ran in fork of project"),variant:"info",size:"sm","data-testid":"pipeline-url-fork"}},[e._v(e._s(e.__("fork")))]):e._e()],2)],1)}),[],!1,null,null,null).exports;function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W={components:{CommitComponent:n("AN20").a},props:{pipeline:{type:Object,required:!0},viewType:{type:String,required:!0}},computed:{commitAuthor(){let e;return this.pipeline&&this.pipeline.commit?(this.pipeline.commit.author?this.pipeline.commit.author.avatar_url?e=this.pipeline.commit.author:this.pipeline.commit.author_gravatar_url&&(e=H(H({},this.pipeline.commit.author),{},{avatar_url:this.pipeline.commit.author_gravatar_url})):e={avatar_url:this.pipeline.commit.author_gravatar_url,path:"mailto:".concat(this.pipeline.commit.author_email),username:this.pipeline.commit.author_name},e):null},commitTag(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.ref)||void 0===t?void 0:t.tag},commitRef(){var e;return null===(e=this.pipeline)||void 0===e?void 0:e.ref},commitUrl(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.commit)||void 0===t?void 0:t.commit_path},commitShortSha(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.commit)||void 0===t?void 0:t.short_id},commitTitle(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.commit)||void 0===t?void 0:t.title},isChildView(){return this.viewType===$.c}}},Q=Object(b.a)(W,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("commit-component",{attrs:{tag:e.commitTag,"commit-ref":e.commitRef,"commit-url":e.commitUrl,"merge-request-ref":e.pipeline.merge_request,"short-sha":e.commitShortSha,title:e.commitTitle,author:e.commitAuthor,"show-ref-info":!e.isChildView}})}),[],!1,null,null,null).exports,K=(n("QifN"),n("22O2")),Y=n("UfEt"),X=n("2Swe"),J={components:{CodeQualityWalkthrough:K.a,CiBadge:X.a},props:{pipeline:{type:Object,required:!0},viewType:{type:String,required:!0}},computed:{pipelineStatus(){var e,t,n;return null!==(e=null===(t=this.pipeline)||void 0===t?void 0:null===(n=t.details)||void 0===n?void 0:n.status)&&void 0!==e?e:{}},isChildView(){return this.viewType===$.c},shouldRenderCodeQualityWalkthrough(){return Object.values(Y.b).includes(this.pipelineStatus.group)},codeQualityStep(){const e=[Y.b.successWithWarnings,Y.b.failed].includes(this.pipelineStatus.group)?"failed":this.pipelineStatus.group;return"".concat(e,"_pipeline")},codeQualityBuildPath(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.code_quality_build_path}}},Z=Object(b.a)(J,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("ci-badge",{attrs:{id:"js-code-quality-walkthrough",status:this.pipelineStatus,"show-text":!this.isChildView,"icon-classes":"gl-vertical-align-middle!","data-qa-selector":"pipeline_commit_status"}}),this._v(" "),this.shouldRenderCodeQualityWalkthrough?t("code-quality-walkthrough",{attrs:{step:this.codeQualityStep,link:this.codeQualityBuildPath}}):this._e()],1)}),[],!1,null,null,null).exports,ee=(n("jslJ"),n("5QKO")),te={directives:{GlTooltip:r.a},components:{GlIcon:_.a},mixins:[ee.a,Object(R.a)()],props:{pipeline:{type:Object,required:!0}},computed:{duration(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.duration},finishedTime(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.finished_at},skipped(){var e,t,n;return"skipped"===(null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:null===(n=t.status)||void 0===n?void 0:n.label)},stuck(){return this.pipeline.flags.stuck},durationFormatted(){const e=new Date(1e3*this.duration);let t=e.getUTCHours(),n=e.getUTCMinutes(),i=e.getSeconds();return t<10&&(t="0".concat(t)),n<10&&(n="0".concat(n)),i<10&&(i="0".concat(i)),"".concat(t,":").concat(n,":").concat(i)},showInProgress(){return!this.duration&&!this.finishedTime&&!this.skipped},showSkipped(){return!this.duration&&!this.finishedTime&&this.skipped}}},ne=Object(b.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showInProgress?n("span",{attrs:{"data-testid":"pipeline-in-progress"}},[e.stuck?n("gl-icon",{staticClass:"gl-mr-2",attrs:{name:"warning",size:12,"data-testid":"warning-icon"}}):n("gl-icon",{staticClass:"gl-vertical-align-baseline! gl-mr-2",attrs:{name:"hourglass",size:12,"data-testid":"hourglass-icon"}}),e._v("\n    "+e._s(e.s__("Pipeline|In progress"))+"\n  ")],1):e._e(),e._v(" "),e.showSkipped?n("span",{attrs:{"data-testid":"pipeline-skipped"}},[n("gl-icon",{staticClass:"gl-mr-2",attrs:{name:"status_skipped_borderless",size:16}}),e._v("\n    "+e._s(e.s__("Pipeline|Skipped"))+"\n  ")],1):e._e(),e._v(" "),e.duration?n("p",{staticClass:"duration"},[n("gl-icon",{staticClass:"gl-vertical-align-baseline!",attrs:{name:"timer",size:12}}),e._v("\n    "+e._s(e.durationFormatted)+"\n  ")],1):e._e(),e._v(" "),e.finishedTime?n("p",{staticClass:"finished-at d-none d-md-block"},[n("gl-icon",{staticClass:"gl-vertical-align-baseline!",attrs:{name:"calendar",size:12}}),e._v(" "),n("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.tooltipTitle(e.finishedTime),"data-placement":"top","data-container":"body"}},[e._v("\n      "+e._s(e.timeFormatted(e.finishedTime))+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports;const ie="gl-bg-transparent! gl-border-b-solid! gl-border-b-gray-100! gl-p-5! gl-border-b-1! gl-font-sm!";var re={fields:[{key:"status",label:Object(s.e)("Pipeline|Status"),thClass:ie,columnClass:"gl-w-10p",tdClass:"gl-p-5!",thAttr:{"data-testid":"status-th"}},{key:"pipeline",label:Object(s.e)("Pipeline|Pipeline"),thClass:ie,tdClass:"".concat("gl-p-5!"," ").concat("gl-display-none! gl-lg-display-table-cell!"),columnClass:"gl-w-10p",thAttr:{"data-testid":"pipeline-th"}},{key:"triggerer",label:Object(s.e)("Pipeline|Triggerer"),thClass:ie,tdClass:"".concat("gl-p-5!"," ").concat("gl-display-none! gl-lg-display-table-cell!"),columnClass:"gl-w-10p",thAttr:{"data-testid":"triggerer-th"}},{key:"commit",label:Object(s.e)("Pipeline|Commit"),thClass:ie,tdClass:"gl-p-5!",columnClass:"gl-w-20p",thAttr:{"data-testid":"commit-th"}},{key:"stages",label:Object(s.e)("Pipeline|Stages"),thClass:ie,tdClass:"gl-p-5!",columnClass:"gl-w-15p",thAttr:{"data-testid":"stages-th"}},{key:"timeago",label:Object(s.e)("Pipeline|Duration"),thClass:ie,tdClass:"gl-p-5!",columnClass:"gl-w-15p",thAttr:{"data-testid":"timeago-th"}},{key:"actions",thClass:ie,tdClass:"gl-p-5!",columnClass:"gl-w-20p",thAttr:{"data-testid":"actions-th"}}],components:{GlTable:i.a,PipelinesCommit:Q,PipelineMiniGraph:o.default,PipelineOperations:C,PipelinesStatusBadge:Z,PipelineStopModal:I,PipelinesTimeago:ne,PipelineTriggerer:F,PipelineUrl:U},directives:{GlTooltip:r.a},props:{pipelines:{type:Array,required:!0},pipelineScheduleUrl:{type:String,required:!1,default:""},updateGraphDropdown:{type:Boolean,required:!1,default:!1},viewType:{type:String,required:!0}},data:()=>({pipelineId:0,pipeline:{},endpoint:"",cancelingPipeline:null}),watch:{pipelines(){this.cancelingPipeline=null}},created(){a.a.$on("openConfirmationModal",this.setModalData)},beforeDestroy(){a.a.$off("openConfirmationModal",this.setModalData)},methods:{setModalData(e){this.pipelineId=e.pipeline.id,this.pipeline=e.pipeline,this.endpoint=e.endpoint},onSubmit(){a.a.$emit("postAction",this.endpoint),this.cancelingPipeline=this.pipelineId},onPipelineActionRequestComplete(){a.a.$emit("refreshPipelinesTable")}}},se=Object(b.a)(re,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-table"},[n("gl-table",{attrs:{fields:e.$options.fields,items:e.pipelines,"tbody-tr-class":"commit","tbody-tr-attr":{"data-testid":"pipeline-table-row"},stacked:"lg",fixed:""},scopedSlots:e._u([{key:"head(actions)",fn:function(){return[n("span",{staticClass:"gl-display-block gl-lg-display-none!"},[e._v(e._s(e.s__("Pipeline|Actions")))]),e._v(" "),e._t("table-header-actions")]},proxy:!0},{key:"table-colgroup",fn:function(t){var i=t.fields;return e._l(i,(function(e){return n("col",{key:e.key,class:e.columnClass})}))}},{key:"cell(status)",fn:function(t){var i=t.item;return[n("pipelines-status-badge",{attrs:{pipeline:i,"view-type":e.viewType}})]}},{key:"cell(pipeline)",fn:function(t){var i=t.item;return[n("pipeline-url",{attrs:{pipeline:i,"pipeline-schedule-url":e.pipelineScheduleUrl}})]}},{key:"cell(triggerer)",fn:function(e){var t=e.item;return[n("pipeline-triggerer",{attrs:{pipeline:t}})]}},{key:"cell(commit)",fn:function(t){var i=t.item;return[n("pipelines-commit",{attrs:{pipeline:i,"view-type":e.viewType}})]}},{key:"cell(stages)",fn:function(t){var i=t.item;return[n("div",{staticClass:"stage-cell"},[n("div"),e._v(" "),i.details&&i.details.stages&&i.details.stages.length>0?n("pipeline-mini-graph",{attrs:{stages:i.details.stages,"update-dropdown":e.updateGraphDropdown},on:{pipelineActionRequestComplete:e.onPipelineActionRequestComplete}}):e._e()],1)]}},{key:"cell(timeago)",fn:function(e){var t=e.item;return[n("pipelines-timeago",{attrs:{pipeline:t}})]}},{key:"cell(actions)",fn:function(t){var i=t.item;return[n("pipeline-operations",{attrs:{pipeline:i,"canceling-pipeline":e.cancelingPipeline}})]}}],null,!0)}),e._v(" "),n("pipeline-stop-modal",{attrs:{pipeline:e.pipeline},on:{submit:e.onSubmit}})],1)}),[],!1,null,null,null);t.a=se.exports},"8QS/":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.vue-recycle-scroller {\n  position: relative;\n}\n.vue-recycle-scroller.direction-vertical:not(.page-mode) {\n  overflow-y: auto;\n}\n.vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n  overflow-x: auto;\n}\n.vue-recycle-scroller.direction-horizontal {\n  display: flex;\n}\n.vue-recycle-scroller__slot {\n  flex: auto 0 0;\n}\n.vue-recycle-scroller__item-wrapper {\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n.vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n  position: absolute;\n  top: 0;\n  left: 0;\n  will-change: transform;\n}\n.vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper {\n  width: 100%;\n}\n.vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper {\n  height: 100%;\n}\n.vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view {\n  width: 100%;\n}\n.vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view {\n  height: 100%;\n}\n",""])},"8d6S":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("FUyg"),o=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{every:function(e){var t=s(this),n=o(t),i=a(e,arguments.length>1?arguments[1]:void 0,3);return!l(n,(function(e,n){if(!i(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"8eeg":function(e,t,n){"use strict";var i=n("BAGK");t.a=function(e){return e.deleted?i.s.deleted:e.tempFile&&!e.prevPath?i.s.addition:i.s.modified}},"8zNS":function(e,t,n){"use strict";var i=n("s1D3");const r=[8,12,16,18,24,32,48,72];var s={components:{GlIcon:i.a},props:{status:{type:Object,required:!0},size:{type:Number,required:!1,default:16,validator:e=>r.includes(e)},borderless:{type:Boolean,required:!1,default:!1},cssClasses:{type:String,required:!1,default:""}},computed:{cssClass(){const e=this.status.group;return"ci-status-icon ci-status-icon-".concat(e," js-ci-status-icon-").concat(e)},icon(){return this.borderless?"".concat(this.status.icon,"_borderless"):this.status.icon}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{class:this.cssClass},[t("gl-icon",{class:this.cssClasses,attrs:{name:this.icon,size:this.size,"aria-label":this.status.icon,"use-deprecated-sizes":""}})],1)}),[],!1,null,null,null);t.a=o.exports},"90A/":function(e,t,n){var i=n("TXW/"),r=n("p1dg"),s=n("zPTW"),a=n("VYh0"),o=n("b/GH"),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",_="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",j="[object Uint16Array]",C="[object Uint32Array]";e.exports=function(e,t,n){var x=e.constructor;switch(t){case g:return i(e);case l:case c:return new x(+e);case v:return r(e,n);case b:case y:case _:case w:case O:case k:case S:case j:case C:return o(e,n);case u:return new x;case d:case p:return new x(e);case f:return s(e);case h:return new x;case m:return a(e)}}},"96PM":function(e,t,n){var i=n("ib6H");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("33bcfeeb",i,!0,{})},"99pJ":function(e,t,n){e.exports=n("NFDe")},"9RX+":function(e,t){e.exports=function(e){return e!=e}},"9Yx2":function(e,t,n){var i=n("8RpP"),r=n("DbBu")((function(e,t,n){return t=t.toLowerCase(),e+(n?i(t):t)}));e.exports=r},"9dZE":function(e,t,n){"use strict";var i=n("FkSe"),r=n("s1D3"),s=n("5c3i");n("pBsb");const a={html:"html",htm:"html",html_vm:"html",asp:"html",jade:"pug",pug:"pug",md:"markdown","md.rendered":"markdown",markdown:"markdown","markdown.rendered":"markdown",mdown:"markdown","mdown.rendered":"markdown",mkd:"markdown","mkd.rendered":"markdown",mkdn:"markdown","mkdn.rendered":"markdown",rst:"markdown",blink:"blink",css:"css",scss:"sass",sass:"sass",less:"less",json:"json",yaml:"yaml","YAML-tmLanguage":"yaml",yml:"yaml",xml:"xml",plist:"xml",xsd:"xml",dtd:"xml",xsl:"xml",xslt:"xml",resx:"xml",iml:"xml",xquery:"xml",tmLanguage:"xml",manifest:"xml",project:"xml",png:"image",jpeg:"image",jpg:"image",gif:"image",svg:"image",ico:"image",tif:"image",tiff:"image",psd:"image",psb:"image",ami:"image",apx:"image",bmp:"image",bpg:"image",brk:"image",cur:"image",dds:"image",dng:"image",exr:"image",fpx:"image",gbr:"image",img:"image",jbig2:"image",jb2:"image",jng:"image",jxr:"image",pbm:"image",pgf:"image",pic:"image",raw:"image",webp:"image",js:"javascript",ejs:"javascript",esx:"javascript",jsx:"react",tsx:"react",ini:"settings",dlc:"settings",dll:"settings",config:"settings",conf:"settings",properties:"settings",prop:"settings",settings:"settings",option:"settings",props:"settings",toml:"settings",prefs:"settings","sln.dotsettings":"settings","sln.dotsettings.user":"settings",ts:"typescript","d.ts":"typescript-def",marko:"markojs",pdf:"pdf",xlsx:"table",xls:"table",ods:"table",csv:"table",tsv:"table",vscodeignore:"vscode",vsixmanifest:"vscode",vsix:"vscode","code-workplace":"vscode",suo:"visualstudio",sln:"visualstudio",csproj:"visualstudio",vb:"visualstudio",pdb:"database",sql:"database",pks:"database",pkb:"database",accdb:"database",mdb:"database",sqlite:"database",cs:"csharp",zip:"zip",tar:"zip",gz:"zip",xz:"zip",bzip2:"zip",gzip:"zip","7z":"zip",rar:"zip",tgz:"zip",exe:"exe",msi:"exe",java:"java",jar:"java",jsp:"java",c:"c",m:"c",h:"h","c++":"cpp",cc:"cpp",cpp:"cpp",mm:"cpp",cxx:"cpp",hpp:"hpp",go:"go",py:"python",url:"url",sh:"console",ksh:"console",csh:"console",tcsh:"console",zsh:"console",bash:"console",bat:"console",cmd:"console",ps1:"powershell",psm1:"powershell",psd1:"powershell",ps1xml:"powershell",psc1:"powershell",pssc:"powershell",gradle:"gradle",doc:"word",docx:"word",odt:"word",rtf:"word",cer:"certificate",cert:"certificate",crt:"certificate",pub:"key",key:"key",pem:"key",asc:"key",gpg:"key",woff:"font",woff2:"font",ttf:"font",eot:"font",suit:"font",otf:"font",bmap:"font",fnt:"font",odttf:"font",ttc:"font",font:"font",fonts:"font",sui:"font",ntf:"font",mrf:"font",lib:"lib",bib:"lib",rb:"ruby",erb:"ruby",fs:"fsharp",fsx:"fsharp",fsi:"fsharp",fsproj:"fsharp",swift:"swift",ino:"arduino",dockerignore:"docker",dockerfile:"docker",tex:"tex",cls:"tex",sty:"tex",pptx:"powerpoint",ppt:"powerpoint",pptm:"powerpoint",potx:"powerpoint",pot:"powerpoint",potm:"powerpoint",ppsx:"powerpoint",ppsm:"powerpoint",pps:"powerpoint",ppam:"powerpoint",ppa:"powerpoint",odp:"powerpoint",webm:"movie",mkv:"movie",flv:"movie",vob:"movie",ogv:"movie",ogg:"music",gifv:"movie",avi:"movie",mov:"movie",qt:"movie",wmv:"movie",yuv:"movie",rm:"movie",rmvb:"movie",mp4:"movie",m4v:"movie",mpg:"movie",mp2:"movie",mpeg:"movie",mpe:"movie",mpv:"movie",m2v:"movie",vdi:"virtual",vbox:"virtual","vbox-prev":"virtual",ics:"email",mp3:"music",flac:"music",m4a:"music",wma:"music",aiff:"music",coffee:"coffee",txt:"document",graphql:"graphql",rs:"rust",raml:"raml",xaml:"xaml",hs:"haskell",kt:"kotlin",kts:"kotlin",patch:"git",lua:"lua",clj:"clojure",cljs:"clojure",groovy:"groovy",r:"r",rmd:"r",dart:"dart",as:"actionscript",mxml:"mxml",ahk:"autohotkey",swf:"flash",swc:"swc",cmake:"cmake",asm:"assembly",a51:"assembly",inc:"assembly",nasm:"assembly",s:"assembly",ms:"assembly",agc:"assembly",ags:"assembly",aea:"assembly",argus:"assembly",mitigus:"assembly",binsource:"assembly",vue:"vue",ml:"ocaml",mli:"ocaml",cmx:"ocaml","js.map":"javascript-map","css.map":"css-map",lock:"lock",hbs:"handlebars",mustache:"handlebars",pl:"perl",pm:"perl",hx:"haxe","spec.ts":"test-ts","test.ts":"test-ts","ts.snap":"test-ts","spec.tsx":"test-jsx","test.tsx":"test-jsx","tsx.snap":"test-jsx","spec.jsx":"test-jsx","test.jsx":"test-jsx","jsx.snap":"test-jsx","spec.js":"test-js","test.js":"test-js","js.snap":"test-js","routing.ts":"angular-routing","routing.js":"angular-routing","module.ts":"angular","module.js":"angular","ng-template":"angular","component.ts":"angular-component","component.js":"angular-component","guard.ts":"angular-guard","guard.js":"angular-guard","service.ts":"angular-service","service.js":"angular-service","pipe.ts":"angular-pipe","pipe.js":"angular-pipe","filter.js":"angular-pipe","directive.ts":"angular-directive","directive.js":"angular-directive","resolver.ts":"angular-resolver","resolver.js":"angular-resolver",pp:"puppet",ex:"elixir",exs:"elixir",ls:"livescript",erl:"erlang",twig:"twig",jl:"julia",elm:"elm",pure:"purescript",tpl:"smarty",styl:"stylus",re:"reason",rei:"reason",cmj:"bucklescript",merlin:"merlin",v:"verilog",vhd:"verilog",sv:"verilog",svh:"verilog",nb:"mathematica",wl:"wolframlanguage",wls:"wolframlanguage",njk:"nunjucks",nunjucks:"nunjucks",robot:"robot",sol:"solidity",au3:"autoit",haml:"haml",yang:"yang",tf:"terraform","tf.json":"terraform",tfvars:"terraform",tfstate:"terraform","blade.php":"laravel","inky.php":"laravel",applescript:"applescript",cake:"cake",feature:"cucumber",nim:"nim",nimble:"nim",apib:"apiblueprint",apiblueprint:"apiblueprint",tag:"riot",vfl:"vfl",kl:"kl",pcss:"postcss",sss:"postcss",todo:"todo",cfml:"coldfusion",cfc:"coldfusion",lucee:"coldfusion",cabal:"cabal",nix:"nix",slim:"slim",http:"http",rest:"http",rql:"restql",restql:"restql",kv:"kivy",graphcool:"graphcool",sbt:"sbt","reducer.ts":"ngrx-reducer","rootReducer.ts":"ngrx-reducer","state.ts":"ngrx-state","actions.ts":"ngrx-actions","effects.ts":"ngrx-effects",cr:"crystal","drone.yml":"drone",cu:"cuda",cuh:"cuda",log:"log"},o={".jscsrc":"json",".jshintrc":"json","tsconfig.json":"json","tslint.json":"json","composer.lock":"json",".jsbeautifyrc":"json",".esformatter":"json","cdp.pid":"json",".htaccess":"xml",".jshintignore":"settings",".buildignore":"settings",makefile:"settings",".mrconfig":"settings",".yardopts":"settings","gradle.properties":"gradle",gradlew:"gradle","gradle-wrapper.properties":"gradle",COPYING:"certificate","COPYING.LESSER":"certificate",LICENSE:"certificate",LICENCE:"certificate","LICENSE.md":"certificate","LICENCE.md":"certificate","LICENSE.txt":"certificate","LICENCE.txt":"certificate",".gitlab-license":"certificate",dockerfile:"docker","docker-compose.yml":"docker",".mailmap":"email",".gitignore":"git",".gitconfig":"git",".gitattributes":"git",".gitmodules":"git",".gitkeep":"git","git-history":"git",".Rhistory":"r","cmakelists.txt":"cmake","cmakecache.txt":"cmake","angular-cli.json":"angular",".angular-cli.json":"angular",".vfl":"vfl",".kl":"kl","postcss.config.js":"postcss",".postcssrc.js":"postcss","project.graphcool":"graphcool","webpack.js":"webpack","webpack.ts":"webpack","webpack.base.js":"webpack","webpack.base.ts":"webpack","webpack.config.js":"webpack","webpack.config.ts":"webpack","webpack.common.js":"webpack","webpack.common.ts":"webpack","webpack.config.common.js":"webpack","webpack.config.common.ts":"webpack","webpack.config.common.babel.js":"webpack","webpack.config.common.babel.ts":"webpack","webpack.dev.js":"webpack","webpack.dev.ts":"webpack","webpack.config.dev.js":"webpack","webpack.config.dev.ts":"webpack","webpack.config.dev.babel.js":"webpack","webpack.config.dev.babel.ts":"webpack","webpack.prod.js":"webpack","webpack.prod.ts":"webpack","webpack.server.js":"webpack","webpack.server.ts":"webpack","webpack.client.js":"webpack","webpack.client.ts":"webpack","webpack.config.server.js":"webpack","webpack.config.server.ts":"webpack","webpack.config.client.js":"webpack","webpack.config.client.ts":"webpack","webpack.config.production.babel.js":"webpack","webpack.config.production.babel.ts":"webpack","webpack.config.prod.babel.js":"webpack","webpack.config.prod.babel.ts":"webpack","webpack.config.prod.js":"webpack","webpack.config.prod.ts":"webpack","webpack.config.production.js":"webpack","webpack.config.production.ts":"webpack","webpack.config.staging.js":"webpack","webpack.config.staging.ts":"webpack","webpack.config.babel.js":"webpack","webpack.config.babel.ts":"webpack","webpack.config.base.babel.js":"webpack","webpack.config.base.babel.ts":"webpack","webpack.config.base.js":"webpack","webpack.config.base.ts":"webpack","webpack.config.staging.babel.js":"webpack","webpack.config.staging.babel.ts":"webpack","webpack.config.coffee":"webpack","webpack.config.test.js":"webpack","webpack.config.test.ts":"webpack","webpack.config.vendor.js":"webpack","webpack.config.vendor.ts":"webpack","webpack.config.vendor.production.js":"webpack","webpack.config.vendor.production.ts":"webpack","webpack.test.js":"webpack","webpack.test.ts":"webpack","webpack.dist.js":"webpack","webpack.dist.ts":"webpack","webpackfile.js":"webpack","webpackfile.ts":"webpack","ionic.config.json":"ionic",".io-config.json":"ionic","gulpfile.js":"gulp","gulpfile.ts":"gulp","gulpfile.babel.js":"gulp","package.json":"nodejs","package-lock.json":"nodejs",".nvmrc":"nodejs",".npmignore":"npm",".npmrc":"npm",".yarnrc":"yarn",".yarnrc.yml":"yarn","yarn.lock":"yarn",".yarnclean":"yarn",".yarn-integrity":"yarn","yarn-error.log":"yarn","androidmanifest.xml":"android",".env":"tune",".env.example":"tune",".babelrc":"babel","contributing.md":"contributing","contributing.md.rendered":"contributing","readme.md":"readme","readme.md.rendered":"readme",changelog:"changelog","changelog.md":"changelog","changelog.md.rendered":"changelog",CREDITS:"credits","credits.txt":"credits","credits.md":"credits","credits.md.rendered":"credits",".flowconfig":"flow","favicon.png":"favicon","karma.conf.js":"karma","karma.conf.ts":"karma","karma.conf.coffee":"karma","karma.config.js":"karma","karma.config.ts":"karma","karma-main.js":"karma","karma-main.ts":"karma",".bithoundrc":"bithound","appveyor.yml":"appveyor",".travis.yml":"travis","protractor.conf.js":"protractor","protractor.conf.ts":"protractor","protractor.conf.coffee":"protractor","protractor.config.js":"protractor","protractor.config.ts":"protractor","fuse.js":"fusebox",procfile:"heroku",".editorconfig":"editorconfig",".gitlab-ci.yml":"gitlab",".bowerrc":"bower","bower.json":"bower",".eslintrc.js":"eslint",".eslintrc.yaml":"eslint",".eslintrc.yml":"eslint",".eslintrc.json":"eslint",".eslintrc":"eslint",".eslintignore":"eslint","code_of_conduct.md":"conduct","code_of_conduct.md.rendered":"conduct",".watchmanconfig":"watchman","aurelia.json":"aurelia","mocha.opts":"mocha",jenkinsfile:"jenkins","firebase.json":"firebase",".firebaserc":"firebase",Rakefile:"ruby","rollup.config.js":"rollup","rollup.config.ts":"rollup","rollup-config.js":"rollup","rollup-config.ts":"rollup","rollup.config.prod.js":"rollup","rollup.config.prod.ts":"rollup","rollup.config.dev.js":"rollup","rollup.config.dev.ts":"rollup","rollup.config.prod.vendor.js":"rollup","rollup.config.prod.vendor.ts":"rollup",".hhconfig":"hack",".stylelintrc":"stylelint","stylelint.config.js":"stylelint",".stylelintrc.json":"stylelint",".stylelintrc.yaml":"stylelint",".stylelintrc.yml":"stylelint",".stylelintrc.js":"stylelint",".stylelintignore":"stylelint",".codeclimate.yml":"code-climate",".prettierrc":"prettier","prettier.config.js":"prettier",".prettierrc.js":"prettier",".prettierrc.json":"prettier",".prettierrc.yaml":"prettier",".prettierrc.yml":"prettier",".prettierignore":"prettier","nodemon.json":"nodemon",".sonarrc":"sonar",browserslist:"browserlist",".browserslistrc":"browserlist",".snyk":"snyk",".drone.yml":"drone"};var l={components:{GlLoadingIcon:i.a,GlIcon:r.a},props:{fileName:{type:String,required:!0},fileMode:{type:String,required:!1,default:""},folder:{type:Boolean,required:!1,default:!1},submodule:{type:Boolean,required:!1,default:!1},opened:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},size:{type:Number,required:!1,default:16},cssClasses:{type:String,required:!1,default:""}},computed:{isSymlink(){return this.fileMode===s.a},spriteHref(){const e=this.submodule?"folder-git":(t=this.fileName,o[t]||a[t?t.split(".").pop().toLowerCase():""]||""||"file");var t;return"".concat(gon.sprite_file_icons,"#").concat(e)},folderIconName(){return this.opened?"folder-open":"folder"},iconSizeClass(){return this.size?"s".concat(this.size):""}}},c=n("tBpV"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.loading?n("gl-loading-icon",{attrs:{inline:!0}}):e.isSymlink?n("gl-icon",{attrs:{name:"symlink",size:e.size,"use-deprecated-sizes":""}}):e.folder?n("gl-icon",{staticClass:"folder-icon",attrs:{name:e.folderIconName,size:e.size,"use-deprecated-sizes":"","data-qa-selector":"folder_icon_content"}}):n("svg",{key:e.spriteHref,class:[e.iconSizeClass,e.cssClasses]},[n("use",e._b({},"use",{"xlink:href":e.spriteHref},!1))])],1)}),[],!1,null,null,null);t.a=u.exports},"9fwh":function(e,t,n){var i,r,s;r=[],void 0===(s="function"==typeof(i=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},i=function(t){return e.test(function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")}(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),r=0;r<n.length;r+=1)if(i(n[r]))return n[r];return document.scrollingElement||document.documentElement}}})?i.apply(t,r):i)||(e.exports=s)},"9iFO":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueReference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"full"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}}]}}]}}],loc:{start:0,end:211}};n.loc.source={body:"query issueReference($fullPath: ID!, $iid: String) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      reference(full: true)\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueReference=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueReference")},"9s1C":function(e,t,n){var i=n("ZB1U"),r=n("QA6A"),s="[object Set]";e.exports=function(e){return r(e)&&i(e)==s}},A2UA:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},A5dm:function(e,t,n){"use strict";var i=n("iQdY"),r=n("Pyw5"),s=n.n(r);const a={props:{text:{type:String,required:!0},position:{type:String,required:!1,default:i.a.END,validator:function(e){return Object.values(i.a).includes(e)}}},data:function(){return{POSITION:i.a}},computed:{middleIndex:function(){return Math.floor(this.text.length/2)},first:function(){return this.text.slice(0,this.middleIndex)},last:function(){return this.text.slice(this.middleIndex)}}};const o=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.position===e.POSITION.START?n("span",{staticClass:"gl-truncate",attrs:{title:e.text}},[n("span",{staticClass:"gl-truncate-start gl-text-overflow-ellipsis!"},[e._v(""+e._s(e.text)+"")])]):e.position===e.POSITION.MIDDLE?n("span",{staticClass:"gl-truncate",attrs:{title:e.text}},[n("span",{staticClass:"gl-truncate-end"},[e._v(e._s(e.first))]),n("span",{staticClass:"gl-truncate-start"},[e._v(""+e._s(e.last)+"")])]):n("span",{staticClass:"gl-truncate",attrs:{title:e.text}},[n("span",{staticClass:"gl-truncate-end"},[e._v(e._s(e.text))])])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},AMrI:function(e,t,n){"use strict";var i={name:"UserAccessRoleBadge",components:{GlBadge:n("Lzak").a}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("gl-badge",{staticClass:"gl-bg-transparent! gl-inset-border-1-gray-100!"},[this._t("default")],2)}),[],!1,null,null,null);t.a=s.exports},AN20:function(e,t,n){"use strict";var i=n("Q33P"),r=n.n(i),s=n("lx39"),a=n.n(s),o=n("LLbv"),l=n("s1D3"),c=n("MV2A"),u=n("/lV4"),d=n("rX0p"),f=n("ZHzM"),h={directives:{GlTooltip:o.a},components:{UserAvatarLink:f.a,GlIcon:l.a,GlLink:c.a,TooltipOnTruncate:d.a},props:{tag:{type:Boolean,required:!1,default:!1},commitRef:{type:Object,required:!1,default:function(){return{}}},mergeRequestRef:{type:Object,required:!1,default:void 0,validator:function(e){return void 0===e||Number.isFinite(e.iid)&&a()(e.path)&&!r()(e.path)}},commitUrl:{type:String,required:!1,default:""},shortSha:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},author:{type:Object,required:!1,default:function(){return{}}},showRefInfo:{type:Boolean,required:!1,default:!0}},computed:{shouldShowRefInfo(){return this.showRefInfo&&(this.commitRef||this.mergeRequestRef)},hasAuthor(){return this.author&&this.author.avatar_url&&this.author.path&&this.author.username},userImageAltDescription(){return this.author&&this.author.username?Object(u.f)(Object(u.a)("%{username}'s avatar"),{username:this.author.username}):null},refUrl(){return this.commitRef.ref_url||this.commitRef.path}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"branch-commit cgray"},[e.shouldShowRefInfo?[n("div",{staticClass:"icon-container gl-display-inline-block"},[e.tag?n("gl-icon",{attrs:{name:"tag"}}):e.mergeRequestRef?n("gl-icon",{attrs:{name:"git-merge"}}):n("gl-icon",{attrs:{name:"branch"}})],1),e._v(" "),e.mergeRequestRef?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:e.mergeRequestRef.path,title:e.mergeRequestRef.title}},[e._v(e._s(e.mergeRequestRef.iid))]):n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"ref-name",attrs:{href:e.refUrl,title:e.commitRef.name,"data-testid":"ref-name"}},[e._v(e._s(e.commitRef.name))])]:e._e(),e._v(" "),n("gl-icon",{staticClass:"commit-icon js-commit-icon",attrs:{name:"commit"}}),e._v(" "),n("gl-link",{staticClass:"commit-sha mr-0",attrs:{href:e.commitUrl}},[e._v(e._s(e.shortSha))]),e._v(" "),n("div",{staticClass:"commit-title"},[e.title?n("span",{staticClass:"flex-truncate-parent"},[e.hasAuthor?n("user-avatar-link",{staticClass:"avatar-image-container text-decoration-none",attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.userImageAltDescription,"tooltip-text":e.author.username}}):e._e(),e._v(" "),n("tooltip-on-truncate",{staticClass:"flex-truncate-child",attrs:{title:e.title}},[n("gl-link",{staticClass:"commit-row-message cgray",attrs:{href:e.commitUrl}},[e._v(e._s(e.title))])],1)],1):n("span",[e._v(e._s(e.__("Can't find HEAD commit for this branch")))])])],2)}),[],!1,null,null,null);t.a=m.exports},Agcx:function(e,t,n){"use strict";var i=n("o4PY"),r=n.n(i),s=n("4lAS"),a=n("LLbv"),o=n("Y98u"),l=n.n(o),c=n("GuZl"),u={components:{GlButton:s.a},directives:{GlTooltip:a.a},props:{text:{type:String,required:!1,default:""},id:{type:String,required:!1,default:function(){return r()("modal-copy-button-")}},container:{type:String,required:!1,default:""},cssClasses:{type:String,required:!1,default:""},modalId:{type:String,required:!1,default:""},target:{type:String,required:!1,default:""},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"primary"}},computed:{modalDomId(){return this.modalId?"#".concat(this.modalId):""}},mounted(){var e=this;this.$nextTick((function(){e.clipboard=new l.a(e.$el,{container:document.querySelector("".concat(e.modalDomId," div.modal-content"))||document.getElementById(e.container)||document.body}),e.clipboard.on("success",(function(t){e.$root.$emit(c.b,e.id),e.$emit("success",t),t.clearSelection(),t.trigger.blur()})).on("error",(function(t){return e.$emit("error",t)}))}))},destroyed(){this.clipboard&&this.clipboard.destroy()}},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:e.tooltipPlacement,container:e.tooltipContainer},expression:"{ placement: tooltipPlacement, container: tooltipContainer }"}],class:e.cssClasses,attrs:{id:e.id,"data-clipboard-target":e.target,"data-clipboard-text":e.text,title:e.title,"aria-label":e.title,category:e.category,icon:"copy-to-clipboard"}})}),[],!1,null,null,null);t.a=f.exports},Am3t:function(e,t,n){var i=n("zx4+"),r=n("etTJ"),s=n("NDsS"),a=Math.ceil,o=Math.max;e.exports=function(e,t,n){t=(n?r(e,t,n):void 0===t)?1:o(s(t),0);var l=null==e?0:e.length;if(!l||t<1)return[];for(var c=0,u=0,d=Array(a(l/t));c<l;)d[u++]=i(e,c,c+=t);return d}},BAGK:function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return a})),n.d(t,"n",(function(){return o})),n.d(t,"o",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"l",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"B",(function(){return g})),n.d(t,"t",(function(){return v})),n.d(t,"v",(function(){return b})),n.d(t,"u",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"z",(function(){return w})),n.d(t,"A",(function(){return O})),n.d(t,"s",(function(){return k})),n.d(t,"x",(function(){return S})),n.d(t,"r",(function(){return j})),n.d(t,"y",(function(){return C})),n.d(t,"p",(function(){return x})),n.d(t,"q",(function(){return E})),n.d(t,"d",(function(){return D})),n.d(t,"f",(function(){return P}));const i=750,r=50,s=72,a=340,o=340,l=60,c="editor",u="preview",d="createMergeRequestIn",f="readMergeRequest",h="pushCode",p="rejectUnsignedCommits",m={[h]:!0},g={mr:"mrdiff",edit:"editor",diff:"diff"},v={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed"},b=Object.freeze({not_diffable:"not_diffable",no_preview:"no_preview",added:"added",deleted:"deleted",renamed:"renamed",mode_changed:"mode_changed",text:"text",image:"image"}),y=Object.freeze({too_large:"too_large",stored_externally:"server_side_but_stored_externally"}),_={edit:{name:"ide-tree"},review:{name:"ide-review"},commit:{name:"repo-commit-section"}},w={pipelines:{name:"pipelines-list",keepAlive:!0},jobsDetail:{name:"jobs-detail",keepAlive:!1},mergeRequestInfo:{name:"merge-request-info",keepAlive:!0},clientSidePreview:{name:"clientside",keepAlive:!1},terminal:{name:"terminal",keepAlive:!0}},O={unstaged:"unstaged",staged:"staged"},k={addition:{icon:"file-addition",class:"ide-file-addition"},modified:{icon:"file-modified",class:"ide-file-modified"},deleted:{icon:"file-deletion",class:"ide-file-deletion"}},S={rename:"rename",tree:"tree",blob:"blob"},j={move:"move",delete:"delete",create:"create",update:"update"},C="package.json",x="left",E="right",D=2e3,P=10},BaNG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"epicDueDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateIsFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateFromMilestones"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:255}};n.loc.source={body:"query epicDueDate($fullPath: ID!, $iid: ID) {\n  workspace: group(fullPath: $fullPath) {\n    __typename\n    issuable: epic(iid: $iid) {\n      __typename\n      id\n      dueDate\n      dueDateIsFixed\n      dueDateFixed\n      dueDateFromMilestones\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.epicDueDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"epicDueDate")},Bk2k:function(e,t,n){var i=n("vkS7"),r=n("sHai"),s=Object.prototype.hasOwnProperty,a=r((function(e,t,n){s.call(e,n)?e[n].push(t):i(e,n,[t])}));e.exports=a},CMwJ:function(e,t,n){var i=n("H0tE");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("e7332c02",i,!0,{})},CUaz:function(e,t,n){"use strict";var i=n("yi8e"),r=n("/lV4");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={props:{discussionId:{type:String,required:!1,default:null},resolveDiscussion:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},computed:a(a({},Object(i.d)(["isDiscussionResolved"])),{},{resolvedStatusMessage(){let e;const t=this.isDiscussionResolved(this.draft?this.draft.discussion_id:this.discussionId),n=this.draft?this.draft.resolve_discussion:this.resolveDiscussion;if(!n||!t||this.$options.showStaysResolved)return n?e=t?Object(r.e)("MergeRequests|Thread stays resolved"):Object(r.e)("MergeRequests|Thread will be resolved"):t?e=Object(r.e)("MergeRequests|Thread will be unresolved"):this.$options.showStaysResolved&&(e=Object(r.e)("MergeRequests|Thread stays unresolved")),e},componentClasses(){return this.resolveDiscussion?"is-resolving-discussion":"is-unresolving-discussion"},resolveButtonTitle(){if(this.isDraft||this.discussionId)return this.resolvedStatusMessage;let e=Object(r.a)("Resolve thread");return this.resolvedBy&&(e=Object(r.f)(Object(r.a)("Resolved by %{name}"),{name:this.resolvedBy.name},!1)),e}}),showStaysResolved:!0}},CdyC:function(e,t,n){"use strict";n("pBsb");var i=n("s1D3"),r=n("SNRI"),s={components:{GlIcon:i.a},props:{path:{type:String,required:!0},filePath:{type:String,required:!1,default:""},fileSize:{type:Number,required:!1,default:0}},computed:{fileSizeReadable(){return Object(r.c)(this.fileSize)},fileName(){return(this.filePath||this.path).split("/").pop()}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-content"},[n("p",{staticClass:"gl-mt-3 file-info"},[e._v("\n      "+e._s(e.fileName)+"\n      "),e.fileSize>0?[e._v(" ("+e._s(e.fileSizeReadable)+") ")]:e._e()],2),e._v(" "),n("a",{staticClass:"btn btn-default",attrs:{href:e.path,rel:"nofollow",download:e.fileName,target:"_blank","data-qa-selector":"download_button"}},[n("gl-icon",{staticClass:"float-left gl-mr-3",attrs:{size:16,name:"download"}}),e._v("\n      "+e._s(e.__("Download"))+"\n    ")],1)])])}),[],!1,null,null,null);t.a=o.exports},CqXh:function(e,t,n){"use strict";var i=n("VNnR"),r=n.n(i),s={props:{storageKey:{type:String,required:!0},value:{type:[String,Number,Boolean,Array,Object],required:!1,default:""},asJson:{type:Boolean,required:!1,default:!1},persist:{type:Boolean,required:!1,default:!0},clear:{type:Boolean,required:!1,default:!1}},watch:{value(e){this.saveValue(this.serialize(e))},clear(e){e&&localStorage.removeItem(this.storageKey)}},mounted(){const{exists:e,value:t}=this.getStorageValue();e&&!r()(t,this.value)&&this.$emit("input",t)},methods:{getStorageValue(){const e=localStorage.getItem(this.storageKey);if(null===e)return{exists:!1};try{return{exists:!0,value:this.deserialize(e)}}catch(t){return console.warn("[gitlab] Failed to deserialize value from localStorage (key=".concat(this.storageKey,")"),e),{exists:!1}}},saveValue(e){this.persist&&localStorage.setItem(this.storageKey,e)},serialize(e){return this.asJson?JSON.stringify(e):e},deserialize(e){return this.asJson?JSON.parse(e):e}},render(){return this.$slots.default}},a=n("tBpV"),o=Object(a.a)(s,void 0,void 0,!1,null,null,null);t.a=o.exports},D2I9:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return j}));n("pBsb");var i={name:"AccessibilityIssueBody",components:{GlLink:n("MV2A").a},props:{issue:{type:Object,required:!0},isNew:{type:Boolean,required:!1,default:!1}},computed:{parsedTECHSCode(){var e;return null===(e=this.issue.code)||void 0===e?void 0:e.split(".")[4]},learnMoreUrl(){return"https://www.w3.org/TR/WCAG20-TECHS/".concat(this.parsedTECHSCode||"Overview",".html")}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-block-list-issue-description gl-mt-2 gl-mb-2"},[n("div",{ref:"accessibility-issue-description",staticClass:"report-block-list-issue-description-text"},[e.isNew?n("div",{ref:"accessibility-issue-is-new-badge",staticClass:"badge badge-danger gl-mr-2"},[e._v("\n      "+e._s(e.s__("AccessibilityReport|New"))+"\n    ")]):e._e(),e._v(" "),n("div",[e._v("\n      "+e._s(e.sprintf(e.s__("AccessibilityReport|The accessibility scanning found an error of the following type: %{code}"),{code:e.issue.code}))+"\n      "),n("gl-link",{ref:"accessibility-issue-learn-more",attrs:{href:e.learnMoreUrl,target:"_blank"}},[e._v(e._s(e.s__("AccessibilityReport|Learn more")))])],1),e._v("\n    "+e._s(e.sprintf(e.s__("AccessibilityReport|Message: %{message}"),{message:e.issue.message}))+"\n  ")])])}),[],!1,null,null,null).exports,a=n("s1D3"),o=n("LLbv"),l=n("/lV4"),c={name:"ReportIssueLink",props:{issue:{type:Object,required:!0}}},u=Object(r.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report-block-list-issue-description-link"},[e._v("\n  in\n\n  "),e.issue.urlPath?n("a",{staticClass:"break-link",attrs:{href:e.issue.urlPath,target:"_blank",rel:"noopener noreferrer nofollow"}},[e._v("\n    "+e._s(e.issue.path)),e.issue.line?[e._v(":"+e._s(e.issue.line))]:e._e()],2):[e._v("\n    "+e._s(e.issue.path)),e.issue.line?[e._v(":"+e._s(e.issue.line))]:e._e()]],2)}),[],!1,null,null,null).exports,d=n("Zpbh");const f={info:"text-primary-400",minor:"text-warning-200",major:"text-warning-400",critical:"text-danger-600",blocker:"text-danger-800",unknown:"text-secondary-400"},h={info:"severity-info",minor:"severity-low",major:"severity-medium",critical:"severity-high",blocker:"severity-critical",unknown:"severity-unknown"};var p={name:"CodequalityIssueBody",components:{GlIcon:a.a,ReportLink:u},directives:{tooltip:o.a},props:{status:{type:String,required:!1,default:d.j},issue:{type:Object,required:!0}},computed:{issueName(){return"".concat(this.severityLabel," - ").concat(this.issue.name)},isStatusSuccess(){return this.status===d.k},severityClass(){return f[this.issue.severity]||f.unknown},severityIcon(){return h[this.issue.severity]||h.unknown},severityLabel(){return this.$options.severityText[this.issue.severity]||this.$options.severityText.unknown}},severityText:{info:Object(l.e)("severity|Info"),minor:Object(l.e)("severity|Minor"),major:Object(l.e)("severity|Major"),critical:Object(l.e)("severity|Critical"),blocker:Object(l.e)("severity|Blocker"),unknown:Object(l.e)("severity|Unknown")}},m=Object(r.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-mt-2 gl-mb-2 gl-w-full"},[n("span",{staticClass:"gl-mr-5",class:e.severityClass,attrs:{"data-testid":"codequality-severity-icon"}},[n("gl-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.severityLabel,expression:"severityLabel"}],attrs:{name:e.severityIcon,size:12}})],1),e._v(" "),n("div",{staticClass:"gl-flex-fill-1"},[n("div",[e.isStatusSuccess?n("strong",[e._v(e._s(e.s__("ciReport|Fixed:")))]):e._e(),e._v("\n      "+e._s(e.issueName)+"\n    ")]),e._v(" "),e.issue.path?n("report-link",{attrs:{issue:e.issue}}):e._e()],1)])}),[],!1,null,null,null).exports,g=n("Lzak"),v=n("4lAS"),b=n("yi8e"),y=n("0V1+");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={name:"TestIssueBody",components:{GlBadge:g.a,GlButton:v.a,IssueStatusIcon:y.a},props:{issue:{type:Object,required:!0}},computed:{recentFailureMessage(){var e;return Object(l.f)(Object(l.d)("Reports|Failed %{count} time in %{base_branch} in the last 14 days","Reports|Failed %{count} times in %{base_branch} in the last 14 days",null===(e=this.issue.recent_failures)||void 0===e?void 0:e.count),this.issue.recent_failures)},showRecentFailures(){var e,t;return(null===(e=this.issue.recent_failures)||void 0===e?void 0:e.count)&&(null===(t=this.issue.recent_failures)||void 0===t?void 0:t.base_branch)},status(){return this.issue.status||d.j}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(b.c)(["openModal"]))},k=Object(r.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-mt-2 gl-mb-2"},[n("issue-status-icon",{staticClass:"gl-mr-3",attrs:{status:e.status,"status-icon-size":24}}),e._v(" "),n("gl-button",{attrs:{"button-text-classes":"gl-white-space-normal! gl-word-break-all gl-text-left",variant:"link","data-testid":"test-issue-body-description"},on:{click:function(t){return e.openModal({issue:e.issue})}}},[e.showRecentFailures?n("gl-badge",{staticClass:"gl-mr-2",attrs:{variant:"warning","data-testid":"test-issue-body-recent-failures"}},[e._v("\n      "+e._s(e.recentFailureMessage)+"\n    ")]):e._e(),e._v("\n    "+e._s(e.issue.name)+"\n  ")],1)],1)}),[],!1,null,null,null).exports;const S={AccessibilityIssueBody:s,CodequalityIssueBody:m,TestIssueBody:k},j={AccessibilityIssueBody:s.name,CodequalityIssueBody:m.name,TestIssueBody:k.name}},DN5t:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));n("pBsb"),n("orcL");var i=n("EmJ/"),r=n.n(i),s=n("XRO8"),a=n("2ibD"),o=n("/lV4"),l=n("06tH"),c=n.n(l);const u=".".concat("diff-line-num",", .line_content");var d={init(e){var t=this;this.userCanCreateNote||(this.userCanCreateNote=""===e.closest(".files").data("canCreateNote")),this.isParallelView="parallel"===c.a.get("diff_view"),this.userCanCreateNote&&e.on("mouseover",u,(function(e){return t.showButton(t.isParallelView,e)})).on("mouseleave",u,(function(e){return t.hideButton(t.isParallelView,e)}))},showButton(e,t){const n=this.getButtonParent(t.currentTarget,e);this.validateButtonParent(n)&&(n.classList.add("is-over"),n.nextElementSibling.classList.add("is-over"))},hideButton(e,t){const n=this.getButtonParent(t.currentTarget,e);n.classList.remove("is-over"),n.nextElementSibling.classList.remove("is-over")},getButtonParent(e,t){if(t){if(!e.classList.contains("diff-line-num"))return e.previousElementSibling}else if(!e.classList.contains("old_line"))return e.parentNode.querySelector(".".concat("old_line"));return e},validateButtonParent:e=>!(e.classList.contains("empty-cell")||e.classList.contains("js-unfold")||e.classList.contains("no-comment-btn")||e.parentNode.classList.contains("diff-expanded"))};n("S26F"),n("1ZpL");const f=900,h=["two-up","swipe"];class p{constructor(e){var t,n,i,s=this;i={"two-up":function(){var e=this;return r()(".two-up.view .wrap",this.file).each((function(t,n){return r()("img",n).each((function(){if(r()(this).width()>f/2)return r()(this).width(f/2)})),e.requestImageInfo(r()("img",n),(function(e,t){return r()(".image-info .meta-width",n).text("".concat(e,"px")),r()(".image-info .meta-height",n).text("".concat(t,"px")),r()(".image-info",n).removeClass("gl-display-none")}))}))},swipe(){var e=this;let t=0,n=0;return r()(".swipe.view",this.file).each((function(i,s){const a=p.prepareFrames(s);[t,n]=a;const o=r()(".swipe-frame",s),l=r()(".swipe-wrap",s),c=r()(".swipe-bar",s);o.css({width:t+16,height:n+28}),l.css({width:t+1,height:n+2}),c.css({left:1});const u=parseInt(l.css("right").replace("px",""),10);e.initDraggable(c,u,(function(e,n){n>0&&n<o.width()-2*u&&(l.width(t+1-n),c.css("left",n))}))}))},"onion-skin":function(){var e=this;let t,n;n=0,t=0;const i=r()(".drag-track",this.file).width()-r()(".dragger",this.file).width();return r()(".onion-skin.view",this.file).each((function(s,a){const o=p.prepareFrames(a);[n,t]=o;const l=r()(".onion-skin-frame",a),c=r()(".frame.added",a),u=r()(".drag-track",a),d=r()(".dragger",u);l.css({width:n+16,height:t+28}),r()(".swipe-wrap",a).css({width:n+1,height:t+2}),d.css({left:i}),c.css("opacity",1);const f=parseInt(c.css("right").replace("px",""),10);e.initDraggable(d,f,(function(e,t){const n=t/i;n>=0&&n<=1&&(d.css("left",t),c.css("opacity",n))}))}))}},(n="views")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.file=e,this.requestImageInfo(r()(".two-up.view .frame.deleted img",this.file),(function(){return s.requestImageInfo(r()(".two-up.view .frame.added img",s.file),(function(){s.initViewModes(),r()(".two-up.view img",s.file).waitForImages((function(){s.initView("two-up")}))}))}))}initViewModes(){var e=this;const t=h[0];return r()(".view-modes",this.file).removeClass("gl-display-none"),r()(".view-modes-menu",this.file).on("click","li",(function(t){if(!r()(t.currentTarget).hasClass("active"))return e.activateViewMode(t.currentTarget.className)})),this.activateViewMode(t)}activateViewMode(e){return r()(".view-modes-menu li",this.file).removeClass("active").filter(".".concat(e)).addClass("active"),r()(".view:visible:not(.".concat(e,")"),this.file).addClass("gl-display-none"),r()(".view.".concat(e),this.file).removeClass("gl-display-none"),this.initView(e)}initView(e){return this.views[e].call(this)}initDraggable(e,t,n){let i=!1;const s=r()("body"),a=e.parent(),o=function(){i=!0,s.css("user-select","none")},l=function(){i=!1,s.css("user-select","")},c=function(e){const r=(e.pageX||e.touches[0].pageX)-(a.offset().left+t);i&&n(e,r)};e.off("mousedown").off("touchstart").on("mousedown",o).on("touchstart",o),s.off("mouseup").off("mousemove").off("touchend").off("touchmove").on("mouseup",l).on("touchend",l).on("mousemove",c).on("touchmove",c)}static prepareFrames(e){let t=0,n=0;return r()(".frame",e).each((function(e,i){const s=r()(i).width(),a=r()(i).height();return t=s>t?s:t,n=a>n?a:n})).css({width:t,height:n}),[t,n]}requestImageInfo(e,t){var n=this;const i=e.get(0);if(i)return i.complete?t.call(this,i.naturalWidth,i.naturalHeight):e.on("load",(function(){return t.call(n,i.naturalWidth,i.naturalHeight)}))}}var m=n("NmEs");function g(e,t){let{x:n,y:i}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const s=document.createElement("button");return r.concat(["js-image-badge"]).forEach((function(e){return s.classList.add(e)})),s.setAttribute("type","button"),s.setAttribute("disabled",!0),s.dataset.noteId=e,s.style.left="".concat(n,"px"),s.style.top="".concat(i,"px"),s}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){let{x:n,y:i}=t;const r=document.createElement("button");r.classList.add("btn-transparent"),r.classList.add("comment-indicator"),r.setAttribute("type","button"),r.style.left="".concat(n,"px"),r.style.top="".concat(i,"px"),r.innerHTML=Object(m.T)("image-comment-dark"),e.appendChild(r)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={x:0,y:0,width:0,height:0};class j{constructor(e){const{noteId:t,discussionId:n}=e;this.actual=e.actual||S,this.browser=e.browser||S,this.noteId=t,this.discussionId=n,e.imageEl&&!e.browser&&(this.browser=C.resizeCoordinatesToImageElement(e.imageEl,this.actual))}}var C={addCommentIndicator:_,removeCommentIndicator:function(e){const t=e.querySelector(".comment-indicator"),n=e.querySelector("img"),i=Boolean(t);let r={};return i&&(r={x:parseInt(t.style.left,10),y:parseInt(t.style.top,10),image:{width:n.width,height:n.height}},t.remove()),b(b({},r),{},{removed:i})},showCommentIndicator:function(e,t){const{x:n,y:i}=t,r=e.querySelector(".comment-indicator");r?(r.style.left="".concat(n,"px"),r.style.top="".concat(i,"px")):_(e,t)},commentIndicatorOnClick:function(e){e.stopPropagation(),e.currentTarget.closest(".diff-viewer").querySelector(".note-container .note-textarea").focus()},addImageBadge:function(e,t){let{coordinate:n,badgeText:i,noteId:r}=t;const s=g(r,n,["badge","badge-pill"]);s.textContent=i,e.appendChild(s)},addImageCommentBadge:function(e,t){let{coordinate:n,noteId:i}=t;const r=g(i,n,["image-comment-badge"]);r.innerHTML=Object(m.T)("image-comment-dark"),e.appendChild(r)},addAvatarBadge:function(e,t){const{noteId:n,badgeNumber:i}=t.detail,r=e.querySelector("#".concat(n," .badge"));r.textContent=i,r.classList.remove("hidden")},setPositionDataAttribute:function(e,t){const{x:n,y:i,width:r,height:s}=t,{position:a}=e.dataset,o=O(O({},JSON.parse(a)),{},{x:n,y:i,width:r,height:s});e.setAttribute("data-position",JSON.stringify(o))},updateDiscussionAvatarBadgeNumber:function(e,t){e.querySelector(".image-diff-avatar-link .badge").textContent=t},updateDiscussionBadgeNumber:function(e,t){e.querySelector(".badge").textContent=t},toggleCollapsed:function(e){const t=e.currentTarget.closest(".discussion-notes"),n=t.querySelector(".discussion-form"),i=t.classList.contains("collapsed");i?t.classList.remove("collapsed"):t.classList.add("collapsed"),n&&!i?n.style.display="none":n&&i&&(n.style.display="block")},resizeCoordinatesToImageElement:function(e,t){const{x:n,y:i,width:r,height:s}=t,a=e.width,o=e.height,l=a/r,c=o/s;return{x:Math.round(n*l),y:Math.round(i*c),width:a,height:o}},generateBadgeFromDiscussionDOM:function(e,t){const n=JSON.parse(t.dataset.position),i=t.querySelector(".note");return new j({actual:n,imageEl:e.querySelector("img"),noteId:i.id,discussionId:t.dataset.discussionId})},getTargetSelection:function(e){const t=e.currentTarget.querySelector("img"),n=e.offsetX,i=e.offsetY,{width:r,height:s}=t,a=t.naturalWidth,o=t.naturalHeight,l=a/r,c=o/s,u=Math.max(0,n)&&Math.min(n,r),d=Math.max(0,i)&&Math.min(i,s);return{browser:{x:u,y:d,width:r,height:s},actual:{x:Math.round(u*l),y:Math.round(d*c),width:a,height:o}}}};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P{constructor(e,t){this.el=e,this.canCreateNote=Boolean(t&&t.canCreateNote),this.renderCommentBadge=Boolean(t&&t.renderCommentBadge),this.$noteContainer=r()(".note-container",this.el),this.imageBadges=[]}init(){this.imageFrameEl=this.el.querySelector(".diff-file .js-image-frame"),this.imageEl=this.imageFrameEl.querySelector("img"),this.bindEvents()}bindEvents(){var e;this.imageClickedWrapper=this.imageClicked.bind(this),this.imageBlurredWrapper=C.removeCommentIndicator.bind(null,this.imageFrameEl),this.addBadgeWrapper=this.addBadge.bind(this),this.removeBadgeWrapper=this.removeBadge.bind(this),this.renderBadgesWrapper=this.renderBadges.bind(this),(e=this.imageEl).complete&&0!==e.naturalHeight?this.renderBadges():this.imageEl.addEventListener("load",this.renderBadgesWrapper),this.$noteContainer.on("click",".js-diff-notes-toggle",C.toggleCollapsed),r()(this.el).on("click",".comment-indicator",C.commentIndicatorOnClick),this.canCreateNote&&(this.el.addEventListener("click.imageDiff",this.imageClickedWrapper),this.el.addEventListener("blur.imageDiff",this.imageBlurredWrapper),this.el.addEventListener("addBadge.imageDiff",this.addBadgeWrapper),this.el.addEventListener("removeBadge.imageDiff",this.removeBadgeWrapper))}imageClicked(e){const t=e.detail,n=C.getTargetSelection(t),i=t.currentTarget;C.setPositionDataAttribute(i,n.actual),C.showCommentIndicator(this.imageFrameEl,n.browser)}renderBadges(){[...this.el.querySelectorAll(".note-container .discussion-notes .notes")].forEach(this.renderBadge.bind(this))}renderBadge(e,t){const n=C.generateBadgeFromDiscussionDOM(this.imageFrameEl,e);this.imageBadges.push(n);const i={coordinate:n.browser,noteId:n.noteId};if(this.renderCommentBadge)C.addImageCommentBadge(this.imageFrameEl,i);else{const e=E(E({},i),{},{badgeText:t+1});C.addImageBadge(this.imageFrameEl,e)}}addBadge(e){const{x:t,y:n,width:i,height:r,noteId:s,discussionId:a}=e.detail,o=this.imageBadges.length+1,l=new j({actual:{x:t,y:n,width:i,height:r},imageEl:this.imageFrameEl.querySelector("img"),noteId:s,discussionId:a});this.imageBadges.push(l),C.addImageBadge(this.imageFrameEl,{coordinate:l.browser,badgeText:o,noteId:s}),C.addAvatarBadge(this.el,{detail:{noteId:s,badgeNumber:o}});const c=this.el.querySelector("#discussion_".concat(a));C.updateDiscussionBadgeNumber(c,o)}removeBadge(e){var t=this;const{badgeNumber:n}=e.detail,i=n-1,r=this.imageFrameEl.querySelectorAll(".badge");this.imageBadges.length!==n&&this.imageBadges.forEach((function(e,n){if(n>i){const{discussionId:i}=e,s=n,a=t.el.querySelector("#discussion_".concat(i));r[n].textContent=s,C.updateDiscussionBadgeNumber(a,s),C.updateDiscussionAvatarBadgeNumber(a,s)}})),this.imageBadges.splice(i,1),r[i].remove()}}const T={TWO_UP:"TWO_UP",SWIPE:"SWIPE",ONION_SKIN:"ONION_SKIN"};class N extends P{init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T.TWO_UP;this.imageFrameEls={[T.TWO_UP]:this.el.querySelector(".two-up .js-image-frame"),[T.SWIPE]:this.el.querySelector(".swipe .js-image-frame"),[T.ONION_SKIN]:this.el.querySelector(".onion-skin .js-image-frame")};const t=this.el.querySelector(".view-modes-menu");this.viewModesEls={[T.TWO_UP]:t.querySelector(".two-up"),[T.SWIPE]:t.querySelector(".swipe"),[T.ONION_SKIN]:t.querySelector(".onion-skin")},this.currentView=e,this.generateImageEls(),this.bindEvents()}generateImageEls(){var e=this;this.imageEls={},Object.getOwnPropertyNames(T).forEach((function(t){e.imageEls[t]=e.imageFrameEls[t].querySelector("img")}))}bindEvents(){super.bindEvents(),this.changeToViewTwoUp=this.changeView.bind(this,T.TWO_UP),this.changeToViewSwipe=this.changeView.bind(this,T.SWIPE),this.changeToViewOnionSkin=this.changeView.bind(this,T.ONION_SKIN),this.viewModesEls[T.TWO_UP].addEventListener("click",this.changeToViewTwoUp),this.viewModesEls[T.SWIPE].addEventListener("click",this.changeToViewSwipe),this.viewModesEls[T.ONION_SKIN].addEventListener("click",this.changeToViewOnionSkin)}get imageEl(){return this.imageEls[this.currentView]}get imageFrameEl(){return this.imageFrameEls[this.currentView]}changeView(e){if(t=e,!Boolean(Object.getOwnPropertyNames(T).find((function(e){return e===t}))))return;var t;const n=C.removeCommentIndicator(this.imageFrameEl);this.currentView=e,[...this.imageFrameEl.querySelectorAll(".badge")].map((function(e){return e.remove()})),this.imageBadges=[],setTimeout(this.renderNewView.bind(this,n),250)}renderNewView(e){if(this.renderBadges(),e.removed){const t=C.resizeCoordinatesToImageElement(this.imageEl,{x:e.x,y:e.y,width:e.image.width,height:e.image.height});C.showCommentIndicator(this.imageFrameEl,t)}}}var I={initImageDiff:function(e,t,n){const i={canCreateNote:t,renderCommentBadge:n};let r;return new p(e),e.querySelector(".diff-file .js-single-image")?(r=new P(e,i)).init():e.querySelector(".diff-file .js-replaced-image")&&(r=new N(e,i)).init(),r}},L=n("3twG"),R=n("FYnm");const A='<div class="diff-content"></div>',F='<span class="spinner"></span>',q='<div class="nothing-here-block">'.concat(Object(m.T)("warning-solid","s16")," Could not load diff</div>"),M='<div class="nothing-here-block diff-collapsed">This diff is collapsed. <button class="click-to-expand btn btn-link">Click to expand it.</button></div>';class B{constructor(e){var t=this;this.file=e,this.toggleDiff=this.toggleDiff.bind(this),this.content=r()(".diff-content",this.file),this.$chevronRightIcon=r()(".diff-toggle-caret .chevron-right",this.file),this.$chevronDownIcon=r()(".diff-toggle-caret .chevron-down",this.file),this.diffForPath=this.content.find("[data-diff-for-path]").data("diffForPath"),this.isOpen=!this.diffForPath,this.diffForPath?(this.collapsedContent=this.content,this.loadingContent=r()(A).addClass("loading").html(F).hide(),this.content=null,this.collapsedContent.after(this.loadingContent),this.$chevronRightIcon.removeClass("gl-display-none")):(this.collapsedContent=r()(A).html(M).hide(),this.content.after(this.collapsedContent),this.$chevronDownIcon.removeClass("gl-display-none")),r()(".js-file-title, .click-to-expand",this.file).on("click",(function(e){t.toggleDiff(r()(e.target))}))}toggleDiff(e,t){if(e.hasClass("js-file-title")||e.hasClass("click-to-expand")||!(!e.closest(".diff-toggle-caret").length>0))if(this.isOpen=!this.isOpen,this.isOpen||this.hasError){if(!this.content)return this.$chevronDownIcon.removeClass("gl-display-none"),this.$chevronRightIcon.addClass("gl-display-none"),this.getContentHTML(t);this.collapsedContent.hide(),this.content.show(),this.$chevronDownIcon.removeClass("gl-display-none"),this.$chevronRightIcon.addClass("gl-display-none")}else this.content.hide(),this.$chevronRightIcon.removeClass("gl-display-none"),this.$chevronDownIcon.addClass("gl-display-none"),this.collapsedContent.show()}getContentHTML(e){var t=this;return this.collapsedContent.hide(),this.loadingContent.show(),a.a.get(this.diffForPath).then((function(n){let{data:i}=n;t.loadingContent.hide(),i.html?(t.content=r()(i.html),Object(R.a)(t.content)):(t.hasError=!0,t.content=r()(q)),t.collapsedContent.after(t.content);const s=r()(t.file);d.init(s);const a=s.closest(".files").is("[data-can-create-note]");I.initImageDiff(s[0],a),e&&e()})).catch((function(){Object(s.c)(Object(o.a)("An error occurred while retrieving diff"))}))}}const $=20;let V=!1;class U{constructor(){const e=r()(".files .diff-file");e.each((function(e,t){r.a.data(t,"singleFileDiff")||r.a.data(t,"singleFileDiff",new B(t))}));const t=document.getElementById("diffs");(!t||t&&t.dataset&&""!==t.dataset.isLocked)&&d.init(e);const n=r()(".files").first().get(0),i=n&&n.hasAttribute("data-can-create-note");e.each((function(e,t){return I.initImageDiff(t,i)})),V||(r()(document).on("click",".js-unfold",this.handleClickUnfold.bind(this)).on("click",".diff-line-num a",this.handleClickLineNum.bind(this)).on("mousedown","td.line_content.parallel",this.handleParallelLineDown.bind(this)),V=!0),Object(L.f)()&&this.highlightSelectedLine(),this.openAnchoredDiff()}handleClickUnfold(e){const t=r()(e.target),[n,i]=this.lineNumbers(t.parent()),l=i-n,c=t.hasClass("js-unfold-bottom");let u,d,f=!0;if(c){const e=i+1;u=e,d=e+$}else{const e=i-1;u=e-$,d=e;const n=this.lineNumbers(t.parent().prev())[1];u<=n+1&&(u=n+1,f=!1)}const h=t.parents(".diff-file"),p=h.data("blobDiffPath"),m={since:u,to:d,bottom:c,offset:l,unfold:f,view:h.data("view")};a.a.get(p,{params:m}).then((function(e){let{data:n}=e;return t.parent().replaceWith(n)})).catch((function(){return Object(s.c)(Object(o.a)("An error occurred while loading diff"))}))}openAnchoredDiff(e){var t=this;const n=Object(L.f)(),i=n&&n.split("_")[0];if(!i)return;const s=r()("#".concat(i)).closest(".diff-file");if(r()(".nothing-here-block:visible",s).length){const n=r()(".js-file-title, .click-to-expand",s);s.data("singleFileDiff").toggleDiff(n,(function(){t.highlightSelectedLine(),e&&e()}))}else e&&e()}handleClickLineNum(e){const t=r()(e.currentTarget).attr("href");e.preventDefault(),window.history.pushState?window.history.pushState(null,null,t):window.location.hash=t,this.highlightSelectedLine()}handleParallelLineDown(e){const t=r()(e.currentTarget),n=t.closest("table");n.removeClass("left-side-selected right-side-selected");const i=["left-side","right-side"].filter((function(e){return t.hasClass(e)}))[0];i&&n.addClass("".concat(i,"-selected"))}diffViewType(){return r()(".inline-parallel-buttons a.active").data("viewType")}lineNumbers(e){const t=e.find(".diff-line-num").toArray();return 2!==t.length?[0,0]:t.map((function(e){return parseInt(r()(e).data("linenumber"),10)||0}))}highlightSelectedLine(){const e=Object(L.f)(),t=r()(".diff-file");t.find(".hll").removeClass("hll"),e&&t.find("tr#".concat(e,":not(.match) td, td#").concat(e,', td[data-line-code="').concat(e,'"]')).addClass("hll")}}},DZpg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateMergeRequestLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:179}};n.loc.source={body:"mutation updateMergeRequestLocked($input: MergeRequestSetLockedInput!) {\n  mergeRequestSetLocked(input: $input) {\n    mergeRequest {\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateMergeRequestLocked=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateMergeRequestLocked")},DbBu:function(e,t,n){var i=n("5N3H"),r=n("rRem"),s=n("J0jI"),a=RegExp("[']","g");e.exports=function(e){return function(t){return i(s(r(t).replace(a,"")),e,"")}}},DfSJ:function(e,t,n){"use strict";n("orcL");var i=n("Z9h7"),r=n("Zpbh"),s=n("5/PK");const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return{status:n.status||e,isNew:t,issue:n}}};var o={components:{SmartVirtualList:s.a,ReportItem:i.a},typicalReportItemHeight:32,maxShownReportItems:20,props:{newIssues:{type:Array,required:!1,default:function(){return[]}},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},component:{type:String,required:!1,default:""},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0},issuesUlElementClass:{type:String,required:!1,default:""},issueItemClass:{type:String,required:!1,default:null},nestedLevel:{type:Number,required:!1,default:0,validator:function(e){return[0,1,2].includes(e)}}},computed:{issuesWithState(){return[...this.newIssues.map(a(r.i,!0)),...this.unresolvedIssues.map(a(r.i)),...this.neutralIssues.map(a(r.j)),...this.resolvedIssues.map(a(r.k))]},wclass(){return"report-block-list ".concat(this.issuesUlElementClass)},listClasses(){return{"gl-pl-9":1===this.nestedLevel,"gl-pl-11-5":2===this.nestedLevel}}}},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("smart-virtual-list",{staticClass:"report-block-container",class:e.listClasses,attrs:{length:e.issuesWithState.length,remain:e.$options.maxShownReportItems,size:e.$options.typicalReportItemHeight,wtag:"ul",wclass:e.wclass}},e._l(e.issuesWithState,(function(t,i){return n("report-item",{key:i,class:e.issueItemClass,attrs:{issue:t.issue,status:t.status,component:e.component,"is-new":t.isNew,"show-report-section-status-icon":e.showReportSectionStatusIcon}})})),1)}),[],!1,null,null,null);t.a=c.exports},DvJu:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"mergeRequestSetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestSetLabelsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetLabels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:269}};n.loc.source={body:"mutation mergeRequestSetLabels($input: MergeRequestSetLabelsInput!) {\n  mergeRequestSetLabels(input: $input) {\n    errors\n    mergeRequest {\n      labels {\n        nodes {\n          color\n          description\n          id\n          title\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.mergeRequestSetLabels=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"mergeRequestSetLabels")},Ex4Z:function(e,t,n){"use strict";var i=n("P/Kr"),r=n.n(i),s=n("s1D3"),a=n("yi8e"),o=n("669a");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n){return e/t*100/(n/t*100)*100}var f={name:"ImageDiffOverlay",components:{GlIcon:s.a},mixins:[o.a],props:{discussions:{type:[Array,Object],required:!0},fileHash:{type:String,required:!0},canComment:{type:Boolean,required:!1,default:!1},showCommentIcon:{type:Boolean,required:!1,default:!1},badgeClass:{type:String,required:!1,default:"badge badge-pill"},shouldToggleDiscussion:{type:Boolean,required:!1,default:!0},renderedWidth:{type:Number,required:!0},renderedHeight:{type:Number,required:!0}},computed:c(c({},Object(a.d)("diffs",["getDiffFileByHash","getCommentFormForDiffFile"])),{},{currentCommentForm(){return this.getCommentFormForDiffFile(this.fileHash)},allDiscussions(){return r()(this.discussions)?this.discussions:[this.discussions]}}),methods:c(c({},Object(a.c)("diffs",["openDiffFileCommentForm"])),{},{getImageDimensions(){return{width:this.$parent.width,height:this.$parent.height}},getPositionForObject(e){const{x:t,y:n,width:i,height:r}=e;return{x:t/i*100,y:n/r*100}},getPosition(e){const{x:t,y:n}=this.getPositionForObject(e.position);return{left:"".concat(t,"%"),top:"".concat(n,"%")}},clickedImage(e,t){const{width:n,height:i}=this.getImageDimensions(),r=d(e,n,this.renderedWidth),s=d(t,i,this.renderedHeight);this.openDiffFileCommentForm({fileHash:this.fileHash,width:n,height:i,x:n*(r/100),y:i*(s/100),xPercent:r,yPercent:s})}})},h=n("tBpV"),p=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"position-absolute w-100 h-100 image-diff-overlay"},[e.canComment?n("button",{staticClass:"btn-transparent position-absolute image-diff-overlay-add-comment w-100 h-100 js-add-image-diff-note-button",attrs:{type:"button"},on:{click:function(t){return e.clickedImage(t.offsetX,t.offsetY)}}},[n("span",{staticClass:"sr-only"},[e._v(" "+e._s(e.__("Add image comment"))+" ")])]):e._e(),e._v(" "),e._l(e.allDiscussions,(function(t,i){return n("button",{key:t.id,staticClass:"js-image-badge",class:[e.badgeClass,{"is-draft":t.isDraft}],style:e.getPosition(t),attrs:{disabled:!e.shouldToggleDiscussion,type:"button","aria-label":e.__("Show comments")},on:{click:function(n){return e.clickedToggle(t)}}},[e.showCommentIcon?n("gl-icon",{attrs:{name:"image-comment-dark",size:24}}):[e._v("\n      "+e._s(e.toggleText(t,i))+"\n    ")]],2)})),e._v(" "),e.canComment&&e.currentCommentForm?n("button",{staticClass:"btn-transparent comment-indicator position-absolute",style:{left:e.currentCommentForm.xPercent+"%",top:e.currentCommentForm.yPercent+"%"},attrs:{"aria-label":e.__("Comment form position"),type:"button"}},[n("gl-icon",{attrs:{name:"image-comment-dark",size:24}})],1):e._e()],2)}),[],!1,null,null,null);t.a=p.exports},F6ad:function(e,t,n){"use strict";var i=n("Q78f"),r=n("Pyw5"),s=n.n(r);const a={components:{BForm:i.a},inheritAttrs:!1};const o=s()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-form",this._g(this._b({},"b-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},FHWC:function(e,t,n){var i=n("qykh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("c4fbe54a",i,!0,{})},"Fsq/":function(e,t,n){"use strict";var i=n("LLbv"),r=n("5QKO"),s=(n("bOix"),{directives:{GlTooltip:i.a},mixins:[r.a],props:{time:{type:[String,Number],required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},cssClass:{type:String,required:!1,default:""}},computed:{timeAgo(){return this.timeFormatted(this.time)}}}),a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:{placement:e.tooltipPlacement},expression:"{ placement: tooltipPlacement }",modifiers:{viewport:!0}}],class:e.cssClass,attrs:{title:e.tooltipTitle(e.time),datetime:e.time}},[e._t("default",[e._v(e._s(e.timeAgo))],{timeAgo:e.timeAgo})],2)}),[],!1,null,null,null);t.a=o.exports},FyMq:function(e,t,n){"use strict";n.d(t,"k",(function(){return r})),n.d(t,"n",(function(){return s})),n.d(t,"j",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"m",(function(){return v}));var i=n("/lV4");const r="openRevertModal",s="revert-commit-modal",a="openCherryPickModal",o="cherry-pick-commit-modal",l={startMergeRequest:Object(i.e)("ChangeTypeAction|Start a %{newMergeRequest} with these changes"),existingBranch:Object(i.e)("ChangeTypeAction|Your changes will be committed to %{branchName} because a merge request is open."),branchInFork:Object(i.e)("ChangeTypeAction|A new branch will be created in your fork and a new merge request will be started."),newMergeRequest:Object(i.a)("new merge request"),actionCancelText:Object(i.a)("Cancel")},c={branchLabel:Object(i.e)("ChangeTypeAction|Revert in branch"),actionPrimaryText:Object(i.e)("ChangeTypeAction|Revert")},u={branchLabel:Object(i.e)("ChangeTypeAction|Pick into branch"),projectLabel:Object(i.e)("ChangeTypeAction|Pick into project"),actionPrimaryText:Object(i.e)("ChangeTypeAction|Cherry-pick")},d=Object(i.e)("ChangeTypeAction|This will create a new commit in order to revert the existing changes."),f=Object(i.a)("No matching results"),h=Object(i.e)("ChangeTypeAction|Switch project"),p=Object(i.e)("ChangeTypeAction|Search projects"),m=Object(i.e)("ChangeTypeAction|Switch branch"),g=Object(i.e)("ChangeTypeAction|Search branches"),v=Object(i.a)("Something went wrong while fetching branches")},"G/dv":function(e,t,n){"use strict";var i=n("XRO8"),r=n("/lV4");t.a={computed:{discussionResolved(){return this.discussion?Boolean(this.discussion.resolved):this.note.resolved},resolveButtonTitle(){return this.updatedNoteBody?this.discussionResolved?Object(r.a)("Comment & unresolve thread"):Object(r.a)("Comment & resolve thread"):this.discussionResolved?Object(r.a)("Unresolve thread"):Object(r.a)("Resolve thread")}},methods:{resolveHandler(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.note&&this.note.isDraft)return this.$emit("toggleResolveStatus");this.isResolving=!0;const n=this.discussionResolved||t,s=this.resolveAsThread;let a=s&&this.discussion?this.discussion.resolve_path:"".concat(this.note.path,"/resolve");return this.discussionResolvePath&&(a=this.discussionResolvePath),this.toggleResolveNote({endpoint:a,isResolved:n,discussion:s}).then((function(){e.isResolving=!1})).catch((function(){e.isResolving=!1;const t=Object(r.a)("Something went wrong while resolving this discussion. Please try again.");Object(i.c)(t,"alert",e.$el)}))}}}},GDOA:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("AgLN"),o=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(e){var t=s(this),n=a(t.has);return!o(e,(function(e,i){if(!0===n.call(t,e))return i()}),{INTERRUPTED:!0}).stopped}})},GHFj:function(e,t,n){var i=n("95R8"),r=n("P/Kr");e.exports=function(e,t,n,s){return null==e?[]:(r(t)||(t=null==t?[]:[t]),r(n=s?void 0:n)||(n=null==n?[]:[n]),i(e,t,n))}},GVjJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));n("EWC9"),n("gNBD"),n("orcL");var i=n("0AwG");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=function(e){const t=new FormData(e);return function(e){return e.reduce((function(e,t){let{name:n,value:i}=t;return Object.assign(e,{[n]:i})}),{})}(Array.from(t.keys()).map((function(e){let n=t.getAll(e);return{name:e,value:1===(n=n.filter((function(e){return e}))).length?n[0]:n}})))},l=function(e){if(!e)throw new TypeError("`mountEl` argument is required");return[...e.querySelectorAll("[name]")].reduce((function(e,t){const n=t.dataset.jsName;if(!n)return e;const r=Object(i.c)(n),{id:a,placeholder:o,name:l,value:c,type:u,checked:d}=t,f=s({name:l,id:a,value:c},o&&{placeholder:o});return["radio","checkbox"].includes(u)?s(s({},e),{},{[r]:[...e[r]||[],s(s({},f),{},{checked:d})]}):s(s({},e),{},{[r]:f})}),{})}},GY8p:function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},Gbfx:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"issueSetLabels"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateIssueInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateIssue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:235}};n.loc.source={body:"mutation issueSetLabels($input: UpdateIssueInput!) {\n  updateIssue(input: $input) {\n    issue {\n      labels {\n        nodes {\n          id\n          title\n          color\n          description\n        }\n      }\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueSetLabels=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueSetLabels")},GdyO:function(e,t,n){"use strict";n("orcL");var i=n("TXp8"),r=n("0RVY"),s={name:"Assignees",components:{CollapsedAssigneeList:i.a,UncollapsedAssigneeList:r.a},props:{users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers(){return!this.users.length},sortedAssigness(){return[...this.users.filter((function(e){return e.can_merge})),...this.users.filter((function(e){return!e.can_merge}))]}},methods:{assignSelf(){this.$emit("assign-self")}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("collapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}}),e._v(" "),n("div",{staticClass:"value hide-collapsed",attrs:{"data-testid":"expanded-assignee"}},[e.hasNoUsers?[n("span",{staticClass:"assign-yourself no-value"},[e._v("\n        "+e._s(e.__("None"))+"\n        "),e.editable?[e._v("\n          -\n          "),n("button",{staticClass:"btn-link",attrs:{type:"button"},on:{click:e.assignSelf}},[e._v("\n            "+e._s(e.__("assign yourself"))+"\n          ")])]:e._e()],2)]:n("uncollapsed-assignee-list",{attrs:{users:e.sortedAssigness,"issuable-type":e.issuableType}})],2)],1)}),[],!1,null,null,null);t.a=o.exports},Gk2Q:function(e,t,n){"use strict";t.a={itemsLimit:1e3}},Gn8k:function(e,t,n){"use strict";var i=n("q/Yt"),r=n("uyVa");t.a=function(){const e=new r.a(Object(i.a)());e.fetch(),Object(i.b)(e)}},Gtn5:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));n("EWC9"),n("QifN");var i=n("0AwG"),r=n("WelT"),s=n("pIt4"),a=n("LlB7");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){const n=t.filter((function(t){return t.file_hash===e.file_hash})),i=n.some((function(e){return[e.a_mode,e.b_mode].includes(s.t)}));return n.length>1&&i&&{replaced:e.b_mode===s.r,wasSymbolic:e.a_mode===s.t,isSymbolic:e.b_mode===s.t,wasReal:![s.t,s.r].includes(e.a_mode),isReal:![s.t,s.r].includes(e.b_mode)}}function d(e){const t=e.viewer||{};return{automaticallyCollapsed:t.automaticallyCollapsed||t.collapsed||!1,manuallyCollapsed:null}}function f(e){var t;let{file:n,allFiles:i,meta:s=!1}=e;const o={brokenSymlink:u(n,i),viewer:l(l({},n.viewer),d(n))};return!s&&(null===(t=n.blob)||void 0===t?void 0:t.id)&&n.load_collapsed_diff_url&&(o.id=function(e){var t;const{userOrGroup:n,project:i,id:s}=Object(a.a)({endpoint:e.load_collapsed_diff_url});return Object(r.a)({seeds:[n,i,s,e.file_identifier_hash,null===(t=e.blob)||void 0===t?void 0:t.id]})[0]}(n)),Object.assign(n,o)}function h(e){var t;return"boolean"==typeof(null===(t=e.viewer)||void 0===t?void 0:t.manuallyCollapsed)?s.s:s.p}function p(e){var t,n;const i=h(e);return{[s.p]:(null===(t=e.viewer)||void 0===t?void 0:t.automaticallyCollapsed)||!1,[s.s]:null===(n=e.viewer)||void 0===n?void 0:n.manuallyCollapsed}[i]}function m(e){return e.content_sha?Object(i.u)(String(e.content_sha)):null}},H0tE:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-finder-overlay[data-v-2354f4fb] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 200;\n}\n.file-finder[data-v-2354f4fb] {\n  top: 10px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n.diff-file-changes[data-v-2354f4fb] {\n  top: 50px;\n  max-height: 327px;\n}\n",""])},H3X6:function(e,t,n){"use strict";n.d(t,"a",(function(){return ae})),n.d(t,"b",(function(){return oe})),n.d(t,"g",(function(){return le})),n.d(t,"c",(function(){return ce})),n.d(t,"h",(function(){return ue})),n.d(t,"e",(function(){return de})),n.d(t,"d",(function(){return fe})),n.d(t,"j",(function(){return he})),n.d(t,"f",(function(){return pe})),n.d(t,"i",(function(){return me})),n.d(t,"k",(function(){return ge}));var i=n("xk0s"),r=n("HTua"),s=n.n(r),a=n("BaNG"),o=n.n(a),l=n("LQaz"),c=n.n(l),u=n("pEZO"),d=n.n(u),f=n("bS9M"),h=n.n(f),p=n("RcPc"),m=n.n(p),g=n("ISm6"),v=n.n(g),b=n("zKHu"),y=n.n(b),_=n("9iFO"),w=n.n(_),O=n("7VPc"),k=n.n(O),S=n("ZqG5"),j=n.n(S),C=n("ZGli"),x=n.n(C),E=n("2kmU"),D=n.n(E),P=n("Udsl"),T=n.n(P),N=n("HwQc"),I=n.n(N),L=n("7+7h"),R=n.n(L),A=n("a5E7"),F=n.n(A),q=n("79Bm"),M=n.n(q),B=n("VnNw"),$=n.n(B),V=n("ScWj"),U=n.n(V),G=n("Okhk"),H=n.n(G),z=n("X/rp"),W=n.n(z),Q=n("cioq"),K=n.n(Q),Y=n("zZPN"),X=n.n(Y),J=n("qVdt"),Z=n.n(J),ee=n("gc4y"),te=n.n(ee),ne=n("+ooC"),ie=n.n(ne),re=n("aLi5"),se=n.n(re);const ae=250,oe={[i.c.Issue]:{query:H.a,subscription:m.a,mutation:ie.a},[i.c.MergeRequest]:{query:X.a,mutation:se.a}},le={[i.c.Issue]:{query:W.a},[i.c.MergeRequest]:{query:Z.a},[i.c.Epic]:{query:c.a}},ce={[i.c.Issue]:{query:v.a,mutation:F.a},[i.c.Epic]:{query:s.a,mutation:D.a}},ue={[i.c.Issue]:{query:w.a},[i.c.MergeRequest]:{query:j.a}},de={start:"startDate",due:"dueDate"},fe={[de.start]:{isDateFixed:"startDateIsFixed",dateFixed:"startDateFixed",dateFromMilestones:"startDateFromMilestones"},[de.due]:{isDateFixed:"dueDateIsFixed",dateFixed:"dueDateFixed",dateFromMilestones:"dueDateFromMilestones"}},he={[i.c.Issue]:{query:k.a,mutation:$.a},[i.c.Epic]:{query:h.a,mutation:R.a},[i.c.MergeRequest]:{query:x.a,mutation:U.a}},pe={[i.c.Issue]:{query:y.a,mutation:M.a},[i.c.Epic]:{query:o.a,mutation:T.a}},me={[i.c.Epic]:{query:d.a,mutation:I.a}},ge={[i.c.Issue]:{query:K.a},[i.c.MergeRequest]:{query:te.a}}},H6vW:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMergeRequestState"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:174}};n.loc.source={body:"query getMergeRequestState($projectPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $projectPath) {\n    issuable: mergeRequest(iid: $iid) {\n      state\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.getMergeRequestState=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"getMergeRequestState")},HCER:function(e,t,n){var i=n("4ips"),r=1/0;e.exports=function(e){return(null==e?0:e.length)?i(e,r):[]}},HDDM:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"userPermissionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pushToSourceBranch"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:217}};n.loc.source={body:"query userPermissionsQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      userPermissions {\n        canMerge\n        pushToSourceBranch\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.userPermissionsQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"userPermissionsQuery")},HOYf:function(e,t,n){"use strict";var i=n("4lAS"),r=n("A7K0"),s=n("R0j4"),a={name:"HelpPopover",components:{GlButton:i.a,GlPopover:r.a},directives:{SafeHtml:s.a},props:{options:{type:Object,required:!1,default:function(){return{}}}}},o=n("tBpV"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("gl-button",{ref:"popoverTrigger",attrs:{variant:"link",icon:"question","aria-label":e.__("Help")}}),e._v(" "),n("gl-popover",e._b({attrs:{target:function(){return e.$refs.popoverTrigger.$el}},scopedSlots:e._u([e.options.title?{key:"title",fn:function(){return[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.options.title,expression:"options.title"}]})]},proxy:!0}:null,{key:"default",fn:function(){return[n("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.options.content,expression:"options.content"}]})]},proxy:!0}],null,!0)},"gl-popover",e.options,!1))],1)}),[],!1,null,null,null);t.a=l.exports},HTua:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"epicConfidential"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:197}};n.loc.source={body:"query epicConfidential($fullPath: ID!, $iid: ID) {\n  workspace: group(fullPath: $fullPath) {\n    __typename\n    issuable: epic(iid: $iid) {\n      __typename\n      id\n      confidential\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.epicConfidential=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"epicConfidential")},HXoF:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"workInProgressQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateMergeRequest"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:199}};n.loc.source={body:"query workInProgressQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      userPermissions {\n        updateMergeRequest\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.workInProgressQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"workInProgressQuery")},HXu9:function(e,t,n){"use strict";var i=n("bOix");t.a={data:()=>({remainingTime:Object(i.j)(0),remainingTimeIntervalId:null}),mounted(){this.startRemainingTimeInterval()},beforeDestroy(){this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId)},computed:{isDelayedJob(){var e,t;return(null===(e=this.job)||void 0===e?void 0:e.scheduled)||(null===(t=this.job)||void 0===t?void 0:t.scheduledAt)},scheduledTime(){return this.job.scheduled_at||this.job.scheduledAt}},watch:{isDelayedJob(){this.startRemainingTimeInterval()}},methods:{startRemainingTimeInterval(){var e=this;this.remainingTimeIntervalId&&clearInterval(this.remainingTimeIntervalId),this.isDelayedJob&&(this.updateRemainingTime(),this.remainingTimeIntervalId=setInterval((function(){return e.updateRemainingTime()}),1e3))},updateRemainingTime(){const e=Object(i.c)(this.scheduledTime);this.remainingTime=Object(i.j)(e)}}}},HnlB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return Boolean(e&&t&&new Date(e).getTime()===new Date(t).getTime())}},HwQc:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateEpicStartDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetDate"},name:{kind:"Name",value:"updateEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateIsFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateFromMilestones"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:231}};n.loc.source={body:"mutation updateEpicStartDate($input: UpdateEpicInput!) {\n  issuableSetDate: updateEpic(input: $input) {\n    issuable: epic {\n      id\n      startDateIsFixed\n      startDateFixed\n      startDateFromMilestones\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateEpicStartDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateEpicStartDate")},I52Q:function(e,t,n){var i=n("8QS/");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("0a60a035",i,!0,{})},IAil:function(e,t,n){var i=n("ERvI")({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"});e.exports=i},IKCR:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("ayhe"),o=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{join:function(e){var t=s(this),n=a(t),i=void 0===e?",":String(e),r=[];return o(n,r.push,{that:r,IS_ITERATOR:!0}),r.join(i)}})},ISm6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueConfidential"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query issueConfidential($fullPath: ID!, $iid: String) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      confidential\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueConfidential=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueConfidential")},IYHS:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("FUyg"),o=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{find:function(e){var t=s(this),n=o(t),i=a(e,arguments.length>1?arguments[1]:void 0,3);return l(n,(function(e,n){if(i(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},IeAI:function(e,t,n){"use strict";n("S26F");var i=n("jqx9"),r=n.n(i),s=n("s1D3"),a=n("EmJ/"),o=n.n(a),l=(n("EJYk"),n("XRO8")),c=n("FVJN"),u=n("2ibD"),d=n("0AwG"),f=n("/lV4"),h=n("P0Xo"),p=n.n(h),m=(n("z4I3"),n("QifN"),n("pBsb"),n("Ch9p"),n("gAdM")),g=n.n(m),v=n("G3fq"),b=n.n(v),y=n("tDP3"),_=n("NmEs");const w=/\W|^\d+$/,O={Emojis:"emojis",Issues:"issues",Labels:"labels",Members:"members",MergeRequests:"mergeRequests",Milestones:"milestones",QuickActions:"commands",Snippets:"snippets"};function k(e,t,n){const i=t.slice(0,n).split("\n").length;return t.split("\n")[i-1].startsWith(e)}const S={[O.Emojis]:{config:{trigger:":",lookup:function(e){return e},menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return"".concat(t," ").concat(y.glEmojiTag(t))},selectTemplate:function(e){let{original:t}=e;return":".concat(t,":")}}},[O.Issues]:{config:{trigger:"#",lookup:function(e){return"".concat(e.iid).concat(e.title)},menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return"<small>".concat(t.reference||t.iid,"</small> ").concat(b()(t.title))},selectTemplate:function(e){let{original:t}=e;return t.reference||"#".concat(t.iid)}}},[O.Labels]:{config:{trigger:"~",lookup:"title",menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return'\n        <span class="dropdown-label-box" style="background: '.concat(b()(t.color),';"></span>\n        ').concat(b()(t.title))},selectTemplate:function(e){let{original:t}=e;return w.test(t.title)?'~"'.concat(b()(t.title),'"'):"~".concat(b()(t.title))}},filterValues(e){let{collection:t,fullText:n,selectionStart:i}=e;return k("/label",n,i)?t.filter((function(e){return!e.set})):k("/unlabel",n,i)?t.filter((function(e){return e.set})):t}},[O.Members]:{config:{trigger:"@",fillAttr:"username",lookup:function(e){return"Group"===e.type?g()(e.name.split(" / ")):"".concat(e.name).concat(e.username)},menuItemLimit:10,menuItemTemplate:function(e){let{original:t}=e;const n="gl-avatar gl-avatar-s32 gl-flex-shrink-0",i="".concat(n," gl-rounded-small\n        gl-display-flex gl-align-items-center gl-justify-content-center"),r=t.avatar_url?'<img class="'.concat(n,' gl-avatar-circle" src="').concat(t.avatar_url,'" alt="" />'):'<div class="'.concat(i,'" aria-hidden="true">\n            ').concat(t.username.charAt(0).toUpperCase(),"</div>");let s=t.name,a="@".concat(t.username);if("Group"===t.type){const e=t.name.split(" / ");s=e.pop(),a=e.pop()}const o=t.count&&!t.mentionsDisabled?" (".concat(t.count,")"):"",l=t.mentionsDisabled?Object(_.T)("notifications-off","s16 gl-ml-3"):"";return'\n        <div class="gl-display-flex gl-align-items-center">\n          '.concat(r,'\n          <div class="gl-line-height-normal gl-ml-4">\n            <div>').concat(b()(s)).concat(o,'</div>\n            <div class="gl-text-gray-700">').concat(b()(a),"</div>\n          </div>\n          ").concat(l,"\n        </div>\n      ")}},filterValues(e){let{assignees:t,collection:n,fullText:i,selectionStart:r}=e;return k("/assign",i,r)?n.filter((function(e){return!t.includes(e.username)})):k("/unassign",i,r)?n.filter((function(e){return t.includes(e.username)})):n}},[O.MergeRequests]:{config:{trigger:"!",lookup:function(e){return"".concat(e.iid).concat(e.title)},menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return"<small>".concat(t.reference||t.iid,"</small> ").concat(b()(t.title))},selectTemplate:function(e){let{original:t}=e;return t.reference||"!".concat(t.iid)}}},[O.Milestones]:{config:{trigger:"%",lookup:"title",menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return b()(t.title)},selectTemplate:function(e){let{original:t}=e;return'%"'.concat(b()(t.title),'"')}}},[O.QuickActions]:{config:{trigger:"/",fillAttr:"name",lookup:function(e){return"".concat(e.name).concat(e.aliases.join())},menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;const n=t.aliases.length?"<small>(or /".concat(t.aliases.join(", /"),")</small>"):"",i=t.params.length?"<small>".concat(t.params.join(" "),"</small>"):"";let r="";if(t.warning){const e="confidential"===t.icon?Object(_.T)("eye-slash","s16 gl-mr-2"):"";r="<small>".concat(e,"<em>").concat(t.warning,"</em></small>")}else t.description&&(r="<small><em>".concat(t.description,"</em></small>"));return"<div>/".concat(t.name," ").concat(n," ").concat(i,"</div>\n          <div>").concat(r,"</div>")}}},[O.Snippets]:{config:{trigger:"$",fillAttr:"id",lookup:function(e){return"".concat(e.id).concat(e.title)},menuItemLimit:100,menuItemTemplate:function(e){let{original:t}=e;return"<small>".concat(t.id,"</small> ").concat(b()(t.title))}}}};var j=n("uyVa");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={errorMessage:Object(f.a)("An error occurred while getting autocomplete data. Please refresh the page and try again."),props:{autocompleteTypes:{type:Array,required:!1,default:function(){return Object.values(O)}},dataSources:{type:Object,required:!1,default:function(){var e;return(null===(e=gl.GfmAutoComplete)||void 0===e?void 0:e.dataSources)||{}}}},computed:{config(){var e=this;return this.autocompleteTypes.map((function(t){return x(x({},S[t].config),{},{loadingItemTemplate:'<span class="gl-spinner gl-vertical-align-text-bottom gl-ml-3 gl-mr-2"></span>'.concat(Object(f.a)("Loading")),requireLeadingSpace:!0,values:e.getValues(t)})}))}},mounted(){var e,t;this.cache={},this.tribute=new p.a({collection:this.config});const n=null===(e=this.$slots.default)||void 0===e?void 0:null===(t=e[0])||void 0===t?void 0:t.elm;this.tribute.attach(n)},beforeDestroy(){var e,t;const n=null===(e=this.$slots.default)||void 0===e?void 0:null===(t=e[0])||void 0===t?void 0:t.elm;this.tribute.detach(n)},methods:{cacheAssignees(){var e,t,n,i;const r=(null===(e=this.assignees)||void 0===e?void 0:e.length)===(null===(t=j.a.singleton)||void 0===t?void 0:null===(n=t.store)||void 0===n?void 0:null===(i=n.assignees)||void 0===i?void 0:i.length);var s,a,o;this.assignees&&r||(this.assignees=(null===(s=j.a.singleton)||void 0===s?void 0:null===(a=s.store)||void 0===a?void 0:null===(o=a.assignees)||void 0===o?void 0:o.map((function(e){return e.username})))||[])},filterValues(e){var t,n,i,r,s,a;return this.cacheAssignees(),S[e].filterValues?S[e].filterValues({assignees:this.assignees,collection:this.cache[e],fullText:null===(t=this.$slots.default)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:null===(i=n.elm)||void 0===i?void 0:i.value,selectionStart:null===(r=this.$slots.default)||void 0===r?void 0:null===(s=r[0])||void 0===s?void 0:null===(a=s.elm)||void 0===a?void 0:a.selectionStart}):this.cache[e]},getValues(e){var t=this;return function(n,i){t.cache[e]?i(t.filterValues(e)):e===O.Emojis?y.initEmojiMap().then((function(){const n=y.getValidEmojiNames();t.cache[e]=n,i(n)})).catch((function(){return Object(l.b)({message:t.$options.errorMessage})})):t.dataSources[e]?u.a.get(t.dataSources[e]).then((function(n){t.cache[e]=n.data,i(t.filterValues(e))})).catch((function(){return Object(l.b)({message:t.$options.errorMessage})})):i([])}}},render(e){return e("div",this.$slots.default)}},P=n("tBpV"),T=Object(P.a)(D,void 0,void 0,!1,null,null,null).exports,N=n("KAYR"),I=n("sHIo"),L=n("A7K0"),R=n("4lAS"),A=n("LLbv"),F=n("d08M"),q=n("3E4U"),M={components:{GlIcon:s.a},directives:{GlTooltip:A.a},props:{buttonTitle:{type:String,required:!0},icon:{type:String,required:!0},tag:{type:String,required:!0},tagBlock:{type:String,required:!1,default:""},tagSelect:{type:String,required:!1,default:""},prepend:{type:Boolean,required:!1,default:!1},tagContent:{type:String,required:!1,default:""},cursorOffset:{type:Number,required:!1,default:0},shortcuts:{type:[String,Array],required:!1,default:function(){return[]}}},computed:{shortcutsString(){const e=Array.isArray(this.shortcuts)?this.shortcuts:[this.shortcuts];return JSON.stringify(e)}}},B={components:{ToolbarButton:Object(P.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"toolbar-btn js-md",attrs:{"data-md-tag":e.tag,"data-md-cursor-offset":e.cursorOffset,"data-md-select":e.tagSelect,"data-md-block":e.tagBlock,"data-md-tag-content":e.tagContent,"data-md-prepend":e.prepend,"data-md-shortcuts":e.shortcutsString,title:e.buttonTitle,"aria-label":e.buttonTitle,type:"button","data-container":"body"},on:{click:function(){return e.$emit("click")}}},[n("gl-icon",{attrs:{name:e.icon}})],1)}),[],!1,null,null,null).exports,GlIcon:s.a,GlPopover:L.a,GlButton:R.a},directives:{GlTooltip:A.a},props:{previewMarkdown:{type:Boolean,required:!0},lineContent:{type:String,required:!1,default:""},canSuggest:{type:Boolean,required:!1,default:!0},showSuggestPopover:{type:Boolean,required:!1,default:!1},suggestionStartIndex:{type:Number,required:!1,default:0}},data:()=>({tag:"> "}),computed:{mdTable:()=>["| header | header |","| ------ | ------ |","| cell | cell |","| cell | cell |"].join("\n"),mdSuggestion(){return[["```","suggestion:-".concat(this.suggestionStartIndex,"+0")].join(""),"{text}","```"].join("\n")},mdCollapsibleSection:()=>["<details><summary>Click to expand</summary>","{text}","</details>"].join("\n"),isMac(){var e,t;return Boolean(null===(e=window.gl)||void 0===e?void 0:null===(t=e.client)||void 0===t?void 0:t.isMac)},modifierKey(){return this.isMac?"":Object(f.e)("KeyboardKey|Ctrl+")}},mounted(){o()(document).on("markdown-preview:show.vue",this.previewMarkdownTab),o()(document).on("markdown-preview:hide.vue",this.writeMarkdownTab)},beforeDestroy(){o()(document).off("markdown-preview:show.vue",this.previewMarkdownTab),o()(document).off("markdown-preview:hide.vue",this.writeMarkdownTab)},methods:{isValid(e){return!e||e.find(".js-vue-markdown-field").length&&o()(this.$el).closest("form")[0]===e[0]},previewMarkdownTab(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("preview-markdown")},writeMarkdownTab(e,t){e.target.blur&&e.target.blur(),this.isValid(t)&&this.$emit("write-markdown")},handleSuggestDismissed(){this.$emit("handleSuggestDismissed")},handleQuote(){const e=Object(_.r)();if(!e||!e.textContent)return void(this.tag="> ");this.tag="";const t=q.a.transformGFMSelection(e),n=this.$el.parentNode.querySelector("textarea");q.a.nodeToGFM(t).then((function(t){q.a.insertPastedText(n,e.textContent,q.a.quoted(t))})).catch((function(){}))}},shortcuts:{bold:Object(F.mb)(F.a),italic:Object(F.mb)(F.K),link:Object(F.mb)(F.L)}},$=Object(P.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-header"},[n("ul",{staticClass:"nav-links clearfix"},[n("li",{staticClass:"md-header-tab",class:{active:!e.previewMarkdown}},[n("button",{staticClass:"js-write-link",attrs:{type:"button"},on:{click:function(t){return e.writeMarkdownTab(t)}}},[e._v("\n        "+e._s(e.__("Write"))+"\n      ")])]),e._v(" "),n("li",{staticClass:"md-header-tab",class:{active:e.previewMarkdown}},[n("button",{staticClass:"js-preview-link js-md-preview-button",attrs:{type:"button"},on:{click:function(t){return e.previewMarkdownTab(t)}}},[e._v("\n        "+e._s(e.__("Preview"))+"\n      ")])]),e._v(" "),n("li",{staticClass:"md-header-toolbar",class:{active:!e.previewMarkdown}},[n("div",{staticClass:"d-inline-block"},[n("toolbar-button",{attrs:{tag:"**","button-title":e.sprintf(e.s__("MarkdownEditor|Add bold text (%{modifierKey}B)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.bold,icon:"bold"}}),e._v(" "),n("toolbar-button",{attrs:{tag:"_","button-title":e.sprintf(e.s__("MarkdownEditor|Add italic text (%{modifierKey}I)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.italic,icon:"italic"}}),e._v(" "),n("toolbar-button",{attrs:{prepend:!0,tag:e.tag,"button-title":e.__("Insert a quote"),icon:"quote"},on:{click:e.handleQuote}})],1),e._v(" "),n("div",{staticClass:"d-inline-block ml-md-2 ml-0"},[e.canSuggest?[n("toolbar-button",{ref:"suggestButton",staticClass:"js-suggestion-btn",attrs:{tag:e.mdSuggestion,prepend:!0,"button-title":e.__("Insert suggestion"),"cursor-offset":4,"tag-content":e.lineContent,icon:"doc-code","data-qa-selector":"suggestion_button"},on:{click:e.handleSuggestDismissed}}),e._v(" "),e.showSuggestPopover&&e.$refs.suggestButton?n("gl-popover",{attrs:{target:e.$refs.suggestButton,"css-classes":["diff-suggest-popover"],placement:"bottom",show:e.showSuggestPopover}},[n("strong",[e._v(e._s(e.__("New! Suggest changes directly")))]),e._v(" "),n("p",{staticClass:"mb-2"},[e._v("\n              "+e._s(e.__("Suggest code changes which can be immediately applied in one click. Try it out!"))+"\n            ")]),e._v(" "),n("gl-button",{attrs:{variant:"info",category:"primary",size:"sm"},on:{click:e.handleSuggestDismissed}},[e._v("\n              "+e._s(e.__("Got it"))+"\n            ")])],1):e._e()]:e._e(),e._v(" "),n("toolbar-button",{attrs:{tag:"`","tag-block":"```","button-title":e.__("Insert code"),icon:"code"}}),e._v(" "),n("toolbar-button",{attrs:{tag:"[{text}](url)","tag-select":"url","button-title":e.sprintf(e.s__("MarkdownEditor|Add a link (%{modifierKey}K)"),{modifierKey:e.modifierKey}),shortcuts:e.$options.shortcuts.link,icon:"link"}})],2),e._v(" "),n("div",{staticClass:"d-inline-block ml-md-2 ml-0"},[n("toolbar-button",{attrs:{prepend:!0,tag:"- ","button-title":e.__("Add a bullet list"),icon:"list-bulleted"}}),e._v(" "),n("toolbar-button",{attrs:{prepend:!0,tag:"1. ","button-title":e.__("Add a numbered list"),icon:"list-numbered"}}),e._v(" "),n("toolbar-button",{attrs:{prepend:!0,tag:"- [ ] ","button-title":e.__("Add a task list"),icon:"list-task"}}),e._v(" "),n("toolbar-button",{attrs:{tag:e.mdCollapsibleSection,prepend:!0,"tag-select":"Click to expand","button-title":e.__("Add a collapsible section"),icon:"details-block"}}),e._v(" "),n("toolbar-button",{attrs:{tag:e.mdTable,prepend:!0,"button-title":e.__("Add a table"),icon:"table"}})],1),e._v(" "),n("div",{staticClass:"d-inline-block ml-md-2 ml-0"},[n("button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"toolbar-btn toolbar-fullscreen-btn js-zen-enter",attrs:{"aria-label":e.__("Go full screen"),"data-container":"body",tabindex:"-1",title:e.__("Go full screen"),type:"button"}},[n("gl-icon",{attrs:{name:"maximize"}})],1)])])])])}),[],!1,null,null,null).exports,V=n("MV2A"),U=n("FkSe"),G=n("30su"),H=n("0adK"),z=n("LgEk"),W=n("i7S8"),Q={inviteMembersInComment:W.a,components:{GlButton:R.a,GlLink:V.a,GlLoadingIcon:U.a,GlSprintf:G.a,GlIcon:s.a,InviteMembersTrigger:z.a},props:{markdownDocsPath:{type:String,required:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0}},computed:{hasQuickActionsDocsPath(){return""!==this.quickActionsDocsPath},inviteCommentEnabled:()=>Object(H.d)(W.a,"invite_member_link")}},K={components:{GfmAutocomplete:T,MarkdownHeader:$,MarkdownToolbar:Object(P.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-toolbar clearfix"},[n("div",{staticClass:"toolbar-text"},[!e.hasQuickActionsDocsPath&&e.markdownDocsPath?[n("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Markdown is supported"))+"\n      ")])]:e._e(),e._v(" "),e.hasQuickActionsDocsPath&&e.markdownDocsPath?[n("gl-sprintf",{attrs:{message:e.__("%{markdownDocsLinkStart}Markdown%{markdownDocsLinkEnd} and %{quickActionsDocsLinkStart}quick actions%{quickActionsDocsLinkEnd} are supported")},scopedSlots:e._u([{key:"markdownDocsLink",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.markdownDocsPath,target:"_blank"}},[e._v(e._s(i))])]}},{key:"quickActionsDocsLink",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.quickActionsDocsPath,target:"_blank"}},[e._v(e._s(i))])]}}],null,!1,1533784681)})]:e._e()],2),e._v(" "),e.canAttachFile?n("span",{staticClass:"uploading-container"},[e.inviteCommentEnabled?n("invite-members-trigger",{attrs:{classes:"gl-mr-3 gl-vertical-align-text-bottom","display-text":e.s__("InviteMember|Invite Member"),icon:"assignee",variant:"link","track-experiment":e.$options.inviteMembersInComment,"trigger-source":e.$options.inviteMembersInComment,"data-track-event":"comment_invite_click"}}):e._e(),e._v(" "),n("span",{staticClass:"uploading-progress-container hide"},[n("gl-icon",{attrs:{name:"media"}}),e._v(" "),n("span",{staticClass:"attaching-file-message"}),e._v(" "),n("span",{staticClass:"uploading-progress"},[e._v("0%")]),e._v(" "),n("gl-loading-icon",{attrs:{inline:""}})],1),e._v(" "),n("span",{staticClass:"uploading-error-container hide"},[n("span",{staticClass:"uploading-error-icon"},[n("gl-icon",{attrs:{name:"media"}})],1),e._v(" "),n("span",{staticClass:"uploading-error-message"}),e._v(" "),n("gl-sprintf",{attrs:{message:e.__("%{retryButtonStart}Try again%{retryButtonEnd} or %{newFileButtonStart}attach a new file%{newFileButtonEnd}.")},scopedSlots:e._u([{key:"retryButton",fn:function(t){var i=t.content;return[n("gl-button",{staticClass:"retry-uploading-link gl-vertical-align-baseline",attrs:{variant:"link",category:"primary"}},[e._v("\n            "+e._s(i)+"\n          ")])]}},{key:"newFileButton",fn:function(t){var i=t.content;return[n("gl-button",{staticClass:"markdown-selector attach-new-file gl-vertical-align-baseline",attrs:{variant:"link",category:"primary"}},[e._v("\n            "+e._s(i)+"\n          ")])]}}],null,!1,3180960446)})],1),e._v(" "),n("gl-button",{staticClass:"markdown-selector button-attach-file gl-vertical-align-text-bottom",attrs:{icon:"media",variant:"link",category:"primary"}},[e._v("\n      "+e._s(e.__("Attach a file"))+"\n    ")]),e._v(" "),n("gl-button",{staticClass:"button-cancel-uploading-files gl-vertical-align-baseline hide",attrs:{variant:"link",category:"primary"}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,GlIcon:s.a,Suggestions:N.a},mixins:[Object(I.a)()],props:{textareaValue:{type:String,required:!0},markdownDocsPath:{type:String,required:!0},isSubmitting:{type:Boolean,required:!1,default:!1},markdownPreviewPath:{type:String,required:!1,default:""},addSpacingClasses:{type:Boolean,required:!1,default:!0},quickActionsDocsPath:{type:String,required:!1,default:""},canAttachFile:{type:Boolean,required:!1,default:!0},uploadsPath:{type:String,required:!1,default:""},enableAutocomplete:{type:Boolean,required:!1,default:!0},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:function(){return{}}},canSuggest:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1}},data(){return{markdownPreview:"",referencedCommands:"",referencedUsers:"",hasSuggestion:!1,markdownPreviewLoading:!1,previewMarkdown:!1,suggestions:this.note.suggestions||[]}},computed:{shouldShowReferencedUsers(){return this.referencedUsers.length>=10},lineContent(){if(this.lines.length)return this.lines.map((function(e){const{rich_text:t,text:n}=e;return n||r()(Object(d.q)(t).replace(/\n/g,""))})).join("\\n");if(this.line){const{rich_text:e,text:t}=this.line;return t||r()(Object(d.q)(e).replace(/\n/g,""))}return""},lineNumber(){let e;if(this.line){const{new_line:t,old_line:n}=this.line;e=t||n}return e},lineType(){return this.line?this.line.type:""},addMultipleToDiscussionWarning(){return Object(f.f)(Object(f.a)("You are about to add %{usersTag} people to the discussion. They will all receive a notification."),{usersTag:'<strong><span class="js-referenced-users-count">'.concat(this.referencedUsers.length,"</span></strong>")},!1)},suggestionsStartIndex(){return Math.max(this.lines.length-1,0)}},watch:{isSubmitting(e){if(!e||!this.$refs["markdown-preview"].querySelectorAll)return;const t=this.$refs["markdown-preview"].querySelectorAll("video, audio");t&&t.forEach((function(e){e.pause()}))}},mounted(){return new c.a(o()(this.$refs["gl-form"]),{emojis:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,members:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,issues:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,mergeRequests:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,epics:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,milestones:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,labels:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,snippets:this.enableAutocomplete&&!this.glFeatures.tributeAutocomplete,vulnerabilities:this.enableAutocomplete},!0)},beforeDestroy(){const e=o()(this.$refs["gl-form"]).data("glForm");e&&e.destroy()},methods:{showPreviewTab(){var e=this;this.previewMarkdown||(this.previewMarkdown=!0,this.textareaValue?(this.markdownPreviewLoading=!0,this.markdownPreview=Object(f.a)("Loading"),u.a.post(this.markdownPreviewPath,{text:this.textareaValue}).then((function(t){return e.renderMarkdown(t.data)})).catch((function(){return new l.c(Object(f.a)("Error loading markdown preview"))}))):this.renderMarkdown())},showWriteTab(){this.markdownPreview="",this.previewMarkdown=!1},renderMarkdown(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.markdownPreviewLoading=!1,this.markdownPreview=t.body||Object(f.a)("Nothing to preview."),t.references&&(this.referencedCommands=t.references.commands,this.referencedUsers=t.references.users,this.hasSuggestion=t.references.suggestions&&t.references.suggestions.length,this.suggestions=t.references.suggestions),this.$nextTick().then((function(){return o()(e.$refs["markdown-preview"]).renderGFM()})).catch((function(){return new l.c(Object(f.a)("Error rendering markdown preview"))}))}}},Y=Object(P.a)(K,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"gl-form",staticClass:"js-vue-markdown-field md-area position-relative gfm-form",class:{"gl-mt-3 gl-mb-3":e.addSpacingClasses},attrs:{"data-uploads-path":e.uploadsPath}},[n("markdown-header",{attrs:{"preview-markdown":e.previewMarkdown,"line-content":e.lineContent,"can-suggest":e.canSuggest,"show-suggest-popover":e.showSuggestPopover,"suggestion-start-index":e.suggestionsStartIndex},on:{"preview-markdown":e.showPreviewTab,"write-markdown":e.showWriteTab,handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.previewMarkdown,expression:"!previewMarkdown"}],staticClass:"md-write-holder"},[n("div",{staticClass:"zen-backdrop"},[e.glFeatures.tributeAutocomplete?n("gfm-autocomplete",[e._t("textarea")],2):e._t("textarea"),e._v(" "),n("a",{staticClass:"zen-control zen-control-leave js-zen-leave gl-text-gray-500",attrs:{href:"#","aria-label":e.__("Leave zen mode")}},[n("gl-icon",{attrs:{size:16,name:"minimize"}})],1),e._v(" "),n("markdown-toolbar",{attrs:{"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"can-attach-file":e.canAttachFile}})],2)]),e._v(" "),e.hasSuggestion?[n("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"js-vue-md-preview md-preview-holder"},[e.hasSuggestion?n("suggestions",{attrs:{"note-html":e.markdownPreview,"from-line":e.lineNumber,"from-content":e.lineContent,"line-type":e.lineType,disabled:!0,suggestions:e.suggestions,"help-page-path":e.helpPagePath}}):e._e()],1)]:[n("div",{directives:[{name:"show",rawName:"v-show",value:e.previewMarkdown,expression:"previewMarkdown"}],ref:"markdown-preview",staticClass:"js-vue-md-preview md md-preview-holder",domProps:{innerHTML:e._s(e.markdownPreview)}})],e._v(" "),e.previewMarkdown&&!e.markdownPreviewLoading?[e.referencedCommands?n("div",{staticClass:"referenced-commands",domProps:{innerHTML:e._s(e.referencedCommands)}}):e._e(),e._v(" "),e.shouldShowReferencedUsers?n("div",{staticClass:"referenced-users"},[n("gl-icon",{attrs:{name:"warning-solid"}}),e._v(" "),n("span",{domProps:{innerHTML:e._s(e.addMultipleToDiscussionWarning)}})],1):e._e()]:e._e()],2)}),[],!1,null,null,null);t.a=Y.exports},IfLy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l}));const i=8,r=13,s=27,a=38,o=40,l=46},IsdW:function(e,t,n){"use strict";var i=n("yi8e");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={computed:s(s({},Object(i.d)(["getNoteableDataByProp"])),{},{isProjectArchived(){return this.getNoteableDataByProp("is_project_archived")},archivedProjectDocsPath(){return this.getNoteableDataByProp("archived_project_docs_path")},lockedIssueDocsPath(){return this.getNoteableDataByProp("locked_discussion_docs_path")}}),methods:{isLocked:e=>Boolean(e.discussion_locked)}}},IwOe:function(e,t,n){"use strict";(function(e){var i=n("Gk2Q"),r=n("sGwS"),s=n("gwU4");n.d(t,"a",(function(){return s.a}));var a=n("spV8");n.d(t,"b",(function(){return a.a}));n("zFql");const o={install(e,t){const n=Object.assign({},{installComponents:!0,componentsPrefix:""},t);for(const e in n)void 0!==n[e]&&(i.a[e]=n[e]);n.installComponents&&function(e,t){e.component(`${t}recycle-scroller`,r.a),e.component(`${t}RecycleScroller`,r.a),e.component(`${t}dynamic-scroller`,s.a),e.component(`${t}DynamicScroller`,s.a),e.component(`${t}dynamic-scroller-item`,a.a),e.component(`${t}DynamicScrollerItem`,a.a)}(e,n.componentsPrefix)}};let l=null;"undefined"!=typeof window?l=window.Vue:void 0!==e&&(l=e.Vue),l&&l.use(o)}).call(this,n("uKge"))},IwtM:function(e,t,n){"use strict";var i=n("yi8e"),r=n("+FvQ"),s=n("pIt4"),a=n("XRO8"),o=n("4UiK"),l=n("/lV4"),c=n("z3Iu");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={computed:d(d(d(d({},Object(i.f)({noteableData:function(e){return e.notes.noteableData},notesData:function(e){return e.notes.notesData},withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}})),Object(i.d)("diffs",["getDiffFileByHash"])),Object(i.d)("batchComments",["shouldRenderDraftRowInDiscussion","draftForDiscussion"])),Object(i.f)("diffs",["commit"])),methods:d(d(d({},Object(i.c)("diffs",["cancelCommentForm"])),Object(i.c)("batchComments",["addDraftToReview","saveDraft","insertDraftIntoDrafts"])),{},{addReplyToReview(e,t){var n=this;const i=Object(r.b)({in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,notesData:this.notesData,draft_note:{note:e,resolve_discussion:t}});this.discussion.for_commit&&(i.note_project_id=this.discussion.project_id),this.isReplying=!1,this.saveDraft(i).then((function(){n.handleClearForm(n.discussion.line_code)})).catch((function(){Object(a.c)(Object(l.e)("MergeRequests|An error occurred while saving the draft comment."))}))},addToReview(e){var t,n,i=this;const o=this.line&&this.commentLineStart&&Object(c.b)(this.commentLineStart,this.line)||{},u=this.diffFileCommentForm?s.G:s.lb,f=this.getDiffFileByHash(this.diffFileHash),h=Object(r.a)(d(d({note:e,notesData:this.notesData,noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:f,linePosition:this.position,positionType:u},this.diffFileCommentForm),{},{lineRange:o})),p=this.commit&&(null==this?void 0:null===(t=this.diffFile)||void 0===t?void 0:null===(n=t.diff_refs)||void 0===n?void 0:n.head_sha);return h.data.note.commit_id=p||null,this.saveDraft(h).then((function(){u===s.G?i.closeDiffFileCommentForm(i.diffFileHash):i.handleClearForm(i.line.line_code)})).catch((function(){Object(a.c)(Object(l.e)("MergeRequests|An error occurred while saving the draft comment."))}))},handleClearForm(e){var t=this;this.cancelCommentForm({lineCode:e,fileHash:this.diffFileHash}),this.$nextTick((function(){t.autosaveKey?Object(o.a)(t.autosaveKey):t.resetAutoSave()}))},showDraft(e){return this.withBatchComments&&this.shouldRenderDraftRowInDiscussion(e)}})}},J0jI:function(e,t,n){var i=n("JIXF"),r=n("lxj7"),s=n("rhmX"),a=n("qxsN");e.exports=function(e,t,n){return e=s(e),void 0===(t=n?void 0:t)?r(e)?a(e):i(e):e.match(t)||[]}},"J6+Z":function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("t8l0"),a=n("EQ0+"),o=n("rPnh"),l=n("BrvI"),c=n("9aS3"),u=n("Ddgg"),d=n("bvam"),f=r.a.extend({name:i.nb,mixins:[a.a],inject:{bvProgress:{default:function(){return{}}}},props:{value:{type:[Number,String],default:0},label:{type:String},labelHtml:{type:String},max:{type:[Number,String],default:null},precision:{type:[Number,String],default:null},variant:{type:String,default:function(){return Object(s.b)(i.nb,"variant")}},striped:{type:Boolean,default:null},animated:{type:Boolean,default:null},showProgress:{type:Boolean,default:null},showValue:{type:Boolean,default:null}},computed:{progressBarClasses:function(){return[this.computedVariant?"bg-".concat(this.computedVariant):"",this.computedStriped||this.computedAnimated?"progress-bar-striped":"",this.computedAnimated?"progress-bar-animated":""]},progressBarStyles:function(){return{width:this.computedValue/this.computedMax*100+"%"}},computedValue:function(){return Object(u.b)(this.value,0)},computedMax:function(){var e=Object(u.b)(this.max)||Object(u.b)(this.bvProgress.max,0);return e>0?e:100},computedPrecision:function(){return Object(c.b)(Object(u.c)(this.precision,Object(u.c)(this.bvProgress.precision,0)),0)},computedProgress:function(){var e=this.computedPrecision,t=Object(c.d)(10,e);return Object(u.a)(100*t*this.computedValue/this.computedMax/t,e)},computedVariant:function(){return this.variant||this.bvProgress.variant},computedStriped:function(){return Object(l.b)(this.striped)?this.striped:this.bvProgress.striped||!1},computedAnimated:function(){return Object(l.b)(this.animated)?this.animated:this.bvProgress.animated||!1},computedShowProgress:function(){return Object(l.b)(this.showProgress)?this.showProgress:this.bvProgress.showProgress||!1},computedShowValue:function(){return Object(l.b)(this.showValue)?this.showValue:this.bvProgress.showValue||!1}},render:function(e){var t,n=this.label,i=this.labelHtml,r=this.computedValue,s=this.computedPrecision,a={};return this.hasNormalizedSlot()?t=this.normalizeSlot():n||i?a=Object(o.a)(i,n):this.computedShowProgress?t=this.computedProgress:this.computedShowValue&&(t=Object(u.a)(r,s)),e("div",{staticClass:"progress-bar",class:this.progressBarClasses,style:this.progressBarStyles,attrs:{role:"progressbar","aria-valuemin":"0","aria-valuemax":Object(d.e)(this.computedMax),"aria-valuenow":Object(u.a)(r,s)},domProps:a},t)}}),h=r.a.extend({name:i.mb,mixins:[a.a],provide:function(){return{bvProgress:this}},props:{variant:{type:String,default:function(){return Object(s.b)(i.mb,"variant")}},striped:{type:Boolean,default:!1},animated:{type:Boolean,default:!1},height:{type:String},precision:{type:[Number,String],default:0},showProgress:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},max:{type:[Number,String],default:100},value:{type:[Number,String],default:0}},computed:{progressHeight:function(){return{height:this.height||null}}},render:function(e){var t=this.normalizeSlot();return t||(t=e(f,{props:{value:this.value,max:this.max,precision:this.precision,variant:this.variant,animated:this.animated,striped:this.striped,showProgress:this.showProgress,showValue:this.showValue}})),e("div",{class:["progress"],style:this.progressHeight},[t])}}),p=n("Pyw5");const m={components:{BProgress:h}};const g=n.n(p)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-progress",this._b({},"b-progress",this.$attrs,!1))},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},J7NB:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},JCWm:function(e,t,n){"use strict";n("Ch9p");var i=n("h7kv"),r=n.n(i),s=n("SNRI"),a=n("3twG");var o={props:{path:{type:String,required:!0},fileSize:{type:Number,required:!1,default:0},renderInfo:{type:Boolean,default:!0,required:!1},innerCssClasses:{type:[Array,Object,String],required:!1,default:""}},data:()=>({width:0,height:0,renderedWidth:0,renderedHeight:0}),computed:{fileSizeReadable(){return Object(s.c)(this.fileSize)},hasFileSize(){return this.fileSize>0},hasDimensions(){return this.width&&this.height},safePath(){return this.path.startsWith("blob:")?this.path:Object(a.b)(this.path)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1)},mounted(){this.onImgLoad(),this.resizeThrottled=r()(this.onImgLoad,400),window.addEventListener("resize",this.resizeThrottled,!1)},methods:{onImgLoad(){requestIdleCallback(this.calculateImgSize,{timeout:1e3})},calculateImgSize(){var e=this;const{contentImg:t}=this.$refs;t&&(this.width=t.naturalWidth,this.height=t.naturalHeight,this.$nextTick((function(){e.renderedWidth=t.clientWidth,e.renderedHeight=t.clientHeight,e.$emit("imgLoaded",{width:e.width,height:e.height,renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})})))}}},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"image-viewer","data-qa-selector":"image_viewer_container"}},[n("div",{staticClass:"position-relative",class:e.innerCssClasses},[n("img",{ref:"contentImg",attrs:{src:e.safePath},on:{load:e.onImgLoad}}),e._v(" "),e._t("image-overlay",null,{renderedWidth:e.renderedWidth,renderedHeight:e.renderedHeight})],2),e._v(" "),e.renderInfo?n("p",{staticClass:"image-info"},[e.hasFileSize?[e._v("\n      "+e._s(e.fileSizeReadable)+"\n    ")]:e._e(),e._v(" "),e.hasFileSize&&e.hasDimensions?[e._v(" | ")]:e._e(),e._v(" "),e.hasDimensions?[n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|W")))]),e._v(": "+e._s(e.width)+" | "),n("strong",[e._v(e._s(e.s__("ImageViewerDimensions|H")))]),e._v(": "+e._s(e.height)+"\n    ")]:e._e()],2):e._e()])}),[],!1,null,null,null);t.a=c.exports},JCwV:function(e,t,n){"use strict";(function(e){var i;function r(){r.init||(r.init=!0,i=-1!==function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}())}function s(e,t,n,i,r,s,a,o,l,c){"boolean"!=typeof a&&(l=o,o=a,a=!1);var u,d="function"==typeof n?n.options:n;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,r&&(d.functional=!0)),i&&(d._scopeId=i),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=u):t&&(u=a?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,o(e))}),u)if(d.functional){var f=d.render;d.render=function(e,t){return u.call(t),f(e,t)}}else{var h=d.beforeCreate;d.beforeCreate=h?[].concat(h,u):[u]}return n}n.d(t,"a",(function(){return l}));var a={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},mounted:function(){var e=this;r(),this.$nextTick((function(){e._w=e.$el.offsetWidth,e._h=e.$el.offsetHeight,e.emitOnMount&&e.emitSize()}));var t=document.createElement("object");this._resizeObject=t,t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),t.onload=this.addResizeHandlers,t.type="text/html",i&&this.$el.appendChild(t),t.data="about:blank",i||this.$el.appendChild(t)},beforeDestroy:function(){this.removeResizeHandlers()},methods:{compareAndNotify:function(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize:function(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers:function(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers:function(){this._resizeObject&&this._resizeObject.onload&&(!i&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},o=function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"resize-observer",attrs:{tabindex:"-1"}})};o._withStripped=!0;var l=s({render:o,staticRenderFns:[]},void 0,a,"data-v-8859cc6c",!1,void 0,!1,void 0,void 0,void 0);var c={version:"1.0.1",install:function(e){e.component("resize-observer",l),e.component("ResizeObserver",l)}},u=null;"undefined"!=typeof window?u=window.Vue:void 0!==e&&(u=e.Vue),u&&u.use(c)}).call(this,n("uKge"))},JGUf:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));n("jaBk");var i=n("s1D3"),r=n("jB52"),s=n("5v28"),a=n("/lV4");const o=r.default.observable({state:"",updateStatus:null}),l={opened:"status-box-open",locked:"status-box-open",closed:"status-box-mr-closed",merged:"status-box-mr-merged"},c={opened:[Object(a.a)("Open"),"issue-open-m"],locked:[Object(a.a)("Open"),"issue-open-m"],closed:[Object(a.a)("Closed"),"issue-close"],merged:[Object(a.a)("Merged"),"git-merge"]};var u={components:{GlIcon:i.a},inject:{query:{default:null},projectPath:{default:null},iid:{default:null}},props:{initialState:{type:String,required:!1,default:null},issuableType:{type:String,required:!1,default:""}},data(){return this.initialState&&(o.state=this.initialState),o},computed:{statusBoxClass(){return l["".concat(this.issuableType,"_").concat(this.state)]||l[this.state]},statusHumanName(){return(c["".concat(this.issuableType,"_").concat(this.state)]||c[this.state])[0]},statusIconName(){return(c["".concat(this.issuableType,"_").concat(this.state)]||c[this.state])[1]}},created(){o.updateStatus||(o.updateStatus=this.fetchState)},beforeDestroy(){o.updateStatus&&this.query&&(o.updateStatus=null)},methods:{async fetchState(){var e,t;const{data:n}=await this.$apollo.query({query:this.query,variables:{projectPath:this.projectPath,iid:this.iid},fetchPolicy:s.fetchPolicies.NO_CACHE});o.state=null==n?void 0:null===(e=n.workspace)||void 0===e?void 0:null===(t=e.issuable)||void 0===t?void 0:t.state}}},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"issuable-status-box status-box",class:this.statusBoxClass},[t("gl-icon",{staticClass:"gl-display-block gl-sm-display-none!",attrs:{name:this.statusIconName,"data-testid":"status-icon"}}),this._v(" "),t("span",{staticClass:"gl-display-none gl-sm-display-block"},[this._v("\n    "+this._s(this.statusHumanName)+"\n  ")])],1)}),[],!1,null,null,null);t.a=f.exports},JIXF:function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},JVoq:function(e,t,n){"use strict";n("eRq8")},Jm82:function(e,t,n){"use strict";(function(e){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",(function(){return c}));var a=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,i)}var t,n,i;return t=e,(n=[{key:"createObserver",value:function(e,t){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){var i;if(this.options="function"==typeof(i=e)?{callback:i}:i,this.callback=function(e,t){n.options.callback(e,t),e&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var r=(this.options.throttleOptions||{}).leading;this.callback=function(e,t){var n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];if(r=c,!n||o!==i){var d=a.leading;"function"==typeof d&&(d=d(o,i)),n&&o===i||!d||e.apply(void 0,[o].concat(s(r))),i=o,clearTimeout(n),n=setTimeout((function(){e.apply(void 0,[o].concat(s(r))),n=0}),t)}};return o._clear=function(){clearTimeout(n),n=null},o}(this.callback,this.options.throttle,{leading:function(e){return"both"===r||"visible"===r&&e||"hidden"===r&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver((function(e){var t=e[0];if(e.length>1){var i=e.find((function(e){return e.isIntersecting}));i&&(t=i)}if(n.callback){var r=t.isIntersecting&&t.intersectionRatio>=n.threshold;if(r===n.oldResult)return;n.oldResult=r,n.callback(r,t)}}),this.options.intersection),t.context.$nextTick((function(){n.observer&&n.observer.observe(n.el)}))}}},{key:"destroyObserver",value:function(){this.observer&&(this.observer.disconnect(),this.observer=null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:"threshold",get:function(){return this.options.intersection&&"number"==typeof this.options.intersection.threshold?this.options.intersection.threshold:0}}])&&r(t.prototype,n),i&&r(t,i),e}();function o(e,t,n){var i=t.value;if(i)if("undefined"==typeof IntersectionObserver)console.warn("[vue-observe-visibility] IntersectionObserver API is not available in your browser. Please install this polyfill: https://github.com/w3c/IntersectionObserver/tree/master/polyfill");else{var r=new a(e,i,n);e._vue_visibilityState=r}}function l(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var c={bind:o,update:function(e,t,n){var r=t.value;if(!function e(t,n){if(t===n)return!0;if("object"===i(t)){for(var r in t)if(!e(t[r],n[r]))return!1;return!0}return!1}(r,t.oldValue)){var s=e._vue_visibilityState;r?s?s.createObserver(r,n):o(e,{value:r},n):l(e)}},unbind:l};var u={version:"1.0.0",install:function(e){e.directive("observe-visibility",c)}},d=null;"undefined"!=typeof window?d=window.Vue:void 0!==e&&(d=e.Vue),d&&d.use(u)}).call(this,n("uKge"))},K3k0:function(e,t,n){"use strict";n.r(t);var i=n("s1D3"),r=n("FkSe"),s=n("Yyc1"),a=n("LLbv"),o=n("XRO8"),l=n("2ibD"),c=n("/lV4"),u=n("s5BM"),d=n("MV2A"),f=n("HXu9"),h=n("GuZl"),p=n("71Sp"),m=n("jltb"),g=n("fn5V"),v={hoverClass:"gl-shadow-x0-y0-b3-s1-blue-500",components:{ActionComponent:m.a,JobNameComponent:g.a,GlLink:d.a},directives:{GlTooltip:a.a},mixins:[f.a],props:{job:{type:Object,required:!0},cssClassJobName:{type:String,required:!1,default:""},dropdownLength:{type:Number,required:!1,default:1/0},jobHovered:{type:String,required:!1,default:""},pipelineExpanded:{type:Object,required:!1,default:function(){return{}}},pipelineId:{type:Number,required:!1,default:-1}},computed:{boundary(){return 1===this.dropdownLength?"viewport":"scrollParent"},detailsPath(){return this.status.details_path},hasDetails(){return this.status.has_details},status(){return this.job&&this.job.status?this.job.status:{}},tooltipText(){const e=[],{name:t}=this.job;t&&e.push(t);const{tooltip:n}=this.status;return t&&n&&e.push("-"),n&&(this.isDelayedJob?e.push(Object(c.f)(n,{remainingTime:this.remainingTime})):e.push(n)),e.join(" ")},hasAction(){return this.job.status&&this.job.status.action&&this.job.status.action.path},relatedDownstreamHovered(){return this.job.name===this.jobHovered},relatedDownstreamExpanded(){return this.job.name===this.pipelineExpanded.jobName&&this.pipelineExpanded.expanded},jobClasses(){return this.relatedDownstreamHovered||this.relatedDownstreamExpanded?"".concat(this.$options.hoverClass," ").concat(this.cssClassJobName):this.cssClassJobName}},errorCaptured(e,t,n){Object(p.d)("pipelines_job_item","pipelines_job_item error: ".concat(e,", info: ").concat(n))},methods:{hideTooltips(){this.$root.$emit(h.b)},pipelineActionRequestComplete(){this.$emit("pipelineActionRequestComplete")}}},b=n("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-job-component gl-display-flex gl-align-items-center gl-justify-content-space-between",attrs:{"data-qa-selector":"job_item_container"}},[e.hasDetails?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport",placement:"bottom",customClass:"gl-pointer-events-none"},expression:"{\n      boundary: 'viewport',\n      placement: 'bottom',\n      customClass: 'gl-pointer-events-none',\n    }"}],staticClass:"js-pipeline-graph-job-link qa-job-link menu-item gl-text-gray-900 gl-active-text-decoration-none gl-focus-text-decoration-none gl-hover-text-decoration-none",class:e.jobClasses,attrs:{href:e.detailsPath,title:e.tooltipText,"data-testid":"job-with-link"},on:{click:function(t){return t.stopPropagation(),e.hideTooltips(t)},mouseout:e.hideTooltips}},[n("job-name-component",{attrs:{name:e.job.name,status:e.job.status,"icon-size":24}})],1):n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:e.boundary,placement:"bottom",customClass:"gl-pointer-events-none"},expression:"{ boundary, placement: 'bottom', customClass: 'gl-pointer-events-none' }"}],staticClass:"js-job-component-tooltip non-details-job-component menu-item",class:e.jobClasses,attrs:{title:e.tooltipText,"data-testid":"job-without-link"},on:{mouseout:e.hideTooltips}},[n("job-name-component",{attrs:{name:e.job.name,status:e.job.status,"icon-size":24}})],1),e._v(" "),e.hasAction?n("action-component",{attrs:{"tooltip-text":e.status.action.title,link:e.status.action.path,"action-icon":e.status.action.icon,"data-qa-selector":"action_button"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}}):e._e()],1)}),[],!1,null,null,null).exports,_={components:{GlIcon:i.a,GlLoadingIcon:r.a,GlDropdown:s.a,JobItem:y},directives:{GlTooltip:a.a},props:{stage:{type:Object,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},isMergeTrain:{type:Boolean,required:!1,default:!1}},data:()=>({isLoading:!1,dropdownContent:[]}),computed:{triggerButtonClass(){return"ci-status-icon-".concat(this.stage.status.group)},borderlessIcon(){return"".concat(this.stage.status.icon,"_borderless")}},watch:{updateDropdown(){this.updateDropdown&&this.isDropdownOpen()&&!this.isLoading&&this.fetchJobs()}},methods:{onShowDropdown(){u.a.$emit("clickedDropdown"),this.isLoading=!0,this.fetchJobs()},fetchJobs(){var e=this;l.a.get(this.stage.dropdown_path).then((function(t){let{data:n}=t;e.dropdownContent=n.latest_statuses,e.isLoading=!1})).catch((function(){e.$refs.dropdown.hide(),e.isLoading=!1,Object(o.c)(Object(c.a)("Something went wrong on our end."))}))},isDropdownOpen(){return this.$el.classList.contains("show")},pipelineActionRequestComplete(){this.$refs.dropdown.hide(),this.$emit("pipelineActionRequestComplete")}}},w={components:{PipelineStage:Object(b.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.ds0",modifiers:{hover:!0,ds0:!0}}],ref:"dropdown",attrs:{"data-testid":"mini-pipeline-graph-dropdown",title:e.stage.title,variant:"link",lazy:!0,"popper-opts":{placement:"bottom"},"toggle-class":["mini-pipeline-graph-dropdown-toggle",e.triggerButtonClass],"menu-class":"mini-pipeline-graph-dropdown-menu"},on:{show:e.onShowDropdown},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("span",{staticClass:"gl-pointer-events-none"},[n("gl-icon",{attrs:{name:e.borderlessIcon}})],1)]},proxy:!0}])},[e._v(" "),e.isLoading?n("gl-loading-icon"):n("ul",{staticClass:"js-builds-dropdown-list scrollable-menu",attrs:{"data-testid":"mini-pipeline-graph-dropdown-menu-list"}},[e._l(e.dropdownContent,(function(t){return n("li",{key:t.id},[n("job-item",{attrs:{"dropdown-length":e.dropdownContent.length,job:t,"css-class-job-name":"mini-pipeline-graph-dropdown-item"},on:{pipelineActionRequestComplete:e.pipelineActionRequestComplete}})],1)})),e._v(" "),e.isMergeTrain?[n("li",{staticClass:"gl-new-dropdown-divider",attrs:{role:"presentation"}},[n("hr",{staticClass:"dropdown-divider",attrs:{role:"separator","aria-orientation":"horizontal"}})]),e._v(" "),n("li",[n("div",{staticClass:"gl-display-flex gl-align-items-center",attrs:{"data-testid":"warning-message-merge-trains"}},[n("div",{staticClass:"menu-item gl-font-sm gl-text-gray-300!"},[e._v("\n            "+e._s(e.s__("Pipeline|Merge train pipeline jobs can not be retried"))+"\n          ")])])])]:e._e()],2)],1)}),[],!1,null,null,null).exports},props:{stages:{type:Array,required:!0},updateDropdown:{type:Boolean,required:!1,default:!1},stagesClass:{type:[Array,Object,String],required:!1,default:""},isMergeTrain:{type:Boolean,required:!1,default:!1}},methods:{onPipelineActionRequestComplete(){this.$emit("pipelineActionRequestComplete")}}},O=Object(b.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"pipeline-mini-graph"}},e._l(e.stages,(function(t){return n("div",{key:t.name,staticClass:"stage-container dropdown",class:e.stagesClass},[n("pipeline-stage",{attrs:{stage:t,"update-dropdown":e.updateDropdown,"is-merge-train":e.isMergeTrain},on:{pipelineActionRequestComplete:e.onPipelineActionRequestComplete}})],1)})),0)}),[],!1,null,null,null);t.default=O.exports},KAYR:function(e,t,n){"use strict";var i=n("R0j4"),r=n("jB52"),s=n("XRO8"),a=n("/lV4");n("S26F");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return e?e.replace(/^( |\+|-)/,""):e}function d(e){return e.filter((function(e){return"match"!==e.type})).map((function(e){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(l({},e),{},{text:u(e.text),rich_text:u(e.rich_text)})}(e)}))}var f=n("s1D3"),h=n("4lAS"),p=n("FkSe"),m=n("LLbv"),g=n("Yyc1"),v=n("vDPP"),b=n("47in"),y={components:{GlDropdown:g.a,GlDropdownForm:v.a,GlFormTextarea:b.a,GlButton:h.a},props:{disabled:{type:Boolean,required:!1,default:!1},defaultCommitMessage:{type:String,required:!0}},data:()=>({message:null}),methods:{onApply(){this.$emit("apply",this.message)}}},_=n("tBpV"),w=Object(_.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{text:e.__("Apply suggestion"),disabled:e.disabled,boundary:"window",right:"","menu-class":"gl-w-full!","data-qa-selector":"apply_suggestion_dropdown"},on:{shown:function(t){return e.$refs.commitMessage.$el.focus()}}},[n("gl-dropdown-form",{staticClass:"gl-px-4! gl-m-0!"},[n("label",{attrs:{for:"commit-message"}},[e._v(e._s(e.__("Commit message")))]),e._v(" "),n("gl-form-textarea",{ref:"commitMessage",attrs:{id:"commit-message",placeholder:e.defaultCommitMessage,"submit-on-enter":"","data-qa-selector":"commit_message_field"},on:{submit:e.onApply},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._v(" "),n("gl-button",{staticClass:"gl-w-auto! gl-mt-3 gl-text-center! gl-hover-text-white! gl-transition-medium! float-right",attrs:{category:"primary",variant:"success","data-qa-selector":"commit_with_custom_message_button"},on:{click:e.onApply}},[e._v("\n      "+e._s(e.__("Apply"))+"\n    ")])],1)],1)}),[],!1,null,null,null).exports,O={components:{GlIcon:f.a,GlButton:h.a,GlLoadingIcon:p.a,ApplySuggestion:w},directives:{"gl-tooltip":m.a},props:{batchSuggestionsCount:{type:Number,required:!1,default:0},canApply:{type:Boolean,required:!1,default:!1},isApplied:{type:Boolean,required:!0,default:!1},isBatched:{type:Boolean,required:!1,default:!1},isApplyingBatch:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},inapplicableReason:{type:String,required:!1,default:null},suggestionsCount:{type:Number,required:!1,default:0}},data:()=>({isApplyingSingle:!1}),computed:{isApplying(){return this.isApplyingSingle||this.isApplyingBatch},tooltipMessage(){return this.canApply?Object(a.a)("This also resolves this thread"):this.inapplicableReason},isDisableButton(){return this.isApplying||!this.canApply},applyingSuggestionsMessage(){return this.isApplyingSingle||this.batchSuggestionsCount<2?Object(a.a)("Applying suggestion..."):Object(a.a)("Applying suggestions...")},isLoggedIn:()=>Boolean(gon.current_user_id)},methods:{applySuggestion(e){this.canApply&&(this.isApplyingSingle=!0,this.$emit("apply",this.applySuggestionCallback,e))},applySuggestionCallback(){this.isApplyingSingle=!1},applySuggestionBatch(){this.canApply&&this.$emit("applyBatch")},addSuggestionToBatch(){this.$emit("addToBatch")},removeSuggestionFromBatch(){this.$emit("removeFromBatch")}}},k=Object(_.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-suggestion-header border-bottom-0 mt-2"},[n("div",{staticClass:"js-suggestion-diff-header font-weight-bold"},[e._v("\n    "+e._s(e.__("Suggested change"))+"\n    "),e.helpPagePath?n("a",{staticClass:"js-help-btn",attrs:{href:e.helpPagePath,"aria-label":e.__("Help")}},[n("gl-icon",{attrs:{name:"question-o","css-classes":"link-highlight"}})],1):e._e()]),e._v(" "),e.isApplied?n("div",{staticClass:"badge badge-success"},[e._v(e._s(e.__("Applied")))]):e.isApplying?n("div",{staticClass:"d-flex align-items-center text-secondary"},[n("gl-loading-icon",{staticClass:"d-flex-center mr-2"}),e._v(" "),n("span",[e._v(e._s(e.applyingSuggestionsMessage))])],1):e.canApply&&e.isBatched?n("div",{staticClass:"d-flex align-items-center"},[n("gl-button",{staticClass:"btn-inverted js-remove-from-batch-btn btn-grouped",attrs:{disabled:e.isApplying},on:{click:e.removeSuggestionFromBatch}},[e._v("\n      "+e._s(e.__("Remove from batch"))+"\n    ")]),e._v(" "),n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:e.__("This also resolves all related threads"),expression:"__('This also resolves all related threads')",modifiers:{viewport:!0}}],staticClass:"btn-inverted js-apply-batch-btn btn-grouped",attrs:{"data-qa-selector":"apply_suggestions_batch_button",disabled:e.isApplying,variant:"success"},on:{click:e.applySuggestionBatch}},[e._v("\n      "+e._s(e.__("Apply suggestions"))+"\n      "),n("span",{staticClass:"badge badge-pill badge-pill-success"},[e._v("\n        "+e._s(e.batchSuggestionsCount)+"\n      ")])])],1):n("div",{staticClass:"d-flex align-items-center"},[e.suggestionsCount>1&&!e.isDisableButton?n("gl-button",{staticClass:"btn-inverted js-add-to-batch-btn btn-grouped",attrs:{"data-qa-selector":"add_suggestion_batch_button",disabled:e.isDisableButton},on:{click:e.addSuggestionToBatch}},[e._v("\n      "+e._s(e.__("Add suggestion to batch"))+"\n    ")]):e._e(),e._v(" "),e.isLoggedIn?n("apply-suggestion",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",value:e.tooltipMessage,expression:"tooltipMessage",modifiers:{viewport:!0}}],staticClass:"gl-ml-3",attrs:{disabled:e.isDisableButton,"default-commit-message":e.defaultCommitMessage},on:{apply:e.applySuggestion}}):e._e()],1)])}),[],!1,null,null,null).exports,S={name:"SuggestionDiffRow",props:{line:{type:Object,required:!0}},computed:{displayAsCell(){return!(this.line.rich_text||this.line.text)},lineType(){return this.line.type}}},j={components:{SuggestionDiffHeader:k,SuggestionDiffRow:Object(_.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"line_holder",class:e.lineType},[n("td",{staticClass:"diff-line-num old_line border-top-0 border-bottom-0",class:e.lineType},[e._v("\n    "+e._s(e.line.old_line)+"\n  ")]),e._v(" "),n("td",{staticClass:"diff-line-num new_line border-top-0 border-bottom-0",class:e.lineType},[e._v("\n    "+e._s(e.line.new_line)+"\n  ")]),e._v(" "),n("td",{staticClass:"line_content",class:[{"d-table-cell":e.displayAsCell},e.lineType],attrs:{"data-testid":"suggestion-diff-content"}},[e.line.rich_text?n("span",{staticClass:"line",domProps:{innerHTML:e._s(e.line.rich_text)}}):e.line.text?n("span",{staticClass:"line"},[e._v(e._s(e.line.text))]):n("span",{staticClass:"line"})])])}),[],!1,null,null,null).exports},props:{suggestion:{type:Object,required:!0},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},suggestionsCount:{type:Number,required:!1,default:0}},computed:{batchSuggestionsCount(){return this.batchSuggestionsInfo.length},isBatched(){var e=this;return Boolean(this.batchSuggestionsInfo.find((function(t){let{suggestionId:n}=t;return n===e.suggestion.id})))},lines(){return d(this.suggestion.diff_lines)}},methods:{applySuggestion(e,t){this.$emit("apply",{suggestionId:this.suggestion.id,callback:e,message:t})},applySuggestionBatch(){this.$emit("applyBatch")},addSuggestionToBatch(){this.$emit("addToBatch",this.suggestion.id)},removeSuggestionFromBatch(){this.$emit("removeFromBatch",this.suggestion.id)}}},C=Object(_.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-suggestion"},[n("suggestion-diff-header",{staticClass:"js-suggestion-diff-header",attrs:{"suggestions-count":e.suggestionsCount,"can-apply":e.suggestion.appliable&&e.suggestion.current_user.can_apply&&!e.disabled,"is-applied":e.suggestion.applied,"is-batched":e.isBatched,"is-applying-batch":e.suggestion.is_applying_batch,"batch-suggestions-count":e.batchSuggestionsCount,"help-page-path":e.helpPagePath,"default-commit-message":e.defaultCommitMessage,"inapplicable-reason":e.suggestion.inapplicable_reason},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}),e._v(" "),n("table",{staticClass:"mb-3 md-suggestion-diff js-syntax-highlight code"},[n("tbody",e._l(e.lines,(function(e,t){return n("suggestion-diff-row",{key:t+"-"+e.text,attrs:{line:e}})})),1)])],1)}),[],!1,null,null,null).exports,x={directives:{SafeHtml:i.a},props:{lineType:{type:String,required:!1,default:""},suggestions:{type:Array,required:!1,default:function(){return[]}},batchSuggestionsInfo:{type:Array,required:!1,default:function(){return[]}},noteHtml:{type:String,required:!0},disabled:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!0},defaultCommitMessage:{type:String,required:!0},suggestionsCount:{type:Number,required:!1,default:0}},data:()=>({isRendered:!1}),watch:{suggestions(){this.reset()},noteHtml(){this.reset()}},mounted(){this.renderSuggestions()},beforeDestroy(){this.suggestionsWatch&&this.suggestionsWatch()},methods:{renderSuggestions(){var e=this;if(!this.noteHtml)return;const{container:t}=this.$refs,n=t.querySelectorAll(".js-render-suggestion");"old"===this.lineType&&Object(s.c)(Object(a.a)("Unable to apply suggestions to a deleted line."),"alert",this.$el),n.forEach((function(t,n){const i=t.parentElement;e.generateDiff(n).$mount(i)})),this.isRendered=!0},generateDiff(e){var t=this;const{suggestions:n,disabled:i,batchSuggestionsInfo:s,helpPagePath:a,defaultCommitMessage:o,suggestionsCount:l}=this,c=n&&n[e]?n[e]:{},u=new(r.default.extend(C))({propsData:{disabled:i,suggestion:c,batchSuggestionsInfo:s,helpPagePath:a,defaultCommitMessage:o,suggestionsCount:l}});return this.suggestionsWatch=this.$watch("suggestionsCount",(function(){u.suggestionsCount=t.suggestionsCount})),u.$on("apply",(function(e){let{suggestionId:n,callback:i,message:r}=e;t.$emit("apply",{suggestionId:n,callback:i,flashContainer:t.$el,message:r})})),u.$on("applyBatch",(function(){t.$emit("applyBatch",{flashContainer:t.$el})})),u.$on("addToBatch",(function(e){t.$emit("addToBatch",e)})),u.$on("removeFromBatch",(function(e){t.$emit("removeFromBatch",e)})),u},reset(){var e=this;this.$refs.container.innerHTML=this.noteHtml,this.isRendered=!1,this.renderSuggestions(),this.$nextTick((function(){return e.renderSuggestions()}))}}},E=Object(_.a)(x,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"flash-container js-suggestions-flash"}),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.isRendered,expression:"isRendered"},{name:"safe-html",rawName:"v-safe-html",value:this.noteHtml,expression:"noteHtml"}],ref:"container",staticClass:"md"})])}),[],!1,null,null,null);t.a=E.exports},KZGt:function(e,t){e.exports=function(){}},Kfmh:function(e,t,n){"use strict";n("uSmA")},Kq6u:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("EmJ/"),r=n.n(i);class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cfg={callback:e.callback,startingInterval:e.startingInterval,maxInterval:e.maxInterval,hiddenInterval:e.hiddenInterval,incrementByFactorOf:e.incrementByFactorOf,lazyStart:e.lazyStart,immediateExecution:e.immediateExecution},this.state={intervalId:null,currentInterval:this.cfg.startingInterval,pagevisibile:!0},this.initInterval()}start(){var e=this;const{cfg:t,state:n}=this;t.immediateExecution&&!this.isLoading&&(t.immediateExecution=!1,this.triggerCallback()),n.intervalId=window.setInterval((function(){e.isLoading||(e.triggerCallback(),e.getCurrentInterval()!==t.maxInterval&&(e.incrementInterval(),e.resume()))}),this.getCurrentInterval())}cancel(){this.setCurrentInterval(this.cfg.startingInterval),this.stopTimer()}onVisibilityHidden(){this.cfg.hiddenInterval?(this.setCurrentInterval(this.cfg.hiddenInterval),this.resume()):this.cancel()}resume(){this.stopTimer(),this.start()}onVisibilityVisible(){this.cancel(),this.start()}destroy(){document.removeEventListener("visibilitychange",this.onVisibilityChange),window.removeEventListener("blur",this.onWindowVisibilityChange),window.removeEventListener("focus",this.onWindowVisibilityChange),this.cancel(),r()(document).off("visibilitychange").off("beforeunload")}initInterval(){const{cfg:e}=this;e.lazyStart||this.start(),this.initVisibilityChangeHandling(),this.initPageUnloadHandling()}triggerCallback(){var e=this;this.isLoading=!0,this.cfg.callback().then((function(){e.isLoading=!1})).catch((function(t){throw e.isLoading=!1,t}))}onWindowVisibilityChange(e){this.state.pagevisibile="focus"===e.type,this.handleVisibilityChange()}onVisibilityChange(e){this.state.pagevisibile="visible"===e.target.visibilityState,this.handleVisibilityChange()}initVisibilityChangeHandling(){document.addEventListener("visibilitychange",this.onVisibilityChange.bind(this)),window.addEventListener("blur",this.onWindowVisibilityChange.bind(this)),window.addEventListener("focus",this.onWindowVisibilityChange.bind(this))}initPageUnloadHandling(){var e=this;r()(document).on("beforeunload",(function(){return e.cancel()}))}handleVisibilityChange(){(this.isPageVisible()?this.onVisibilityVisible:this.onVisibilityHidden).apply(this)}getCurrentInterval(){return this.state.currentInterval}setCurrentInterval(e){this.state.currentInterval=e}incrementInterval(){const{cfg:e}=this,t=this.getCurrentInterval();if(e.hiddenInterval&&!this.isPageVisible())return;let n=t*e.incrementByFactorOf;n>e.maxInterval&&(n=e.maxInterval),this.setCurrentInterval(n)}isPageVisible(){return this.state.pagevisibile}stopTimer(){const{state:e}=this;e.intervalId=window.clearInterval(e.intervalId)}}},"Kuu+":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o}));var i=n("/lV4");const r=Object(i.a)("Something went wrong on our end. Please try again!"),s={optionsDropdownTitle:Object(i.a)("Options"),fileReviewLabel:Object(i.a)("Viewed"),fileReviewTooltip:Object(i.a)("Collapses this file (only for you) until its changed again.")},a={tooLarge:Object(i.e)("MRDiffFile|Changes are too large to be shown."),blobView:Object(i.e)("MRDiffFile|View file @ %{commitSha}"),editInFork:Object(i.a)("You're not allowed to %{tag_start}edit%{tag_end} files in this project directly. Please fork this project, make your changes there, and submit a merge request."),fork:Object(i.a)("Fork"),cancel:Object(i.a)("Cancel"),autoCollapsed:Object(i.a)("Files with large changes are collapsed by default."),expand:Object(i.a)("Expand file")},o={whitespace:Object(i.a)("Show whitespace changes"),fileByFile:Object(i.a)("Show one file at a time")}},"LB+Z":function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("/lV4");const r=Object(i.e)("Pagination|Prev"),s=Object(i.e)("Pagination|Next"),a=(Object(i.e)("Pagination| First"),Object(i.e)("Pagination|Last "),Object(i.e)("Pagination|Go to first page")),o=Object(i.e)("Pagination|Go to previous page"),l=Object(i.e)("Pagination|Go to next page"),c=Object(i.e)("Pagination|Go to last page")},LK1c:function(e,t,n){var i=n("xJuT"),r=n("/NDV");e.exports=function(e,t){return e&&i(t,r(t),e)}},LQaz:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"epicParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:413}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery epicParticipants($fullPath: ID!, $iid: ID) {\n  workspace: group(fullPath: $fullPath) {\n    __typename\n    issuable: epic(iid: $iid) {\n      __typename\n      id\n      participants {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.epicParticipants=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"epicParticipants")},LVcV:function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return i})),n.d(t,"bisect",(function(){return r.b})),n.d(t,"bisectRight",(function(){return r.d})),n.d(t,"bisectLeft",(function(){return r.c})),n.d(t,"ascending",(function(){return r.a})),n.d(t,"bisector",(function(){return r.e})),n.d(t,"cross",(function(){return r.f})),n.d(t,"descending",(function(){return r.g})),n.d(t,"deviation",(function(){return r.h})),n.d(t,"extent",(function(){return r.i})),n.d(t,"histogram",(function(){return r.j})),n.d(t,"thresholdFreedmanDiaconis",(function(){return r.w})),n.d(t,"thresholdScott",(function(){return r.x})),n.d(t,"thresholdSturges",(function(){return r.y})),n.d(t,"max",(function(){return r.k})),n.d(t,"mean",(function(){return r.l})),n.d(t,"median",(function(){return r.m})),n.d(t,"merge",(function(){return r.n})),n.d(t,"min",(function(){return r.o})),n.d(t,"pairs",(function(){return r.p})),n.d(t,"permute",(function(){return r.q})),n.d(t,"quantile",(function(){return r.r})),n.d(t,"range",(function(){return r.s})),n.d(t,"scan",(function(){return r.t})),n.d(t,"shuffle",(function(){return r.u})),n.d(t,"sum",(function(){return r.v})),n.d(t,"ticks",(function(){return r.B})),n.d(t,"tickIncrement",(function(){return r.z})),n.d(t,"tickStep",(function(){return r.A})),n.d(t,"transpose",(function(){return r.C})),n.d(t,"variance",(function(){return r.D})),n.d(t,"zip",(function(){return r.E})),n.d(t,"axisTop",(function(){return b})),n.d(t,"axisRight",(function(){return y})),n.d(t,"axisBottom",(function(){return _})),n.d(t,"axisLeft",(function(){return w})),n.d(t,"brush",(function(){return dn})),n.d(t,"brushX",(function(){return cn})),n.d(t,"brushY",(function(){return un})),n.d(t,"brushSelection",(function(){return ln})),n.d(t,"chord",(function(){return _n})),n.d(t,"ribbon",(function(){return Dn})),n.d(t,"nest",(function(){return Pn.d})),n.d(t,"set",(function(){return Pn.e})),n.d(t,"map",(function(){return Pn.c})),n.d(t,"keys",(function(){return Pn.b})),n.d(t,"values",(function(){return Pn.f})),n.d(t,"entries",(function(){return Pn.a})),n.d(t,"color",(function(){return Ce.a})),n.d(t,"rgb",(function(){return Ce.f})),n.d(t,"hsl",(function(){return Ce.d})),n.d(t,"lab",(function(){return Ce.e})),n.d(t,"hcl",(function(){return Ce.c})),n.d(t,"cubehelix",(function(){return Ce.b})),n.d(t,"contours",(function(){return Bn})),n.d(t,"contourDensity",(function(){return zn})),n.d(t,"dispatch",(function(){return E})),n.d(t,"drag",(function(){return V})),n.d(t,"dragDisable",(function(){return N})),n.d(t,"dragEnable",(function(){return I})),n.d(t,"dsvFormat",(function(){return Zn})),n.d(t,"csvParse",(function(){return ti})),n.d(t,"csvParseRows",(function(){return ni})),n.d(t,"csvFormat",(function(){return ii})),n.d(t,"csvFormatRows",(function(){return ri})),n.d(t,"tsvParse",(function(){return ai})),n.d(t,"tsvParseRows",(function(){return oi})),n.d(t,"tsvFormat",(function(){return li})),n.d(t,"tsvFormatRows",(function(){return ci})),n.d(t,"easeLinear",(function(){return Ke})),n.d(t,"easeQuad",(function(){return Je})),n.d(t,"easeQuadIn",(function(){return Ye})),n.d(t,"easeQuadOut",(function(){return Xe})),n.d(t,"easeQuadInOut",(function(){return Je})),n.d(t,"easeCubic",(function(){return tt})),n.d(t,"easeCubicIn",(function(){return Ze})),n.d(t,"easeCubicOut",(function(){return et})),n.d(t,"easeCubicInOut",(function(){return tt})),n.d(t,"easePoly",(function(){return rt})),n.d(t,"easePolyIn",(function(){return nt})),n.d(t,"easePolyOut",(function(){return it})),n.d(t,"easePolyInOut",(function(){return rt})),n.d(t,"easeSin",(function(){return ct})),n.d(t,"easeSinIn",(function(){return ot})),n.d(t,"easeSinOut",(function(){return lt})),n.d(t,"easeSinInOut",(function(){return ct})),n.d(t,"easeExp",(function(){return ft})),n.d(t,"easeExpIn",(function(){return ut})),n.d(t,"easeExpOut",(function(){return dt})),n.d(t,"easeExpInOut",(function(){return ft})),n.d(t,"easeCircle",(function(){return mt})),n.d(t,"easeCircleIn",(function(){return ht})),n.d(t,"easeCircleOut",(function(){return pt})),n.d(t,"easeCircleInOut",(function(){return mt})),n.d(t,"easeBounce",(function(){return xt})),n.d(t,"easeBounceIn",(function(){return Ct})),n.d(t,"easeBounceOut",(function(){return xt})),n.d(t,"easeBounceInOut",(function(){return Et})),n.d(t,"easeBack",(function(){return Tt})),n.d(t,"easeBackIn",(function(){return Dt})),n.d(t,"easeBackOut",(function(){return Pt})),n.d(t,"easeBackInOut",(function(){return Tt})),n.d(t,"easeElastic",(function(){return Lt})),n.d(t,"easeElasticIn",(function(){return It})),n.d(t,"easeElasticOut",(function(){return Lt})),n.d(t,"easeElasticInOut",(function(){return Rt})),n.d(t,"blob",(function(){return di})),n.d(t,"buffer",(function(){return hi})),n.d(t,"dsv",(function(){return vi})),n.d(t,"csv",(function(){return bi})),n.d(t,"tsv",(function(){return yi})),n.d(t,"image",(function(){return _i})),n.d(t,"json",(function(){return Oi})),n.d(t,"text",(function(){return mi})),n.d(t,"xml",(function(){return Si})),n.d(t,"html",(function(){return ji})),n.d(t,"svg",(function(){return Ci})),n.d(t,"forceCenter",(function(){return xi})),n.d(t,"forceCollide",(function(){return Bi})),n.d(t,"forceLink",(function(){return Ui})),n.d(t,"forceManyBody",(function(){return Ki})),n.d(t,"forceRadial",(function(){return Yi})),n.d(t,"forceSimulation",(function(){return Qi})),n.d(t,"forceX",(function(){return Xi})),n.d(t,"forceY",(function(){return Ji})),n.d(t,"formatDefaultLocale",(function(){return Zi.b})),n.d(t,"format",(function(){return Zi.a})),n.d(t,"formatPrefix",(function(){return Zi.d})),n.d(t,"formatLocale",(function(){return Zi.c})),n.d(t,"formatSpecifier",(function(){return Zi.e})),n.d(t,"precisionFixed",(function(){return Zi.f})),n.d(t,"precisionPrefix",(function(){return Zi.g})),n.d(t,"precisionRound",(function(){return Zi.h})),n.d(t,"geoArea",(function(){return Hr})),n.d(t,"geoBounds",(function(){return Fs})),n.d(t,"geoCentroid",(function(){return Ks})),n.d(t,"geoCircle",(function(){return aa})),n.d(t,"geoClipAntimeridian",(function(){return va})),n.d(t,"geoClipCircle",(function(){return ba})),n.d(t,"geoClipExtent",(function(){return Ca})),n.d(t,"geoClipRectangle",(function(){return Oa})),n.d(t,"geoContains",(function(){return Ga})),n.d(t,"geoDistance",(function(){return Ra})),n.d(t,"geoGraticule",(function(){return Wa})),n.d(t,"geoGraticule10",(function(){return Qa})),n.d(t,"geoInterpolate",(function(){return Za})),n.d(t,"geoLength",(function(){return Na})),n.d(t,"geoPath",(function(){return Jo})),n.d(t,"geoAlbers",(function(){return gl})),n.d(t,"geoAlbersUsa",(function(){return vl})),n.d(t,"geoAzimuthalEqualArea",(function(){return wl})),n.d(t,"geoAzimuthalEqualAreaRaw",(function(){return _l})),n.d(t,"geoAzimuthalEquidistant",(function(){return kl})),n.d(t,"geoAzimuthalEquidistantRaw",(function(){return Ol})),n.d(t,"geoConicConformal",(function(){return Dl})),n.d(t,"geoConicConformalRaw",(function(){return El})),n.d(t,"geoConicEqualArea",(function(){return ml})),n.d(t,"geoConicEqualAreaRaw",(function(){return pl})),n.d(t,"geoConicEquidistant",(function(){return Il})),n.d(t,"geoConicEquidistantRaw",(function(){return Nl})),n.d(t,"geoEquirectangular",(function(){return Tl})),n.d(t,"geoEquirectangularRaw",(function(){return Pl})),n.d(t,"geoGnomonic",(function(){return Rl})),n.d(t,"geoGnomonicRaw",(function(){return Ll})),n.d(t,"geoIdentity",(function(){return Fl})),n.d(t,"geoProjection",(function(){return dl})),n.d(t,"geoProjectionMutator",(function(){return fl})),n.d(t,"geoMercator",(function(){return jl})),n.d(t,"geoMercatorRaw",(function(){return Sl})),n.d(t,"geoNaturalEarth1",(function(){return Ml})),n.d(t,"geoNaturalEarth1Raw",(function(){return ql})),n.d(t,"geoOrthographic",(function(){return $l})),n.d(t,"geoOrthographicRaw",(function(){return Bl})),n.d(t,"geoStereographic",(function(){return Ul})),n.d(t,"geoStereographicRaw",(function(){return Vl})),n.d(t,"geoTransverseMercator",(function(){return Hl})),n.d(t,"geoTransverseMercatorRaw",(function(){return Gl})),n.d(t,"geoRotation",(function(){return ia})),n.d(t,"geoStream",(function(){return Fr})),n.d(t,"geoTransform",(function(){return Zo})),n.d(t,"cluster",(function(){return Kl})),n.d(t,"hierarchy",(function(){return Xl})),n.d(t,"pack",(function(){return Oc})),n.d(t,"packSiblings",(function(){return gc})),n.d(t,"packEnclose",(function(){return ic})),n.d(t,"partition",(function(){return Ec})),n.d(t,"stratify",(function(){return Lc})),n.d(t,"tree",(function(){return $c})),n.d(t,"treemap",(function(){return zc})),n.d(t,"treemapBinary",(function(){return Wc})),n.d(t,"treemapDice",(function(){return xc})),n.d(t,"treemapSlice",(function(){return Vc})),n.d(t,"treemapSliceDice",(function(){return Qc})),n.d(t,"treemapSquarify",(function(){return Hc})),n.d(t,"treemapResquarify",(function(){return Kc})),n.d(t,"interpolate",(function(){return U.a})),n.d(t,"interpolateArray",(function(){return U.b})),n.d(t,"interpolateBasis",(function(){return U.c})),n.d(t,"interpolateBasisClosed",(function(){return U.d})),n.d(t,"interpolateDate",(function(){return U.g})),n.d(t,"interpolateNumber",(function(){return U.m})),n.d(t,"interpolateObject",(function(){return U.n})),n.d(t,"interpolateRound",(function(){return U.r})),n.d(t,"interpolateString",(function(){return U.s})),n.d(t,"interpolateTransformCss",(function(){return U.t})),n.d(t,"interpolateTransformSvg",(function(){return U.u})),n.d(t,"interpolateZoom",(function(){return U.v})),n.d(t,"interpolateRgb",(function(){return U.o})),n.d(t,"interpolateRgbBasis",(function(){return U.p})),n.d(t,"interpolateRgbBasisClosed",(function(){return U.q})),n.d(t,"interpolateHsl",(function(){return U.j})),n.d(t,"interpolateHslLong",(function(){return U.k})),n.d(t,"interpolateLab",(function(){return U.l})),n.d(t,"interpolateHcl",(function(){return U.h})),n.d(t,"interpolateHclLong",(function(){return U.i})),n.d(t,"interpolateCubehelix",(function(){return U.e})),n.d(t,"interpolateCubehelixLong",(function(){return U.f})),n.d(t,"quantize",(function(){return U.w})),n.d(t,"path",(function(){return kn.a})),n.d(t,"polygonArea",(function(){return Yc})),n.d(t,"polygonCentroid",(function(){return Xc})),n.d(t,"polygonHull",(function(){return tu})),n.d(t,"polygonContains",(function(){return nu})),n.d(t,"polygonLength",(function(){return iu})),n.d(t,"quadtree",(function(){return Li})),n.d(t,"randomUniform",(function(){return su})),n.d(t,"randomNormal",(function(){return au})),n.d(t,"randomLogNormal",(function(){return ou})),n.d(t,"randomBates",(function(){return cu})),n.d(t,"randomIrwinHall",(function(){return lu})),n.d(t,"randomExponential",(function(){return uu})),n.d(t,"scaleBand",(function(){return du.a})),n.d(t,"scalePoint",(function(){return du.l})),n.d(t,"scaleIdentity",(function(){return du.g})),n.d(t,"scaleLinear",(function(){return du.i})),n.d(t,"scaleLog",(function(){return du.j})),n.d(t,"scaleSymlog",(function(){return du.w})),n.d(t,"scaleOrdinal",(function(){return du.k})),n.d(t,"scaleImplicit",(function(){return du.h})),n.d(t,"scalePow",(function(){return du.m})),n.d(t,"scaleSqrt",(function(){return du.v})),n.d(t,"scaleQuantile",(function(){return du.n})),n.d(t,"scaleQuantize",(function(){return du.o})),n.d(t,"scaleThreshold",(function(){return du.x})),n.d(t,"scaleTime",(function(){return du.y})),n.d(t,"scaleUtc",(function(){return du.z})),n.d(t,"scaleSequential",(function(){return du.p})),n.d(t,"scaleSequentialLog",(function(){return du.q})),n.d(t,"scaleSequentialPow",(function(){return du.r})),n.d(t,"scaleSequentialSqrt",(function(){return du.t})),n.d(t,"scaleSequentialSymlog",(function(){return du.u})),n.d(t,"scaleSequentialQuantile",(function(){return du.s})),n.d(t,"scaleDiverging",(function(){return du.b})),n.d(t,"scaleDivergingLog",(function(){return du.c})),n.d(t,"scaleDivergingPow",(function(){return du.d})),n.d(t,"scaleDivergingSqrt",(function(){return du.e})),n.d(t,"scaleDivergingSymlog",(function(){return du.f})),n.d(t,"tickFormat",(function(){return du.A})),n.d(t,"schemeCategory10",(function(){return hu})),n.d(t,"schemeAccent",(function(){return pu})),n.d(t,"schemeDark2",(function(){return mu})),n.d(t,"schemePaired",(function(){return gu})),n.d(t,"schemePastel1",(function(){return vu})),n.d(t,"schemePastel2",(function(){return bu})),n.d(t,"schemeSet1",(function(){return yu})),n.d(t,"schemeSet2",(function(){return _u})),n.d(t,"schemeSet3",(function(){return wu})),n.d(t,"interpolateBrBG",(function(){return Su})),n.d(t,"schemeBrBG",(function(){return ku})),n.d(t,"interpolatePRGn",(function(){return Cu})),n.d(t,"schemePRGn",(function(){return ju})),n.d(t,"interpolatePiYG",(function(){return Eu})),n.d(t,"schemePiYG",(function(){return xu})),n.d(t,"interpolatePuOr",(function(){return Pu})),n.d(t,"schemePuOr",(function(){return Du})),n.d(t,"interpolateRdBu",(function(){return Nu})),n.d(t,"schemeRdBu",(function(){return Tu})),n.d(t,"interpolateRdGy",(function(){return Lu})),n.d(t,"schemeRdGy",(function(){return Iu})),n.d(t,"interpolateRdYlBu",(function(){return Au})),n.d(t,"schemeRdYlBu",(function(){return Ru})),n.d(t,"interpolateRdYlGn",(function(){return qu})),n.d(t,"schemeRdYlGn",(function(){return Fu})),n.d(t,"interpolateSpectral",(function(){return Bu})),n.d(t,"schemeSpectral",(function(){return Mu})),n.d(t,"interpolateBuGn",(function(){return Vu})),n.d(t,"schemeBuGn",(function(){return $u})),n.d(t,"interpolateBuPu",(function(){return Gu})),n.d(t,"schemeBuPu",(function(){return Uu})),n.d(t,"interpolateGnBu",(function(){return zu})),n.d(t,"schemeGnBu",(function(){return Hu})),n.d(t,"interpolateOrRd",(function(){return Qu})),n.d(t,"schemeOrRd",(function(){return Wu})),n.d(t,"interpolatePuBuGn",(function(){return Yu})),n.d(t,"schemePuBuGn",(function(){return Ku})),n.d(t,"interpolatePuBu",(function(){return Ju})),n.d(t,"schemePuBu",(function(){return Xu})),n.d(t,"interpolatePuRd",(function(){return ed})),n.d(t,"schemePuRd",(function(){return Zu})),n.d(t,"interpolateRdPu",(function(){return nd})),n.d(t,"schemeRdPu",(function(){return td})),n.d(t,"interpolateYlGnBu",(function(){return rd})),n.d(t,"schemeYlGnBu",(function(){return id})),n.d(t,"interpolateYlGn",(function(){return ad})),n.d(t,"schemeYlGn",(function(){return sd})),n.d(t,"interpolateYlOrBr",(function(){return ld})),n.d(t,"schemeYlOrBr",(function(){return od})),n.d(t,"interpolateYlOrRd",(function(){return ud})),n.d(t,"schemeYlOrRd",(function(){return cd})),n.d(t,"interpolateBlues",(function(){return fd})),n.d(t,"schemeBlues",(function(){return dd})),n.d(t,"interpolateGreens",(function(){return pd})),n.d(t,"schemeGreens",(function(){return hd})),n.d(t,"interpolateGreys",(function(){return gd})),n.d(t,"schemeGreys",(function(){return md})),n.d(t,"interpolatePurples",(function(){return bd})),n.d(t,"schemePurples",(function(){return vd})),n.d(t,"interpolateReds",(function(){return _d})),n.d(t,"schemeReds",(function(){return yd})),n.d(t,"interpolateOranges",(function(){return Od})),n.d(t,"schemeOranges",(function(){return wd})),n.d(t,"interpolateCubehelixDefault",(function(){return kd})),n.d(t,"interpolateRainbow",(function(){return xd})),n.d(t,"interpolateWarm",(function(){return Sd})),n.d(t,"interpolateCool",(function(){return jd})),n.d(t,"interpolateSinebow",(function(){return Td})),n.d(t,"interpolateViridis",(function(){return Id})),n.d(t,"interpolateMagma",(function(){return Ld})),n.d(t,"interpolateInferno",(function(){return Rd})),n.d(t,"interpolatePlasma",(function(){return Ad})),n.d(t,"create",(function(){return D.b})),n.d(t,"creator",(function(){return D.c})),n.d(t,"local",(function(){return D.f})),n.d(t,"matcher",(function(){return D.g})),n.d(t,"mouse",(function(){return D.h})),n.d(t,"namespace",(function(){return D.i})),n.d(t,"namespaces",(function(){return D.j})),n.d(t,"clientPoint",(function(){return D.a})),n.d(t,"select",(function(){return D.k})),n.d(t,"selectAll",(function(){return D.l})),n.d(t,"selection",(function(){return D.m})),n.d(t,"selector",(function(){return D.n})),n.d(t,"selectorAll",(function(){return D.o})),n.d(t,"style",(function(){return D.p})),n.d(t,"touch",(function(){return D.q})),n.d(t,"touches",(function(){return D.r})),n.d(t,"window",(function(){return D.s})),n.d(t,"event",(function(){return D.e})),n.d(t,"customEvent",(function(){return D.d})),n.d(t,"arc",(function(){return Fd.a})),n.d(t,"area",(function(){return Fd.b})),n.d(t,"line",(function(){return Fd.v})),n.d(t,"pie",(function(){return Fd.A})),n.d(t,"areaRadial",(function(){return Fd.c})),n.d(t,"radialArea",(function(){return Fd.C})),n.d(t,"lineRadial",(function(){return Fd.w})),n.d(t,"radialLine",(function(){return Fd.D})),n.d(t,"pointRadial",(function(){return Fd.B})),n.d(t,"linkHorizontal",(function(){return Fd.x})),n.d(t,"linkVertical",(function(){return Fd.z})),n.d(t,"linkRadial",(function(){return Fd.y})),n.d(t,"symbol",(function(){return Fd.Q})),n.d(t,"symbols",(function(){return Fd.Y})),n.d(t,"symbolCircle",(function(){return Fd.R})),n.d(t,"symbolCross",(function(){return Fd.S})),n.d(t,"symbolDiamond",(function(){return Fd.T})),n.d(t,"symbolSquare",(function(){return Fd.U})),n.d(t,"symbolStar",(function(){return Fd.V})),n.d(t,"symbolTriangle",(function(){return Fd.W})),n.d(t,"symbolWye",(function(){return Fd.X})),n.d(t,"curveBasisClosed",(function(){return Fd.e})),n.d(t,"curveBasisOpen",(function(){return Fd.f})),n.d(t,"curveBasis",(function(){return Fd.d})),n.d(t,"curveBundle",(function(){return Fd.g})),n.d(t,"curveCardinalClosed",(function(){return Fd.i})),n.d(t,"curveCardinalOpen",(function(){return Fd.j})),n.d(t,"curveCardinal",(function(){return Fd.h})),n.d(t,"curveCatmullRomClosed",(function(){return Fd.l})),n.d(t,"curveCatmullRomOpen",(function(){return Fd.m})),n.d(t,"curveCatmullRom",(function(){return Fd.k})),n.d(t,"curveLinearClosed",(function(){return Fd.o})),n.d(t,"curveLinear",(function(){return Fd.n})),n.d(t,"curveMonotoneX",(function(){return Fd.p})),n.d(t,"curveMonotoneY",(function(){return Fd.q})),n.d(t,"curveNatural",(function(){return Fd.r})),n.d(t,"curveStep",(function(){return Fd.s})),n.d(t,"curveStepAfter",(function(){return Fd.t})),n.d(t,"curveStepBefore",(function(){return Fd.u})),n.d(t,"stack",(function(){return Fd.E})),n.d(t,"stackOffsetExpand",(function(){return Fd.G})),n.d(t,"stackOffsetDiverging",(function(){return Fd.F})),n.d(t,"stackOffsetNone",(function(){return Fd.H})),n.d(t,"stackOffsetSilhouette",(function(){return Fd.I})),n.d(t,"stackOffsetWiggle",(function(){return Fd.J})),n.d(t,"stackOrderAppearance",(function(){return Fd.K})),n.d(t,"stackOrderAscending",(function(){return Fd.L})),n.d(t,"stackOrderDescending",(function(){return Fd.M})),n.d(t,"stackOrderInsideOut",(function(){return Fd.N})),n.d(t,"stackOrderNone",(function(){return Fd.O})),n.d(t,"stackOrderReverse",(function(){return Fd.P})),n.d(t,"timeInterval",(function(){return qd.g})),n.d(t,"timeMillisecond",(function(){return qd.h})),n.d(t,"timeMilliseconds",(function(){return qd.i})),n.d(t,"utcMillisecond",(function(){return qd.L})),n.d(t,"utcMilliseconds",(function(){return qd.M})),n.d(t,"timeSecond",(function(){return qd.r})),n.d(t,"timeSeconds",(function(){return qd.s})),n.d(t,"utcSecond",(function(){return qd.V})),n.d(t,"utcSeconds",(function(){return qd.W})),n.d(t,"timeMinute",(function(){return qd.j})),n.d(t,"timeMinutes",(function(){return qd.k})),n.d(t,"timeHour",(function(){return qd.e})),n.d(t,"timeHours",(function(){return qd.f})),n.d(t,"timeDay",(function(){return qd.a})),n.d(t,"timeDays",(function(){return qd.b})),n.d(t,"timeWeek",(function(){return qd.B})),n.d(t,"timeWeeks",(function(){return qd.C})),n.d(t,"timeSunday",(function(){return qd.t})),n.d(t,"timeSundays",(function(){return qd.u})),n.d(t,"timeMonday",(function(){return qd.l})),n.d(t,"timeMondays",(function(){return qd.m})),n.d(t,"timeTuesday",(function(){return qd.x})),n.d(t,"timeTuesdays",(function(){return qd.y})),n.d(t,"timeWednesday",(function(){return qd.z})),n.d(t,"timeWednesdays",(function(){return qd.A})),n.d(t,"timeThursday",(function(){return qd.v})),n.d(t,"timeThursdays",(function(){return qd.w})),n.d(t,"timeFriday",(function(){return qd.c})),n.d(t,"timeFridays",(function(){return qd.d})),n.d(t,"timeSaturday",(function(){return qd.p})),n.d(t,"timeSaturdays",(function(){return qd.q})),n.d(t,"timeMonth",(function(){return qd.n})),n.d(t,"timeMonths",(function(){return qd.o})),n.d(t,"timeYear",(function(){return qd.D})),n.d(t,"timeYears",(function(){return qd.E})),n.d(t,"utcMinute",(function(){return qd.N})),n.d(t,"utcMinutes",(function(){return qd.O})),n.d(t,"utcHour",(function(){return qd.J})),n.d(t,"utcHours",(function(){return qd.K})),n.d(t,"utcDay",(function(){return qd.F})),n.d(t,"utcDays",(function(){return qd.G})),n.d(t,"utcWeek",(function(){return qd.fb})),n.d(t,"utcWeeks",(function(){return qd.gb})),n.d(t,"utcSunday",(function(){return qd.X})),n.d(t,"utcSundays",(function(){return qd.Y})),n.d(t,"utcMonday",(function(){return qd.P})),n.d(t,"utcMondays",(function(){return qd.Q})),n.d(t,"utcTuesday",(function(){return qd.bb})),n.d(t,"utcTuesdays",(function(){return qd.cb})),n.d(t,"utcWednesday",(function(){return qd.db})),n.d(t,"utcWednesdays",(function(){return qd.eb})),n.d(t,"utcThursday",(function(){return qd.Z})),n.d(t,"utcThursdays",(function(){return qd.ab})),n.d(t,"utcFriday",(function(){return qd.H})),n.d(t,"utcFridays",(function(){return qd.I})),n.d(t,"utcSaturday",(function(){return qd.T})),n.d(t,"utcSaturdays",(function(){return qd.U})),n.d(t,"utcMonth",(function(){return qd.R})),n.d(t,"utcMonths",(function(){return qd.S})),n.d(t,"utcYear",(function(){return qd.hb})),n.d(t,"utcYears",(function(){return qd.ib})),n.d(t,"timeFormatDefaultLocale",(function(){return Md.d})),n.d(t,"timeFormat",(function(){return Md.c})),n.d(t,"timeParse",(function(){return Md.f})),n.d(t,"utcFormat",(function(){return Md.g})),n.d(t,"utcParse",(function(){return Md.h})),n.d(t,"timeFormatLocale",(function(){return Md.e})),n.d(t,"isoFormat",(function(){return Md.a})),n.d(t,"isoParse",(function(){return Md.b})),n.d(t,"now",(function(){return Z})),n.d(t,"timer",(function(){return ne})),n.d(t,"timerFlush",(function(){return ie})),n.d(t,"timeout",(function(){return oe})),n.d(t,"interval",(function(){return le})),n.d(t,"transition",(function(){return ze})),n.d(t,"active",(function(){return Mt})),n.d(t,"interrupt",(function(){return Oe})),n.d(t,"voronoi",(function(){return jf})),n.d(t,"zoom",(function(){return Mf})),n.d(t,"zoomTransform",(function(){return Pf})),n.d(t,"zoomIdentity",(function(){return Df}));var i="5.16.0",r=n("tyjs"),s=Array.prototype.slice,a=function(e){return e},o=1,l=2,c=3,u=4,d=1e-6;function f(e){return"translate("+(e+.5)+",0)"}function h(e){return"translate(0,"+(e+.5)+")"}function p(e){return function(t){return+e(t)}}function m(e){var t=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function g(){return!this.__axis}function v(e,t){var n=[],i=null,r=null,v=6,b=6,y=3,_=e===o||e===u?-1:1,w=e===u||e===l?"x":"y",O=e===o||e===c?f:h;function k(s){var f=null==i?t.ticks?t.ticks.apply(t,n):t.domain():i,h=null==r?t.tickFormat?t.tickFormat.apply(t,n):a:r,k=Math.max(v,0)+y,S=t.range(),j=+S[0]+.5,C=+S[S.length-1]+.5,x=(t.bandwidth?m:p)(t.copy()),E=s.selection?s.selection():s,D=E.selectAll(".domain").data([null]),P=E.selectAll(".tick").data(f,t).order(),T=P.exit(),N=P.enter().append("g").attr("class","tick"),I=P.select("line"),L=P.select("text");D=D.merge(D.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),P=P.merge(N),I=I.merge(N.append("line").attr("stroke","#000").attr(w+"2",_*v)),L=L.merge(N.append("text").attr("fill","#000").attr(w,_*k).attr("dy",e===o?"0em":e===c?"0.71em":"0.32em")),s!==E&&(D=D.transition(s),P=P.transition(s),I=I.transition(s),L=L.transition(s),T=T.transition(s).attr("opacity",d).attr("transform",(function(e){return isFinite(e=x(e))?O(e):this.getAttribute("transform")})),N.attr("opacity",d).attr("transform",(function(e){var t=this.parentNode.__axis;return O(t&&isFinite(t=t(e))?t:x(e))}))),T.remove(),D.attr("d",e===u||e==l?"M"+_*b+","+j+"H0.5V"+C+"H"+_*b:"M"+j+","+_*b+"V0.5H"+C+"V"+_*b),P.attr("opacity",1).attr("transform",(function(e){return O(x(e))})),I.attr(w+"2",_*v),L.attr(w,_*k).text(h),E.filter(g).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===l?"start":e===u?"end":"middle"),E.each((function(){this.__axis=x}))}return k.scale=function(e){return arguments.length?(t=e,k):t},k.ticks=function(){return n=s.call(arguments),k},k.tickArguments=function(e){return arguments.length?(n=null==e?[]:s.call(e),k):n.slice()},k.tickValues=function(e){return arguments.length?(i=null==e?null:s.call(e),k):i&&i.slice()},k.tickFormat=function(e){return arguments.length?(r=e,k):r},k.tickSize=function(e){return arguments.length?(v=b=+e,k):v},k.tickSizeInner=function(e){return arguments.length?(v=+e,k):v},k.tickSizeOuter=function(e){return arguments.length?(b=+e,k):b},k.tickPadding=function(e){return arguments.length?(y=+e,k):y},k}function b(e){return v(o,e)}function y(e){return v(l,e)}function _(e){return v(c,e)}function w(e){return v(u,e)}var O={value:function(){}};function k(){for(var e,t=0,n=arguments.length,i={};t<n;++t){if(!(e=arguments[t]+"")||e in i)throw new Error("illegal type: "+e);i[e]=[]}return new S(i)}function S(e){this._=e}function j(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function C(e,t){for(var n,i=0,r=e.length;i<r;++i)if((n=e[i]).name===t)return n.value}function x(e,t,n){for(var i=0,r=e.length;i<r;++i)if(e[i].name===t){e[i]=O,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=n&&e.push({name:t,value:n}),e}S.prototype=k.prototype={constructor:S,on:function(e,t){var n,i=this._,r=j(e+"",i),s=-1,a=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=r[s]).type)i[n]=x(i[n],e.name,t);else if(null==t)for(n in i)i[n]=x(i[n],e.name,null);return this}for(;++s<a;)if((n=(e=r[s]).type)&&(n=C(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new S(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),s=0;s<n;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(i=this._[e]).length;s<n;++s)i[s].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)}};var E=k,D=n("+8HN");function P(){D.e.stopImmediatePropagation()}var T=function(){D.e.preventDefault(),D.e.stopImmediatePropagation()},N=function(e){var t=e.document.documentElement,n=Object(D.k)(e).on("dragstart.drag",T,!0);"onselectstart"in t?n.on("selectstart.drag",T,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")};function I(e,t){var n=e.document.documentElement,i=Object(D.k)(e).on("dragstart.drag",null);t&&(i.on("click.drag",T,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var L=function(e){return function(){return e}};function R(e,t,n,i,r,s,a,o,l,c){this.target=e,this.type=t,this.subject=n,this.identifier=i,this.active=r,this.x=s,this.y=a,this.dx=o,this.dy=l,this._=c}function A(){return!D.e.button}function F(){return this.parentNode}function q(e){return null==e?{x:D.e.x,y:D.e.y}:e}function M(){return"ontouchstart"in this}R.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var B,$,V=function(){var e,t,n,i,r=A,s=F,a=q,o=M,l={},c=E("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(o).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!i&&r.apply(this,arguments)){var a=y("mouse",s.apply(this,arguments),D.h,this,arguments);a&&(Object(D.k)(D.e.view).on("mousemove.drag",p,!0).on("mouseup.drag",m,!0),N(D.e.view),P(),n=!1,e=D.e.clientX,t=D.e.clientY,a("start"))}}function p(){if(T(),!n){var i=D.e.clientX-e,r=D.e.clientY-t;n=i*i+r*r>d}l.mouse("drag")}function m(){Object(D.k)(D.e.view).on("mousemove.drag mouseup.drag",null),I(D.e.view,n),T(),l.mouse("end")}function g(){if(r.apply(this,arguments)){var e,t,n=D.e.changedTouches,i=s.apply(this,arguments),a=n.length;for(e=0;e<a;++e)(t=y(n[e].identifier,i,D.q,this,arguments))&&(P(),t("start"))}}function v(){var e,t,n=D.e.changedTouches,i=n.length;for(e=0;e<i;++e)(t=l[n[e].identifier])&&(T(),t("drag"))}function b(){var e,t,n=D.e.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),e=0;e<r;++e)(t=l[n[e].identifier])&&(P(),t("end"))}function y(e,t,n,i,r){var s,o,d,h=n(t,e),p=c.copy();if(Object(D.d)(new R(f,"beforestart",s,e,u,h[0],h[1],0,0,p),(function(){return null!=(D.e.subject=s=a.apply(i,r))&&(o=s.x-h[0]||0,d=s.y-h[1]||0,!0)})))return function a(c){var m,g=h;switch(c){case"start":l[e]=a,m=u++;break;case"end":delete l[e],--u;case"drag":h=n(t,e),m=u}Object(D.d)(new R(f,c,s,e,m,h[0]+o,h[1]+d,h[0]-g[0],h[1]-g[1],p),p.apply,p,[c,i,r])}}return f.filter=function(e){return arguments.length?(r="function"==typeof e?e:L(!!e),f):r},f.container=function(e){return arguments.length?(s="function"==typeof e?e:L(e),f):s},f.subject=function(e){return arguments.length?(a="function"==typeof e?e:L(e),f):a},f.touchable=function(e){return arguments.length?(o="function"==typeof e?e:L(!!e),f):o},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f},U=n("YJlI"),G=0,H=0,z=0,W=1e3,Q=0,K=0,Y=0,X="object"==typeof performance&&performance.now?performance:Date,J="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Z(){return K||(J(ee),K=X.now()+Y)}function ee(){K=0}function te(){this._call=this._time=this._next=null}function ne(e,t,n){var i=new te;return i.restart(e,t,n),i}function ie(){Z(),++G;for(var e,t=B;t;)(e=K-t._time)>=0&&t._call.call(null,e),t=t._next;--G}function re(){K=(Q=X.now())+Y,G=H=0;try{ie()}finally{G=0,function(){var e,t,n=B,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:B=t);$=e,ae(i)}(),K=0}}function se(){var e=X.now(),t=e-Q;t>W&&(Y-=t,Q=e)}function ae(e){G||(H&&(H=clearTimeout(H)),e-K>24?(e<1/0&&(H=setTimeout(re,e-X.now()-Y)),z&&(z=clearInterval(z))):(z||(Q=X.now(),z=setInterval(se,W)),G=1,J(re)))}te.prototype=ne.prototype={constructor:te,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Z():+n)+(null==t?0:+t),this._next||$===this||($?$._next=this:B=this,$=this),this._call=e,this._time=n,ae()},stop:function(){this._call&&(this._call=null,this._time=1/0,ae())}};var oe=function(e,t,n){var i=new te;return t=null==t?0:+t,i.restart((function(n){i.stop(),e(n+t)}),t,n),i},le=function(e,t,n){var i=new te,r=t;return null==t?(i.restart(e,t,n),i):(t=+t,n=null==n?Z():+n,i.restart((function s(a){a+=r,i.restart(s,r+=t,n),e(a)}),t,n),i)},ce=E("start","end","interrupt"),ue=[],de=0,fe=1,he=2,pe=3,me=4,ge=5,ve=6,be=function(e,t,n,i,r,s){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var i,r=e.__transition;function s(l){var c,u,d,f;if(n.state!==fe)return o();for(c in r)if((f=r[c]).name===n.name){if(f.state===pe)return oe(s);f.state===me?(f.state=ve,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<t&&(f.state=ve,f.timer.stop(),delete r[c])}if(oe((function(){n.state===pe&&(n.state=me,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=he,n.on.call("start",e,e.__data__,n.index,n.group),n.state===he){for(n.state=pe,i=new Array(d=n.tween.length),c=0,u=-1;c<d;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=f);i.length=u+1}}function a(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(o),n.state=ge,1),s=-1,a=i.length;++s<a;)i[s].call(null,r);n.state===ge&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){for(var i in n.state=ve,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ne((function(e){n.state=fe,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}),0,n.time)}(e,n,{name:t,index:i,group:r,on:ce,tween:ue,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:de})};function ye(e,t){var n=we(e,t);if(n.state>de)throw new Error("too late; already scheduled");return n}function _e(e,t){var n=we(e,t);if(n.state>he)throw new Error("too late; already started");return n}function we(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}var Oe=function(e,t){var n,i,r,s=e.__transition,a=!0;if(s){for(r in t=null==t?null:t+"",s)(n=s[r]).name===t?(i=n.state>he&&n.state<ge,n.state=ve,n.timer.stop(),i&&n.on.call("interrupt",e,e.__data__,n.index,n.group),delete s[r]):a=!1;a&&delete e.__transition}};function ke(e,t){var n,i;return function(){var r=_e(this,e),s=r.tween;if(s!==n)for(var a=0,o=(i=n=s).length;a<o;++a)if(i[a].name===t){(i=i.slice()).splice(a,1);break}r.tween=i}}function Se(e,t,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var s=_e(this,e),a=s.tween;if(a!==i){r=(i=a).slice();for(var o={name:t,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===t){r[l]=o;break}l===c&&r.push(o)}s.tween=r}}function je(e,t,n){var i=e._id;return e.each((function(){var e=_e(this,i);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return we(e,i).value[t]}}var Ce=n("eq7s"),xe=function(e,t){var n;return("number"==typeof t?U.m:t instanceof Ce.a?U.o:(n=Object(Ce.a)(t))?(t=n,U.o):U.s)(e,t)};function Ee(e){return function(){this.removeAttribute(e)}}function De(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pe(e,t,n){var i,r;return function(){var s=this.getAttribute(e);return s===n?null:s===i?r:r=t(i=s,n)}}function Te(e,t,n){var i,r;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===i?r:r=t(i=s,n)}}function Ne(e,t,n){var i,r,s;return function(){var a,o=n(this);if(null!=o)return(a=this.getAttribute(e))===o?null:a===i&&o===r?s:s=t(i=a,r=o);this.removeAttribute(e)}}function Ie(e,t,n){var i,r,s;return function(){var a,o=n(this);if(null!=o)return(a=this.getAttributeNS(e.space,e.local))===o?null:a===i&&o===r?s:s=t(i=a,r=o);this.removeAttributeNS(e.space,e.local)}}function Le(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttributeNS(e.space,e.local,i(t))}}return n._value=t,n}function Re(e,t){function n(){var n=this,i=t.apply(n,arguments);return i&&function(t){n.setAttribute(e,i(t))}}return n._value=t,n}function Ae(e,t){return function(){ye(this,e).delay=+t.apply(this,arguments)}}function Fe(e,t){return t=+t,function(){ye(this,e).delay=t}}function qe(e,t){return function(){_e(this,e).duration=+t.apply(this,arguments)}}function Me(e,t){return t=+t,function(){_e(this,e).duration=t}}function Be(e,t){if("function"!=typeof t)throw new Error;return function(){_e(this,e).ease=t}}function $e(e,t,n){var i,r,s=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?ye:_e;return function(){var a=s(this,e),o=a.on;o!==i&&(r=(i=o).copy()).on(t,n),a.on=r}}var Ve=D.m.prototype.constructor;function Ue(e,t,n){function i(){var i=this,r=t.apply(i,arguments);return r&&function(t){i.style.setProperty(e,r(t),n)}}return i._value=t,i}var Ge=0;function He(e,t,n,i){this._groups=e,this._parents=t,this._name=n,this._id=i}function ze(e){return Object(D.m)().transition(e)}function We(){return++Ge}var Qe=D.m.prototype;function Ke(e){return+e}function Ye(e){return e*e}function Xe(e){return e*(2-e)}function Je(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function Ze(e){return e*e*e}function et(e){return--e*e*e+1}function tt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}He.prototype=ze.prototype={constructor:He,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(D.n)(e));for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a)for(var o,l,c=i[a],u=c.length,d=s[a]=new Array(u),f=0;f<u;++f)(o=c[f])&&(l=e.call(o,o.__data__,f,c))&&("__data__"in o&&(l.__data__=o.__data__),d[f]=l,be(d[f],t,n,f,d,we(o,n)));return new He(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Object(D.o)(e));for(var i=this._groups,r=i.length,s=[],a=[],o=0;o<r;++o)for(var l,c=i[o],u=c.length,d=0;d<u;++d)if(l=c[d]){for(var f,h=e.call(l,l.__data__,d,c),p=we(l,n),m=0,g=h.length;m<g;++m)(f=h[m])&&be(f,t,n,m,h,p);s.push(h),a.push(l)}return new He(s,a,t,n)},filter:function(e){"function"!=typeof e&&(e=Object(D.g)(e));for(var t=this._groups,n=t.length,i=new Array(n),r=0;r<n;++r)for(var s,a=t[r],o=a.length,l=i[r]=[],c=0;c<o;++c)(s=a[c])&&e.call(s,s.__data__,c,a)&&l.push(s);return new He(i,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,i=t.length,r=n.length,s=Math.min(i,r),a=new Array(i),o=0;o<s;++o)for(var l,c=t[o],u=n[o],d=c.length,f=a[o]=new Array(d),h=0;h<d;++h)(l=c[h]||u[h])&&(f[h]=l);for(;o<i;++o)a[o]=t[o];return new He(a,this._parents,this._name,this._id)},selection:function(){return new Ve(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=We(),i=this._groups,r=i.length,s=0;s<r;++s)for(var a,o=i[s],l=o.length,c=0;c<l;++c)if(a=o[c]){var u=we(a,t);be(a,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new He(i,this._parents,e,n)},call:Qe.call,nodes:Qe.nodes,node:Qe.node,size:Qe.size,empty:Qe.empty,each:Qe.each,on:function(e,t){var n=this._id;return arguments.length<2?we(this.node(),n).on.on(e):this.each($e(n,e,t))},attr:function(e,t){var n=Object(D.i)(e),i="transform"===n?U.u:xe;return this.attrTween(e,"function"==typeof t?(n.local?Ie:Ne)(n,i,je(this,"attr."+e,t)):null==t?(n.local?De:Ee)(n):(n.local?Te:Pe)(n,i,t+""))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var i=Object(D.i)(e);return this.tween(n,(i.local?Le:Re)(i,t))},style:function(e,t,n){var i="transform"==(e+="")?U.t:xe;return null==t?this.styleTween(e,function(e,t){var n,i,r;return function(){var s=Object(D.p)(this,e),a=(this.style.removeProperty(e),Object(D.p)(this,e));return s===a?null:s===n&&a===i?r:r=t(n=s,i=a)}}(e,i)).on("end.style."+e,function(e){return function(){this.style.removeProperty(e)}}(e)):this.styleTween(e,"function"==typeof t?function(e,t,n){var i,r,s;return function(){var a=Object(D.p)(this,e),o=n(this);return null==o&&(this.style.removeProperty(e),o=Object(D.p)(this,e)),a===o?null:a===i&&o===r?s:s=t(i=a,r=o)}}(e,i,je(this,"style."+e,t)):function(e,t,n){var i,r;return function(){var s=Object(D.p)(this,e);return s===n?null:s===i?r:r=t(i=s,n)}}(e,i,t+""),n)},styleTween:function(e,t,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,Ue(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(je(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}));var e},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var i,r=we(this.node(),n).tween,s=0,a=r.length;s<a;++s)if((i=r[s]).name===e)return i.value;return null}return this.each((null==t?ke:Se)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?Ae:Fe)(t,e)):we(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?qe:Me)(t,e)):we(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(Be(t,e)):we(this.node(),t).ease}};var nt=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),it=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),rt=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),st=Math.PI,at=st/2;function ot(e){return 1-Math.cos(e*at)}function lt(e){return Math.sin(e*at)}function ct(e){return(1-Math.cos(st*e))/2}function ut(e){return Math.pow(2,10*e-10)}function dt(e){return 1-Math.pow(2,-10*e)}function ft(e){return((e*=2)<=1?Math.pow(2,10*e-10):2-Math.pow(2,10-10*e))/2}function ht(e){return 1-Math.sqrt(1-e*e)}function pt(e){return Math.sqrt(1- --e*e)}function mt(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var gt=4/11,vt=6/11,bt=8/11,yt=.75,_t=9/11,wt=10/11,Ot=.9375,kt=21/22,St=63/64,jt=1/gt/gt;function Ct(e){return 1-xt(1-e)}function xt(e){return(e=+e)<gt?jt*e*e:e<bt?jt*(e-=vt)*e+yt:e<wt?jt*(e-=_t)*e+Ot:jt*(e-=kt)*e+St}function Et(e){return((e*=2)<=1?1-xt(1-e):xt(e-1)+1)/2}var Dt=function e(t){function n(e){return e*e*((t+1)*e-t)}return t=+t,n.overshoot=e,n}(1.70158),Pt=function e(t){function n(e){return--e*e*((t+1)*e+t)+1}return t=+t,n.overshoot=e,n}(1.70158),Tt=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(1.70158),Nt=2*Math.PI,It=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Nt);function r(e){return t*Math.pow(2,10*--e)*Math.sin((i-e)/n)}return r.amplitude=function(t){return e(t,n*Nt)},r.period=function(n){return e(t,n)},r}(1,.3),Lt=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Nt);function r(e){return 1-t*Math.pow(2,-10*(e=+e))*Math.sin((e+i)/n)}return r.amplitude=function(t){return e(t,n*Nt)},r.period=function(n){return e(t,n)},r}(1,.3),Rt=function e(t,n){var i=Math.asin(1/(t=Math.max(1,t)))*(n/=Nt);function r(e){return((e=2*e-1)<0?t*Math.pow(2,10*e)*Math.sin((i-e)/n):2-t*Math.pow(2,-10*e)*Math.sin((i+e)/n))/2}return r.amplitude=function(t){return e(t,n*Nt)},r.period=function(n){return e(t,n)},r}(1,.3),At={time:null,delay:0,duration:250,ease:tt};function Ft(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))return At.time=Z(),At;return n}D.m.prototype.interrupt=function(e){return this.each((function(){Oe(this,e)}))},D.m.prototype.transition=function(e){var t,n;e instanceof He?(t=e._id,e=e._name):(t=We(),(n=At).time=Z(),e=null==e?null:e+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var a,o=i[s],l=o.length,c=0;c<l;++c)(a=o[c])&&be(a,e,t,c,o,n||Ft(a,t));return new He(i,this._parents,e,t)};var qt=[null],Mt=function(e,t){var n,i,r=e.__transition;if(r)for(i in t=null==t?null:t+"",r)if((n=r[i]).state>fe&&n.name===t)return new He([[e]],qt,t,+i);return null},Bt=function(e){return function(){return e}},$t=function(e,t,n){this.target=e,this.type=t,this.selection=n};function Vt(){D.e.stopImmediatePropagation()}var Ut=function(){D.e.preventDefault(),D.e.stopImmediatePropagation()},Gt={name:"drag"},Ht={name:"space"},zt={name:"handle"},Wt={name:"center"},Qt={name:"x",handles:["e","w"].map(nn),input:function(e,t){return e&&[[e[0],t[0][1]],[e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Kt={name:"y",handles:["n","s"].map(nn),input:function(e,t){return e&&[[t[0][0],e[0]],[t[1][0],e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Yt={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(nn),input:function(e){return e},output:function(e){return e}},Xt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Jt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Zt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},en={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},tn={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function nn(e){return{type:e}}function rn(){return!D.e.button}function sn(){var e=this.ownerSVGElement||this;return[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function an(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function on(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function ln(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function cn(){return fn(Qt)}function un(){return fn(Kt)}var dn=function(){return fn(Yt)};function fn(e){var t,n=sn,i=rn,r=E(a,"start","brush","end"),s=6;function a(t){var n=t.property("__brush",d).selectAll(".overlay").data([nn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Xt.overlay).merge(n).each((function(){var e=an(this).extent;Object(D.k)(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([nn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Xt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return Xt[e.type]})),t.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",u)}function o(){var e=Object(D.k)(this),t=an(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-s/2:t[0][0]-s/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-s/2:t[0][1]-s/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+s:s})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+s:s}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(e,t){return e.__brush.emitter||new c(e,t)}function c(e,t){this.that=e,this.args=t,this.state=e.__brush,this.active=0}function u(){if(D.e.touches){if(D.e.changedTouches.length<D.e.touches.length)return Ut()}else if(t)return;if(i.apply(this,arguments)){var n,r,s,a,c,u,d,f,h,p,m,g,v,b=this,y=D.e.target.__data__.type,_="selection"===(D.e.metaKey?y="overlay":y)?Gt:D.e.altKey?Wt:zt,w=e===Kt?null:en[y],O=e===Qt?null:tn[y],k=an(b),S=k.extent,j=k.selection,C=S[0][0],x=S[0][1],E=S[1][0],P=S[1][1],T=w&&O&&D.e.shiftKey,L=Object(D.h)(b),R=L,A=l(b,arguments).beforestart();"overlay"===y?k.selection=j=[[n=e===Kt?C:L[0],s=e===Qt?x:L[1]],[c=e===Kt?E:n,d=e===Qt?P:s]]:(n=j[0][0],s=j[0][1],c=j[1][0],d=j[1][1]),r=n,a=s,u=c,f=d;var F=Object(D.k)(b).attr("pointer-events","none"),q=F.selectAll(".overlay").attr("cursor",Xt[y]);if(D.e.touches)F.on("touchmove.brush",B,!0).on("touchend.brush touchcancel.brush",V,!0);else{var M=Object(D.k)(D.e.view).on("keydown.brush",(function(){switch(D.e.keyCode){case 16:T=w&&O;break;case 18:_===zt&&(w&&(c=u-h*w,n=r+h*w),O&&(d=f-p*O,s=a+p*O),_=Wt,$());break;case 32:_!==zt&&_!==Wt||(w<0?c=u-h:w>0&&(n=r-h),O<0?d=f-p:O>0&&(s=a-p),_=Ht,q.attr("cursor",Xt.selection),$());break;default:return}Ut()}),!0).on("keyup.brush",(function(){switch(D.e.keyCode){case 16:T&&(g=v=T=!1,$());break;case 18:_===Wt&&(w<0?c=u:w>0&&(n=r),O<0?d=f:O>0&&(s=a),_=zt,$());break;case 32:_===Ht&&(D.e.altKey?(w&&(c=u-h*w,n=r+h*w),O&&(d=f-p*O,s=a+p*O),_=Wt):(w<0?c=u:w>0&&(n=r),O<0?d=f:O>0&&(s=a),_=zt),q.attr("cursor",Xt[y]),$());break;default:return}Ut()}),!0).on("mousemove.brush",B,!0).on("mouseup.brush",V,!0);N(D.e.view)}Vt(),Oe(b),o.call(b),A.start()}function B(){var e=Object(D.h)(b);!T||g||v||(Math.abs(e[0]-R[0])>Math.abs(e[1]-R[1])?v=!0:g=!0),R=e,m=!0,Ut(),$()}function $(){var e;switch(h=R[0]-L[0],p=R[1]-L[1],_){case Ht:case Gt:w&&(h=Math.max(C-n,Math.min(E-c,h)),r=n+h,u=c+h),O&&(p=Math.max(x-s,Math.min(P-d,p)),a=s+p,f=d+p);break;case zt:w<0?(h=Math.max(C-n,Math.min(E-n,h)),r=n+h,u=c):w>0&&(h=Math.max(C-c,Math.min(E-c,h)),r=n,u=c+h),O<0?(p=Math.max(x-s,Math.min(P-s,p)),a=s+p,f=d):O>0&&(p=Math.max(x-d,Math.min(P-d,p)),a=s,f=d+p);break;case Wt:w&&(r=Math.max(C,Math.min(E,n-h*w)),u=Math.max(C,Math.min(E,c+h*w))),O&&(a=Math.max(x,Math.min(P,s-p*O)),f=Math.max(x,Math.min(P,d+p*O)))}u<r&&(w*=-1,e=n,n=c,c=e,e=r,r=u,u=e,y in Jt&&q.attr("cursor",Xt[y=Jt[y]])),f<a&&(O*=-1,e=s,s=d,d=e,e=a,a=f,f=e,y in Zt&&q.attr("cursor",Xt[y=Zt[y]])),k.selection&&(j=k.selection),g&&(r=j[0][0],u=j[1][0]),v&&(a=j[0][1],f=j[1][1]),j[0][0]===r&&j[0][1]===a&&j[1][0]===u&&j[1][1]===f||(k.selection=[[r,a],[u,f]],o.call(b),A.brush())}function V(){if(Vt(),D.e.touches){if(D.e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500),F.on("touchmove.brush touchend.brush touchcancel.brush",null)}else I(D.e.view,m),M.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);F.attr("pointer-events","all"),q.attr("cursor",Xt.overlay),k.selection&&(j=k.selection),on(j)&&(k.selection=null,o.call(b)),A.end()}}function d(){var t=this.__brush||{selection:null};return t.extent=n.apply(this,arguments),t.dim=e,t}return a.move=function(t,n){t.selection?t.on("start.brush",(function(){l(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){l(this,arguments).end()})).tween("brush",(function(){var t=this,i=t.__brush,r=l(t,arguments),s=i.selection,a=e.input("function"==typeof n?n.apply(this,arguments):n,i.extent),c=Object(U.a)(s,a);function u(e){i.selection=1===e&&on(a)?null:c(e),o.call(t),r.brush()}return s&&a?u:u(1)})):t.each((function(){var t=this,i=arguments,r=t.__brush,s=e.input("function"==typeof n?n.apply(t,i):n,r.extent),a=l(t,i).beforestart();Oe(t),r.selection=null==s||on(s)?null:s,o.call(t),a.start().brush().end()}))},c.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Object(D.d)(new $t(a,t,e.output(this.state.selection)),r.apply,r,[t,this.that,this.args])}},a.extent=function(e){return arguments.length?(n="function"==typeof e?e:Bt([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),a):n},a.filter=function(e){return arguments.length?(i="function"==typeof e?e:Bt(!!e),a):i},a.handleSize=function(e){return arguments.length?(s=+e,a):s},a.on=function(){var e=r.on.apply(r,arguments);return e===r?a:e},a}var hn=Math.cos,pn=Math.sin,mn=Math.PI,gn=mn/2,vn=2*mn,bn=Math.max;function yn(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}var _n=function(){var e=0,t=null,n=null,i=null;function s(s){var a,o,l,c,u,d,f=s.length,h=[],p=Object(r.s)(f),m=[],g=[],v=g.groups=new Array(f),b=new Array(f*f);for(a=0,u=-1;++u<f;){for(o=0,d=-1;++d<f;)o+=s[u][d];h.push(o),m.push(Object(r.s)(f)),a+=o}for(t&&p.sort((function(e,n){return t(h[e],h[n])})),n&&m.forEach((function(e,t){e.sort((function(e,i){return n(s[t][e],s[t][i])}))})),c=(a=bn(0,vn-e*f)/a)?e:vn/f,o=0,u=-1;++u<f;){for(l=o,d=-1;++d<f;){var y=p[u],_=m[y][d],w=s[y][_],O=o,k=o+=w*a;b[_*f+y]={index:y,subindex:_,startAngle:O,endAngle:k,value:w}}v[y]={index:y,startAngle:l,endAngle:o,value:h[y]},o+=c}for(u=-1;++u<f;)for(d=u-1;++d<f;){var S=b[d*f+u],j=b[u*f+d];(S.value||j.value)&&g.push(S.value<j.value?{source:j,target:S}:{source:S,target:j})}return i?g.sort(i):g}return s.padAngle=function(t){return arguments.length?(e=bn(0,t),s):e},s.sortGroups=function(e){return arguments.length?(t=e,s):t},s.sortSubgroups=function(e){return arguments.length?(n=e,s):n},s.sortChords=function(e){return arguments.length?(null==e?i=null:(i=yn(e))._=e,s):i&&i._},s},wn=Array.prototype.slice,On=function(e){return function(){return e}},kn=n("Mnjd");function Sn(e){return e.source}function jn(e){return e.target}function Cn(e){return e.radius}function xn(e){return e.startAngle}function En(e){return e.endAngle}var Dn=function(){var e=Sn,t=jn,n=Cn,i=xn,r=En,s=null;function a(){var a,o=wn.call(arguments),l=e.apply(this,o),c=t.apply(this,o),u=+n.apply(this,(o[0]=l,o)),d=i.apply(this,o)-gn,f=r.apply(this,o)-gn,h=u*hn(d),p=u*pn(d),m=+n.apply(this,(o[0]=c,o)),g=i.apply(this,o)-gn,v=r.apply(this,o)-gn;if(s||(s=a=Object(kn.a)()),s.moveTo(h,p),s.arc(0,0,u,d,f),d===g&&f===v||(s.quadraticCurveTo(0,0,m*hn(g),m*pn(g)),s.arc(0,0,m,g,v)),s.quadraticCurveTo(0,0,h,p),s.closePath(),a)return s=null,a+""||null}return a.radius=function(e){return arguments.length?(n="function"==typeof e?e:On(+e),a):n},a.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:On(+e),a):i},a.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:On(+e),a):r},a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(e){return arguments.length?(t=e,a):t},a.context=function(e){return arguments.length?(s=null==e?null:e,a):s},a},Pn=n("bKga"),Tn=Array.prototype.slice,Nn=function(e,t){return e-t},In=function(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i},Ln=function(e){return function(){return e}},Rn=function(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=An(e,t[i]))return n;return 0};function An(e,t){for(var n=t[0],i=t[1],r=-1,s=0,a=e.length,o=a-1;s<a;o=s++){var l=e[s],c=l[0],u=l[1],d=e[o],f=d[0],h=d[1];if(Fn(l,d,t))return 0;u>i!=h>i&&n<(f-c)*(i-u)/(h-u)+c&&(r=-r)}return r}function Fn(e,t,n){var i,r,s,a;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(r=e[i=+(e[0]===t[0])],s=n[i],a=t[i],r<=s&&s<=a||a<=s&&s<=r)}var qn=function(){},Mn=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Bn=function(){var e=1,t=1,n=r.y,i=l;function s(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(Nn);else{var i=Object(r.i)(e),s=i[0],o=i[1];t=Object(r.A)(s,o,t),t=Object(r.s)(Math.floor(s/t)*t,Math.floor(o/t)*t,t)}return t.map((function(t){return a(e,t)}))}function a(n,r){var s=[],a=[];return function(n,i,r){var s,a,l,c,u,d,f=new Array,h=new Array;s=a=-1,c=n[0]>=i,Mn[c<<1].forEach(p);for(;++s<e-1;)l=c,c=n[s+1]>=i,Mn[l|c<<1].forEach(p);Mn[c<<0].forEach(p);for(;++a<t-1;){for(s=-1,c=n[a*e+e]>=i,u=n[a*e]>=i,Mn[c<<1|u<<2].forEach(p);++s<e-1;)l=c,c=n[a*e+e+s+1]>=i,d=u,u=n[a*e+s+1]>=i,Mn[l|c<<1|u<<2|d<<3].forEach(p);Mn[c|u<<3].forEach(p)}s=-1,u=n[a*e]>=i,Mn[u<<2].forEach(p);for(;++s<e-1;)d=u,u=n[a*e+s+1]>=i,Mn[u<<2|d<<3].forEach(p);function p(e){var t,n,i=[e[0][0]+s,e[0][1]+a],l=[e[1][0]+s,e[1][1]+a],c=o(i),u=o(l);(t=h[c])?(n=f[u])?(delete h[t.end],delete f[n.start],t===n?(t.ring.push(l),r(t.ring)):f[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(l),h[t.end=u]=t):(t=f[u])?(n=h[c])?(delete f[t.start],delete h[n.end],t===n?(t.ring.push(l),r(t.ring)):f[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete f[t.start],t.ring.unshift(i),f[t.start=c]=t):f[c]=h[u]={start:c,end:u,ring:[i,l]}}Mn[u<<3].forEach(p)}(n,r,(function(e){i(e,n,r),In(e)>0?s.push([e]):a.push(e)})),a.forEach((function(e){for(var t,n=0,i=s.length;n<i;++n)if(-1!==Rn((t=s[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:r,coordinates:s}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function l(n,i,r){n.forEach((function(n){var s,a=n[0],o=n[1],l=0|a,c=0|o,u=i[c*e+l];a>0&&a<e&&l===a&&(s=i[c*e+l-1],n[0]=a+(r-s)/(u-s)-.5),o>0&&o<t&&c===o&&(s=i[(c-1)*e+l],n[1]=o+(r-s)/(u-s)-.5)}))}return s.contour=a,s.size=function(n){if(!arguments.length)return[e,t];var i=Math.ceil(n[0]),r=Math.ceil(n[1]);if(!(i>0&&r>0))throw new Error("invalid size");return e=i,t=r,s},s.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?Ln(Tn.call(e)):Ln(e),s):n},s.smooth=function(e){return arguments.length?(i=e?l:qn,s):i===l},s};function $n(e,t,n){for(var i=e.width,r=e.height,s=1+(n<<1),a=0;a<r;++a)for(var o=0,l=0;o<i+n;++o)o<i&&(l+=e.data[o+a*i]),o>=n&&(o>=s&&(l-=e.data[o-s+a*i]),t.data[o-n+a*i]=l/Math.min(o+1,i-1+s-o,s))}function Vn(e,t,n){for(var i=e.width,r=e.height,s=1+(n<<1),a=0;a<i;++a)for(var o=0,l=0;o<r+n;++o)o<r&&(l+=e.data[a+o*i]),o>=n&&(o>=s&&(l-=e.data[a+(o-s)*i]),t.data[a+(o-n)*i]=l/Math.min(o+1,r-1+s-o,s))}function Un(e){return e[0]}function Gn(e){return e[1]}function Hn(){return 1}var zn=function(){var e=Un,t=Gn,n=Hn,i=960,s=500,a=20,o=2,l=3*a,c=i+2*l>>o,u=s+2*l>>o,d=Ln(20);function f(i){var s=new Float32Array(c*u),f=new Float32Array(c*u);i.forEach((function(i,r,a){var d=+e(i,r,a)+l>>o,f=+t(i,r,a)+l>>o,h=+n(i,r,a);d>=0&&d<c&&f>=0&&f<u&&(s[d+f*c]+=h)})),$n({width:c,height:u,data:s},{width:c,height:u,data:f},a>>o),Vn({width:c,height:u,data:f},{width:c,height:u,data:s},a>>o),$n({width:c,height:u,data:s},{width:c,height:u,data:f},a>>o),Vn({width:c,height:u,data:f},{width:c,height:u,data:s},a>>o),$n({width:c,height:u,data:s},{width:c,height:u,data:f},a>>o),Vn({width:c,height:u,data:f},{width:c,height:u,data:s},a>>o);var p=d(s);if(!Array.isArray(p)){var m=Object(r.k)(s);p=Object(r.A)(0,m,p),(p=Object(r.s)(0,Math.floor(m/p)*p,p)).shift()}return Bn().thresholds(p).size([c,u])(s).map(h)}function h(e){return e.value*=Math.pow(2,-2*o),e.coordinates.forEach(p),e}function p(e){e.forEach(m)}function m(e){e.forEach(g)}function g(e){e[0]=e[0]*Math.pow(2,o)-l,e[1]=e[1]*Math.pow(2,o)-l}function v(){return c=i+2*(l=3*a)>>o,u=s+2*l>>o,f}return f.x=function(t){return arguments.length?(e="function"==typeof t?t:Ln(+t),f):e},f.y=function(e){return arguments.length?(t="function"==typeof e?e:Ln(+e),f):t},f.weight=function(e){return arguments.length?(n="function"==typeof e?e:Ln(+e),f):n},f.size=function(e){if(!arguments.length)return[i,s];var t=Math.ceil(e[0]),n=Math.ceil(e[1]);if(!(t>=0||t>=0))throw new Error("invalid size");return i=t,s=n,v()},f.cellSize=function(e){if(!arguments.length)return 1<<o;if(!((e=+e)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(e)/Math.LN2),v()},f.thresholds=function(e){return arguments.length?(d="function"==typeof e?e:Array.isArray(e)?Ln(Tn.call(e)):Ln(e),f):d},f.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*e*e+1)-1)/2),v()},f},Wn={},Qn={},Kn=34,Yn=10,Xn=13;function Jn(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}")}var Zn=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function i(e,t){var i,r=[],s=e.length,a=0,o=0,l=s<=0,c=!1;function u(){if(l)return Qn;if(c)return c=!1,Wn;var t,i,r=a;if(e.charCodeAt(r)===Kn){for(;a++<s&&e.charCodeAt(a)!==Kn||e.charCodeAt(++a)===Kn;);return(t=a)>=s?l=!0:(i=e.charCodeAt(a++))===Yn?c=!0:i===Xn&&(c=!0,e.charCodeAt(a)===Yn&&++a),e.slice(r+1,t-1).replace(/""/g,'"')}for(;a<s;){if((i=e.charCodeAt(t=a++))===Yn)c=!0;else if(i===Xn)c=!0,e.charCodeAt(a)===Yn&&++a;else if(i!==n)continue;return e.slice(r,t)}return l=!0,e.slice(r,s)}for(e.charCodeAt(s-1)===Yn&&--s,e.charCodeAt(s-1)===Xn&&--s;(i=u())!==Qn;){for(var d=[];i!==Wn&&i!==Qn;)d.push(i),i=u();t&&null==(d=t(d,o++))||r.push(d)}return r}function r(t){return t.map(s).join(e)}function s(e){return null==e?"":t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,s=i(e,(function(e,i){if(n)return n(e,i-1);r=e,n=t?function(e,t){var n=Jn(e);return function(i,r){return t(n(i),r,e)}}(e,t):Jn(e)}));return s.columns=r||[],s},parseRows:i,format:function(t,n){return null==n&&(n=function(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}(t)),[n.map(s).join(e)].concat(t.map((function(t){return n.map((function(e){return s(t[e])})).join(e)}))).join("\n")},formatRows:function(e){return e.map(r).join("\n")}}},ei=Zn(","),ti=ei.parse,ni=ei.parseRows,ii=ei.format,ri=ei.formatRows,si=Zn("\t"),ai=si.parse,oi=si.parseRows,li=si.format,ci=si.formatRows;function ui(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}var di=function(e,t){return fetch(e,t).then(ui)};function fi(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}var hi=function(e,t){return fetch(e,t).then(fi)};function pi(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}var mi=function(e,t){return fetch(e,t).then(pi)};function gi(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),mi(t,n).then((function(t){return e(t,i)}))}}function vi(e,t,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Zn(e);return mi(t,n).then((function(e){return r.parse(e,i)}))}var bi=gi(ti),yi=gi(ai),_i=function(e,t){return new Promise((function(n,i){var r=new Image;for(var s in t)r[s]=t[s];r.onerror=i,r.onload=function(){n(r)},r.src=e}))};function wi(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.json()}var Oi=function(e,t){return fetch(e,t).then(wi)};function ki(e){return function(t,n){return mi(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}var Si=ki("application/xml"),ji=ki("text/html"),Ci=ki("image/svg+xml"),xi=function(e,t){var n;function i(){var i,r,s=n.length,a=0,o=0;for(i=0;i<s;++i)a+=(r=n[i]).x,o+=r.y;for(a=a/s-e,o=o/s-t,i=0;i<s;++i)(r=n[i]).x-=a,r.y-=o}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i},Ei=function(e){return function(){return e}},Di=function(){return 1e-6*(Math.random()-.5)};function Pi(e,t,n,i){if(isNaN(t)||isNaN(n))return e;var r,s,a,o,l,c,u,d,f,h=e._root,p={data:i},m=e._x0,g=e._y0,v=e._x1,b=e._y1;if(!h)return e._root=p,e;for(;h.length;)if((c=t>=(s=(m+v)/2))?m=s:v=s,(u=n>=(a=(g+b)/2))?g=a:b=a,r=h,!(h=h[d=u<<1|c]))return r[d]=p,e;if(o=+e._x.call(null,h.data),l=+e._y.call(null,h.data),t===o&&n===l)return p.next=h,r?r[d]=p:e._root=p,e;do{r=r?r[d]=new Array(4):e._root=new Array(4),(c=t>=(s=(m+v)/2))?m=s:v=s,(u=n>=(a=(g+b)/2))?g=a:b=a}while((d=u<<1|c)==(f=(l>=a)<<1|o>=s));return r[f]=h,r[d]=p,e}var Ti=function(e,t,n,i,r){this.node=e,this.x0=t,this.y0=n,this.x1=i,this.y1=r};function Ni(e){return e[0]}function Ii(e){return e[1]}function Li(e,t,n){var i=new Ri(null==t?Ni:t,null==n?Ii:n,NaN,NaN,NaN,NaN);return null==e?i:i.addAll(e)}function Ri(e,t,n,i,r,s){this._x=e,this._y=t,this._x0=n,this._y0=i,this._x1=r,this._y1=s,this._root=void 0}function Ai(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Fi=Li.prototype=Ri.prototype;function qi(e){return e.x+e.vx}function Mi(e){return e.y+e.vy}Fi.copy=function(){var e,t,n=new Ri(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Ai(i),n;for(e=[{source:i,target:n._root=new Array(4)}];i=e.pop();)for(var r=0;r<4;++r)(t=i.source[r])&&(t.length?e.push({source:t,target:i.target[r]=new Array(4)}):i.target[r]=Ai(t));return n},Fi.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return Pi(this.cover(t,n),t,n,e)},Fi.addAll=function(e){var t,n,i,r,s=e.length,a=new Array(s),o=new Array(s),l=1/0,c=1/0,u=-1/0,d=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(r=+this._y.call(null,t))||(a[n]=i,o[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>d&&(d=r));for(u<l&&(l=this._x0,u=this._x1),d<c&&(c=this._y0,d=this._y1),this.cover(l,c).cover(u,d),n=0;n<s;++n)Pi(this,a[n],o[n],e[n]);return this},Fi.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,r=this._x1,s=this._y1;if(isNaN(n))r=(n=Math.floor(e))+1,s=(i=Math.floor(t))+1;else{if(!(n>e||e>r||i>t||t>s))return this;var a,o,l=r-n,c=this._root;switch(o=(t<(i+s)/2)<<1|e<(n+r)/2){case 0:do{(a=new Array(4))[o]=c,c=a}while(s=i+(l*=2),e>(r=n+l)||t>s);break;case 1:do{(a=new Array(4))[o]=c,c=a}while(s=i+(l*=2),(n=r-l)>e||t>s);break;case 2:do{(a=new Array(4))[o]=c,c=a}while(i=s-(l*=2),e>(r=n+l)||i>t);break;case 3:do{(a=new Array(4))[o]=c,c=a}while(i=s-(l*=2),(n=r-l)>e||i>t)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=s,this},Fi.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},Fi.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Fi.find=function(e,t,n){var i,r,s,a,o,l,c,u=this._x0,d=this._y0,f=this._x1,h=this._y1,p=[],m=this._root;for(m&&p.push(new Ti(m,u,d,f,h)),null==n?n=1/0:(u=e-n,d=t-n,f=e+n,h=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(r=l.x0)>f||(s=l.y0)>h||(a=l.x1)<u||(o=l.y1)<d))if(m.length){var g=(r+a)/2,v=(s+o)/2;p.push(new Ti(m[3],g,v,a,o),new Ti(m[2],r,v,g,o),new Ti(m[1],g,s,a,v),new Ti(m[0],r,s,g,v)),(c=(t>=v)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var b=e-+this._x.call(null,m.data),y=t-+this._y.call(null,m.data),_=b*b+y*y;if(_<n){var w=Math.sqrt(n=_);u=e-w,d=t-w,f=e+w,h=t+w,i=m.data}}return i},Fi.remove=function(e){if(isNaN(s=+this._x.call(null,e))||isNaN(a=+this._y.call(null,e)))return this;var t,n,i,r,s,a,o,l,c,u,d,f,h=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!h)return this;if(h.length)for(;;){if((c=s>=(o=(p+g)/2))?p=o:g=o,(u=a>=(l=(m+v)/2))?m=l:v=l,t=h,!(h=h[d=u<<1|c]))return this;if(!h.length)break;(t[d+1&3]||t[d+2&3]||t[d+3&3])&&(n=t,f=d)}for(;h.data!==e;)if(i=h,!(h=h.next))return this;return(r=h.next)&&delete h.next,i?(r?i.next=r:delete i.next,this):t?(r?t[d]=r:delete t[d],(h=t[0]||t[1]||t[2]||t[3])&&h===(t[3]||t[2]||t[1]||t[0])&&!h.length&&(n?n[f]=h:this._root=h),this):(this._root=r,this)},Fi.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},Fi.root=function(){return this._root},Fi.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},Fi.visit=function(e){var t,n,i,r,s,a,o=[],l=this._root;for(l&&o.push(new Ti(l,this._x0,this._y0,this._x1,this._y1));t=o.pop();)if(!e(l=t.node,i=t.x0,r=t.y0,s=t.x1,a=t.y1)&&l.length){var c=(i+s)/2,u=(r+a)/2;(n=l[3])&&o.push(new Ti(n,c,u,s,a)),(n=l[2])&&o.push(new Ti(n,i,u,c,a)),(n=l[1])&&o.push(new Ti(n,c,r,s,u)),(n=l[0])&&o.push(new Ti(n,i,r,c,u))}return this},Fi.visitAfter=function(e){var t,n=[],i=[];for(this._root&&n.push(new Ti(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var r=t.node;if(r.length){var s,a=t.x0,o=t.y0,l=t.x1,c=t.y1,u=(a+l)/2,d=(o+c)/2;(s=r[0])&&n.push(new Ti(s,a,o,u,d)),(s=r[1])&&n.push(new Ti(s,u,o,l,d)),(s=r[2])&&n.push(new Ti(s,a,d,u,c)),(s=r[3])&&n.push(new Ti(s,u,d,l,c))}i.push(t)}for(;t=i.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},Fi.x=function(e){return arguments.length?(this._x=e,this):this._x},Fi.y=function(e){return arguments.length?(this._y=e,this):this._y};var Bi=function(e){var t,n,i=1,r=1;function s(){for(var e,s,o,l,c,u,d,f=t.length,h=0;h<r;++h)for(s=Li(t,qi,Mi).visitAfter(a),e=0;e<f;++e)o=t[e],u=n[o.index],d=u*u,l=o.x+o.vx,c=o.y+o.vy,s.visit(p);function p(e,t,n,r,s){var a=e.data,f=e.r,h=u+f;if(!a)return t>l+h||r<l-h||n>c+h||s<c-h;if(a.index>o.index){var p=l-a.x-a.vx,m=c-a.y-a.vy,g=p*p+m*m;g<h*h&&(0===p&&(g+=(p=Di())*p),0===m&&(g+=(m=Di())*m),g=(h-(g=Math.sqrt(g)))/g*i,o.vx+=(p*=g)*(h=(f*=f)/(d+f)),o.vy+=(m*=g)*h,a.vx-=p*(h=1-h),a.vy-=m*h)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function o(){if(t){var i,r,s=t.length;for(n=new Array(s),i=0;i<s;++i)r=t[i],n[r.index]=+e(r,i,t)}}return"function"!=typeof e&&(e=Ei(null==e?1:+e)),s.initialize=function(e){t=e,o()},s.iterations=function(e){return arguments.length?(r=+e,s):r},s.strength=function(e){return arguments.length?(i=+e,s):i},s.radius=function(t){return arguments.length?(e="function"==typeof t?t:Ei(+t),o(),s):e},s};function $i(e){return e.index}function Vi(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}var Ui=function(e){var t,n,i,r,s,a=$i,o=function(e){return 1/Math.min(r[e.source.index],r[e.target.index])},l=Ei(30),c=1;function u(i){for(var r=0,a=e.length;r<c;++r)for(var o,l,u,d,f,h,p,m=0;m<a;++m)l=(o=e[m]).source,d=(u=o.target).x+u.vx-l.x-l.vx||Di(),f=u.y+u.vy-l.y-l.vy||Di(),d*=h=((h=Math.sqrt(d*d+f*f))-n[m])/h*i*t[m],f*=h,u.vx-=d*(p=s[m]),u.vy-=f*p,l.vx+=d*(p=1-p),l.vy+=f*p}function d(){if(i){var o,l,c=i.length,u=e.length,d=Object(Pn.c)(i,a);for(o=0,r=new Array(c);o<u;++o)(l=e[o]).index=o,"object"!=typeof l.source&&(l.source=Vi(d,l.source)),"object"!=typeof l.target&&(l.target=Vi(d,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(o=0,s=new Array(u);o<u;++o)l=e[o],s[o]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);t=new Array(u),f(),n=new Array(u),h()}}function f(){if(i)for(var n=0,r=e.length;n<r;++n)t[n]=+o(e[n],n,e)}function h(){if(i)for(var t=0,r=e.length;t<r;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),u.initialize=function(e){i=e,d()},u.links=function(t){return arguments.length?(e=t,d(),u):e},u.id=function(e){return arguments.length?(a=e,u):a},u.iterations=function(e){return arguments.length?(c=+e,u):c},u.strength=function(e){return arguments.length?(o="function"==typeof e?e:Ei(+e),f(),u):o},u.distance=function(e){return arguments.length?(l="function"==typeof e?e:Ei(+e),h(),u):l},u};function Gi(e){return e.x}function Hi(e){return e.y}var zi=10,Wi=Math.PI*(3-Math.sqrt(5)),Qi=function(e){var t,n=1,i=.001,r=1-Math.pow(i,1/300),s=0,a=.6,o=Object(Pn.c)(),l=ne(u),c=E("tick","end");function u(){d(),c.call("tick",t),n<i&&(l.stop(),c.call("end",t))}function d(){var t,i,l=e.length;for(n+=(s-n)*r,o.each((function(e){e(n)})),t=0;t<l;++t)null==(i=e[t]).fx?i.x+=i.vx*=a:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=a:(i.y=i.fy,i.vy=0)}function f(){for(var t,n=0,i=e.length;n<i;++n){if((t=e[n]).index=n,isNaN(t.x)||isNaN(t.y)){var r=zi*Math.sqrt(n),s=n*Wi;t.x=r*Math.cos(s),t.y=r*Math.sin(s)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function h(t){return t.initialize&&t.initialize(e),t}return null==e&&(e=[]),f(),t={tick:d,restart:function(){return l.restart(u),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),o.each(h),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(i=+e,t):i},alphaDecay:function(e){return arguments.length?(r=+e,t):+r},alphaTarget:function(e){return arguments.length?(s=+e,t):s},velocityDecay:function(e){return arguments.length?(a=1-e,t):1-a},force:function(e,n){return arguments.length>1?(null==n?o.remove(e):o.set(e,h(n)),t):o.get(e)},find:function(t,n,i){var r,s,a,o,l,c=0,u=e.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(a=(r=t-(o=e[c]).x)*r+(s=n-o.y)*s)<i&&(l=o,i=a);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}},Ki=function(){var e,t,n,i,r=Ei(-30),s=1,a=1/0,o=.81;function l(i){var r,s=e.length,a=Li(e,Gi,Hi).visitAfter(u);for(n=i,r=0;r<s;++r)t=e[r],a.visit(d)}function c(){if(e){var t,n,s=e.length;for(i=new Array(s),t=0;t<s;++t)n=e[t],i[n.index]=+r(n,t,e)}}function u(e){var t,n,r,s,a,o=0,l=0;if(e.length){for(r=s=a=0;a<4;++a)(t=e[a])&&(n=Math.abs(t.value))&&(o+=t.value,l+=n,r+=n*t.x,s+=n*t.y);e.x=r/l,e.y=s/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{o+=i[t.data.index]}while(t=t.next)}e.value=o}function d(e,r,l,c){if(!e.value)return!0;var u=e.x-t.x,d=e.y-t.y,f=c-r,h=u*u+d*d;if(f*f/o<h)return h<a&&(0===u&&(h+=(u=Di())*u),0===d&&(h+=(d=Di())*d),h<s&&(h=Math.sqrt(s*h)),t.vx+=u*e.value*n/h,t.vy+=d*e.value*n/h),!0;if(!(e.length||h>=a)){(e.data!==t||e.next)&&(0===u&&(h+=(u=Di())*u),0===d&&(h+=(d=Di())*d),h<s&&(h=Math.sqrt(s*h)));do{e.data!==t&&(f=i[e.data.index]*n/h,t.vx+=u*f,t.vy+=d*f)}while(e=e.next)}}return l.initialize=function(t){e=t,c()},l.strength=function(e){return arguments.length?(r="function"==typeof e?e:Ei(+e),c(),l):r},l.distanceMin=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l.distanceMax=function(e){return arguments.length?(a=e*e,l):Math.sqrt(a)},l.theta=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l},Yi=function(e,t,n){var i,r,s,a=Ei(.1);function o(e){for(var a=0,o=i.length;a<o;++a){var l=i[a],c=l.x-t||1e-6,u=l.y-n||1e-6,d=Math.sqrt(c*c+u*u),f=(s[a]-d)*r[a]*e/d;l.vx+=c*f,l.vy+=u*f}}function l(){if(i){var t,n=i.length;for(r=new Array(n),s=new Array(n),t=0;t<n;++t)s[t]=+e(i[t],t,i),r[t]=isNaN(s[t])?0:+a(i[t],t,i)}}return"function"!=typeof e&&(e=Ei(+e)),null==t&&(t=0),null==n&&(n=0),o.initialize=function(e){i=e,l()},o.strength=function(e){return arguments.length?(a="function"==typeof e?e:Ei(+e),l(),o):a},o.radius=function(t){return arguments.length?(e="function"==typeof t?t:Ei(+t),l(),o):e},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(e){return arguments.length?(n=+e,o):n},o},Xi=function(e){var t,n,i,r=Ei(.1);function s(e){for(var r,s=0,a=t.length;s<a;++s)(r=t[s]).vx+=(i[s]-r.x)*n[s]*e}function a(){if(t){var s,a=t.length;for(n=new Array(a),i=new Array(a),s=0;s<a;++s)n[s]=isNaN(i[s]=+e(t[s],s,t))?0:+r(t[s],s,t)}}return"function"!=typeof e&&(e=Ei(null==e?0:+e)),s.initialize=function(e){t=e,a()},s.strength=function(e){return arguments.length?(r="function"==typeof e?e:Ei(+e),a(),s):r},s.x=function(t){return arguments.length?(e="function"==typeof t?t:Ei(+t),a(),s):e},s},Ji=function(e){var t,n,i,r=Ei(.1);function s(e){for(var r,s=0,a=t.length;s<a;++s)(r=t[s]).vy+=(i[s]-r.y)*n[s]*e}function a(){if(t){var s,a=t.length;for(n=new Array(a),i=new Array(a),s=0;s<a;++s)n[s]=isNaN(i[s]=+e(t[s],s,t))?0:+r(t[s],s,t)}}return"function"!=typeof e&&(e=Ei(null==e?0:+e)),s.initialize=function(e){t=e,a()},s.strength=function(e){return arguments.length?(r="function"==typeof e?e:Ei(+e),a(),s):r},s.y=function(t){return arguments.length?(e="function"==typeof t?t:Ei(+t),a(),s):e},s},Zi=n("pPhj"),er=function(){return new tr};function tr(){this.reset()}tr.prototype={constructor:tr,reset:function(){this.s=this.t=0},add:function(e){ir(nr,e,this.t),ir(this,nr.s,this.s),this.s?this.t+=nr.t:this.s=nr.t},valueOf:function(){return this.s}};var nr=new tr;function ir(e,t,n){var i=e.s=t+n,r=i-t,s=i-r;e.t=t-s+(n-r)}var rr=1e-6,sr=Math.PI,ar=sr/2,or=sr/4,lr=2*sr,cr=180/sr,ur=sr/180,dr=Math.abs,fr=Math.atan,hr=Math.atan2,pr=Math.cos,mr=Math.ceil,gr=Math.exp,vr=(Math.floor,Math.log),br=Math.pow,yr=Math.sin,_r=Math.sign||function(e){return e>0?1:e<0?-1:0},wr=Math.sqrt,Or=Math.tan;function kr(e){return e>1?0:e<-1?sr:Math.acos(e)}function Sr(e){return e>1?ar:e<-1?-ar:Math.asin(e)}function jr(e){return(e=yr(e/2))*e}function Cr(){}function xr(e,t){e&&Dr.hasOwnProperty(e.type)&&Dr[e.type](e,t)}var Er={Feature:function(e,t){xr(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)xr(n[i].geometry,t)}},Dr={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){Pr(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Pr(n[i],t,0)},Polygon:function(e,t){Tr(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)Tr(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)xr(n[i],t)}};function Pr(e,t,n){var i,r=-1,s=e.length-n;for(t.lineStart();++r<s;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function Tr(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)Pr(e[n],t,1);t.polygonEnd()}var Nr,Ir,Lr,Rr,Ar,Fr=function(e,t){e&&Er.hasOwnProperty(e.type)?Er[e.type](e,t):xr(e,t)},qr=er(),Mr=er(),Br={point:Cr,lineStart:Cr,lineEnd:Cr,polygonStart:function(){qr.reset(),Br.lineStart=$r,Br.lineEnd=Vr},polygonEnd:function(){var e=+qr;Mr.add(e<0?lr+e:e),this.lineStart=this.lineEnd=this.point=Cr},sphere:function(){Mr.add(lr)}};function $r(){Br.point=Ur}function Vr(){Gr(Nr,Ir)}function Ur(e,t){Br.point=Gr,Nr=e,Ir=t,Lr=e*=ur,Rr=pr(t=(t*=ur)/2+or),Ar=yr(t)}function Gr(e,t){var n=(e*=ur)-Lr,i=n>=0?1:-1,r=i*n,s=pr(t=(t*=ur)/2+or),a=yr(t),o=Ar*a,l=Rr*s+o*pr(r),c=o*i*yr(r);qr.add(hr(c,l)),Lr=e,Rr=s,Ar=a}var Hr=function(e){return Mr.reset(),Fr(e,Br),2*Mr};function zr(e){return[hr(e[1],e[0]),Sr(e[2])]}function Wr(e){var t=e[0],n=e[1],i=pr(n);return[i*pr(t),i*yr(t),yr(n)]}function Qr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Kr(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Yr(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Xr(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Jr(e){var t=wr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Zr,es,ts,ns,is,rs,ss,as,os,ls,cs=er(),us={point:ds,lineStart:hs,lineEnd:ps,polygonStart:function(){us.point=ms,us.lineStart=gs,us.lineEnd=vs,cs.reset(),Br.polygonStart()},polygonEnd:function(){Br.polygonEnd(),us.point=ds,us.lineStart=hs,us.lineEnd=ps,qr<0?(Zr=-(ts=180),es=-(ns=90)):cs>rr?ns=90:cs<-rr&&(es=-90),ls[0]=Zr,ls[1]=ts}};function ds(e,t){os.push(ls=[Zr=e,ts=e]),t<es&&(es=t),t>ns&&(ns=t)}function fs(e,t){var n=Wr([e*ur,t*ur]);if(as){var i=Kr(as,n),r=Kr([i[1],-i[0],0],i);Jr(r),r=zr(r);var s,a=e-is,o=a>0?1:-1,l=r[0]*cr*o,c=dr(a)>180;c^(o*is<l&&l<o*e)?(s=r[1]*cr)>ns&&(ns=s):c^(o*is<(l=(l+360)%360-180)&&l<o*e)?(s=-r[1]*cr)<es&&(es=s):(t<es&&(es=t),t>ns&&(ns=t)),c?e<is?bs(Zr,e)>bs(Zr,ts)&&(ts=e):bs(e,ts)>bs(Zr,ts)&&(Zr=e):ts>=Zr?(e<Zr&&(Zr=e),e>ts&&(ts=e)):e>is?bs(Zr,e)>bs(Zr,ts)&&(ts=e):bs(e,ts)>bs(Zr,ts)&&(Zr=e)}else os.push(ls=[Zr=e,ts=e]);t<es&&(es=t),t>ns&&(ns=t),as=n,is=e}function hs(){us.point=fs}function ps(){ls[0]=Zr,ls[1]=ts,us.point=ds,as=null}function ms(e,t){if(as){var n=e-is;cs.add(dr(n)>180?n+(n>0?360:-360):n)}else rs=e,ss=t;Br.point(e,t),fs(e,t)}function gs(){Br.lineStart()}function vs(){ms(rs,ss),Br.lineEnd(),dr(cs)>rr&&(Zr=-(ts=180)),ls[0]=Zr,ls[1]=ts,as=null}function bs(e,t){return(t-=e)<0?t+360:t}function ys(e,t){return e[0]-t[0]}function _s(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var ws,Os,ks,Ss,js,Cs,xs,Es,Ds,Ps,Ts,Ns,Is,Ls,Rs,As,Fs=function(e){var t,n,i,r,s,a,o;if(ns=ts=-(Zr=es=1/0),os=[],Fr(e,us),n=os.length){for(os.sort(ys),t=1,s=[i=os[0]];t<n;++t)_s(i,(r=os[t])[0])||_s(i,r[1])?(bs(i[0],r[1])>bs(i[0],i[1])&&(i[1]=r[1]),bs(r[0],i[1])>bs(i[0],i[1])&&(i[0]=r[0])):s.push(i=r);for(a=-1/0,t=0,i=s[n=s.length-1];t<=n;i=r,++t)r=s[t],(o=bs(i[1],r[0]))>a&&(a=o,Zr=r[0],ts=i[1])}return os=ls=null,Zr===1/0||es===1/0?[[NaN,NaN],[NaN,NaN]]:[[Zr,es],[ts,ns]]},qs={sphere:Cr,point:Ms,lineStart:$s,lineEnd:Gs,polygonStart:function(){qs.lineStart=Hs,qs.lineEnd=zs},polygonEnd:function(){qs.lineStart=$s,qs.lineEnd=Gs}};function Ms(e,t){e*=ur;var n=pr(t*=ur);Bs(n*pr(e),n*yr(e),yr(t))}function Bs(e,t,n){ks+=(e-ks)/++ws,Ss+=(t-Ss)/ws,js+=(n-js)/ws}function $s(){qs.point=Vs}function Vs(e,t){e*=ur;var n=pr(t*=ur);Ls=n*pr(e),Rs=n*yr(e),As=yr(t),qs.point=Us,Bs(Ls,Rs,As)}function Us(e,t){e*=ur;var n=pr(t*=ur),i=n*pr(e),r=n*yr(e),s=yr(t),a=hr(wr((a=Rs*s-As*r)*a+(a=As*i-Ls*s)*a+(a=Ls*r-Rs*i)*a),Ls*i+Rs*r+As*s);Os+=a,Cs+=a*(Ls+(Ls=i)),xs+=a*(Rs+(Rs=r)),Es+=a*(As+(As=s)),Bs(Ls,Rs,As)}function Gs(){qs.point=Ms}function Hs(){qs.point=Ws}function zs(){Qs(Ns,Is),qs.point=Ms}function Ws(e,t){Ns=e,Is=t,e*=ur,t*=ur,qs.point=Qs;var n=pr(t);Ls=n*pr(e),Rs=n*yr(e),As=yr(t),Bs(Ls,Rs,As)}function Qs(e,t){e*=ur;var n=pr(t*=ur),i=n*pr(e),r=n*yr(e),s=yr(t),a=Rs*s-As*r,o=As*i-Ls*s,l=Ls*r-Rs*i,c=wr(a*a+o*o+l*l),u=Sr(c),d=c&&-u/c;Ds+=d*a,Ps+=d*o,Ts+=d*l,Os+=u,Cs+=u*(Ls+(Ls=i)),xs+=u*(Rs+(Rs=r)),Es+=u*(As+(As=s)),Bs(Ls,Rs,As)}var Ks=function(e){ws=Os=ks=Ss=js=Cs=xs=Es=Ds=Ps=Ts=0,Fr(e,qs);var t=Ds,n=Ps,i=Ts,r=t*t+n*n+i*i;return r<1e-12&&(t=Cs,n=xs,i=Es,Os<rr&&(t=ks,n=Ss,i=js),(r=t*t+n*n+i*i)<1e-12)?[NaN,NaN]:[hr(n,t)*cr,Sr(i/wr(r))*cr]},Ys=function(e){return function(){return e}},Xs=function(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n};function Js(e,t){return[e>sr?e-lr:e<-sr?e+lr:e,t]}function Zs(e,t,n){return(e%=lr)?t||n?Xs(ta(e),na(t,n)):ta(e):t||n?na(t,n):Js}function ea(e){return function(t,n){return[(t+=e)>sr?t-lr:t<-sr?t+lr:t,n]}}function ta(e){var t=ea(e);return t.invert=ea(-e),t}function na(e,t){var n=pr(e),i=yr(e),r=pr(t),s=yr(t);function a(e,t){var a=pr(t),o=pr(e)*a,l=yr(e)*a,c=yr(t),u=c*n+o*i;return[hr(l*r-u*s,o*n-c*i),Sr(u*r+l*s)]}return a.invert=function(e,t){var a=pr(t),o=pr(e)*a,l=yr(e)*a,c=yr(t),u=c*r-l*s;return[hr(l*r+c*s,o*n+u*i),Sr(u*n-o*i)]},a}Js.invert=Js;var ia=function(e){function t(t){return(t=e(t[0]*ur,t[1]*ur))[0]*=cr,t[1]*=cr,t}return e=Zs(e[0]*ur,e[1]*ur,e.length>2?e[2]*ur:0),t.invert=function(t){return(t=e.invert(t[0]*ur,t[1]*ur))[0]*=cr,t[1]*=cr,t},t};function ra(e,t,n,i,r,s){if(n){var a=pr(t),o=yr(t),l=i*n;null==r?(r=t+i*lr,s=t-l/2):(r=sa(a,r),s=sa(a,s),(i>0?r<s:r>s)&&(r+=i*lr));for(var c,u=r;i>0?u>s:u<s;u-=l)c=zr([a,-o*pr(u),-o*yr(u)]),e.point(c[0],c[1])}}function sa(e,t){(t=Wr(t))[0]-=e,Jr(t);var n=kr(-t[1]);return((-t[2]<0?-n:n)+lr-rr)%lr}var aa=function(){var e,t,n=Ys([0,0]),i=Ys(90),r=Ys(6),s={point:function(n,i){e.push(n=t(n,i)),n[0]*=cr,n[1]*=cr}};function a(){var a=n.apply(this,arguments),o=i.apply(this,arguments)*ur,l=r.apply(this,arguments)*ur;return e=[],t=Zs(-a[0]*ur,-a[1]*ur,0).invert,ra(s,o,l,1),a={type:"Polygon",coordinates:[e]},e=t=null,a}return a.center=function(e){return arguments.length?(n="function"==typeof e?e:Ys([+e[0],+e[1]]),a):n},a.radius=function(e){return arguments.length?(i="function"==typeof e?e:Ys(+e),a):i},a.precision=function(e){return arguments.length?(r="function"==typeof e?e:Ys(+e),a):r},a},oa=function(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Cr,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}},la=function(e,t){return dr(e[0]-t[0])<rr&&dr(e[1]-t[1])<rr};function ca(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var ua=function(e,t,n,i,r){var s,a,o=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,i=e[0],a=e[t];if(la(i,a)){for(r.lineStart(),s=0;s<t;++s)r.point((i=e[s])[0],i[1]);r.lineEnd()}else o.push(n=new ca(i,e,null,!0)),l.push(n.o=new ca(i,null,n,!1)),o.push(n=new ca(a,e,null,!1)),l.push(n.o=new ca(a,null,n,!0))}})),o.length){for(l.sort(t),da(o),da(l),s=0,a=l.length;s<a;++s)l[s].e=n=!n;for(var c,u,d=o[0];;){for(var f=d,h=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,a=c.length;s<a;++s)r.point((u=c[s])[0],u[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(h)for(c=f.p.z,s=c.length-1;s>=0;--s)r.point((u=c[s])[0],u[1]);else i(f.x,f.p.x,-1,r);f=f.p}c=(f=f.o).z,h=!h}while(!f.v);r.lineEnd()}}};function da(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}var fa=er(),ha=function(e,t){var n=t[0],i=t[1],r=[yr(n),-pr(n),0],s=0,a=0;fa.reset();for(var o=0,l=e.length;o<l;++o)if(u=(c=e[o]).length)for(var c,u,d=c[u-1],f=d[0],h=d[1]/2+or,p=yr(h),m=pr(h),g=0;g<u;++g,f=b,p=_,m=w,d=v){var v=c[g],b=v[0],y=v[1]/2+or,_=yr(y),w=pr(y),O=b-f,k=O>=0?1:-1,S=k*O,j=S>sr,C=p*_;if(fa.add(hr(C*k*yr(S),m*w+C*pr(S))),s+=j?O+k*lr:O,j^f>=n^b>=n){var x=Kr(Wr(d),Wr(v));Jr(x);var E=Kr(r,x);Jr(E);var D=(j^O>=0?-1:1)*Sr(E[2]);(i>D||i===D&&(x[0]||x[1]))&&(a+=j^O>=0?1:-1)}}return(s<-rr||s<rr&&fa<-rr)^1&a},pa=function(e,t,n,i){return function(s){var a,o,l,c=t(s),u=oa(),d=t(u),f=!1,h={point:p,lineStart:g,lineEnd:v,polygonStart:function(){h.point=b,h.lineStart=y,h.lineEnd=_,o=[],a=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=v,o=Object(r.n)(o);var e=ha(a,i);o.length?(f||(s.polygonStart(),f=!0),ua(o,ga,e,n,s)):e&&(f||(s.polygonStart(),f=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),f&&(s.polygonEnd(),f=!1),o=a=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function p(t,n){e(t,n)&&s.point(t,n)}function m(e,t){c.point(e,t)}function g(){h.point=m,c.lineStart()}function v(){h.point=p,c.lineEnd()}function b(e,t){l.push([e,t]),d.point(e,t)}function y(){d.lineStart(),l=[]}function _(){b(l[0][0],l[0][1]),d.lineEnd();var e,t,n,i,r=d.clean(),c=u.result(),h=c.length;if(l.pop(),a.push(l),l=null,h)if(1&r){if((t=(n=c[0]).length-1)>0){for(f||(s.polygonStart(),f=!0),s.lineStart(),e=0;e<t;++e)s.point((i=n[e])[0],i[1]);s.lineEnd()}}else h>1&&2&r&&c.push(c.pop().concat(c.shift())),o.push(c.filter(ma))}return h}};function ma(e){return e.length>1}function ga(e,t){return((e=e.x)[0]<0?e[1]-ar-rr:ar-e[1])-((t=t.x)[0]<0?t[1]-ar-rr:ar-t[1])}var va=pa((function(){return!0}),(function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(s,a){var o=s>0?sr:-sr,l=dr(s-n);dr(l-sr)<rr?(e.point(n,i=(i+a)/2>0?ar:-ar),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),e.point(s,i),t=0):r!==o&&l>=sr&&(dr(n-r)<rr&&(n-=r*rr),dr(s-o)<rr&&(s-=o*rr),i=function(e,t,n,i){var r,s,a=yr(e-n);return dr(a)>rr?fr((yr(t)*(s=pr(i))*yr(n)-yr(i)*(r=pr(t))*yr(e))/(r*s*a)):(t+i)/2}(n,i,s,a),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(o,i),t=0),e.point(n=s,i=a),r=o},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}}),(function(e,t,n,i){var r;if(null==e)r=n*ar,i.point(-sr,r),i.point(0,r),i.point(sr,r),i.point(sr,0),i.point(sr,-r),i.point(0,-r),i.point(-sr,-r),i.point(-sr,0),i.point(-sr,r);else if(dr(e[0]-t[0])>rr){var s=e[0]<t[0]?sr:-sr;r=n*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(t[0],t[1])}),[-sr,-ar]);var ba=function(e){var t=pr(e),n=6*ur,i=t>0,r=dr(t)>rr;function s(e,n){return pr(e)*pr(n)>t}function a(e,n,i){var r=[1,0,0],s=Kr(Wr(e),Wr(n)),a=Qr(s,s),o=s[0],l=a-o*o;if(!l)return!i&&e;var c=t*a/l,u=-t*o/l,d=Kr(r,s),f=Xr(r,c);Yr(f,Xr(s,u));var h=d,p=Qr(f,h),m=Qr(h,h),g=p*p-m*(Qr(f,f)-1);if(!(g<0)){var v=wr(g),b=Xr(h,(-p-v)/m);if(Yr(b,f),b=zr(b),!i)return b;var y,_=e[0],w=n[0],O=e[1],k=n[1];w<_&&(y=_,_=w,w=y);var S=w-_,j=dr(S-sr)<rr;if(!j&&k<O&&(y=O,O=k,k=y),j||S<rr?j?O+k>0^b[1]<(dr(b[0]-_)<rr?O:k):O<=b[1]&&b[1]<=k:S>sr^(_<=b[0]&&b[0]<=w)){var C=Xr(h,(-p+v)/m);return Yr(C,f),[b,zr(C)]}}}function o(t,n){var r=i?e:sr-e,s=0;return t<-r?s|=1:t>r&&(s|=2),n<-r?s|=4:n>r&&(s|=8),s}return pa(s,(function(e){var t,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,f){var h,p=[d,f],m=s(d,f),g=i?m?0:o(d,f):m?o(d+(d<0?sr:-sr),f):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(!(h=a(t,p))||la(t,h)||la(p,h))&&(p[0]+=rr,p[1]+=rr,m=s(p[0],p[1])),m!==l)u=0,m?(e.lineStart(),h=a(p,t),e.point(h[0],h[1])):(h=a(t,p),e.point(h[0],h[1]),e.lineEnd()),t=h;else if(r&&t&&i^m){var v;g&n||!(v=a(p,t,!0))||(u=0,i?(e.lineStart(),e.point(v[0][0],v[0][1]),e.point(v[1][0],v[1][1]),e.lineEnd()):(e.point(v[1][0],v[1][1]),e.lineEnd(),e.lineStart(),e.point(v[0][0],v[0][1])))}!m||t&&la(t,p)||e.point(p[0],p[1]),t=p,l=m,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}}),(function(t,i,r,s){ra(s,e,n,r,t,i)}),i?[0,-e]:[-sr,e-sr])},ya=function(e,t,n,i,r,s){var a,o=e[0],l=e[1],c=0,u=1,d=t[0]-o,f=t[1]-l;if(a=n-o,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=r-o,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}if(a=i-l,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<u&&(u=a)}else if(f>0){if(a>u)return;a>c&&(c=a)}if(a=s-l,f||!(a<0)){if(a/=f,f<0){if(a>u)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<u&&(u=a)}return c>0&&(e[0]=o+c*d,e[1]=l+c*f),u<1&&(t[0]=o+u*d,t[1]=l+u*f),!0}}}}},_a=1e9,wa=-_a;function Oa(e,t,n,i){function s(r,s){return e<=r&&r<=n&&t<=s&&s<=i}function a(r,s,a,l){var u=0,d=0;if(null==r||(u=o(r,a))!==(d=o(s,a))||c(r,s)<0^a>0)do{l.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+a+4)%4)!==d);else l.point(s[0],s[1])}function o(i,r){return dr(i[0]-e)<rr?r>0?0:3:dr(i[0]-n)<rr?r>0?2:1:dr(i[1]-t)<rr?r>0?1:0:r>0?3:2}function l(e,t){return c(e.x,t.x)}function c(e,t){var n=o(e,1),i=o(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var c,u,d,f,h,p,m,g,v,b,y,_=o,w=oa(),O={point:k,lineStart:function(){O.point=S,u&&u.push(d=[]);b=!0,v=!1,m=g=NaN},lineEnd:function(){c&&(S(f,h),p&&v&&w.rejoin(),c.push(w.result()));O.point=k,v&&_.lineEnd()},polygonStart:function(){_=w,c=[],u=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=u.length;n<r;++n)for(var s,a,o=u[n],l=1,c=o.length,d=o[0],f=d[0],h=d[1];l<c;++l)s=f,a=h,d=o[l],f=d[0],h=d[1],a<=i?h>i&&(f-s)*(i-a)>(h-a)*(e-s)&&++t:h<=i&&(f-s)*(i-a)<(h-a)*(e-s)&&--t;return t}(),n=y&&t,s=(c=Object(r.n)(c)).length;(n||s)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),s&&ua(c,l,t,a,o),o.polygonEnd());_=o,c=u=d=null}};function k(e,t){s(e,t)&&_.point(e,t)}function S(r,a){var o=s(r,a);if(u&&d.push([r,a]),b)f=r,h=a,p=o,b=!1,o&&(_.lineStart(),_.point(r,a));else if(o&&v)_.point(r,a);else{var l=[m=Math.max(wa,Math.min(_a,m)),g=Math.max(wa,Math.min(_a,g))],c=[r=Math.max(wa,Math.min(_a,r)),a=Math.max(wa,Math.min(_a,a))];ya(l,c,e,t,n,i)?(v||(_.lineStart(),_.point(l[0],l[1])),_.point(c[0],c[1]),o||_.lineEnd(),y=!1):o&&(_.lineStart(),_.point(r,a),y=!1)}m=r,g=a,v=o}return O}}var ka,Sa,ja,Ca=function(){var e,t,n,i=0,r=0,s=960,a=500;return n={stream:function(n){return e&&t===n?e:e=Oa(i,r,s,a)(t=n)},extent:function(o){return arguments.length?(i=+o[0][0],r=+o[0][1],s=+o[1][0],a=+o[1][1],e=t=null,n):[[i,r],[s,a]]}}},xa=er(),Ea={sphere:Cr,point:Cr,lineStart:function(){Ea.point=Pa,Ea.lineEnd=Da},lineEnd:Cr,polygonStart:Cr,polygonEnd:Cr};function Da(){Ea.point=Ea.lineEnd=Cr}function Pa(e,t){ka=e*=ur,Sa=yr(t*=ur),ja=pr(t),Ea.point=Ta}function Ta(e,t){e*=ur;var n=yr(t*=ur),i=pr(t),r=dr(e-ka),s=pr(r),a=i*yr(r),o=ja*n-Sa*i*s,l=Sa*n+ja*i*s;xa.add(hr(wr(a*a+o*o),l)),ka=e,Sa=n,ja=i}var Na=function(e){return xa.reset(),Fr(e,Ea),+xa},Ia=[null,null],La={type:"LineString",coordinates:Ia},Ra=function(e,t){return Ia[0]=e,Ia[1]=t,Na(La)},Aa={Feature:function(e,t){return qa(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)if(qa(n[i].geometry,t))return!0;return!1}},Fa={Sphere:function(){return!0},Point:function(e,t){return Ma(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(Ma(n[i],t))return!0;return!1},LineString:function(e,t){return Ba(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if(Ba(n[i],t))return!0;return!1},Polygon:function(e,t){return $a(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)if($a(n[i],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)if(qa(n[i],t))return!0;return!1}};function qa(e,t){return!(!e||!Fa.hasOwnProperty(e.type))&&Fa[e.type](e,t)}function Ma(e,t){return 0===Ra(e,t)}function Ba(e,t){var n=Ra(e[0],e[1]);return Ra(e[0],t)+Ra(t,e[1])<=n+rr}function $a(e,t){return!!ha(e.map(Va),Ua(t))}function Va(e){return(e=e.map(Ua)).pop(),e}function Ua(e){return[e[0]*ur,e[1]*ur]}var Ga=function(e,t){return(e&&Aa.hasOwnProperty(e.type)?Aa[e.type]:qa)(e,t)};function Ha(e,t,n){var i=Object(r.s)(e,t-rr,n).concat(t);return function(e){return i.map((function(t){return[e,t]}))}}function za(e,t,n){var i=Object(r.s)(e,t-rr,n).concat(t);return function(e){return i.map((function(t){return[t,e]}))}}function Wa(){var e,t,n,i,s,a,o,l,c,u,d,f,h=10,p=h,m=90,g=360,v=2.5;function b(){return{type:"MultiLineString",coordinates:y()}}function y(){return Object(r.s)(mr(i/m)*m,n,m).map(d).concat(Object(r.s)(mr(l/g)*g,o,g).map(f)).concat(Object(r.s)(mr(t/h)*h,e,h).filter((function(e){return dr(e%m)>rr})).map(c)).concat(Object(r.s)(mr(a/p)*p,s,p).filter((function(e){return dr(e%g)>rr})).map(u))}return b.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},b.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(f(o).slice(1),d(n).reverse().slice(1),f(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.extentMajor(e).extentMinor(e):b.extentMinor()},b.extentMajor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),l>o&&(e=l,l=o,o=e),b.precision(v)):[[i,l],[n,o]]},b.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],s=+n[1][1],t>e&&(n=t,t=e,e=n),a>s&&(n=a,a=s,s=n),b.precision(v)):[[t,a],[e,s]]},b.step=function(e){return arguments.length?b.stepMajor(e).stepMinor(e):b.stepMinor()},b.stepMajor=function(e){return arguments.length?(m=+e[0],g=+e[1],b):[m,g]},b.stepMinor=function(e){return arguments.length?(h=+e[0],p=+e[1],b):[h,p]},b.precision=function(r){return arguments.length?(v=+r,c=Ha(a,s,90),u=za(t,e,v),d=Ha(l,o,90),f=za(i,n,v),b):v},b.extentMajor([[-180,-90+rr],[180,90-rr]]).extentMinor([[-180,-80-rr],[180,80+rr]])}function Qa(){return Wa()()}var Ka,Ya,Xa,Ja,Za=function(e,t){var n=e[0]*ur,i=e[1]*ur,r=t[0]*ur,s=t[1]*ur,a=pr(i),o=yr(i),l=pr(s),c=yr(s),u=a*pr(n),d=a*yr(n),f=l*pr(r),h=l*yr(r),p=2*Sr(wr(jr(s-i)+a*l*jr(r-n))),m=yr(p),g=p?function(e){var t=yr(e*=p)/m,n=yr(p-e)/m,i=n*u+t*f,r=n*d+t*h,s=n*o+t*c;return[hr(r,i)*cr,hr(s,wr(i*i+r*r))*cr]}:function(){return[n*cr,i*cr]};return g.distance=p,g},eo=function(e){return e},to=er(),no=er(),io={point:Cr,lineStart:Cr,lineEnd:Cr,polygonStart:function(){io.lineStart=ro,io.lineEnd=oo},polygonEnd:function(){io.lineStart=io.lineEnd=io.point=Cr,to.add(dr(no)),no.reset()},result:function(){var e=to/2;return to.reset(),e}};function ro(){io.point=so}function so(e,t){io.point=ao,Ka=Xa=e,Ya=Ja=t}function ao(e,t){no.add(Ja*e-Xa*t),Xa=e,Ja=t}function oo(){ao(Ka,Ya)}var lo=io,co=1/0,uo=co,fo=-co,ho=fo;var po,mo,go,vo,bo={point:function(e,t){e<co&&(co=e);e>fo&&(fo=e);t<uo&&(uo=t);t>ho&&(ho=t)},lineStart:Cr,lineEnd:Cr,polygonStart:Cr,polygonEnd:Cr,result:function(){var e=[[co,uo],[fo,ho]];return fo=ho=-(uo=co=1/0),e}},yo=0,_o=0,wo=0,Oo=0,ko=0,So=0,jo=0,Co=0,xo=0,Eo={point:Do,lineStart:Po,lineEnd:Io,polygonStart:function(){Eo.lineStart=Lo,Eo.lineEnd=Ro},polygonEnd:function(){Eo.point=Do,Eo.lineStart=Po,Eo.lineEnd=Io},result:function(){var e=xo?[jo/xo,Co/xo]:So?[Oo/So,ko/So]:wo?[yo/wo,_o/wo]:[NaN,NaN];return yo=_o=wo=Oo=ko=So=jo=Co=xo=0,e}};function Do(e,t){yo+=e,_o+=t,++wo}function Po(){Eo.point=To}function To(e,t){Eo.point=No,Do(go=e,vo=t)}function No(e,t){var n=e-go,i=t-vo,r=wr(n*n+i*i);Oo+=r*(go+e)/2,ko+=r*(vo+t)/2,So+=r,Do(go=e,vo=t)}function Io(){Eo.point=Do}function Lo(){Eo.point=Ao}function Ro(){Fo(po,mo)}function Ao(e,t){Eo.point=Fo,Do(po=go=e,mo=vo=t)}function Fo(e,t){var n=e-go,i=t-vo,r=wr(n*n+i*i);Oo+=r*(go+e)/2,ko+=r*(vo+t)/2,So+=r,jo+=(r=vo*e-go*t)*(go+e),Co+=r*(vo+t),xo+=3*r,Do(go=e,vo=t)}var qo=Eo;function Mo(e){this._context=e}Mo.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,lr)}},result:Cr};var Bo,$o,Vo,Uo,Go,Ho=er(),zo={point:Cr,lineStart:function(){zo.point=Wo},lineEnd:function(){Bo&&Qo($o,Vo),zo.point=Cr},polygonStart:function(){Bo=!0},polygonEnd:function(){Bo=null},result:function(){var e=+Ho;return Ho.reset(),e}};function Wo(e,t){zo.point=Qo,$o=Uo=e,Vo=Go=t}function Qo(e,t){Uo-=e,Go-=t,Ho.add(wr(Uo*Uo+Go*Go)),Uo=e,Go=t}var Ko=zo;function Yo(){this._string=[]}function Xo(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}Yo.prototype={_radius:4.5,_circle:Xo(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=Xo(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}};var Jo=function(e,t){var n,i,r=4.5;function s(e){return e&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),Fr(e,n(i))),i.result()}return s.area=function(e){return Fr(e,n(lo)),lo.result()},s.measure=function(e){return Fr(e,n(Ko)),Ko.result()},s.bounds=function(e){return Fr(e,n(bo)),bo.result()},s.centroid=function(e){return Fr(e,n(qo)),qo.result()},s.projection=function(t){return arguments.length?(n=null==t?(e=null,eo):(e=t).stream,s):e},s.context=function(e){return arguments.length?(i=null==e?(t=null,new Yo):new Mo(t=e),"function"!=typeof r&&i.pointRadius(r),s):t},s.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(i.pointRadius(+e),+e),s):r},s.projection(e).context(t)},Zo=function(e){return{stream:el(e)}};function el(e){return function(t){var n=new tl;for(var i in e)n[i]=e[i];return n.stream=t,n}}function tl(){}function nl(e,t,n){var i=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=i&&e.clipExtent(null),Fr(n,e.stream(bo)),t(bo.result()),null!=i&&e.clipExtent(i),e}function il(e,t,n){return nl(e,(function(n){var i=t[1][0]-t[0][0],r=t[1][1]-t[0][1],s=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),a=+t[0][0]+(i-s*(n[1][0]+n[0][0]))/2,o=+t[0][1]+(r-s*(n[1][1]+n[0][1]))/2;e.scale(150*s).translate([a,o])}),n)}function rl(e,t,n){return il(e,[[0,0],t],n)}function sl(e,t,n){return nl(e,(function(n){var i=+t,r=i/(n[1][0]-n[0][0]),s=(i-r*(n[1][0]+n[0][0]))/2,a=-r*n[0][1];e.scale(150*r).translate([s,a])}),n)}function al(e,t,n){return nl(e,(function(n){var i=+t,r=i/(n[1][1]-n[0][1]),s=-r*n[0][0],a=(i-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([s,a])}),n)}tl.prototype={constructor:tl,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ol=16,ll=pr(30*ur),cl=function(e,t){return+t?function(e,t){function n(i,r,s,a,o,l,c,u,d,f,h,p,m,g){var v=c-i,b=u-r,y=v*v+b*b;if(y>4*t&&m--){var _=a+f,w=o+h,O=l+p,k=wr(_*_+w*w+O*O),S=Sr(O/=k),j=dr(dr(O)-1)<rr||dr(s-d)<rr?(s+d)/2:hr(w,_),C=e(j,S),x=C[0],E=C[1],D=x-i,P=E-r,T=b*D-v*P;(T*T/y>t||dr((v*D+b*P)/y-.5)>.3||a*f+o*h+l*p<ll)&&(n(i,r,s,a,o,l,x,E,j,_/=k,w/=k,O,m,g),g.point(x,E),n(x,E,j,_,w,O,c,u,d,f,h,p,m,g))}}return function(t){var i,r,s,a,o,l,c,u,d,f,h,p,m={point:g,lineStart:v,lineEnd:y,polygonStart:function(){t.polygonStart(),m.lineStart=_},polygonEnd:function(){t.polygonEnd(),m.lineStart=v}};function g(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){u=NaN,m.point=b,t.lineStart()}function b(i,r){var s=Wr([i,r]),a=e(i,r);n(u,d,c,f,h,p,u=a[0],d=a[1],c=i,f=s[0],h=s[1],p=s[2],ol,t),t.point(u,d)}function y(){m.point=g,t.lineEnd()}function _(){v(),m.point=w,m.lineEnd=O}function w(e,t){b(i=e,t),r=u,s=d,a=f,o=h,l=p,m.point=b}function O(){n(u,d,c,f,h,p,r,s,i,a,o,l,ol,t),m.lineEnd=y,y()}return m}}(e,t):function(e){return el({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)};var ul=el({point:function(e,t){this.stream.point(e*ur,t*ur)}});function dl(e){return fl((function(){return e}))()}function fl(e){var t,n,i,r,s,a,o,l,c,u,d=150,f=480,h=250,p=0,m=0,g=0,v=0,b=0,y=null,_=va,w=null,O=eo,k=.5,S=cl(x,k);function j(e){return[(e=s(e[0]*ur,e[1]*ur))[0]*d+n,i-e[1]*d]}function C(e){return(e=s.invert((e[0]-n)/d,(i-e[1])/d))&&[e[0]*cr,e[1]*cr]}function x(e,r){return[(e=t(e,r))[0]*d+n,i-e[1]*d]}function E(){s=Xs(r=Zs(g,v,b),t);var e=t(p,m);return n=f-e[0]*d,i=h+e[1]*d,D()}function D(){return c=u=null,j}return j.stream=function(e){return c&&u===e?c:c=ul(function(e){return el({point:function(t,n){var i=e(t,n);return this.stream.point(i[0],i[1])}})}(r)(_(S(O(u=e)))))},j.preclip=function(e){return arguments.length?(_=e,y=void 0,D()):_},j.postclip=function(e){return arguments.length?(O=e,w=a=o=l=null,D()):O},j.clipAngle=function(e){return arguments.length?(_=+e?ba(y=e*ur):(y=null,va),D()):y*cr},j.clipExtent=function(e){return arguments.length?(O=null==e?(w=a=o=l=null,eo):Oa(w=+e[0][0],a=+e[0][1],o=+e[1][0],l=+e[1][1]),D()):null==w?null:[[w,a],[o,l]]},j.scale=function(e){return arguments.length?(d=+e,E()):d},j.translate=function(e){return arguments.length?(f=+e[0],h=+e[1],E()):[f,h]},j.center=function(e){return arguments.length?(p=e[0]%360*ur,m=e[1]%360*ur,E()):[p*cr,m*cr]},j.rotate=function(e){return arguments.length?(g=e[0]%360*ur,v=e[1]%360*ur,b=e.length>2?e[2]%360*ur:0,E()):[g*cr,v*cr,b*cr]},j.precision=function(e){return arguments.length?(S=cl(x,k=e*e),D()):wr(k)},j.fitExtent=function(e,t){return il(j,e,t)},j.fitSize=function(e,t){return rl(j,e,t)},j.fitWidth=function(e,t){return sl(j,e,t)},j.fitHeight=function(e,t){return al(j,e,t)},function(){return t=e.apply(this,arguments),j.invert=t.invert&&C,E()}}function hl(e){var t=0,n=sr/3,i=fl(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*ur,n=e[1]*ur):[t*cr,n*cr]},r}function pl(e,t){var n=yr(e),i=(n+yr(t))/2;if(dr(i)<rr)return function(e){var t=pr(e);function n(e,n){return[e*t,yr(n)/t]}return n.invert=function(e,n){return[e/t,Sr(n*t)]},n}(e);var r=1+n*(2*i-n),s=wr(r)/i;function a(e,t){var n=wr(r-2*i*yr(t))/i;return[n*yr(e*=i),s-n*pr(e)]}return a.invert=function(e,t){var n=s-t;return[hr(e,dr(n))/i*_r(n),Sr((r-(e*e+n*n)*i*i)/(2*i))]},a}var ml=function(){return hl(pl).scale(155.424).center([0,33.6442])},gl=function(){return ml().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var vl=function(){var e,t,n,i,r,s,a=gl(),o=ml().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ml().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(e,t){s=[e,t]}};function u(e){var t=e[0],a=e[1];return s=null,n.point(t,a),s||(i.point(t,a),s)||(r.point(t,a),s)}function d(){return e=t=null,u}return u.invert=function(e){var t=a.scale(),n=a.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?o:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:a).invert(e)},u.stream=function(n){return e&&t===n?e:(i=[a.stream(t=n),o.stream(n),l.stream(n)],r=i.length,e={point:function(e,t){for(var n=-1;++n<r;)i[n].point(e,t)},sphere:function(){for(var e=-1;++e<r;)i[e].sphere()},lineStart:function(){for(var e=-1;++e<r;)i[e].lineStart()},lineEnd:function(){for(var e=-1;++e<r;)i[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<r;)i[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<r;)i[e].polygonEnd()}});var i,r},u.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),l.precision(e),d()):a.precision()},u.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),l.scale(e),u.translate(a.translate())):a.scale()},u.translate=function(e){if(!arguments.length)return a.translate();var t=a.scale(),s=+e[0],u=+e[1];return n=a.translate(e).clipExtent([[s-.455*t,u-.238*t],[s+.455*t,u+.238*t]]).stream(c),i=o.translate([s-.307*t,u+.201*t]).clipExtent([[s-.425*t+rr,u+.12*t+rr],[s-.214*t-rr,u+.234*t-rr]]).stream(c),r=l.translate([s-.205*t,u+.212*t]).clipExtent([[s-.214*t+rr,u+.166*t+rr],[s-.115*t-rr,u+.234*t-rr]]).stream(c),d()},u.fitExtent=function(e,t){return il(u,e,t)},u.fitSize=function(e,t){return rl(u,e,t)},u.fitWidth=function(e,t){return sl(u,e,t)},u.fitHeight=function(e,t){return al(u,e,t)},u.scale(1070)};function bl(e){return function(t,n){var i=pr(t),r=pr(n),s=e(i*r);return[s*r*yr(t),s*yr(n)]}}function yl(e){return function(t,n){var i=wr(t*t+n*n),r=e(i),s=yr(r),a=pr(r);return[hr(t*s,i*a),Sr(i&&n*s/i)]}}var _l=bl((function(e){return wr(2/(1+e))}));_l.invert=yl((function(e){return 2*Sr(e/2)}));var wl=function(){return dl(_l).scale(124.75).clipAngle(179.999)},Ol=bl((function(e){return(e=kr(e))&&e/yr(e)}));Ol.invert=yl((function(e){return e}));var kl=function(){return dl(Ol).scale(79.4188).clipAngle(179.999)};function Sl(e,t){return[e,vr(Or((ar+t)/2))]}Sl.invert=function(e,t){return[e,2*fr(gr(t))-ar]};var jl=function(){return Cl(Sl).scale(961/lr)};function Cl(e){var t,n,i,r=dl(e),s=r.center,a=r.scale,o=r.translate,l=r.clipExtent,c=null;function u(){var s=sr*a(),o=r(ia(r.rotate()).invert([0,0]));return l(null==c?[[o[0]-s,o[1]-s],[o[0]+s,o[1]+s]]:e===Sl?[[Math.max(o[0]-s,c),t],[Math.min(o[0]+s,n),i]]:[[c,Math.max(o[1]-s,t)],[n,Math.min(o[1]+s,i)]])}return r.scale=function(e){return arguments.length?(a(e),u()):a()},r.translate=function(e){return arguments.length?(o(e),u()):o()},r.center=function(e){return arguments.length?(s(e),u()):s()},r.clipExtent=function(e){return arguments.length?(null==e?c=t=n=i=null:(c=+e[0][0],t=+e[0][1],n=+e[1][0],i=+e[1][1]),u()):null==c?null:[[c,t],[n,i]]},u()}function xl(e){return Or((ar+e)/2)}function El(e,t){var n=pr(e),i=e===t?yr(e):vr(n/pr(t))/vr(xl(t)/xl(e)),r=n*br(xl(e),i)/i;if(!i)return Sl;function s(e,t){r>0?t<-ar+rr&&(t=-ar+rr):t>ar-rr&&(t=ar-rr);var n=r/br(xl(t),i);return[n*yr(i*e),r-n*pr(i*e)]}return s.invert=function(e,t){var n=r-t,s=_r(i)*wr(e*e+n*n);return[hr(e,dr(n))/i*_r(n),2*fr(br(r/s,1/i))-ar]},s}var Dl=function(){return hl(El).scale(109.5).parallels([30,30])};function Pl(e,t){return[e,t]}Pl.invert=Pl;var Tl=function(){return dl(Pl).scale(152.63)};function Nl(e,t){var n=pr(e),i=e===t?yr(e):(n-pr(t))/(t-e),r=n/i+e;if(dr(i)<rr)return Pl;function s(e,t){var n=r-t,s=i*e;return[n*yr(s),r-n*pr(s)]}return s.invert=function(e,t){var n=r-t;return[hr(e,dr(n))/i*_r(n),r-_r(i)*wr(e*e+n*n)]},s}var Il=function(){return hl(Nl).scale(131.154).center([0,13.9389])};function Ll(e,t){var n=pr(t),i=pr(e)*n;return[n*yr(e)/i,yr(t)/i]}Ll.invert=yl(fr);var Rl=function(){return dl(Ll).scale(144.049).clipAngle(60)};function Al(e,t,n,i){return 1===e&&1===t&&0===n&&0===i?eo:el({point:function(r,s){this.stream.point(r*e+n,s*t+i)}})}var Fl=function(){var e,t,n,i,r,s,a=1,o=0,l=0,c=1,u=1,d=eo,f=null,h=eo;function p(){return i=r=null,s}return s={stream:function(e){return i&&r===e?i:i=d(h(r=e))},postclip:function(i){return arguments.length?(h=i,f=e=t=n=null,p()):h},clipExtent:function(i){return arguments.length?(h=null==i?(f=e=t=n=null,eo):Oa(f=+i[0][0],e=+i[0][1],t=+i[1][0],n=+i[1][1]),p()):null==f?null:[[f,e],[t,n]]},scale:function(e){return arguments.length?(d=Al((a=+e)*c,a*u,o,l),p()):a},translate:function(e){return arguments.length?(d=Al(a*c,a*u,o=+e[0],l=+e[1]),p()):[o,l]},reflectX:function(e){return arguments.length?(d=Al(a*(c=e?-1:1),a*u,o,l),p()):c<0},reflectY:function(e){return arguments.length?(d=Al(a*c,a*(u=e?-1:1),o,l),p()):u<0},fitExtent:function(e,t){return il(s,e,t)},fitSize:function(e,t){return rl(s,e,t)},fitWidth:function(e,t){return sl(s,e,t)},fitHeight:function(e,t){return al(s,e,t)}}};function ql(e,t){var n=t*t,i=n*n;return[e*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}ql.invert=function(e,t){var n,i=t,r=25;do{var s=i*i,a=s*s;i-=n=(i*(1.007226+s*(.015085+a*(.028874*s-.044475-.005916*a)))-t)/(1.007226+s*(.045255+a*(.259866*s-.311325-.005916*11*a)))}while(dr(n)>rr&&--r>0);return[e/(.8707+(s=i*i)*(s*(s*s*s*(.003971-.001529*s)-.013791)-.131979)),i]};var Ml=function(){return dl(ql).scale(175.295)};function Bl(e,t){return[pr(t)*yr(e),yr(t)]}Bl.invert=yl(Sr);var $l=function(){return dl(Bl).scale(249.5).clipAngle(90+rr)};function Vl(e,t){var n=pr(t),i=1+pr(e)*n;return[n*yr(e)/i,yr(t)/i]}Vl.invert=yl((function(e){return 2*fr(e)}));var Ul=function(){return dl(Vl).scale(250).clipAngle(142)};function Gl(e,t){return[vr(Or((ar+t)/2)),-e]}Gl.invert=function(e,t){return[-t,2*fr(gr(e))-ar]};var Hl=function(){var e=Cl(Gl),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)};function zl(e,t){return e.parent===t.parent?1:2}function Wl(e,t){return e+t.x}function Ql(e,t){return Math.max(e,t.y)}var Kl=function(){var e=zl,t=1,n=1,i=!1;function r(r){var s,a=0;r.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(Wl,0)/e.length}(n),t.y=function(e){return 1+e.reduce(Ql,0)}(n)):(t.x=s?a+=e(t,s):0,t.y=0,s=t)}));var o=function(e){for(var t;t=e.children;)e=t[0];return e}(r),l=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(r),c=o.x-e(o,l)/2,u=l.x+e(l,o)/2;return r.eachAfter(i?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-c)/(u-c)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r};function Yl(e){var t=0,n=e.children,i=n&&n.length;if(i)for(;--i>=0;)t+=n[i].value;else t=1;e.value=t}function Xl(e,t){var n,i,r,s,a,o=new tc(e),l=+e.value&&(o.value=e.value),c=[o];for(null==t&&(t=Jl);n=c.pop();)if(l&&(n.value=+n.data.value),(r=t(n.data))&&(a=r.length))for(n.children=new Array(a),s=a-1;s>=0;--s)c.push(i=n.children[s]=new tc(r[s])),i.parent=n,i.depth=n.depth+1;return o.eachBefore(ec)}function Jl(e){return e.children}function Zl(e){e.data=e.data.data}function ec(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function tc(e){this.data=e,this.depth=this.height=0,this.parent=null}tc.prototype=Xl.prototype={constructor:tc,count:function(){return this.eachAfter(Yl)},each:function(e){var t,n,i,r,s=this,a=[s];do{for(t=a.reverse(),a=[];s=t.pop();)if(e(s),n=s.children)for(i=0,r=n.length;i<r;++i)a.push(n[i])}while(a.length);return this},eachAfter:function(e){for(var t,n,i,r=this,s=[r],a=[];r=s.pop();)if(a.push(r),t=r.children)for(n=0,i=t.length;n<i;++n)s.push(t[n]);for(;r=a.pop();)e(r);return this},eachBefore:function(e){for(var t,n,i=this,r=[i];i=r.pop();)if(e(i),t=i.children)for(n=t.length-1;n>=0;--n)r.push(t[n]);return this},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,i=t.children,r=i&&i.length;--r>=0;)n+=i[r].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),i=t.ancestors(),r=null;e=n.pop(),t=i.pop();for(;e===t;)r=e,e=n.pop(),t=i.pop();return r}(t,e),i=[t];t!==n;)t=t.parent,i.push(t);for(var r=i.length;e!==n;)i.splice(r,0,e),e=e.parent;return i},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){var e=[];return this.each((function(t){e.push(t)})),e},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Xl(this).eachBefore(Zl)}};var nc=Array.prototype.slice;var ic=function(e){for(var t,n,i=0,r=(e=function(e){for(var t,n,i=e.length;i;)n=Math.random()*i--|0,t=e[i],e[i]=e[n],e[n]=t;return e}(nc.call(e))).length,s=[];i<r;)t=e[i],n&&ac(n,t)?++i:(n=lc(s=rc(s,t)),i=0);return n};function rc(e,t){var n,i;if(oc(t,e))return[t];for(n=0;n<e.length;++n)if(sc(t,e[n])&&oc(cc(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(i=n+1;i<e.length;++i)if(sc(cc(e[n],e[i]),t)&&sc(cc(e[n],t),e[i])&&sc(cc(e[i],t),e[n])&&oc(uc(e[n],e[i],t),e))return[e[n],e[i],t];throw new Error}function sc(e,t){var n=e.r-t.r,i=t.x-e.x,r=t.y-e.y;return n<0||n*n<i*i+r*r}function ac(e,t){var n=e.r-t.r+1e-6,i=t.x-e.x,r=t.y-e.y;return n>0&&n*n>i*i+r*r}function oc(e,t){for(var n=0;n<t.length;++n)if(!ac(e,t[n]))return!1;return!0}function lc(e){switch(e.length){case 1:return{x:(t=e[0]).x,y:t.y,r:t.r};case 2:return cc(e[0],e[1]);case 3:return uc(e[0],e[1],e[2])}var t}function cc(e,t){var n=e.x,i=e.y,r=e.r,s=t.x,a=t.y,o=t.r,l=s-n,c=a-i,u=o-r,d=Math.sqrt(l*l+c*c);return{x:(n+s+l/d*u)/2,y:(i+a+c/d*u)/2,r:(d+r+o)/2}}function uc(e,t,n){var i=e.x,r=e.y,s=e.r,a=t.x,o=t.y,l=t.r,c=n.x,u=n.y,d=n.r,f=i-a,h=i-c,p=r-o,m=r-u,g=l-s,v=d-s,b=i*i+r*r-s*s,y=b-a*a-o*o+l*l,_=b-c*c-u*u+d*d,w=h*p-f*m,O=(p*_-m*y)/(2*w)-i,k=(m*g-p*v)/w,S=(h*y-f*_)/(2*w)-r,j=(f*v-h*g)/w,C=k*k+j*j-1,x=2*(s+O*k+S*j),E=O*O+S*S-s*s,D=-(C?(x+Math.sqrt(x*x-4*C*E))/(2*C):E/x);return{x:i+O+k*D,y:r+S+j*D,r:D}}function dc(e,t,n){var i=e.x,r=e.y,s=t.r+n.r,a=e.r+n.r,o=t.x-i,l=t.y-r,c=o*o+l*l;if(c){var u=.5+((a*=a)-(s*=s))/(2*c),d=Math.sqrt(Math.max(0,2*s*(a+c)-(a-=c)*a-s*s))/(2*c);n.x=i+u*o+d*l,n.y=r+u*l-d*o}else n.x=i+a,n.y=r}function fc(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return r*r-1e-6>n*n+i*i}function hc(e){var t=e._,n=e.next._,i=t.r+n.r,r=(t.x*n.r+n.x*t.r)/i,s=(t.y*n.r+n.y*t.r)/i;return r*r+s*s}function pc(e){this._=e,this.next=null,this.previous=null}function mc(e){if(!(r=e.length))return 0;var t,n,i,r,s,a,o,l,c,u,d;if((t=e[0]).x=0,t.y=0,!(r>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(r>2))return t.r+n.r;dc(n,t,i=e[2]),t=new pc(t),n=new pc(n),i=new pc(i),t.next=i.previous=n,n.next=t.previous=i,i.next=n.previous=t;e:for(o=3;o<r;++o){dc(t._,n._,i=e[o]),i=new pc(i),l=n.next,c=t.previous,u=n._.r,d=t._.r;do{if(u<=d){if(fc(l._,i._)){n=l,t.next=n,n.previous=t,--o;continue e}u+=l._.r,l=l.next}else{if(fc(c._,i._)){(t=c).next=n,n.previous=t,--o;continue e}d+=c._.r,c=c.previous}}while(l!==c.next);for(i.previous=t,i.next=n,t.next=n.previous=n=i,s=hc(t);(i=i.next)!==n;)(a=hc(i))<s&&(t=i,s=a);n=t.next}for(t=[n._],i=n;(i=i.next)!==n;)t.push(i._);for(i=ic(t),o=0;o<r;++o)(t=e[o]).x-=i.x,t.y-=i.y;return i.r}var gc=function(e){return mc(e),e};function vc(e){return null==e?null:bc(e)}function bc(e){if("function"!=typeof e)throw new Error;return e}function yc(){return 0}var _c=function(e){return function(){return e}};function wc(e){return Math.sqrt(e.value)}var Oc=function(){var e=null,t=1,n=1,i=yc;function r(r){return r.x=t/2,r.y=n/2,e?r.eachBefore(kc(e)).eachAfter(Sc(i,.5)).eachBefore(jc(1)):r.eachBefore(kc(wc)).eachAfter(Sc(yc,1)).eachAfter(Sc(i,r.r/Math.min(t,n))).eachBefore(jc(Math.min(t,n)/(2*r.r))),r}return r.radius=function(t){return arguments.length?(e=vc(t),r):e},r.size=function(e){return arguments.length?(t=+e[0],n=+e[1],r):[t,n]},r.padding=function(e){return arguments.length?(i="function"==typeof e?e:_c(+e),r):i},r};function kc(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Sc(e,t){return function(n){if(i=n.children){var i,r,s,a=i.length,o=e(n)*t||0;if(o)for(r=0;r<a;++r)i[r].r+=o;if(s=mc(i),o)for(r=0;r<a;++r)i[r].r-=o;n.r=s+o}}}function jc(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}var Cc=function(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)},xc=function(e,t,n,i,r){for(var s,a=e.children,o=-1,l=a.length,c=e.value&&(i-t)/e.value;++o<l;)(s=a[o]).y0=n,s.y1=r,s.x0=t,s.x1=t+=s.value*c},Ec=function(){var e=1,t=1,n=0,i=!1;function r(r){var s=r.height+1;return r.x0=r.y0=n,r.x1=e,r.y1=t/s,r.eachBefore(function(e,t){return function(i){i.children&&xc(i,i.x0,e*(i.depth+1)/t,i.x1,e*(i.depth+2)/t);var r=i.x0,s=i.y0,a=i.x1-n,o=i.y1-n;a<r&&(r=a=(r+a)/2),o<s&&(s=o=(s+o)/2),i.x0=r,i.y0=s,i.x1=a,i.y1=o}}(t,s)),i&&r.eachBefore(Cc),r}return r.round=function(e){return arguments.length?(i=!!e,r):i},r.size=function(n){return arguments.length?(e=+n[0],t=+n[1],r):[e,t]},r.padding=function(e){return arguments.length?(n=+e,r):n},r},Dc="$",Pc={depth:-1},Tc={};function Nc(e){return e.id}function Ic(e){return e.parentId}var Lc=function(){var e=Nc,t=Ic;function n(n){var i,r,s,a,o,l,c,u=n.length,d=new Array(u),f={};for(r=0;r<u;++r)i=n[r],o=d[r]=new tc(i),null!=(l=e(i,r,n))&&(l+="")&&(f[c=Dc+(o.id=l)]=c in f?Tc:o);for(r=0;r<u;++r)if(o=d[r],null!=(l=t(n[r],r,n))&&(l+="")){if(!(a=f[Dc+l]))throw new Error("missing: "+l);if(a===Tc)throw new Error("ambiguous: "+l);a.children?a.children.push(o):a.children=[o],o.parent=a}else{if(s)throw new Error("multiple roots");s=o}if(!s)throw new Error("no root");if(s.parent=Pc,s.eachBefore((function(e){e.depth=e.parent.depth+1,--u})).eachBefore(ec),s.parent=null,u>0)throw new Error("cycle");return s}return n.id=function(t){return arguments.length?(e=bc(t),n):e},n.parentId=function(e){return arguments.length?(t=bc(e),n):t},n};function Rc(e,t){return e.parent===t.parent?1:2}function Ac(e){var t=e.children;return t?t[0]:e.t}function Fc(e){var t=e.children;return t?t[t.length-1]:e.t}function qc(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function Mc(e,t,n){return e.a.parent===t.parent?e.a:n}function Bc(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}Bc.prototype=Object.create(tc.prototype);var $c=function(){var e=Rc,t=1,n=1,i=null;function r(r){var l=function(e){for(var t,n,i,r,s,a=new Bc(e,0),o=[a];t=o.pop();)if(i=t._.children)for(t.children=new Array(s=i.length),r=s-1;r>=0;--r)o.push(n=t.children[r]=new Bc(i[r],r)),n.parent=t;return(a.parent=new Bc(null,0)).children=[a],a}(r);if(l.eachAfter(s),l.parent.m=-l.z,l.eachBefore(a),i)r.eachBefore(o);else{var c=r,u=r,d=r;r.eachBefore((function(e){e.x<c.x&&(c=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)}));var f=c===u?1:e(c,u)/2,h=f-c.x,p=t/(u.x+f+h),m=n/(d.depth||1);r.eachBefore((function(e){e.x=(e.x+h)*p,e.y=e.depth*m}))}return r}function s(t){var n=t.children,i=t.parent.children,r=t.i?i[t.i-1]:null;if(n){!function(e){for(var t,n=0,i=0,r=e.children,s=r.length;--s>=0;)(t=r[s]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(t);var s=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+e(t._,r._),t.m=t.z-s):t.z=s}else r&&(t.z=r.z+e(t._,r._));t.parent.A=function(t,n,i){if(n){for(var r,s=t,a=t,o=n,l=s.parent.children[0],c=s.m,u=a.m,d=o.m,f=l.m;o=Fc(o),s=Ac(s),o&&s;)l=Ac(l),(a=Fc(a)).a=t,(r=o.z+d-s.z-c+e(o._,s._))>0&&(qc(Mc(o,t,i),t,r),c+=r,u+=r),d+=o.m,c+=s.m,f+=l.m,u+=a.m;o&&!Fc(a)&&(a.t=o,a.m+=d-u),s&&!Ac(l)&&(l.t=s,l.m+=c-f,i=t)}return i}(t,r,t.parent.A||i[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function o(e){e.x*=t,e.y=e.depth*n}return r.separation=function(t){return arguments.length?(e=t,r):e},r.size=function(e){return arguments.length?(i=!1,t=+e[0],n=+e[1],r):i?null:[t,n]},r.nodeSize=function(e){return arguments.length?(i=!0,t=+e[0],n=+e[1],r):i?[t,n]:null},r},Vc=function(e,t,n,i,r){for(var s,a=e.children,o=-1,l=a.length,c=e.value&&(r-n)/e.value;++o<l;)(s=a[o]).x0=t,s.x1=i,s.y0=n,s.y1=n+=s.value*c},Uc=(1+Math.sqrt(5))/2;function Gc(e,t,n,i,r,s){for(var a,o,l,c,u,d,f,h,p,m,g,v=[],b=t.children,y=0,_=0,w=b.length,O=t.value;y<w;){l=r-n,c=s-i;do{u=b[_++].value}while(!u&&_<w);for(d=f=u,g=u*u*(m=Math.max(c/l,l/c)/(O*e)),p=Math.max(f/g,g/d);_<w;++_){if(u+=o=b[_].value,o<d&&(d=o),o>f&&(f=o),g=u*u*m,(h=Math.max(f/g,g/d))>p){u-=o;break}p=h}v.push(a={value:u,dice:l<c,children:b.slice(y,_)}),a.dice?xc(a,n,i,r,O?i+=c*u/O:s):Vc(a,n,i,O?n+=l*u/O:r,s),O-=u,y=_}return v}var Hc=function e(t){function n(e,n,i,r,s){Gc(t,e,n,i,r,s)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Uc),zc=function(){var e=Hc,t=!1,n=1,i=1,r=[0],s=yc,a=yc,o=yc,l=yc,c=yc;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=i,e.eachBefore(d),r=[0],t&&e.eachBefore(Cc),e}function d(t){var n=r[t.depth],i=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;d<i&&(i=d=(i+d)/2),f<u&&(u=f=(u+f)/2),t.x0=i,t.y0=u,t.x1=d,t.y1=f,t.children&&(n=r[t.depth+1]=s(t)/2,i+=c(t)-n,u+=a(t)-n,(d-=o(t)-n)<i&&(i=d=(i+d)/2),(f-=l(t)-n)<u&&(u=f=(u+f)/2),e(t,i,u,d,f))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],i=+e[1],u):[n,i]},u.tile=function(t){return arguments.length?(e=bc(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:_c(+e),u):s},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(a="function"==typeof e?e:_c(+e),u):a},u.paddingRight=function(e){return arguments.length?(o="function"==typeof e?e:_c(+e),u):o},u.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:_c(+e),u):l},u.paddingLeft=function(e){return arguments.length?(c="function"==typeof e?e:_c(+e),u):c},u},Wc=function(e,t,n,i,r){var s,a,o=e.children,l=o.length,c=new Array(l+1);for(c[0]=a=s=0;s<l;++s)c[s+1]=a+=o[s].value;!function e(t,n,i,r,s,a,l){if(t>=n-1){var u=o[t];return u.x0=r,u.y0=s,u.x1=a,void(u.y1=l)}var d=c[t],f=i/2+d,h=t+1,p=n-1;for(;h<p;){var m=h+p>>>1;c[m]<f?h=m+1:p=m}f-c[h-1]<c[h]-f&&t+1<h&&--h;var g=c[h]-d,v=i-g;if(a-r>l-s){var b=(r*v+a*g)/i;e(t,h,g,r,s,b,l),e(h,n,v,b,s,a,l)}else{var y=(s*v+l*g)/i;e(t,h,g,r,s,a,y),e(h,n,v,r,y,a,l)}}(0,l,e.value,t,n,i,r)},Qc=function(e,t,n,i,r){(1&e.depth?Vc:xc)(e,t,n,i,r)},Kc=function e(t){function n(e,n,i,r,s){if((a=e._squarify)&&a.ratio===t)for(var a,o,l,c,u,d=-1,f=a.length,h=e.value;++d<f;){for(l=(o=a[d]).children,c=o.value=0,u=l.length;c<u;++c)o.value+=l[c].value;o.dice?xc(o,n,i,r,i+=(s-i)*o.value/h):Vc(o,n,i,n+=(r-n)*o.value/h,s),h-=o.value}else e._squarify=a=Gc(t,e,n,i,r,s),a.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(Uc),Yc=function(e){for(var t,n=-1,i=e.length,r=e[i-1],s=0;++n<i;)t=r,r=e[n],s+=t[1]*r[0]-t[0]*r[1];return s/2},Xc=function(e){for(var t,n,i=-1,r=e.length,s=0,a=0,o=e[r-1],l=0;++i<r;)t=o,o=e[i],l+=n=t[0]*o[1]-o[0]*t[1],s+=(t[0]+o[0])*n,a+=(t[1]+o[1])*n;return[s/(l*=3),a/l]},Jc=function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])};function Zc(e,t){return e[0]-t[0]||e[1]-t[1]}function eu(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;++r){for(;i>1&&Jc(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var tu=function(e){if((n=e.length)<3)return null;var t,n,i=new Array(n),r=new Array(n);for(t=0;t<n;++t)i[t]=[+e[t][0],+e[t][1],t];for(i.sort(Zc),t=0;t<n;++t)r[t]=[i[t][0],-i[t][1]];var s=eu(i),a=eu(r),o=a[0]===s[0],l=a[a.length-1]===s[s.length-1],c=[];for(t=s.length-1;t>=0;--t)c.push(e[i[s[t]][2]]);for(t=+o;t<a.length-l;++t)c.push(e[i[a[t]][2]]);return c},nu=function(e,t){for(var n,i,r=e.length,s=e[r-1],a=t[0],o=t[1],l=s[0],c=s[1],u=!1,d=0;d<r;++d)n=(s=e[d])[0],(i=s[1])>o!=c>o&&a<(l-n)*(o-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},iu=function(e){for(var t,n,i=-1,r=e.length,s=e[r-1],a=s[0],o=s[1],l=0;++i<r;)t=a,n=o,t-=a=(s=e[i])[0],n-=o=s[1],l+=Math.sqrt(t*t+n*n);return l},ru=function(){return Math.random()},su=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}(ru),au=function e(t){function n(e,n){var i,r;return e=null==e?0:+e,n=null==n?1:+n,function(){var s;if(null!=i)s=i,i=null;else do{i=2*t()-1,s=2*t()-1,r=i*i+s*s}while(!r||r>1);return e+n*s*Math.sqrt(-2*Math.log(r)/r)}}return n.source=e,n}(ru),ou=function e(t){function n(){var e=au.source(t).apply(this,arguments);return function(){return Math.exp(e())}}return n.source=e,n}(ru),lu=function e(t){function n(e){return function(){for(var n=0,i=0;i<e;++i)n+=t();return n}}return n.source=e,n}(ru),cu=function e(t){function n(e){var n=lu.source(t)(e);return function(){return n()/e}}return n.source=e,n}(ru),uu=function e(t){function n(e){return function(){return-Math.log(1-t())/e}}return n.source=e,n}(ru),du=n("qUaw"),fu=function(e){for(var t=e.length/6|0,n=new Array(t),i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n},hu=fu("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),pu=fu("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),mu=fu("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gu=fu("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),vu=fu("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),bu=fu("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),yu=fu("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_u=fu("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),wu=fu("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ou=function(e){return Object(U.p)(e[e.length-1])},ku=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(fu),Su=Ou(ku),ju=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(fu),Cu=Ou(ju),xu=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(fu),Eu=Ou(xu),Du=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(fu),Pu=Ou(Du),Tu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(fu),Nu=Ou(Tu),Iu=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(fu),Lu=Ou(Iu),Ru=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(fu),Au=Ou(Ru),Fu=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(fu),qu=Ou(Fu),Mu=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(fu),Bu=Ou(Mu),$u=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(fu),Vu=Ou($u),Uu=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(fu),Gu=Ou(Uu),Hu=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(fu),zu=Ou(Hu),Wu=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(fu),Qu=Ou(Wu),Ku=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(fu),Yu=Ou(Ku),Xu=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(fu),Ju=Ou(Xu),Zu=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(fu),ed=Ou(Zu),td=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(fu),nd=Ou(td),id=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(fu),rd=Ou(id),sd=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(fu),ad=Ou(sd),od=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(fu),ld=Ou(od),cd=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(fu),ud=Ou(cd),dd=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(fu),fd=Ou(dd),hd=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(fu),pd=Ou(hd),md=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(fu),gd=Ou(md),vd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(fu),bd=Ou(vd),yd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(fu),_d=Ou(yd),wd=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(fu),Od=Ou(wd),kd=Object(U.f)(Object(Ce.b)(300,.5,0),Object(Ce.b)(-240,.5,1)),Sd=Object(U.f)(Object(Ce.b)(-100,.75,.35),Object(Ce.b)(80,1.5,.8)),jd=Object(U.f)(Object(Ce.b)(260,.75,.35),Object(Ce.b)(80,1.5,.8)),Cd=Object(Ce.b)(),xd=function(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Cd.h=360*e-100,Cd.s=1.5-1.5*t,Cd.l=.8-.9*t,Cd+""},Ed=Object(Ce.f)(),Dd=Math.PI/3,Pd=2*Math.PI/3,Td=function(e){var t;return e=(.5-e)*Math.PI,Ed.r=255*(t=Math.sin(e))*t,Ed.g=255*(t=Math.sin(e+Dd))*t,Ed.b=255*(t=Math.sin(e+Pd))*t,Ed+""};function Nd(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var Id=Nd(fu("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ld=Nd(fu("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Rd=Nd(fu("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ad=Nd(fu("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Fd=n("RG0U"),qd=n("7dDw"),Md=n("/SQJ"),Bd=function(e){return function(){return e}};function $d(e){return e[0]}function Vd(e){return e[1]}function Ud(){this._=null}function Gd(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Hd(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function zd(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Wd(e){for(;e.L;)e=e.L;return e}Ud.prototype={constructor:Ud,insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Wd(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Hd(this,n),n=(e=n).U),n.C=!1,i.C=!0,zd(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(zd(this,n),n=(e=n).U),n.C=!1,i.C=!0,Hd(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,s=e.L,a=e.R;if(n=s?a?Wd(a):s:a,r?r.L===e?r.L=n:r.R=n:this._=n,s&&a?(i=n.C,n.C=e.C,n.L=s,s.U=n,n!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=a,a.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Hd(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,zd(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Hd(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,zd(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Hd(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,zd(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}};var Qd=Ud;function Kd(e,t,n,i){var r=[null,null],s=_f.push(r)-1;return r.left=e,r.right=t,n&&Xd(r,e,t,n),i&&Xd(r,t,e,i),bf[e.index].halfedges.push(s),bf[t.index].halfedges.push(s),r}function Yd(e,t,n){var i=[t,n];return i.left=e,i}function Xd(e,t,n,i){e[0]||e[1]?e.left===n?e[1]=i:e[0]=i:(e[0]=i,e.left=t,e.right=n)}function Jd(e,t,n,i,r){var s,a=e[0],o=e[1],l=a[0],c=a[1],u=0,d=1,f=o[0]-l,h=o[1]-c;if(s=t-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<d&&(d=s)}else if(f>0){if(s>d)return;s>u&&(u=s)}if(s=i-l,f||!(s<0)){if(s/=f,f<0){if(s>d)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<d&&(d=s)}if(s=n-c,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<d&&(d=s)}else if(h>0){if(s>d)return;s>u&&(u=s)}if(s=r-c,h||!(s<0)){if(s/=h,h<0){if(s>d)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<d&&(d=s)}return!(u>0||d<1)||(u>0&&(e[0]=[l+u*f,c+u*h]),d<1&&(e[1]=[l+d*f,c+d*h]),!0)}}}}}function Zd(e,t,n,i,r){var s=e[1];if(s)return!0;var a,o,l=e[0],c=e.left,u=e.right,d=c[0],f=c[1],h=u[0],p=u[1],m=(d+h)/2,g=(f+p)/2;if(p===f){if(m<t||m>=i)return;if(d>h){if(l){if(l[1]>=r)return}else l=[m,n];s=[m,r]}else{if(l){if(l[1]<n)return}else l=[m,r];s=[m,n]}}else if(o=g-(a=(d-h)/(p-f))*m,a<-1||a>1)if(d>h){if(l){if(l[1]>=r)return}else l=[(n-o)/a,n];s=[(r-o)/a,r]}else{if(l){if(l[1]<n)return}else l=[(r-o)/a,r];s=[(n-o)/a,n]}else if(f<p){if(l){if(l[0]>=i)return}else l=[t,a*t+o];s=[i,a*i+o]}else{if(l){if(l[0]<t)return}else l=[i,a*i+o];s=[t,a*t+o]}return e[0]=l,e[1]=s,!0}function ef(e,t){var n=e.site,i=t.left,r=t.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=t[1],r=t[0]):(i=t[0],r=t[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function tf(e,t){return t[+(t.left!==e.site)]}function nf(e,t){return t[+(t.left===e.site)]}var rf,sf=[];function af(){Gd(this),this.x=this.y=this.arc=this.site=this.cy=null}function of(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,s=n.site;if(i!==s){var a=r[0],o=r[1],l=i[0]-a,c=i[1]-o,u=s[0]-a,d=s[1]-o,f=2*(l*d-c*u);if(!(f>=-Of)){var h=l*l+c*c,p=u*u+d*d,m=(d*h-c*p)/f,g=(l*p-u*h)/f,v=sf.pop()||new af;v.arc=e,v.site=r,v.x=m+a,v.y=(v.cy=g+o)+Math.sqrt(m*m+g*g),e.circle=v;for(var b=null,y=yf._;y;)if(v.y<y.y||v.y===y.y&&v.x<=y.x){if(!y.L){b=y.P;break}y=y.L}else{if(!y.R){b=y;break}y=y.R}yf.insert(b,v),b||(rf=v)}}}}function lf(e){var t=e.circle;t&&(t.P||(rf=t.N),yf.remove(t),sf.push(t),Gd(t),e.circle=null)}var cf=[];function uf(){Gd(this),this.edge=this.site=this.circle=null}function df(e){var t=cf.pop()||new uf;return t.site=e,t}function ff(e){lf(e),vf.remove(e),cf.push(e),Gd(e)}function hf(e){var t=e.circle,n=t.x,i=t.cy,r=[n,i],s=e.P,a=e.N,o=[e];ff(e);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<wf&&Math.abs(i-l.circle.cy)<wf;)s=l.P,o.unshift(l),ff(l),l=s;o.unshift(l),lf(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<wf&&Math.abs(i-c.circle.cy)<wf;)a=c.N,o.push(c),ff(c),c=a;o.push(c),lf(c);var u,d=o.length;for(u=1;u<d;++u)c=o[u],l=o[u-1],Xd(c.edge,l.site,c.site,r);l=o[0],(c=o[d-1]).edge=Kd(l.site,c.site,null,r),of(l),of(c)}function pf(e){for(var t,n,i,r,s=e[0],a=e[1],o=vf._;o;)if((i=mf(o,a)-s)>wf)o=o.L;else{if(!((r=s-gf(o,a))>wf)){i>-wf?(t=o.P,n=o):r>-wf?(t=o,n=o.N):t=n=o;break}if(!o.R){t=o;break}o=o.R}!function(e){bf[e.index]={site:e,halfedges:[]}}(e);var l=df(e);if(vf.insert(t,l),t||n){if(t===n)return lf(t),n=df(t.site),vf.insert(l,n),l.edge=n.edge=Kd(t.site,l.site),of(t),void of(n);if(n){lf(t),lf(n);var c=t.site,u=c[0],d=c[1],f=e[0]-u,h=e[1]-d,p=n.site,m=p[0]-u,g=p[1]-d,v=2*(f*g-h*m),b=f*f+h*h,y=m*m+g*g,_=[(g*b-h*y)/v+u,(f*y-m*b)/v+d];Xd(n.edge,c,p,_),l.edge=Kd(c,e,null,_),n.edge=Kd(e,p,null,_),of(t),of(n)}else l.edge=Kd(t.site,l.site)}}function mf(e,t){var n=e.site,i=n[0],r=n[1],s=r-t;if(!s)return i;var a=e.P;if(!a)return-1/0;var o=(n=a.site)[0],l=n[1],c=l-t;if(!c)return o;var u=o-i,d=1/s-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+r-s/2)))/d+i:(i+o)/2}function gf(e,t){var n=e.N;if(n)return mf(n,t);var i=e.site;return i[1]===t?i[0]:1/0}var vf,bf,yf,_f,wf=1e-6,Of=1e-12;function kf(e,t){return t[1]-e[1]||t[0]-e[0]}function Sf(e,t){var n,i,r,s=e.sort(kf).pop();for(_f=[],bf=new Array(e.length),vf=new Qd,yf=new Qd;;)if(r=rf,s&&(!r||s[1]<r.y||s[1]===r.y&&s[0]<r.x))s[0]===n&&s[1]===i||(pf(s),n=s[0],i=s[1]),s=e.pop();else{if(!r)break;hf(r.arc)}if(function(){for(var e,t,n,i,r=0,s=bf.length;r<s;++r)if((e=bf[r])&&(i=(t=e.halfedges).length)){var a=new Array(i),o=new Array(i);for(n=0;n<i;++n)a[n]=n,o[n]=ef(e,_f[t[n]]);for(a.sort((function(e,t){return o[t]-o[e]})),n=0;n<i;++n)o[n]=t[a[n]];for(n=0;n<i;++n)t[n]=o[n]}}(),t){var a=+t[0][0],o=+t[0][1],l=+t[1][0],c=+t[1][1];!function(e,t,n,i){for(var r,s=_f.length;s--;)Zd(r=_f[s],e,t,n,i)&&Jd(r,e,t,n,i)&&(Math.abs(r[0][0]-r[1][0])>wf||Math.abs(r[0][1]-r[1][1])>wf)||delete _f[s]}(a,o,l,c),function(e,t,n,i){var r,s,a,o,l,c,u,d,f,h,p,m,g=bf.length,v=!0;for(r=0;r<g;++r)if(s=bf[r]){for(a=s.site,o=(l=s.halfedges).length;o--;)_f[l[o]]||l.splice(o,1);for(o=0,c=l.length;o<c;)p=(h=nf(s,_f[l[o]]))[0],m=h[1],d=(u=tf(s,_f[l[++o%c]]))[0],f=u[1],(Math.abs(p-d)>wf||Math.abs(m-f)>wf)&&(l.splice(o,0,_f.push(Yd(a,h,Math.abs(p-e)<wf&&i-m>wf?[e,Math.abs(d-e)<wf?f:i]:Math.abs(m-i)<wf&&n-p>wf?[Math.abs(f-i)<wf?d:n,i]:Math.abs(p-n)<wf&&m-t>wf?[n,Math.abs(d-n)<wf?f:t]:Math.abs(m-t)<wf&&p-e>wf?[Math.abs(f-t)<wf?d:e,t]:null))-1),++c);c&&(v=!1)}if(v){var b,y,_,w=1/0;for(r=0,v=null;r<g;++r)(s=bf[r])&&(_=(b=(a=s.site)[0]-e)*b+(y=a[1]-t)*y)<w&&(w=_,v=s);if(v){var O=[e,t],k=[e,i],S=[n,i],j=[n,t];v.halfedges.push(_f.push(Yd(a=v.site,O,k))-1,_f.push(Yd(a,k,S))-1,_f.push(Yd(a,S,j))-1,_f.push(Yd(a,j,O))-1)}}for(r=0;r<g;++r)(s=bf[r])&&(s.halfedges.length||delete bf[r])}(a,o,l,c)}this.edges=_f,this.cells=bf,vf=yf=_f=bf=null}Sf.prototype={constructor:Sf,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return tf(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,i){if(s=(r=n.halfedges).length)for(var r,s,a,o,l,c,u=n.site,d=-1,f=t[r[s-1]],h=f.left===u?f.right:f.left;++d<s;)a=h,h=(f=t[r[d]]).left===u?f.right:f.left,a&&h&&i<a.index&&i<h.index&&(l=a,c=h,((o=u)[0]-c[0])*(l[1]-o[1])-(o[0]-l[0])*(c[1]-o[1])<0)&&e.push([u.data,a.data,h.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var i,r,s=this,a=s._found||0,o=s.cells.length;!(r=s.cells[a]);)if(++a>=o)return null;var l=e-r.site[0],c=t-r.site[1],u=l*l+c*c;do{r=s.cells[i=a],a=null,r.halfedges.forEach((function(n){var i=s.edges[n],o=i.left;if(o!==r.site&&o||(o=i.right)){var l=e-o[0],c=t-o[1],d=l*l+c*c;d<u&&(u=d,a=o.index)}}))}while(null!==a);return s._found=i,null==n||u<=n*n?r.site:null}};var jf=function(){var e=$d,t=Vd,n=null;function i(i){return new Sf(i.map((function(n,r){var s=[Math.round(e(n,r,i)/wf)*wf,Math.round(t(n,r,i)/wf)*wf];return s.index=r,s.data=n,s})),n)}return i.polygons=function(e){return i(e).polygons()},i.links=function(e){return i(e).links()},i.triangles=function(e){return i(e).triangles()},i.x=function(t){return arguments.length?(e="function"==typeof t?t:Bd(+t),i):e},i.y=function(e){return arguments.length?(t="function"==typeof e?e:Bd(+e),i):t},i.extent=function(e){return arguments.length?(n=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(e){return arguments.length?(n=null==e?null:[[0,0],[+e[0],+e[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},Cf=function(e){return function(){return e}};function xf(e,t,n){this.target=e,this.type=t,this.transform=n}function Ef(e,t,n){this.k=e,this.x=t,this.y=n}Ef.prototype={constructor:Ef,scale:function(e){return 1===e?this:new Ef(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ef(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Df=new Ef(1,0,0);function Pf(e){return e.__zoom||Df}function Tf(){D.e.stopImmediatePropagation()}Pf.prototype=Ef.prototype;var Nf=function(){D.e.preventDefault(),D.e.stopImmediatePropagation()};function If(){return!D.e.button}function Lf(){var e,t,n=this;return n instanceof SVGElement?(e=(n=n.ownerSVGElement||n).width.baseVal.value,t=n.height.baseVal.value):(e=n.clientWidth,t=n.clientHeight),[[0,0],[e,t]]}function Rf(){return this.__zoom||Df}function Af(){return-D.e.deltaY*(D.e.deltaMode?120:1)/500}function Ff(){return"ontouchstart"in this}function qf(e,t,n){var i=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a))}var Mf=function(){var e,t,n=If,i=Lf,r=qf,s=Af,a=Ff,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=U.v,d=[],f=E("start","zoom","end"),h=500,p=150,m=0;function g(e){e.property("__zoom",Rf).on("wheel.zoom",k).on("mousedown.zoom",S).on("dblclick.zoom",j).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",x).on("touchend.zoom touchcancel.zoom",P).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(e,t){return(t=Math.max(o[0],Math.min(o[1],t)))===e.k?e:new Ef(t,e.x,e.y)}function b(e,t,n){var i=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return i===e.x&&r===e.y?e:new Ef(e.k,i,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function _(e,t,n){e.on("start.zoom",(function(){w(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){w(this,arguments).end()})).tween("zoom",(function(){var e=this,r=arguments,s=w(e,r),a=i.apply(e,r),o=n||y(a),l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=e.__zoom,d="function"==typeof t?t.apply(e,r):t,f=u(c.invert(o).concat(l/c.k),d.invert(o).concat(l/d.k));return function(e){if(1===e)e=d;else{var t=f(e),n=l/t[2];e=new Ef(n,o[0]-t[0]*n,o[1]-t[1]*n)}s.zoom(null,e)}}))}function w(e,t){for(var n,i=0,r=d.length;i<r;++i)if((n=d[i]).that===e)return n;return new O(e,t)}function O(e,t){this.that=e,this.args=t,this.index=-1,this.active=0,this.extent=i.apply(e,t)}function k(){if(n.apply(this,arguments)){var e=w(this,arguments),t=this.__zoom,i=Math.max(o[0],Math.min(o[1],t.k*Math.pow(2,s.apply(this,arguments)))),a=Object(D.h)(this);if(e.wheel)e.mouse[0][0]===a[0]&&e.mouse[0][1]===a[1]||(e.mouse[1]=t.invert(e.mouse[0]=a)),clearTimeout(e.wheel);else{if(t.k===i)return;e.mouse=[a,t.invert(a)],Oe(this),e.start()}Nf(),e.wheel=setTimeout((function(){e.wheel=null,e.end()}),p),e.zoom("mouse",r(b(v(t,i),e.mouse[0],e.mouse[1]),e.extent,l))}}function S(){if(!t&&n.apply(this,arguments)){var e=w(this,arguments),i=Object(D.k)(D.e.view).on("mousemove.zoom",(function(){if(Nf(),!e.moved){var t=D.e.clientX-a,n=D.e.clientY-o;e.moved=t*t+n*n>m}e.zoom("mouse",r(b(e.that.__zoom,e.mouse[0]=Object(D.h)(e.that),e.mouse[1]),e.extent,l))}),!0).on("mouseup.zoom",(function(){i.on("mousemove.zoom mouseup.zoom",null),I(D.e.view,e.moved),Nf(),e.end()}),!0),s=Object(D.h)(this),a=D.e.clientX,o=D.e.clientY;N(D.e.view),Tf(),e.mouse=[s,this.__zoom.invert(s)],Oe(this),e.start()}}function j(){if(n.apply(this,arguments)){var e=this.__zoom,t=Object(D.h)(this),s=e.invert(t),a=e.k*(D.e.shiftKey?.5:2),o=r(b(v(e,a),t,s),i.apply(this,arguments),l);Nf(),c>0?Object(D.k)(this).transition().duration(c).call(_,o,t):Object(D.k)(this).call(g.transform,o)}}function C(){if(n.apply(this,arguments)){var t,i,r,s,a=w(this,arguments),o=D.e.changedTouches,l=o.length;for(Tf(),i=0;i<l;++i)r=o[i],s=[s=Object(D.q)(this,o,r.identifier),this.__zoom.invert(s),r.identifier],a.touch0?a.touch1||(a.touch1=s):(a.touch0=s,t=!0);if(e&&(e=clearTimeout(e),!a.touch1))return a.end(),void((s=Object(D.k)(this).on("dblclick.zoom"))&&s.apply(this,arguments));t&&(e=setTimeout((function(){e=null}),h),Oe(this),a.start())}}function x(){var t,n,i,s,a=w(this,arguments),o=D.e.changedTouches,c=o.length;for(Nf(),e&&(e=clearTimeout(e)),t=0;t<c;++t)n=o[t],i=Object(D.q)(this,o,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=i);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],f=a.touch1[0],h=a.touch1[1],p=(p=f[0]-u[0])*p+(p=f[1]-u[1])*p,m=(m=h[0]-d[0])*m+(m=h[1]-d[1])*m;n=v(n,Math.sqrt(p/m)),i=[(u[0]+f[0])/2,(u[1]+f[1])/2],s=[(d[0]+h[0])/2,(d[1]+h[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",r(b(n,i,s),a.extent,l))}function P(){var e,n,i=w(this,arguments),r=D.e.changedTouches,s=r.length;for(Tf(),t&&clearTimeout(t),t=setTimeout((function(){t=null}),h),e=0;e<s;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return g.transform=function(e,t){var n=e.selection?e.selection():e;n.property("__zoom",Rf),e!==n?_(e,t):n.interrupt().each((function(){w(this,arguments).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t){g.scaleTo(e,(function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n}))},g.scaleTo=function(e,t){g.transform(e,(function(){var e=i.apply(this,arguments),n=this.__zoom,s=y(e),a=n.invert(s),o="function"==typeof t?t.apply(this,arguments):t;return r(b(v(n,o),s,a),e,l)}))},g.translateBy=function(e,t,n){g.transform(e,(function(){return r(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},g.translateTo=function(e,t,n){g.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=y(e);return r(Df.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,l)}))},O.prototype={start:function(){return 1==++this.active&&(this.index=d.push(this)-1,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(d.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(e){Object(D.d)(new xf(g,e,this.that.__zoom),f.apply,f,[e,this.that,this.args])}},g.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:Cf(+e),g):s},g.filter=function(e){return arguments.length?(n="function"==typeof e?e:Cf(!!e),g):n},g.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Cf(!!e),g):a},g.extent=function(e){return arguments.length?(i="function"==typeof e?e:Cf([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):i},g.scaleExtent=function(e){return arguments.length?(o[0]=+e[0],o[1]=+e[1],g):[o[0],o[1]]},g.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(e){return arguments.length?(r=e,g):r},g.duration=function(e){return arguments.length?(c=+e,g):c},g.interpolate=function(e){return arguments.length?(u=e,g):u},g.on=function(){var e=f.on.apply(f,arguments);return e===f?g:e},g.clickDistance=function(e){return arguments.length?(m=(e=+e)*e,g):Math.sqrt(m)},g}},Lft7:function(e,t,n){var i=n("v6X+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("1e018212",i,!0,{})},LgEk:function(e,t,n){"use strict";var i=n("4lAS"),r=n("MV2A"),s=n("Zia5"),a=n("/lV4"),o=n("A2UA");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={components:{GlButton:i.a,GlLink:r.a},props:{displayText:{type:String,required:!1,default:Object(a.e)("InviteMembers|Invite team members")},icon:{type:String,required:!1,default:""},classes:{type:String,required:!1,default:""},variant:{type:String,required:!1,default:void 0},triggerSource:{type:String,required:!1,default:"unknown"},trackExperiment:{type:String,required:!1,default:void 0},triggerElement:{type:String,required:!1,default:"button"},event:{type:String,required:!1,default:""},label:{type:String,required:!1,default:""}},computed:{isButton(){return"button"===this.triggerElement},componentAttributes(){const e={class:this.classes,"data-qa-selector":"invite_members_button"};return this.event&&this.label?c(c({},e),{},{"data-track-event":this.event,"data-track-label":this.label}):e}},mounted(){this.trackExperimentOnShow()},methods:{openModal(){o.a.$emit("openModal",{inviteeType:"members",source:this.triggerSource})},trackExperimentOnShow(){if(this.trackExperiment){new s.a(this.trackExperiment).event("comment_invite_shown")}}}},f=n("tBpV"),h=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isButton?n("gl-button",e._b({attrs:{variant:e.variant,icon:e.icon},on:{click:e.openModal}},"gl-button",e.componentAttributes,!1),[e._v("\n  "+e._s(e.displayText)+"\n")]):n("gl-link",e._b({attrs:{"data-is-link":"true"},on:{click:e.openModal}},"gl-link",e.componentAttributes,!1),[e._v("\n  "+e._s(e.displayText)+"\n")])}),[],!1,null,null,null);t.a=h.exports},LkaW:function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("lgrP");var a=r.a.extend({name:i.v,functional:!0,props:{tag:{type:String,default:"p"},textClass:{type:[String,Array,Object]},variant:{type:String}},render:function(e,t){var n,i,r,a=t.props,o=t.data,l=t.children,c=a.tag,u=a.textClass,d=a.variant,f=o.attrs||{};return o.attrs={},e("li",Object(s.a)(o,{attrs:{role:"presentation"}}),[e(c,{staticClass:"b-dropdown-text",class:[u,(n={},i="text-".concat(d),r=d,i in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n)],props:a,attrs:f,ref:"text"},l)])}}),o=n("Pyw5");const l={components:{BDropdownText:a},inheritAttrs:!1};const c=n.n(o)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-text",this._g(this._b({staticClass:"gl-new-dropdown-text"},"b-dropdown-text",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},LlB7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("orcL");const i=/^(\/?(.+?)\/(.+?)\/-\/merge_requests\/(\d+)).*$/i;function r(){let e,t,n,r,{endpoint:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=i.exec(s);return a&&([,e,t,n,r]=a),{mrPath:e,userOrGroup:t,project:n,id:r}}},LlRA:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},Lzak:function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("lgrP"),a=n("t8l0"),o=n("7bmO"),l=n("ua/H"),c=n("U9NU"),u=n("1m+M");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=Object(o.k)(u.b,["event","routerTag"]);delete h.href.default,delete h.to.default;var p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(a.b)(i.c,"variant")}},pill:{type:Boolean,default:!1}},h),m=r.a.extend({name:i.c,functional:!0,props:p,render:function(e,t){var n=t.props,i=t.data,r=t.children,a=Object(c.d)(n),o=a?u.a:n.tag,d={staticClass:"badge",class:[n.variant?"badge-".concat(n.variant):"badge-secondary",{"badge-pill":n.pill,active:n.active,disabled:n.disabled}],props:a?Object(l.a)(h,n):{}};return e(o,Object(s.a)(i,d),r)}}),g=n("XBTk"),v=n("s1D3"),b=n("Pyw5"),y=n.n(b);const _={components:{BBadge:m,GlIcon:v.a},inheritAttrs:!1,props:{size:{type:String,default:g.h.md,validator:function(e){return void 0!==g.h[e]},required:!1},variant:{type:String,default:g.i.muted,validator:function(e){return void 0!==g.i[e]},required:!1},icon:{type:String,required:!1,default:null}},computed:{hasIconOnly:function(){return Boolean(this.icon&&0===Object.keys(this.$slots).length)},role:function(){return this.hasIconOnly?"img":void 0}}};const w=y()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-badge",e._b({class:["gl-badge",e.size],attrs:{variant:e.variant,role:e.role,pill:""}},"b-badge",e.$attrs,!1),[e.icon?n("gl-icon",{staticClass:"gl-badge-icon",class:{"gl-mr-2":!e.hasIconOnly},attrs:{name:e.icon}}):e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=w},MUaa:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("0zRR"),r=n("/Szx"),s=n("NSGy"),a=function(e,t){for(var n=0;n<e.length;n++)if(Object(s.a)(e[n],t))return n;return-1},o=n("BrvI"),l=n("Vxxt"),c=n("lOuV"),u=n("Tu1i"),d=n("QlUp"),f=n("DXSV"),h=r.a.extend({name:i.x,mixins:[c.a,f.a,l.a,u.a,d.a],inject:{bvGroup:{from:"bvCheckGroup",default:!1}},props:{value:{default:!0},uncheckedValue:{default:!1},indeterminate:{type:Boolean,default:!1},switch:{type:Boolean,default:!1},checked:{default:null}},computed:{isChecked:function(){var e=this.value,t=this.computedLocalChecked;return Object(o.a)(t)?a(t,e)>-1:Object(s.a)(t,e)},isRadio:function(){return!1},isCheck:function(){return!0}},watch:{computedLocalChecked:function(e,t){if(!Object(s.a)(e,t)){this.$emit("input",e);var n=this.$refs.input;n&&this.$emit("update:indeterminate",n.indeterminate)}},indeterminate:function(e){this.setIndeterminate(e)}},mounted:function(){this.setIndeterminate(this.indeterminate)},methods:{handleChange:function(e){var t=e.target,n=t.checked,i=t.indeterminate,r=this.value,s=this.uncheckedValue,l=this.computedLocalChecked;if(Object(o.a)(l)){var c=a(l,r);n&&c<0?l=l.concat(r):!n&&c>-1&&(l=l.slice(0,c).concat(l.slice(c+1)))}else l=n?r:s;this.computedLocalChecked=l,this.$emit("change",l),this.isGroup&&this.bvGroup.$emit("change",l),this.$emit("update:indeterminate",i)},setIndeterminate:function(e){Object(o.a)(this.computedLocalChecked)&&(e=!1);var t=this.$refs.input;t&&(t.indeterminate=e,this.$emit("update:indeterminate",e))}}})},MViX:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(e){var t=a(this),n=new(l(t,s("Set"))),i=o(t.has),r=o(n.add);return c(e,(function(e){i.call(t,e)&&r.call(n,e)})),n}})},MbsY:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("jB52"),r=n("NmEs"),s=n("OneA"),a=n("FyMq"),o=n("eaMP");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){const e=document.querySelector(".js-revert-commit-modal");if(!e)return!1;const{title:t,endpoint:n,branch:l,pushCode:u,branchCollaboration:d,existingBranch:f,branchesEndpoint:h}=e.dataset,p=Object(o.a)({endpoint:n,branchesEndpoint:h,branch:l,pushCode:Object(r.K)(u),branchCollaboration:Object(r.K)(d),defaultBranch:l,modalTitle:t,existingBranch:f});return new i.default({el:e,store:p,provide:{prependedText:a.l},render:function(e){return e(s.a,{props:{i18n:c(c({},a.i),a.e),openModal:a.k,modalId:a.n}})}})}},Mnjd:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=Math.PI,r=2*i,s=r-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function o(){return new a}a.prototype=o.prototype={constructor:a,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,s){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+s)},arcTo:function(e,t,n,r,s){e=+e,t=+t,n=+n,r=+r,s=+s;var a=this._x1,o=this._y1,l=n-e,c=r-t,u=a-e,d=o-t,f=u*u+d*d;if(s<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(d*l-c*u)>1e-6&&s){var h=n-a,p=r-o,m=l*l+c*c,g=h*h+p*p,v=Math.sqrt(m),b=Math.sqrt(f),y=s*Math.tan((i-Math.acos((m+f-g)/(2*v*b)))/2),_=y/b,w=y/v;Math.abs(_-1)>1e-6&&(this._+="L"+(e+_*u)+","+(t+_*d)),this._+="A"+s+","+s+",0,0,"+ +(d*h>u*p)+","+(this._x1=e+w*l)+","+(this._y1=t+w*c)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,a,o,l){e=+e,t=+t;var c=(n=+n)*Math.cos(a),u=n*Math.sin(a),d=e+c,f=t+u,h=1^l,p=l?a-o:o-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+f:(Math.abs(this._x1-d)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+d+","+f),n&&(p<0&&(p=p%r+r),p>s?this._+="A"+n+","+n+",0,1,"+h+","+(e-c)+","+(t-u)+"A"+n+","+n+",0,1,"+h+","+(this._x1=d)+","+(this._y1=f):p>1e-6&&(this._+="A"+n+","+n+",0,"+ +(p>=i)+","+h+","+(this._x1=e+n*Math.cos(o))+","+(this._y1=t+n*Math.sin(o))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var l=o},N5YB:function(e,t,n){"use strict";var i=n("tbP8"),r=n("MV2A"),s=n("Pyw5"),a=n.n(s);const o={components:{GlAvatar:i.a,GlLink:r.a},props:{label:{type:String,required:!0},subLabel:{type:String,required:!1,default:""},labelLink:{type:String,required:!1,default:""},subLabelLink:{type:String,required:!1,default:""}},computed:{hasLabelLink:function(){return Boolean(this.labelLink)},hasSubLabelLink:function(){return Boolean(this.subLabelLink)}}};const l=a()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-avatar-labeled"},[n("gl-avatar",e._g(e._b({attrs:{alt:""}},"gl-avatar",e.$attrs,!1),e.$listeners)),e._v(" "),n("div",{staticClass:"gl-avatar-labeled-labels gl-text-left!"},[n("div",{staticClass:"gl-display-flex gl-flex-wrap gl-align-items-center gl-text-left! gl-mx-n1 gl-my-n1"},[e.hasLabelLink?n("gl-link",{staticClass:"gl-avatar-link",attrs:{href:e.labelLink}},[n("span",{staticClass:"gl-avatar-labeled-label"},[e._v(e._s(e.label))])]):n("span",{staticClass:"gl-avatar-labeled-label"},[e._v(e._s(e.label))]),e._v(" "),e._t("meta")],2),e._v(" "),e.hasSubLabelLink?n("gl-link",{staticClass:"gl-avatar-link",attrs:{href:e.subLabelLink}},[n("span",{staticClass:"gl-avatar-labeled-sublabel"},[e._v(e._s(e.subLabel))])]):n("span",{staticClass:"gl-avatar-labeled-sublabel"},[e._v(e._s(e.subLabel))])],1)],1)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},NFDe:function(e,t,n){!function(t){"use strict";var i=-1,r=function(e){return e.every=function(t,n,r){e._time(),r||(r=n,n=null);var s=i+=1;return e._timers[s]={visible:t,hidden:n,callback:r},e._run(s,!1),e.isSupported()&&e._listen(),s},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,i){var r,s=e._timers[n];if(e.hidden()){if(null===s.hidden)return;r=s.hidden}else r=s.visible;var a=function(){s.last=new Date,s.callback.call(t)};if(i){var o=new Date-s.last;r>o?s.delay=setTimeout((function(){s.id=setInterval(a,r),a()}),r-o):(s.id=setInterval(a,r),a())}else s.id=setInterval(a,r)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),i=e._wasHidden;if(n&&!i||!n&&i)for(var r in e._timers)e._stop(r),e._run(r,!n)},e};e.exports?e.exports=r(n("lNHW")):r(t.Visibility)}(window)},NSOW:function(e,t,n){"use strict";n("96PM")},Naob:function(e,t,n){"use strict";n("orcL");const i="data-dropdown-trigger",r="droplab-item-selected",s="droplab-item-ignore",a=/\{\{(.+?)\}\}/g;n("S26F"),n("pBsb");var o=n("05sH"),l=n.n(o);var c={toCamelCase(e){return this.camelize(e.split("-").slice(1).join(" "))},template:(e,t)=>l()(e,{escape:a})(t),camelize:e=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,""),closest(e,t){for(;e&&e.tagName!==t&&"HTML"!==e.tagName;)e=e.parentNode;return e},isDropDownParts:e=>!(!e||!e.hasAttribute||"HTML"===e.tagName)&&(e.hasAttribute(i)||e.hasAttribute("data-dropdown"))};class u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.currentIndex=0,this.hidden=!0,this.list="string"==typeof e?document.querySelector(e):e,this.items=[],this.eventWrapper={},this.hideOnClick=!1!==t.hideOnClick,t.addActiveClassToDropdownButton&&(this.dropdownToggle=this.list.parentNode.querySelector(".js-dropdown-toggle")),this.getItems(),this.initTemplateString(),this.addEvents(),this.initialState=e.innerHTML}getItems(){return this.items=[].slice.call(this.list.querySelectorAll("li")),this.items}initTemplateString(){const e=this.items||this.getItems();let t="";return e.length>0&&(t=e[e.length-1].outerHTML),this.templateString=t,this.templateString}clickEvent(e){if("UL"===e.target.tagName)return;if(e.target.closest(".".concat(s)))return;const t=e.target.closest("li");if(!t)return;this.addSelectedClass(t),e.preventDefault(),this.hideOnClick&&this.hide();const n=new CustomEvent("click.dl",{detail:{list:this,selected:t,data:e.target.dataset}});this.list.dispatchEvent(n)}addSelectedClass(e){this.removeSelectedClasses(),e.classList.add(r)}removeSelectedClasses(){(this.items||this.getItems()).forEach((function(e){return e.classList.remove(r)}))}addEvents(){this.eventWrapper.clickEvent=this.clickEvent.bind(this),this.eventWrapper.closeDropdown=this.closeDropdown.bind(this),this.list.addEventListener("click",this.eventWrapper.clickEvent),this.list.addEventListener("keyup",this.eventWrapper.closeDropdown)}closeDropdown(e){return 27!==e.keyCode||(e.preventDefault(),this.toggle())}setData(e){this.data=e,this.render(e)}addData(e){this.data=(this.data||[]).concat(e),this.render(this.data)}render(e){const t=e?e.map(this.renderChildren.bind(this)):[];if(this.list.querySelector(".filter-dropdown-loading"))return;(this.list.querySelector("ul[data-dynamic]")||this.list).innerHTML=t.join("");const n=new CustomEvent("render.dl",{detail:{list:this}});this.list.dispatchEvent(n)}renderChildren(e){const t=c.template(this.templateString,e),n=document.createElement("div");return n.innerHTML=t,u.setImagesSrc(n),n.firstChild.style.display=e.droplab_hidden?"none":"block",n.firstChild.outerHTML}show(){this.hidden&&(this.list.style.display="block",this.currentIndex=0,this.hidden=!1,this.dropdownToggle&&this.dropdownToggle.classList.add("active"))}hide(){this.hidden||(this.list.style.display="none",this.currentIndex=0,this.hidden=!0,this.dropdownToggle&&this.dropdownToggle.classList.remove("active"))}toggle(){return this.hidden?this.show():this.hide()}destroy(){this.hide(),this.list.removeEventListener("click",this.eventWrapper.clickEvent),this.list.removeEventListener("keyup",this.eventWrapper.closeDropdown)}static setImagesSrc(e){[...e.querySelectorAll("img[data-src]")].forEach((function(e){const t=e;t.src=t.getAttribute("data-src"),t.removeAttribute("data-src")}))}}var d=u;var f=class{constructor(e,t,n,i){this.trigger=e,this.list=new d(t,i),this.type="Hook",this.event="click",this.plugins=n||[],this.config=i||{},this.id=e.id}};var h=class extends f{constructor(e,t,n,i){super(e,t,n,i),this.type="button",this.event="click",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}clicked(e){e.preventDefault();const t=new CustomEvent("click.dl",{detail:{hook:this},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t),this.list.toggle()}addEvents(){this.eventWrapper.clicked=this.clicked.bind(this),this.trigger.addEventListener("click",this.eventWrapper.clicked)}removeEvents(){this.trigger.removeEventListener("click",this.eventWrapper.clicked)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins()}};var p=class extends f{constructor(e,t,n,i){super(e,t,n,i),this.type="input",this.event="input",this.eventWrapper={},this.addEvents(),this.addPlugins()}addPlugins(){var e=this;this.plugins.forEach((function(t){return t.init(e)}))}addEvents(){this.eventWrapper.mousedown=this.mousedown.bind(this),this.eventWrapper.input=this.input.bind(this),this.eventWrapper.keyup=this.keyup.bind(this),this.eventWrapper.keydown=this.keydown.bind(this),this.trigger.addEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.addEventListener("input",this.eventWrapper.input),this.trigger.addEventListener("keyup",this.eventWrapper.keyup),this.trigger.addEventListener("keydown",this.eventWrapper.keydown)}removeEvents(){this.hasRemovedEvents=!0,this.trigger.removeEventListener("mousedown",this.eventWrapper.mousedown),this.trigger.removeEventListener("input",this.eventWrapper.input),this.trigger.removeEventListener("keyup",this.eventWrapper.keyup),this.trigger.removeEventListener("keydown",this.eventWrapper.keydown)}input(e){if(this.hasRemovedEvents)return;this.list.show();const t=new CustomEvent("input.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}mousedown(e){if(this.hasRemovedEvents)return;const t=new CustomEvent("mousedown.dl",{detail:{hook:this,text:e.target.value},bubbles:!0,cancelable:!0});e.target.dispatchEvent(t)}keyup(e){this.hasRemovedEvents||this.keyEvent(e,"keyup.dl")}keydown(e){this.hasRemovedEvents||this.keyEvent(e,"keydown.dl")}keyEvent(e,t){this.list.show();const n=new CustomEvent(t,{detail:{hook:this,text:e.target.value,which:e.which,key:e.key},bubbles:!0,cancelable:!0});e.target.dispatchEvent(n)}restoreInitialState(){this.list.list.innerHTML=this.list.initialState}removePlugins(){this.plugins.forEach((function(e){return e.destroy()}))}destroy(){this.restoreInitialState(),this.removeEvents(),this.removePlugins(),this.list.destroy()}};var m=function(){var e,t=!1,n=!1,i=function(e){for(var t=Array.prototype.slice.call(e.list.querySelectorAll("li:not(.divider):not(.hidden)"),0),n=[],i=0;i<t.length;i++){var r=t[i];r.classList.remove("droplab-item-active"),"none"!==r.style.display&&n.push(r)}return n},r=function(e){var t=i(e)[e.currentIndex-1],n=new CustomEvent("click.dl",{detail:{list:e,selected:t,data:t.dataset}});e.list.dispatchEvent(n),e.hide()};document.addEventListener("mousedown.dl",(function(e){var r=e.detail.hook.list;i(r),r.show(),r.currentIndex=0,t=!1,n=!1})),document.addEventListener("keydown.dl",(function(s){s.target;var a=s.detail.hook.list,o=a.currentIndex;if(t=!1,n=!1,s.detail.which){if(13===(e=s.detail.which))return void r(s.detail.hook.list);38===e&&(t=!0),40===e&&(n=!0)}else if(s.detail.key){if("Enter"===(e=s.detail.key))return void r(s.detail.hook.list);"ArrowUp"===e&&(t=!0),"ArrowDown"===e&&(n=!0)}t&&o--,n&&o++,o<0&&(o=0),a.currentIndex=o,function(e){var t=i(e);if(e.currentIndex>0&&(t[e.currentIndex-1]||(e.currentIndex=e.currentIndex-1),t[e.currentIndex-1])){var n=t[e.currentIndex-1],r=n.closest(".filter-dropdown");if(n.classList.add("droplab-item-active"),r){var s=r.offsetHeight,a=n.offsetTop-30;a>s&&(r.scrollTop=a-s)}}}(s.detail.hook.list)}))};t.a=class{constructor(){this.ready=!1,this.hooks=[],this.queuedData=[],this.config={},this.eventWrapper={}}loadStatic(){const e=[].slice.apply(document.querySelectorAll("[".concat(i,"]")));this.addHooks(e)}addData(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processAddData")}setData(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.applyArgs(t,"processSetData")}destroy(){this.hooks.forEach((function(e){return e.destroy()})),this.hooks=[],this.removeEvents()}applyArgs(e,t){return this.ready?this[t](...e):(this.queuedData=this.queuedData||[],this.queuedData.push(e),this.ready)}processAddData(e,t){this.processData(e,t,"addData")}processSetData(e,t){this.processData(e,t,"setData")}processData(e,t,n){this.hooks.forEach((function(i){Array.isArray(e)&&i.list[n](e),i.trigger.id===e&&i.list[n](t)}))}addEvents(){this.eventWrapper.documentClicked=this.documentClicked.bind(this),document.addEventListener("click",this.eventWrapper.documentClicked)}documentClicked(e){if(!e.defaultPrevented&&!c.isDropDownParts(e.target)){if("UL"!==e.target.tagName){const t=c.closest(e.target,"UL");if(c.isDropDownParts(t))return}this.hooks.forEach((function(e){return e.list.hide()}))}}removeEvents(){document.removeEventListener("click",this.eventWrapper.documentClicked)}changeHookList(e,t,n,i){var r=this;const s="string"==typeof e?document.getElementById(e):e;this.hooks.forEach((function(e,a){const o=e;o.list.list.dataset.dropdownActive=!1,o.trigger===s&&(o.destroy(),r.hooks.splice(a,1),r.addHook(s,t,n,i))}))}addHook(e,t,n,r){const s="string"==typeof e?document.querySelector(e):e;let a;(a="string"==typeof t?document.querySelector(t):t instanceof Element?t:document.querySelector(e.dataset[c.toCamelCase(i)])).dataset.dropdownActive=!0;const o="INPUT"===s.tagName?p:h;return this.hooks.push(new o(s,a,n,r)),this}addHooks(e,t,n){var i=this;return e.forEach((function(e){return i.addHook(e,null,t,n)})),this}setConfig(e){this.config=e}fireReady(){const e=new CustomEvent("ready.dl",{detail:{dropdown:this}});document.dispatchEvent(e),this.ready=!0}init(e,t,n,i){var r=this;return e?this.addHook(e,t,n,i):this.loadStatic(),this.addEvents(),m(),this.fireReady(),this.queuedData.forEach((function(e){return r.addData(e)})),this.queuedData=[],this}}},NbhA:function(e,t,n){"use strict";n("EWC9"),n("orcL");var i=n("Bk2k"),r=n.n(i),s=n("4lAS"),a=n("s1D3"),o=n("LLbv"),l=n("YH60"),c=n("/lV4"),u=n("sHIo"),d=n("tDP3");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g={components:{GlButton:s.a,GlIcon:a.a,EmojiPicker:l.default},directives:{GlTooltip:o.a},mixins:[Object(u.a)()],props:{awards:{type:Array,required:!0},canAwardEmoji:{type:Boolean,required:!0},currentUserId:{type:Number,required:!1,default:-1},addButtonClass:{type:String,required:!1,default:""},defaultAwards:{type:Array,required:!1,default:function(){return[]}},selectedClass:{type:String,required:!1,default:"selected"}},data:()=>({isMenuOpen:!1}),computed:{groupedDefaultAwards(){return this.defaultAwards.reduce((function(e,t){return Object.assign(e,{[t]:[]})}),{})},groupedAwards(){var e=this;const t=h(h({},this.groupedDefaultAwards),r()(this.awards,(function(e){return e.name}))),{thumbsup:n,thumbsdown:i}=t,s=m(t,["thumbsup","thumbsdown"]);return[...n?[this.createAwardList("thumbsup",n)]:[],...i?[this.createAwardList("thumbsdown",i)]:[],...Object.entries(s).map((function(t){let[n,i]=t;return e.createAwardList(n,i)}))]},isAuthoredByMe(){return this.noteAuthorId===this.currentUserId}},methods:{getAwardClassBindings(e){return{[this.selectedClass]:this.hasReactionByCurrentUser(e),disabled:-1===this.currentUserId}},hasReactionByCurrentUser(e){var t=this;return-1!==this.currentUserId&&e.some((function(e){return e.user.id===t.currentUserId}))},createAwardList(e,t){return{name:e,list:t,title:this.getAwardListTitle(t),classes:this.getAwardClassBindings(t),html:Object(d.glEmojiTag)(e)}},getAwardListTitle(e){var t=this;if(!e.length)return"";const n=this.hasReactionByCurrentUser(e),i=n?9:10;let r=e;n&&(r=r.filter((function(e){return e.user.id!==t.currentUserId})));const s=r.slice(0,i).map((function(e){return e.user.name})),a=r.slice(i,r.length);n&&s.unshift(Object(c.a)("You"));let o="";return a.length?o=Object(c.f)(Object(c.a)("%{listToShow}, and %{awardsListLength} more."),{listToShow:s.join(", "),awardsListLength:a.length},!1):s.length>1?(o=s.slice(0,s.length-1).join(", "),o+=s.length>2?",":"",o+=Object(c.f)(Object(c.a)(" and %{sliced}"),{sliced:s.slice(-1)},!1)):o=s.join(Object(c.a)(" and ")),o},handleAward(e){if(!this.canAwardEmoji)return;const t=/^[0-9]+$/.test(e)?Number(e):e;this.$emit("award",t),document.activeElement&&document.activeElement.blur()},setIsMenuOpen(e){this.isMenuOpen=e}}},v=n("tBpV"),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"awards js-awards-block"},[e._l(e.groupedAwards,(function(t){return n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],key:t.name,staticClass:"gl-mr-3",class:t.classes,attrs:{title:t.title,"data-testid":"award-button"},on:{click:function(n){return e.handleAward(t.name)}},scopedSlots:e._u([{key:"emoji",fn:function(){return[n("span",{staticClass:"award-emoji-block",attrs:{"data-testid":"award-html"},domProps:{innerHTML:e._s(t.html)}})]},proxy:!0}],null,!0)},[e._v(" "),n("span",{staticClass:"js-counter"},[e._v(e._s(t.list.length))])])})),e._v(" "),e.canAwardEmoji?n("div",{staticClass:"award-menu-holder"},[e.glFeatures.improvedEmojiPicker?n("emoji-picker",{attrs:{"toggle-class":["add-reaction-button gl-relative!",{"is-active":e.isMenuOpen}]},on:{click:e.handleAward,shown:function(t){return e.setIsMenuOpen(!0)},hidden:function(t){return e.setIsMenuOpen(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[n("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[n("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[n("gl-icon",{attrs:{name:"smile"}})],1)]},proxy:!0}],null,!1,3506434543)}):n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport",modifiers:{viewport:!0}}],staticClass:"add-reaction-button js-add-award",class:e.addButtonClass,attrs:{title:"Add reaction","aria-label":e.__("Add reaction")}},[n("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[n("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[n("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[n("gl-icon",{attrs:{name:"smile"}})],1)])],1):e._e()],2)}),[],!1,null,null,null);t.a=b.exports},NjXk:function(e,t,n){var i=n("ERvI")({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});e.exports=i},OIsX:function(e,t,n){"use strict";n("S26F");var i=n("A5dm"),r=n("3twG"),s=n("9dZE"),a={components:{GlTruncate:i.a},props:{path:{type:String,required:!0}}},o=n("tBpV"),l={name:"FileRow",components:{FileHeader:Object(o.a)(a,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"file-row-header bg-white sticky-top p-2 js-file-row-header",attrs:{title:this.path}},[t("gl-truncate",{staticClass:"bold",attrs:{text:this.path,position:"middle"}})],1)}),[],!1,null,null,null).exports,FileIcon:s.a,GlTruncate:i.a},props:{file:{type:Object,required:!0},fileUrl:{type:String,required:!1,default:""},level:{type:Number,required:!0},fileClasses:{type:String,required:!1,default:""},truncateMiddle:{type:Boolean,required:!1,default:!1}},computed:{isTree(){return"tree"===this.file.type},isBlob(){return"blob"===this.file.type},levelIndentation(){return{marginLeft:this.level?"".concat(16*this.level,"px"):null}},fileClass(){return{"file-open":this.isBlob&&this.file.opened,"is-active":this.isBlob&&this.file.active,folder:this.isTree,"is-open":this.file.opened}},textForTitle(){var e,t;return!!(null===(e=this.file)||void 0===e?void 0:null===(t=e.tree)||void 0===t?void 0:t.length)&&this.file.tree[0].parentPath},fileRouterUrl(){return this.fileUrl||"/project".concat(this.file.url)}},watch:{"file.active":function(e){"blob"===this.file.type&&e&&this.scrollIntoView()}},mounted(){this.hasPathAtCurrentRoute()&&this.scrollIntoView(!0)},methods:{toggleTreeOpen(e){this.$emit("toggleTreeOpen",e)},clickedFile(e){this.$emit("clickFile",e)},clickFile(){this.isTree&&this.hasUrlAtCurrentRoute()&&this.toggleTreeOpen(this.file.path),this.$router&&!this.hasUrlAtCurrentRoute()&&this.$router.push(this.fileRouterUrl),this.isBlob&&this.clickedFile(this.file.path)},scrollIntoView(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.isTree?"center":"nearest";this.$el.scrollIntoView({behavior:"smooth",block:e})},hasPathAtCurrentRoute(){if(!this.$router||!this.$router.currentRoute)return!1;const e=this.$router.currentRoute.path.replace(/^.*?[/]-[/]/g,"").replace(/[/]$/g,"");return this.file.path.replace(/[/]$/g,"")===e},hasUrlAtCurrentRoute(){return!this.$router||!this.$router.currentRoute||this.$router.currentRoute.path===Object(r.c)(this.fileRouterUrl)}}},c=(n("JVoq"),Object(o.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file.isHeader?n("file-header",{attrs:{path:e.file.path}}):n("div",{staticClass:"file-row",class:e.fileClass,attrs:{title:e.textForTitle,"data-level":e.level,role:"button"},on:{click:e.clickFile,mouseleave:function(t){return e.$emit("mouseleave",t)}}},[n("div",{staticClass:"file-row-name-container",attrs:{"data-qa-selector":"file_row_container","data-qa-file-name":e.file.name}},[n("span",{ref:"textOutput",staticClass:"file-row-name",class:[e.fileClasses,{"str-truncated":!e.truncateMiddle,"gl-min-w-0":e.truncateMiddle}],style:e.levelIndentation,attrs:{"data-qa-selector":"file_name_content","data-qa-file-name":e.file.name,"data-testid":"file-row-name-container"}},[n("file-icon",{staticClass:"file-row-icon",class:{"text-secondary":"tree"===e.file.type},attrs:{"file-name":e.file.name,loading:e.file.loading,folder:e.isTree,opened:e.file.opened,size:16,submodule:e.file.submodule}}),e._v(" "),e.truncateMiddle?n("gl-truncate",{staticClass:"gl-pr-7",attrs:{text:e.file.name,position:"middle"}}):[e._v(e._s(e.file.name))]],2),e._v(" "),e._t("default")],2)])}),[],!1,null,null,null));t.a=c.exports},OJFw:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return l}));var i=n("0zRR"),r=n("/Szx"),s=n("lgrP");function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={tag:{type:String,default:"ul"},fill:{type:Boolean,default:!1},justified:{type:Boolean,default:!1},align:{type:String},tabs:{type:Boolean,default:!1},pills:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},small:{type:Boolean,default:!1},cardHeader:{type:Boolean,default:!1}},l=r.a.extend({name:i.cb,functional:!0,props:o,render:function(e,t){var n,i,r=t.props,o=t.data,l=t.children;return e(r.tag,Object(s.a)(o,{staticClass:"nav",class:(n={"nav-tabs":r.tabs,"nav-pills":r.pills&&!r.tabs,"card-header-tabs":!r.vertical&&r.cardHeader&&r.tabs,"card-header-pills":!r.vertical&&r.cardHeader&&r.pills&&!r.tabs,"flex-column":r.vertical,"nav-fill":!r.vertical&&r.fill,"nav-justified":!r.vertical&&r.justified},a(n,(i=r.align,"justify-content-".concat(i="left"===i?"start":"right"===i?"end":i)),!r.vertical&&r.align),a(n,"small",r.small),n)}),l)}})},"OK+K":function(e,t,n){"use strict";var i=n("q/Yt"),r=n("f9it"),s=n("MDlm"),a=n("hoFG"),o=n("i3lA");t.a=function(){const e=document.querySelector(".js-sidebar-options");if(!e)return;const t=Object(i.a)(e);new a.a({full_path:t.fullPath}),new s.a,new r.a(t.currentUser),o.a.initialize(),Object(i.c)()}},OQy4:function(e,t,n){"use strict";var i=n("nq4Y"),r=n("Pyw5"),s=n.n(r),a=i.a.options.model;const o={name:"GlFormRadio",components:{BFormRadio:i.a},inheritAttrs:!1,model:a};const l=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-radio",e._g(e._b({staticClass:"gl-form-radio",on:{input:function(t){return e.$emit("input",t)},change:function(t){return e.$emit("change",t)}}},"b-form-radio",e.$attrs,!1),e.$listeners),[e._t("default"),e._v(" "),e.$scopedSlots.help?n("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},Ocj7:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"updateLockedAttribute",(function(){return V})),n.d(i,"expandDiscussion",(function(){return U})),n.d(i,"collapseDiscussion",(function(){return G})),n.d(i,"setNotesData",(function(){return H})),n.d(i,"setNoteableData",(function(){return z})),n.d(i,"setConfidentiality",(function(){return W})),n.d(i,"setUserData",(function(){return Q})),n.d(i,"setLastFetchedAt",(function(){return K})),n.d(i,"setInitialNotes",(function(){return Y})),n.d(i,"setTargetNoteHash",(function(){return X})),n.d(i,"setNotesFetchedState",(function(){return J})),n.d(i,"toggleDiscussion",(function(){return Z})),n.d(i,"setExpandDiscussions",(function(){return ee})),n.d(i,"fetchDiscussions",(function(){return te})),n.d(i,"updateDiscussion",(function(){return ne})),n.d(i,"setDiscussionSortDirection",(function(){return ie})),n.d(i,"setTimelineView",(function(){return re})),n.d(i,"setSelectedCommentPosition",(function(){return se})),n.d(i,"setSelectedCommentPositionHover",(function(){return ae})),n.d(i,"removeNote",(function(){return oe})),n.d(i,"deleteNote",(function(){return le})),n.d(i,"updateNote",(function(){return ce})),n.d(i,"updateOrCreateNotes",(function(){return ue})),n.d(i,"replyToDiscussion",(function(){return de})),n.d(i,"createNewNote",(function(){return fe})),n.d(i,"removePlaceholderNotes",(function(){return he})),n.d(i,"resolveDiscussion",(function(){return pe})),n.d(i,"toggleResolveNote",(function(){return me})),n.d(i,"closeIssuable",(function(){return ge})),n.d(i,"reopenIssuable",(function(){return ve})),n.d(i,"toggleStateButtonLoading",(function(){return be})),n.d(i,"emitStateChangedEvent",(function(){return ye})),n.d(i,"toggleIssueLocalState",(function(){return _e})),n.d(i,"saveNote",(function(){return we})),n.d(i,"setFetchingState",(function(){return Oe})),n.d(i,"poll",(function(){return ke})),n.d(i,"stopPolling",(function(){return Se})),n.d(i,"restartPolling",(function(){return je})),n.d(i,"toggleAward",(function(){return Ce})),n.d(i,"toggleAwardRequest",(function(){return xe})),n.d(i,"scrollToNoteIfNeeded",(function(){return Ee})),n.d(i,"fetchDiscussionDiffLines",(function(){return De})),n.d(i,"updateMergeRequestWidget",(function(){return Pe})),n.d(i,"setLoadingState",(function(){return Te})),n.d(i,"filterDiscussion",(function(){return Ne})),n.d(i,"setCommentsDisabled",(function(){return Ie})),n.d(i,"startTaskList",(function(){return Le})),n.d(i,"updateResolvableDiscussionsCounts",(function(){return Re})),n.d(i,"submitSuggestion",(function(){return Ae})),n.d(i,"submitSuggestionBatch",(function(){return Fe})),n.d(i,"addSuggestionInfoToBatch",(function(){return qe})),n.d(i,"removeSuggestionInfoFromBatch",(function(){return Me})),n.d(i,"convertToDiscussion",(function(){return Be})),n.d(i,"removeConvertedDiscussion",(function(){return $e})),n.d(i,"setCurrentDiscussionId",(function(){return Ve})),n.d(i,"fetchDescriptionVersion",(function(){return Ue})),n.d(i,"requestDescriptionVersion",(function(){return Ge})),n.d(i,"receiveDescriptionVersion",(function(){return He})),n.d(i,"receiveDescriptionVersionError",(function(){return ze})),n.d(i,"softDeleteDescriptionVersion",(function(){return We})),n.d(i,"requestDeleteDescriptionVersion",(function(){return Qe})),n.d(i,"receiveDeleteDescriptionVersion",(function(){return Ke})),n.d(i,"receiveDeleteDescriptionVersionError",(function(){return Ye})),n.d(i,"updateAssignees",(function(){return Xe})),n.d(i,"updateDiscussionPosition",(function(){return Je}));var r={};n.r(r),n.d(r,"discussions",(function(){return lt})),n.d(r,"convertedDisscussionIds",(function(){return ct})),n.d(r,"targetNoteHash",(function(){return ut})),n.d(r,"getNotesData",(function(){return dt})),n.d(r,"isNotesFetched",(function(){return ft})),n.d(r,"sortDirection",(function(){return ht})),n.d(r,"persistSortOrder",(function(){return pt})),n.d(r,"timelineEnabled",(function(){return mt})),n.d(r,"isFetching",(function(){return gt})),n.d(r,"isLoading",(function(){return vt})),n.d(r,"getNotesDataByProp",(function(){return bt})),n.d(r,"getNoteableData",(function(){return yt})),n.d(r,"getNoteableDataByProp",(function(){return _t})),n.d(r,"getBlockedByIssues",(function(){return wt})),n.d(r,"userCanReply",(function(){return Ot})),n.d(r,"openState",(function(){return kt})),n.d(r,"getUserData",(function(){return St})),n.d(r,"getUserDataByProp",(function(){return jt})),n.d(r,"descriptionVersions",(function(){return Ct})),n.d(r,"notesById",(function(){return xt})),n.d(r,"noteableType",(function(){return Et})),n.d(r,"getCurrentUserLastNote",(function(){return Tt})),n.d(r,"getDiscussionLastNote",(function(){return Nt})),n.d(r,"unresolvedDiscussionsCount",(function(){return It})),n.d(r,"resolvableDiscussionsCount",(function(){return Lt})),n.d(r,"showJumpToNextDiscussion",(function(){return Rt})),n.d(r,"isDiscussionResolved",(function(){return At})),n.d(r,"allResolvableDiscussions",(function(){return Ft})),n.d(r,"resolvedDiscussionsById",(function(){return qt})),n.d(r,"unresolvedDiscussionsIdsByDate",(function(){return Mt})),n.d(r,"unresolvedDiscussionsIdsByDiff",(function(){return Bt})),n.d(r,"resolvedDiscussionCount",(function(){return $t})),n.d(r,"discussionTabCounter",(function(){return Vt})),n.d(r,"unresolvedDiscussionsIdsOrdered",(function(){return Ut})),n.d(r,"isLastUnresolvedDiscussion",(function(){return Gt})),n.d(r,"findUnresolvedDiscussionIdNeighbor",(function(){return Ht})),n.d(r,"nextUnresolvedDiscussionId",(function(){return zt})),n.d(r,"previousUnresolvedDiscussionId",(function(){return Wt})),n.d(r,"firstUnresolvedDiscussionId",(function(){return Qt})),n.d(r,"getDiscussion",(function(){return Kt})),n.d(r,"commentsDisabled",(function(){return Yt})),n.d(r,"suggestionsCount",(function(){return Xt})),n.d(r,"hasDrafts",(function(){return Jt}));var s=n("7KAB"),a=(n("jaBk"),n("KcQl"),n("QifN"),n("orcL"),n("EmJ/")),o=n.n(a),l=n("99pJ"),c=n.n(l),u=n("jB52"),d=n("qPgm"),f=n("bpeo"),h=n("2ibD"),p=n("/lV4"),m=n("dR/i"),g=n("pF9p"),v=n.n(g),b=n("DZpg"),y=n.n(b),_=n("/ode"),w=n("XRO8"),O=n("NmEs"),k=n("hqF9"),S=n("3twG"),j=n("Or2z"),C=n("QBXl"),x=n("SqD0"),E=n("J7NB");n("z4I3"),n("Ag57"),n("GzNv"),n("S26F"),n("+xeR");var D=n("04nr"),P=n("5v28"),T=n("Gs6c");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const L=function(e,t){return e.filter((function(e){return e.id===t}))[0]},R=function(e){let t=Object(p.a)("Applying command");const n=(T.a.get(gl.GfmAutoComplete.dataSources.commands)||[]).filter((function(t){return new RegExp("/".concat(t.name)).test(e)}));if(n&&n.length)if(n.length>1)t=Object(p.a)("Applying multiple commands");else{const e=n[0].description.toLowerCase();t=Object(p.f)(Object(p.a)("Applying command to %{commandDescription}"),{commandDescription:e})}return t},A=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(D.r)(e))}))},F=Object(P.default)({},{fetchPolicy:P.fetchPolicies.NO_CACHE});function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let $;const V=function(e,t){let{commit:n,getters:i}=e,{locked:r,fullPath:s}=t;const{iid:a,targetType:o}=i.getNoteableData;return F.mutate({mutation:"issue"===o?v.a:y.a,variables:{input:{projectPath:s,iid:String(a),locked:r}}}).then((function(e){let{data:t}=e;const i="issue"===o?t.issueSetLocked.issue.discussionLocked:t.mergeRequestSetLocked.mergeRequest.discussionLocked;n("SET_ISSUABLE_LOCK",i)}))},U=function(e,t){let{commit:n,dispatch:i}=e;t.discussionId&&i("diffs/renderFileForDiscussionId",t.discussionId,{root:!0}),n("EXPAND_DISCUSSION",t)},G=function(e,t){let{commit:n}=e;return n("COLLAPSE_DISCUSSION",t)},H=function(e,t){let{commit:n}=e;return n("SET_NOTES_DATA",t)},z=function(e,t){let{commit:n}=e;return n("SET_NOTEABLE_DATA",t)},W=function(e,t){let{commit:n}=e;return n("SET_ISSUE_CONFIDENTIAL",t)},Q=function(e,t){let{commit:n}=e;return n("SET_USER_DATA",t)},K=function(e,t){let{commit:n}=e;return n("SET_LAST_FETCHED_AT",t)},Y=function(e,t){let{commit:n}=e;return n("SET_INITIAL_DISCUSSIONS",t)},X=function(e,t){let{commit:n}=e;return n("SET_TARGET_NOTE_HASH",t)},J=function(e,t){let{commit:n}=e;return n("SET_NOTES_FETCHED_STATE",t)},Z=function(e,t){let{commit:n}=e;return n("TOGGLE_DISCUSSION",t)},ee=function(e,t){let{commit:n}=e,{discussionIds:i,expanded:r}=t;n("SET_EXPAND_DISCUSSIONS",{discussionIds:i,expanded:r})},te=function(e,t){let{commit:n,dispatch:i}=e,{path:r,filter:s,persistFilter:a}=t;const o=void 0!==s?{params:{notes_filter:s,persist_filter:a}}:null;return h.a.get(r,o).then((function(e){let{data:t}=e;n("SET_INITIAL_DISCUSSIONS",t),n("SET_FETCHING_DISCUSSIONS",!1),i("updateResolvableDiscussionsCounts")}))},ne=function(e,t){let{commit:n,state:i}=e;return n("UPDATE_DISCUSSION",t),L(i.discussions,t.id)},ie=function(e,t){let{commit:n}=e,{direction:i,persist:r=!0}=t;n("SET_DISCUSSIONS_SORT",{direction:i,persist:r})},re=function(e,t){let{commit:n}=e;n("SET_TIMELINE_VIEW",t)},se=function(e,t){let{commit:n}=e;n("SET_SELECTED_COMMENT_POSITION",t)},ae=function(e,t){let{commit:n}=e;n("SET_SELECTED_COMMENT_POSITION_HOVER",t)},oe=function(e,t){let{commit:n,dispatch:i,state:r}=e;const s=r.discussions.find((function(e){let{id:n}=e;return n===t.discussion_id}));n("DELETE_NOTE",t),i("updateMergeRequestWidget"),i("updateResolvableDiscussionsCounts"),Object(O.C)()&&i("diffs/removeDiscussionsFromDiff",s)},le=function(e,t){let{dispatch:n}=e;return h.a.delete(t.path).then((function(){n("removeNote",t)}))},ce=function(e,t){let{commit:n,dispatch:i}=e,{endpoint:r,note:s}=t;return h.a.put(r,s).then((function(e){let{data:t}=e;n("UPDATE_NOTE",t),i("startTaskList")}))},ue=function(e,t){let{commit:n,state:i,getters:r,dispatch:a}=e;const{notesById:o}=r;t.forEach((function(e){if(o[e.id])n("UPDATE_NOTE",e);else if(e.type===s.DISCUSSION_NOTE||e.type===s.DIFF_NOTE){L(i.discussions,e.discussion_id)?n("ADD_NEW_REPLY_TO_DISCUSSION",e):e.type!==s.DIFF_NOTE||e.base_discussion?n("ADD_NEW_NOTE",e):(t=i.currentlyFetchingDiscussions)?(!0!==t&&clearTimeout(i.currentlyFetchingDiscussions),n("SET_FETCHING_DISCUSSIONS",setTimeout((function(){a("fetchDiscussions",{path:i.notesData.discussionsPath})}),s.DISCUSSION_FETCH_TIMEOUT))):(n("SET_FETCHING_DISCUSSIONS",!0),a("fetchDiscussions",{path:i.notesData.discussionsPath}))}else n("ADD_NEW_NOTE",e);var t}))},de=function(e,t){let{commit:n,state:i,getters:r,dispatch:s}=e,{endpoint:a,data:o}=t;return h.a.post(a,o).then((function(e){let{data:t}=e;return t.discussion?(n("UPDATE_DISCUSSION",t.discussion),ue({commit:n,state:i,getters:r,dispatch:s},t.discussion.notes),s("updateMergeRequestWidget"),s("startTaskList"),s("updateResolvableDiscussionsCounts")):n("ADD_NEW_REPLY_TO_DISCUSSION",t),t}))},fe=function(e,t){let{commit:n,dispatch:i}=e,{endpoint:r,data:s}=t;return h.a.post(r,s).then((function(e){let{data:t}=e;return t.errors||(n("ADD_NEW_NOTE",t),i("updateMergeRequestWidget"),i("startTaskList"),i("updateResolvableDiscussionsCounts")),t}))},he=function(e){let{commit:t}=e;return t("REMOVE_PLACEHOLDER_NOTES")},pe=function(e,t){let{state:n,dispatch:i,getters:r}=e,{discussionId:s}=t;const a=L(n.discussions,s),o=r.isDiscussionResolved(s);return a?o?Promise.resolve():i("toggleResolveNote",{endpoint:a.resolve_path,isResolved:o,discussion:!0}):Promise.reject()},me=function(e,t){let{commit:n,dispatch:i}=e,{endpoint:r,isResolved:a,discussion:o}=t;const l=a?s.UNRESOLVE_NOTE_METHOD_NAME:s.RESOLVE_NOTE_METHOD_NAME,c=o?"UPDATE_DISCUSSION":"UPDATE_NOTE";return h.a[l](r).then((function(e){let{data:t}=e;n(c,t),i("updateResolvableDiscussionsCounts"),i("updateMergeRequestWidget")}))},ge=function(e){let{commit:t,dispatch:n,state:i}=e;return n("toggleStateButtonLoading",!0),h.a.put(i.notesData.closePath).then((function(e){let{data:i}=e;t("CLOSE_ISSUE"),n("emitStateChangedEvent",i),n("toggleStateButtonLoading",!1)}))},ve=function(e){let{commit:t,dispatch:n,state:i}=e;return n("toggleStateButtonLoading",!0),h.a.put(i.notesData.reopenPath).then((function(e){let{data:i}=e;t("REOPEN_ISSUE"),n("emitStateChangedEvent",i),n("toggleStateButtonLoading",!1)}))},be=function(e,t){let{commit:n}=e;return n("TOGGLE_STATE_BUTTON_LOADING",t)},ye=function(e,t){let{getters:n}=e;const i=new CustomEvent(f.a,{detail:{data:t,isClosed:n.openState===s.CLOSED}});document.dispatchEvent(i)},_e=function(e,t){let{commit:n}=e;t===s.CLOSED?n("CLOSE_ISSUE"):t===s.REOPENED&&n("REOPEN_ISSUE")},we=function(e,t){let{commit:n,dispatch:i}=e;const r=t.data.draft_note||t.data["note[note]"]||t.data.note.note;let s=r;const a=function(e){return/^\/\w+.*$/gm.test(e)}(s),l=t.data.in_reply_to_discussion_id;let c;const u=M({},t);!0===u.isDraft?(c=l?"batchComments/addDraftToDiscussion":"batchComments/createNewDraft",!u.draft_note&&t.note&&(u.draft_note=u.note,delete u.note)):c=l?"replyToDiscussion":"createNewNote",o()(".notes-form .flash-container").hide(),n("REMOVE_PLACEHOLDER_NOTES"),l&&(a&&(s=function(e){return e.replace(/^\/\w+.*$/gm,"").trim()}(s)),s.length&&n("SHOW_PLACEHOLDER_NOTE",{noteBody:s,replyId:l}),a&&n("SHOW_PLACEHOLDER_NOTE",{isSystemNote:!0,noteBody:R(r),replyId:l}));return i(c,u,{root:!0}).then((function(e){const{errors:{commands_only:n}={commands_only:null}}=e;return a&&n&&($.makeRequest(),m.a.setConfidentiality&&n.some((function(e){return e.includes("Made this issue confidential")}))&&m.a.setConfidentiality(),o()(".js-gfm-input").trigger("clear-commands-cache.atwho"),Object(w.c)(n||Object(p.a)("Commands applied"),"notice",t.flashContainer)),e})).then((function(e){const{commands_changes:n}=e,{emoji_award:i}=n||{};if(!i)return e;const r=o()(".js-awards-block").eq(0);return Object(_.b)().then((function(e){e.addAwardToEmojiBar(r,i),e.scrollToAwards()})).catch((function(){Object(w.c)(Object(p.a)("Something went wrong while adding your award. Please try again."),"alert",t.flashContainer)})).then((function(){return e}))})).then((function(e){const{commands_changes:t}=e,{spend_time:n,time_estimate:i}=t||{};return null==n&&null==i||j.a.$emit("timeTrackingUpdated",{commands_changes:t}),e})).then((function(e){return l&&n("REMOVE_PLACEHOLDER_NOTES"),e})).catch((function(e){if(e.response){const{response:{data:n={}}}=e,{errors:i={}}=n,{base:r=[]}=i;if(r.length>0){const e=Object(p.f)(Object(p.a)("Your comment could not be submitted because %{error}"),{error:r[0].toLowerCase()});return Object(w.c)(e,"alert",t.flashContainer),M(M({},n),{},{hasFlash:!0})}}throw e}))},Oe=function(e,t){let{commit:n}=e;return n("SET_NOTES_FETCHING_STATE",t)},ke=function(e){let{commit:t,state:n,getters:i,dispatch:r}=e;$=new k.a({resource:{poll:function(){const{endpoint:e,options:t}=function(e){return{endpoint:e.notesData.notesPath,options:{headers:{"X-Last-Fetched-At":e.lastFetchedAt?"".concat(e.lastFetchedAt):void 0}}}}(n);return h.a.get(e,t)}},method:"poll",successCallback:function(e){let{data:i}=e;return async function(e,t,n,i,r){var s,a,o;return n.isResolvingDiscussion?null:((null===(s=window.gon)||void 0===s?void 0:null===(a=s.features)||void 0===a?void 0:a.paginatedNotes)&&!e.more&&n.isFetching&&(E.a.$emit("fetchedNotesData"),r("setFetchingState",!1),r("setNotesFetchedState",!0),r("setLoadingState",!1)),(null===(o=e.notes)||void 0===o?void 0:o.length)&&(await r("updateOrCreateNotes",e.notes),r("startTaskList"),r("updateResolvableDiscussionsCounts")),t("SET_LAST_FETCHED_AT",e.last_fetched_at),e)}(i,t,n,0,r)},errorCallback:function(){return Object(w.c)(Object(p.a)("Something went wrong while fetching latest comments."))}}),c.a.hidden()?$.makeRequest():$.makeDelayedRequest(2500),c.a.change((function(){c.a.hidden()?$.stop():$.restart()}))},Se=function(){$&&$.stop()},je=function(){$&&$.restart()},Ce=function(e,t){let{commit:n,getters:i}=e,{awardName:r,noteId:s}=t;n("TOGGLE_AWARD",{awardName:r,note:i.notesById[s]})},xe=function(e,t){let{dispatch:n}=e;const{endpoint:i,awardName:r}=t;return h.a.post(i,{name:r}).then((function(){n("toggleAward",t)}))},Ee=function(e,t){Object(O.E)(t[0])||Object(O.Q)(t)},De=function(e,t){let{commit:n}=e;return h.a.get(t.truncated_diff_lines_path).then((function(e){let{data:i}=e;n("SET_DISCUSSION_DIFF_LINES",{discussionId:t.id,diffLines:i.truncated_diff_lines})}))},Pe=function(){x.a.$emit("mr.discussion.updated")},Te=function(e,t){let{commit:n}=e;n("SET_NOTES_LOADING_STATE",t)},Ne=function(e,t){let{dispatch:n}=e,{path:i,filter:r,persistFilter:s}=t;n("setLoadingState",!0),n("fetchDiscussions",{path:i,filter:r,persistFilter:s}).then((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0)})).catch((function(){n("setLoadingState",!1),n("setNotesFetchedState",!0),Object(w.c)(Object(p.a)("Something went wrong while fetching comments. Please try again."))}))},Ie=function(e,t){let{commit:n}=e;n("DISABLE_COMMENTS",t)},Le=function(e){let{dispatch:t}=e;return u.default.nextTick((function(){return new C.a({dataType:"note",fieldName:"note",selector:".notes .is-editable",onSuccess:function(){return t("startTaskList")}})}))},Re=function(e){let{commit:t}=e;return t("UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS")},Ae=function(e,t){let{commit:n,dispatch:i}=e,{discussionId:r,suggestionId:s,flashContainer:a,message:o}=t;return n("SET_RESOLVING_DISCUSSION",!0),i("stopPolling"),d.a.applySuggestion(s,o).then((function(){return i("resolveDiscussion",{discussionId:r}).catch((function(){}))})).catch((function(e){var t;const n=Object(p.a)("Something went wrong while applying the suggestion. Please try again."),i=(null===(t=e.response.data)||void 0===t?void 0:t.message)||n;Object(w.c)(Object(p.a)(i),"alert",a)})).finally((function(){n("SET_RESOLVING_DISCUSSION",!1),i("restartPolling")}))},Fe=function(e,t){let{commit:n,dispatch:i,state:r}=e,{flashContainer:s}=t;const a=r.batchSuggestionsInfo.map((function(e){let{suggestionId:t}=e;return t}));return n("SET_APPLYING_BATCH_STATE",!0),n("SET_RESOLVING_DISCUSSION",!0),i("stopPolling"),d.a.applySuggestionBatch(a).then((function(){return Promise.all(r.batchSuggestionsInfo.map((function(e){const{discussionId:t}=e;return i("resolveDiscussion",{discussionId:t}).catch((function(){}))})))})).then((function(){return n("CLEAR_SUGGESTION_BATCH")})).catch((function(e){var t;const n=Object(p.a)("Something went wrong while applying the batch of suggestions. Please try again."),i=(null===(t=e.response.data)||void 0===t?void 0:t.message)||n;Object(w.c)(Object(p.a)(i),"alert",s)})).finally((function(){n("SET_APPLYING_BATCH_STATE",!1),n("SET_RESOLVING_DISCUSSION",!1),i("restartPolling")}))},qe=function(e,t){let{commit:n}=e,{suggestionId:i,noteId:r,discussionId:s}=t;return n("ADD_SUGGESTION_TO_BATCH",{suggestionId:i,noteId:r,discussionId:s})},Me=function(e,t){let{commit:n}=e;return n("REMOVE_SUGGESTION_FROM_BATCH",t)},Be=function(e,t){let{commit:n}=e;return n("CONVERT_TO_DISCUSSION",t)},$e=function(e,t){let{commit:n}=e;return n("REMOVE_CONVERTED_DISCUSSION",t)},Ve=function(e,t){let{commit:n}=e;return n("SET_CURRENT_DISCUSSION_ID",t)},Ue=function(e,t){let{dispatch:n}=e,{endpoint:i,startingVersion:r,versionId:s}=t,a=i;return r&&(a=Object(S.q)({start_version_id:r},a)),n("requestDescriptionVersion"),h.a.get(a).then((function(e){n("receiveDescriptionVersion",{descriptionVersion:e.data,versionId:s})})).catch((function(e){n("receiveDescriptionVersionError",e),Object(w.c)(Object(p.a)("Something went wrong while fetching description changes. Please try again."))}))},Ge=function(e){let{commit:t}=e;t("REQUEST_DESCRIPTION_VERSION")},He=function(e,t){let{commit:n}=e;n("RECEIVE_DESCRIPTION_VERSION",t)},ze=function(e,t){let{commit:n}=e;n("RECEIVE_DESCRIPTION_VERSION_ERROR",t)},We=function(e,t){let{dispatch:n}=e,{endpoint:i,startingVersion:r,versionId:s}=t,a=i;return r&&(a=Object(S.q)({start_version_id:r},a)),n("requestDeleteDescriptionVersion"),h.a.delete(a).then((function(){n("receiveDeleteDescriptionVersion",s)})).catch((function(e){throw n("receiveDeleteDescriptionVersionError",e),Object(w.c)(Object(p.a)("Something went wrong while deleting description changes. Please try again.")),new Error}))},Qe=function(e){let{commit:t}=e;t("REQUEST_DELETE_DESCRIPTION_VERSION")},Ke=function(e,t){let{commit:n}=e;n("RECEIVE_DELETE_DESCRIPTION_VERSION",{[t]:Object(p.a)("Deleted")})},Ye=function(e,t){let{commit:n}=e;n("RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR",t)},Xe=function(e,t){let{commit:n}=e;n("UPDATE_ASSIGNEES",t)},Je=function(e,t){let{commit:n}=e;n("UPDATE_DISCUSSION_POSITION",t)};n("3E1d"),n("EWC9");var Ze=n("OksX"),et=n.n(Ze),tt=n("HCER"),nt=n.n(tt),it=n("JGUf");const rt=function(e){let t=null,n=-1;return e.slice(0).reduce((function(e,i){const r=i.notes[0];if(function(e){return e.system&&e.note===s.DESCRIPTION_TYPE}(r))if(t){if(t){(function(e,t){const n=new Date(e.created_at),i=(new Date(t.created_at)-n)/1e3/60;return Math.ceil(i)})(t,r)>s.TIME_DIFFERENCE_VALUE||r.author.id!==t.author.id||t.description_version_deleted?(t=r,n=e.length):(r.start_description_version_id=t.description_version_id,e.splice(n,1),n=e.length)}}else t=r,n=e.length;return e.push(i),e}),[])};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const lt=function(e,t,n){let i=et()(e.discussions);return e.isTimelineEnabled&&(i=i.reduce((function(e,t){const n=t.notes.map((function(e){return at(at({},t),{},{id:e.id,created_at:e.created_at,individual_note:!0,notes:[e]})}));return e.concat(n)}),[]).sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}))),i=(i=rt(i)).concat(function(e){return e.batchComments?e.batchComments.drafts.filter((function(e){return!e.file_path&&!e.discussion_id})).map((function(e){return at(at({},e),{},{individual_note:!0})})).sort((function(e,t){return e.id-t.id})):[]}(n)),e.discussionSortOrder===s.DESC&&(i=i.reverse()),i},ct=function(e){return e.convertedDisscussionIds},ut=function(e){return e.targetNoteHash},dt=function(e){return e.notesData},ft=function(e){return e.isNotesFetched},ht=function(e){return e.discussionSortOrder},pt=function(e){return e.persistSortOrder},mt=function(e){return e.isTimelineEnabled},gt=function(e){return e.isFetching},vt=function(e){return e.isLoading},bt=function(e){return function(t){return e.notesData[t]}},yt=function(e){return e.noteableData},_t=function(e){return function(t){return e.noteableData[t]}},wt=function(e){return e.noteableData.blocked_by_issues},Ot=function(e){return Boolean(e.noteableData.current_user.can_create_note)},kt=function(e){return Object(O.C)()?it.b.state:e.noteableData.state},St=function(e){return e.userData||{}},jt=function(e){return function(t){return e.userData&&e.userData[t]}},Ct=function(e){return e.descriptionVersions},xt=function(e){return e.discussions.reduce((function(e,t){return t.notes.every((function(t){return Object.assign(e,{[t.id]:t})})),e}),{})},Et=function(e){const{ISSUE_NOTEABLE_TYPE:t,MERGE_REQUEST_NOTEABLE_TYPE:n,EPIC_NOTEABLE_TYPE:i}=s;return e.noteableData.noteableType===i?i:e.noteableData.merge_params?n:t},Dt=function(e){return e.slice(0).reverse()},Pt=function(e,t){return!e.system&&t.userData&&e.author&&e.author.id===t.userData.id},Tt=function(e){return nt()(Dt(e.discussions).map((function(e){return Dt(e.notes)}))).find((function(t){return Pt(t,e)}))},Nt=function(e){return function(t){return Dt(t.notes).find((function(t){return Pt(t,e)}))}},It=function(e){return e.unresolvedDiscussionsCount},Lt=function(e){return e.resolvableDiscussionsCount},Rt=function(e,t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"discussion";const n="discussion"!==e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate;return n.length>1}},At=function(e,t){return function(e){return void 0!==t.resolvedDiscussionsById[e]}},Ft=function(e){return e.discussions.filter((function(e){return!e.individual_note&&e.resolvable}))},qt=function(e){const t={};return e.discussions.filter((function(e){return e.resolvable})).forEach((function(e){if(e.notes){e.notes.filter((function(e){return e.resolvable})).every((function(e){return e.resolved}))&&(t[e.id]=e)}})),t},Mt=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved})).sort((function(e,t){const n=new Date(e.notes[0].created_at),i=new Date(t.notes[0].created_at);return n<i?-1:n===i?0:1})).map((function(e){return e.id}))},Bt=function(e,t){return t.allResolvableDiscussions.filter((function(e){return!e.resolved&&e.active})).sort((function(e,t){if(!e.diff_file||!t.diff_file)return 0;const n=e.diff_file.file_path.localeCompare(t.diff_file.file_path),i=[e.position.new_line,e.position.old_line],r=[t.position.new_line,t.position.old_line];return n<0||0===n&&Math.max(i[0],i[1])<Math.max(r[0],r[1])?-1:1})).map((function(e){return e.id}))},$t=function(e,t){const n=t.resolvedDiscussionsById;return Object.keys(n).length},Vt=function(e){return e.discussions.reduce((function(e,t){return e+t.notes.filter((function(e){return!e.system&&!e.placeholder})).length}),0)},Ut=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff:t.unresolvedDiscussionsIdsByDate}},Gt=function(e,t){return function(e,n){const i=t.unresolvedDiscussionsIdsOrdered(n);return i[i.length-1]===e}},Ht=function(e,t){return function(e){let{discussionId:n,diffOrder:i,step:r}=e;const s=t.unresolvedDiscussionsIdsOrdered(i),a=t.unresolvedDiscussionsIdsOrdered(!1),o=s.length?s:a,l=o.indexOf(n)+r;return l<0&&r<0?o[o.length-1]:l===o.length&&r>0?o[0]:o[l]}},zt=function(e,t){return function(e,n){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:n,step:1})}},Wt=function(e,t){return function(e,n){return t.findUnresolvedDiscussionIdNeighbor({discussionId:e,diffOrder:n,step:-1})}},Qt=function(e,t){return function(e){return e?t.unresolvedDiscussionsIdsByDiff[0]:t.unresolvedDiscussionsIdsByDate[0]}},Kt=function(e){return function(t){return e.discussions.find((function(e){return e.id===t}))}},Yt=function(e){return e.commentsDisabled},Xt=function(e,t){return Object.values(t.notesById).filter((function(e){return e.suggestions.length})).length},Jt=function(e,t,n,i){return Boolean(i["batchComments/hasDrafts"])};var Zt=n("VNnR"),en=n.n(Zt);function tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(n),!0).forEach((function(t){rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn={ADD_NEW_NOTE(e,t){const n=t.discussion?t.discussion.notes[0]:t,{discussion_id:i,type:r}=n,[a]=e.discussions.filter((function(e){return e.id===n.discussion_id})),o=r===s.DISCUSSION_NOTE||r===s.DIFF_NOTE;if(!a){var l,c;let r=t.discussion||n.base_discussion;r||(r={expanded:!0,id:i,individual_note:!o,reply_id:i},o&&Object(O.C)()&&(r.resolvable=n.resolvable,r.resolved=!1,r.active=!0,r.resolve_path=n.resolve_path,r.resolve_with_issue_path=n.resolve_with_issue_path,r.diff_discussion=!1)),(null===(l=window.gon)||void 0===l?void 0:null===(c=l.features)||void 0===c?void 0:c.paginatedNotes)&&n.base_discussion&&(r.diff_file&&(r.file_hash=r.diff_file.file_hash,r.truncated_diff_lines=A(r.truncated_diff_lines||[])),r.resolvable=n.resolvable,r.expanded=n.base_discussion.expanded,r.resolved=n.resolved),delete n.base_discussion,r.notes=[n],e.discussions.push(r)}},ADD_NEW_REPLY_TO_DISCUSSION(e,t){const n=L(e.discussions,t.discussion_id),i=n&&L(n.notes,t.id);n&&!i&&n.notes.push(t)},DELETE_NOTE(e,t){const n=L(e.discussions,t.discussion_id);if(n.individual_note)e.discussions.splice(e.discussions.indexOf(n),1);else{const i=L(n.notes,t.id);n.notes.splice(n.notes.indexOf(i),1),n.notes.length||e.discussions.splice(e.discussions.indexOf(n),1)}},EXPAND_DISCUSSION(e,t){let{discussionId:n}=t;const i=L(e.discussions,n);Object.assign(i,{expanded:!0})},COLLAPSE_DISCUSSION(e,t){let{discussionId:n}=t;const i=L(e.discussions,n);Object.assign(i,{expanded:!1})},REMOVE_PLACEHOLDER_NOTES(e){const{discussions:t}=e;for(let e=t.length-1;e>=0;e-=1){const n=t[e],i=n.notes;if(i.length&&!n.individual_note)for(let e=i.length-1;e>=0;e-=1)i[e].isPlaceholderNote&&i.splice(e,1);else n.isPlaceholderNote&&t.splice(e,1)}},SET_NOTES_DATA(e,t){Object.assign(e,{notesData:t})},SET_NOTEABLE_DATA(e,t){Object.assign(e,{noteableData:t})},SET_ISSUE_CONFIDENTIAL(e,t){e.noteableData.confidential=t},SET_ISSUABLE_LOCK(e,t){e.noteableData.discussion_locked=t},SET_USER_DATA(e,t){Object.assign(e,{userData:t})},SET_INITIAL_DISCUSSIONS(e,t){const n=t.reduce((function(t,n){const i=nn({},n),r={};if(i.diff_file&&(r.file_hash=i.diff_file.file_hash,r.truncated_diff_lines=A(i.truncated_diff_lines||[])),i.individual_note&&i.notes.length>1)i.notes.forEach((function(e){t.push(nn(nn(nn({},i),r),{},{notes:[e]}))}));else{const n=L(e.discussions,i.id);t.push(nn(nn(nn({},i),r),{},{expanded:n?n.expanded:i.expanded}))}return t}),[]);Object.assign(e,{discussions:n})},SET_LAST_FETCHED_AT(e,t){Object.assign(e,{lastFetchedAt:t})},SET_TARGET_NOTE_HASH(e,t){Object.assign(e,{targetNoteHash:t})},SHOW_PLACEHOLDER_NOTE(e,t){let n=e.discussions;const i=L(n,t.replyId);i&&(n=i.notes),n.push({individual_note:!0,isPlaceholderNote:!0,placeholderType:t.isSystemNote?s.SYSTEM_NOTE:s.NOTE,notes:[{body:t.noteBody}]})},TOGGLE_AWARD(e,t){const{awardName:n,note:i}=t,{id:r,name:s,username:a}=e.userData,o=i.award_emoji.filter((function(e){return"".concat(e.name)==="".concat(t.awardName)&&e.user.id===r}));o.length?i.award_emoji.splice(i.award_emoji.indexOf(o[0]),1):i.award_emoji.push({name:n,user:{id:r,name:s,username:a}})},TOGGLE_DISCUSSION(e,t){let{discussionId:n,forceExpanded:i=null}=t;const r=L(e.discussions,n);Object.assign(r,{expanded:null===i?!r.expanded:i})},SET_EXPAND_DISCUSSIONS(e,t){let{discussionIds:n,expanded:i}=t;(null==n?void 0:n.length)&&n.forEach((function(t){const n=L(e.discussions,t);Object.assign(n,{expanded:i})}))},SET_RESOLVING_DISCUSSION(e,t){e.isResolvingDiscussion=t},UPDATE_NOTE(e,t){const n=L(e.discussions,t.discussion_id);if(delete t.base_discussion,n.individual_note)t.type===s.DISCUSSION_NOTE&&(n.individual_note=!1),n.notes.splice(0,1,t);else{const e=L(n.notes,t.id);en()(e,t)||n.notes.splice(n.notes.indexOf(e),1,t)}},APPLY_SUGGESTION(e,t){let{noteId:n,discussionId:i,suggestionId:r}=t;const s=L(e.discussions,i),a=L(s.notes,n);a.suggestions=a.suggestions.map((function(e){return nn(nn({},e),{},{applied:e.applied||e.id===r,appliable:!1})}))},SET_APPLYING_BATCH_STATE(e,t){e.batchSuggestionsInfo.forEach((function(n){const{discussionId:i,noteId:r,suggestionId:s}=n,a=L(e.discussions,i),o=L(a.notes,r);o.suggestions=o.suggestions.map((function(e){return nn(nn({},e),{},{is_applying_batch:e.id===s&&t})}))}))},ADD_SUGGESTION_TO_BATCH(e,t){let{noteId:n,discussionId:i,suggestionId:r}=t;e.batchSuggestionsInfo.push({suggestionId:r,noteId:n,discussionId:i})},REMOVE_SUGGESTION_FROM_BATCH(e,t){const n=e.batchSuggestionsInfo.findIndex((function(e){let{suggestionId:n}=e;return n===t}));-1!==n&&e.batchSuggestionsInfo.splice(n,1)},CLEAR_SUGGESTION_BATCH(e){e.batchSuggestionsInfo.splice(0,e.batchSuggestionsInfo.length)},UPDATE_DISCUSSION(e,t){const n=t,i=e.discussions.find((function(e){return e.id===n.id}));n.expanded=!0,n.diff_file&&Object.assign(n,{file_hash:n.diff_file.file_hash}),Object.assign(i,nn({},n))},UPDATE_DISCUSSION_POSITION(e,t){let{discussionId:n,position:i}=t;const r=e.discussions.find((function(e){return e.id===n}));r&&Object.assign(r.position,nn({},i))},CLOSE_ISSUE(e){Object.assign(e.noteableData,{state:s.CLOSED})},REOPEN_ISSUE(e){Object.assign(e.noteableData,{state:s.REOPENED})},TOGGLE_STATE_BUTTON_LOADING(e,t){Object.assign(e,{isToggleStateButtonLoading:t})},SET_NOTES_FETCHED_STATE(e,t){Object.assign(e,{isNotesFetched:t})},SET_NOTES_LOADING_STATE(e,t){e.isLoading=t},SET_NOTES_FETCHING_STATE(e,t){e.isFetching=t},SET_DISCUSSION_DIFF_LINES(e,t){let{discussionId:n,diffLines:i}=t;L(e.discussions,n).truncated_diff_lines=A(i)},SET_DISCUSSIONS_SORT(e,t){let{direction:n,persist:i}=t;e.discussionSortOrder=n,e.persistSortOrder=i},SET_TIMELINE_VIEW(e,t){e.isTimelineEnabled=t},SET_SELECTED_COMMENT_POSITION(e,t){e.selectedCommentPosition=t},SET_SELECTED_COMMENT_POSITION_HOVER(e,t){e.selectedCommentPositionHover=t},DISABLE_COMMENTS(e,t){e.commentsDisabled=t},UPDATE_RESOLVABLE_DISCUSSIONS_COUNTS(e){e.resolvableDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable})).length,e.unresolvedDiscussionsCount=e.discussions.filter((function(e){return!e.individual_note&&e.resolvable&&e.notes.some((function(e){return e.resolvable&&!e.resolved}))})).length},CONVERT_TO_DISCUSSION(e,t){const n=[...e.convertedDisscussionIds,t];Object.assign(e,{convertedDisscussionIds:n})},REMOVE_CONVERTED_DISCUSSION(e,t){const n=[...e.convertedDisscussionIds];n.splice(n.indexOf(t),1),Object.assign(e,{convertedDisscussionIds:n})},SET_CURRENT_DISCUSSION_ID(e,t){e.currentDiscussionId=t},REQUEST_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DESCRIPTION_VERSION(e,t){let{descriptionVersion:n,versionId:i}=t;const r=nn(nn({},e.descriptionVersions),{},{[i]:n});Object.assign(e,{descriptionVersions:r,isLoadingDescriptionVersion:!1})},RECEIVE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},REQUEST_DELETE_DESCRIPTION_VERSION(e){e.isLoadingDescriptionVersion=!0},RECEIVE_DELETE_DESCRIPTION_VERSION(e,t){e.isLoadingDescriptionVersion=!1,Object.assign(e.descriptionVersions,t)},RECEIVE_DELETE_DESCRIPTION_VERSION_ERROR(e){e.isLoadingDescriptionVersion=!1},UPDATE_ASSIGNEES(e,t){e.noteableData.assignees=t},SET_FETCHING_DISCUSSIONS(e,t){e.currentlyFetchingDiscussions=t}};t.a=function(){return{state:{discussions:[],discussionSortOrder:s.ASC,persistSortOrder:!0,convertedDisscussionIds:[],targetNoteHash:null,lastFetchedAt:null,currentDiscussionId:null,batchSuggestionsInfo:[],currentlyFetchingDiscussions:!1,selectedCommentPosition:null,selectedCommentPositionHover:null,isToggleStateButtonLoading:!1,isNotesFetched:!1,isLoading:!0,isLoadingDescriptionVersion:!1,notesData:{markdownDocsPath:""},userData:{},noteableData:{discussion_locked:!1,confidential:!1,current_user:{},preview_note_path:"path/to/preview"},isResolvingDiscussion:!1,commentsDisabled:!1,resolvableDiscussionsCount:0,unresolvedDiscussionsCount:0,descriptionVersions:{},isTimelineEnabled:!1,isFetching:!1},actions:i,getters:r,mutations:sn}}},OgoU:function(e,t,n){"use strict";var i={name:"CodeBlock",props:{code:{type:String,required:!0},maxHeight:{type:String,required:!1,default:"initial"}},computed:{styleObject(){const{maxHeight:e}=this;return"initial"!==e?{maxHeight:e,overflowY:"auto"}:null}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("pre",{staticClass:"code-block rounded",style:this.styleObject},[t("code",{staticClass:"d-block"},[this._v(this._s(this.code))])])}),[],!1,null,null,null);t.a=s.exports},OgyL:function(e,t,n){"use strict";var i=n("tBpV"),r=Object(i.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"timeline-entry"},[t("div",{staticClass:"timeline-entry-inner"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=r.exports},Okhk:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueAssignees"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:416}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery issueAssignees($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      assignees {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.issueAssignees=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"issueAssignees")},OksX:function(e,t,n){var i=n("/eF7"),r=4;e.exports=function(e){return i(e,r)}},OneA:function(e,t,n){"use strict";var i=n("1cpz"),r=n("F6ad"),s=n("SeSR"),a=n("30su"),o=n("l5WF"),l=n("yi8e"),c=n("GuZl"),u=n("Qhxq"),d=n("sHIo"),f=n("4eas"),h=(n("QifN"),n("Yyc1")),p=n("iN9h"),m=n("wP8z"),g=n("LkaW"),v=n("FkSe"),b=n("FyMq");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O={name:"BranchesDropdown",components:{GlDropdown:h.a,GlSearchBoxByType:p.a,GlDropdownItem:m.a,GlDropdownText:g.a,GlLoadingIcon:v.a},props:{value:{type:String,required:!1,default:""}},i18n:{noResultsMessage:b.f,branchHeaderTitle:b.b,branchSearchPlaceholder:b.c},data(){return{searchTerm:this.value}},computed:_(_(_({},Object(l.d)(["joinedBranches"])),Object(l.f)(["isFetching","branch","branches"])),{},{filteredResults(){const e=this.searchTerm.toLowerCase();return this.joinedBranches.filter((function(t){return t.toLowerCase().includes(e)}))}}),watch:{value(e){this.searchTermChanged(e)}},mounted(){this.fetchBranches(this.searchTerm)},methods:_(_({},Object(l.c)(["fetchBranches"])),{},{selectBranch(e){this.$emit("selectBranch",e),this.searchTerm=e},isSelected(e){return e===this.branch},searchTermChanged(e){this.searchTerm=e,this.fetchBranches(e)}})},k=n("tBpV"),S=Object(k.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{text:e.value,"header-text":e.$options.i18n.branchHeaderTitle}},[n("gl-search-box-by-type",{attrs:{value:e.searchTerm,trim:"",autocomplete:"off",debounce:250,placeholder:e.$options.i18n.branchSearchPlaceholder,"data-testid":"dropdown-search-box"},on:{input:e.searchTermChanged}}),e._v(" "),e._l(e.filteredResults,(function(t){return n("gl-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:!e.isFetching,expression:"!isFetching"}],key:t,attrs:{name:t,"is-checked":e.isSelected(t),"is-check-item":"","data-testid":"dropdown-item"},on:{click:function(n){return e.selectBranch(t)}}},[e._v("\n    "+e._s(t)+"\n  ")])})),e._v(" "),n("gl-dropdown-text",{directives:[{name:"show",rawName:"v-show",value:e.isFetching,expression:"isFetching"}],attrs:{"data-testid":"dropdown-text-loading-icon"}},[n("gl-loading-icon",{staticClass:"gl-mx-auto"})],1),e._v(" "),e.filteredResults.length||e.isFetching?e._e():n("gl-dropdown-text",{attrs:{"data-testid":"empty-result-message"}},[n("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.$options.i18n.noResultsMessage))])])],2)}),[],!1,null,null,null).exports;function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={name:"ProjectsDropdown",components:{GlDropdown:h.a,GlSearchBoxByType:p.a,GlDropdownItem:m.a,GlDropdownText:g.a},props:{value:{type:String,required:!1,default:""}},i18n:{noResultsMessage:b.f,projectHeaderTitle:b.g,projectSearchPlaceholder:b.h},data(){return{filterTerm:this.value}},computed:C(C(C({},Object(l.d)(["sortedProjects"])),Object(l.f)(["targetProjectId"])),{},{filteredResults(){const e=this.filterTerm.toLowerCase();return this.sortedProjects.filter((function(t){return t.name.toLowerCase().includes(e)}))},selectedProject(){var e=this;return this.sortedProjects.find((function(t){return t.id===e.targetProjectId}))||{}}}),methods:{selectProject(e){this.$emit("selectProject",e.id),this.filterTerm=e.name},isSelected(e){return e===this.selectedProject},filterTermChanged(e){this.filterTerm=e}}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N={components:{BranchesDropdown:S,ProjectsDropdown:Object(k.a)(E,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{text:e.selectedProject.name,"header-text":e.$options.i18n.projectHeaderTitle}},[n("gl-search-box-by-type",{attrs:{value:e.filterTerm,trim:"",autocomplete:"off",placeholder:e.$options.i18n.projectSearchPlaceholder,"data-testid":"dropdown-search-box"},on:{input:e.filterTermChanged}}),e._v(" "),e._l(e.filteredResults,(function(t){return n("gl-dropdown-item",{key:t.name,attrs:{name:t.name,"is-checked":e.isSelected(t),"is-check-item":"","data-testid":"dropdown-item"},on:{click:function(n){return e.selectProject(t)}}},[e._v("\n    "+e._s(t.name)+"\n  ")])})),e._v(" "),e.filteredResults.length?e._e():n("gl-dropdown-text",{attrs:{"data-testid":"empty-result-message"}},[n("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.$options.i18n.noResultsMessage))])])],2)}),[],!1,null,null,null).exports,GlModal:i.a,GlForm:r.a,GlFormCheckbox:s.a,GlSprintf:a.a,GlFormGroup:o.a},mixins:[Object(d.a)()],inject:{prependedText:{default:""}},props:{i18n:{type:Object,required:!0},openModal:{type:String,required:!0},modalId:{type:String,required:!0},isCherryPick:{type:Boolean,required:!1,default:!1}},data(){return{checked:!0,actionPrimary:{text:this.i18n.actionPrimaryText,attributes:[{variant:"success"},{category:"primary"},{"data-testid":"submit-commit"},{"data-qa-selector":"submit_commit_button"}]},actionCancel:{text:this.i18n.actionCancelText,attributes:[{"data-testid":"cancel-commit"}]}}},computed:P({},Object(l.f)(["branch","endpoint","pushCode","branchCollaboration","modalTitle","existingBranch","prependedText","targetProjectId","targetProjectName","branchesEndpoint"])),mounted(){this.setSelectedProject(this.targetProjectId),f.a.$on(this.openModal,this.show)},methods:P(P({},Object(l.c)(["clearModal","setBranch","setSelectedBranch","setSelectedProject"])),{},{show(){this.$root.$emit(c.c,this.modalId)},handlePrimary(){this.$refs.form.$el.submit()},resetModalHandler(){this.clearModal(),this.setSelectedBranch(""),this.checked=!0}}),csrf:u.a},I=Object(k.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",e._b({attrs:{"data-testid":"modal-commit","modal-id":e.modalId,size:"sm",title:e.modalTitle,"action-cancel":e.actionCancel,"action-primary":e.actionPrimary},on:{hidden:e.resetModalHandler,primary:e.handlePrimary}},"gl-modal",e.$attrs,!1),[e.prependedText.length?n("p",{attrs:{"data-testid":"prepended-text"}},[n("gl-sprintf",{attrs:{message:e.prependedText}})],1):e._e(),e._v(" "),n("gl-form",{ref:"form",attrs:{action:e.endpoint,method:"post"}},[n("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:e.$options.csrf.token}}),e._v(" "),e.glFeatures.pickIntoProject&&e.isCherryPick?n("gl-form-group",{attrs:{label:e.i18n.projectLabel,"label-for":"start_project","data-testid":"dropdown-group"}},[n("input",{attrs:{id:"target_project_id",type:"hidden",name:"target_project_id"},domProps:{value:e.targetProjectId}}),e._v(" "),n("projects-dropdown",{staticClass:"gl-w-half",attrs:{value:e.targetProjectName},on:{selectProject:e.setSelectedProject}})],1):e._e(),e._v(" "),n("gl-form-group",{attrs:{label:e.i18n.branchLabel,"label-for":"start_branch","data-testid":"dropdown-group"}},[n("input",{attrs:{id:"start_branch",type:"hidden",name:"start_branch"},domProps:{value:e.branch}}),e._v(" "),n("branches-dropdown",{staticClass:"gl-w-half",attrs:{value:e.branch},on:{selectBranch:e.setBranch}})],1),e._v(" "),e.pushCode?n("gl-form-checkbox",{staticClass:"gl-mt-3",attrs:{name:"create_merge_request"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[n("gl-sprintf",{attrs:{message:e.i18n.startMergeRequest},scopedSlots:e._u([{key:"newMergeRequest",fn:function(){return[n("strong",[e._v(e._s(e.i18n.newMergeRequest))])]},proxy:!0}],null,!1,1455792372)})],1):n("input",{attrs:{type:"hidden",name:"create_merge_request",value:"1"}})],1),e._v(" "),e.pushCode?e._e():n("p",{staticClass:"gl-mb-0 gl-mt-5",attrs:{"data-testid":"appended-text"}},[e.branchCollaboration?n("gl-sprintf",{attrs:{message:e.i18n.existingBranch},scopedSlots:e._u([{key:"branchName",fn:function(){return[n("strong",[e._v(e._s(e.existingBranch))])]},proxy:!0}],null,!1,2950121280)}):n("gl-sprintf",{attrs:{message:e.i18n.branchInFork}})],1)],1)}),[],!1,null,null,null);t.a=I.exports},Or2z:function(e,t,n){"use strict";n("orcL");var i=n("7xOh");const r=Object(i.a)();window.emitSidebarEvent=function(){return r.$emit(...arguments)},t.a=r},OsT7:function(e,t,n){"use strict";var i=n("4lAS"),r=n("yi8e"),s=n("4UiK"),a=n("3twG"),o=n("/lV4"),l=n("IeAI"),c=n("sHIo"),u=n("J7NB"),d=n("IsdW"),f=n("G/dv"),h=n("UK5N");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={name:"NoteForm",components:{markdownField:l.a,CommentFieldLayout:h.a,GlButton:i.a},mixins:[Object(c.a)(),d.a,f.a],props:{noteBody:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:""},saveButtonTitle:{type:String,required:!1,default:Object(o.a)("Save comment")},discussion:{type:Object,required:!1,default:function(){return{}}},isEditing:{type:Boolean,required:!0},lineCode:{type:String,required:!1,default:""},resolveDiscussion:{type:Boolean,required:!1,default:!1},line:{type:Object,required:!1,default:null},lines:{type:Array,required:!1,default:function(){return[]}},note:{type:Object,required:!1,default:null},diffFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},autosaveKey:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},isDraft:{type:Boolean,required:!1,default:!1}},data(){let e=this.noteBody;return!e&&this.autosaveKey&&(e=Object(s.c)(this.autosaveKey)||""),{updatedNoteBody:e,conflictWhileEditing:!1,isSubmitting:!1,isResolving:this.resolveDiscussion,isUnresolving:!this.resolveDiscussion,resolveAsThread:!0,isSubmittingWithKeydown:!1}},computed:m(m(m(m({},Object(r.d)(["getDiscussionLastNote","getNoteableData","getNoteableDataByProp","getNotesDataByProp","getUserDataByProp"])),Object(r.f)({withBatchComments:function(e){var t;return null===(t=e.batchComments)||void 0===t?void 0:t.withBatchComments}})),Object(r.d)("batchComments",["hasDrafts"])),{},{showBatchCommentsActions(){return this.withBatchComments&&""===this.noteId&&!this.discussion.for_commit},showResolveDiscussionToggle(){var e,t;return!(null===(e=this.discussion)||void 0===e||!e.notes)&&((null===(t=this.discussion)||void 0===t?void 0:t.notes.filter((function(e){return e.resolvable})).some((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion})))||this.isDraft)},noteHash(){return this.noteId?"#note_".concat(this.noteId):"#"},diffParams(){return this.diffFile?{filePath:this.diffFile.file_path,refs:this.diffFile.diff_refs}:this.note&&this.note.position?{filePath:this.note.position.new_path,refs:this.note.position}:this.discussion&&this.discussion.diff_file?{filePath:this.discussion.diff_file.file_path,refs:this.discussion.diff_file.diff_refs}:null},markdownPreviewPath(){const e=this.getNoteableDataByProp("preview_note_path"),t=this.line&&this.diffParams,n=t?{preview_suggestions:t,line:this.line.new_line,file_path:this.diffParams.filePath,base_sha:this.diffParams.refs.base_sha,start_sha:this.diffParams.refs.start_sha,head_sha:this.diffParams.refs.head_sha}:{};return Object(a.q)(n,e)},markdownDocsPath(){return this.getNotesDataByProp("markdownDocsPath")},quickActionsDocsPath(){return this.isEditing?void 0:this.getNotesDataByProp("quickActionsDocsPath")},currentUserId(){return this.getUserDataByProp("id")},isDisabled(){return!this.updatedNoteBody.length||this.isSubmitting},discussionNote(){return(this.discussion.id?this.getDiscussionLastNote(this.discussion):this.note)||{}},canSuggest(){return this.getNoteableData.can_receive_suggestion&&this.line&&this.line.can_receive_suggestion},changedCommentText(){return Object(o.f)(Object(o.a)("This comment changed after you started editing it. Review the %{startTag}updated comment%{endTag} to ensure information is not lost."),{startTag:'<a href="'.concat(this.noteHash,'" target="_blank" rel="noopener noreferrer">'),endTag:"</a>"},!1)}}),watch:{noteBody(){this.updatedNoteBody===this.noteBody?this.updatedNoteBody=this.noteBody:this.conflictWhileEditing=!0}},mounted(){this.$refs.textarea.focus()},methods:m(m({},Object(r.c)(["toggleResolveNote"])),{},{shouldToggleResolved(e,t){const n=this.shouldBeResolved&&this.shouldBeResolved(e);return e||void 0!==n&&t!==n},editMyLastNote(){if(""===this.updatedNoteBody){const e=this.getDiscussionLastNote(this.discussion);e&&u.a.$emit("enterEditMode",{noteId:e.id})}},cancelHandler(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("cancelForm",e,this.noteBody!==this.updatedNoteBody)},onInput(){if(!this.isSubmittingWithKeydown&&this.autosaveKey){const{autosaveKey:e,updatedNoteBody:t}=this;Object(s.d)(e,t)}},handleKeySubmit(){this.showBatchCommentsActions?this.handleAddToReview():(this.isSubmittingWithKeydown=!0,this.handleUpdate())},handleUpdate(e){var t=this;const n=this.discussionResolved;this.isSubmitting=!0,this.$emit("handleFormUpdate",this.updatedNoteBody,this.$refs.editNoteForm,(function(){t.isSubmitting=!1,t.shouldToggleResolved(e,n)&&t.resolveHandler(n)}),this.discussionResolved?!this.isUnresolving:this.isResolving)},shouldBeResolved(e){return this.withBatchComments?this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving:e},handleAddToReview(){const e=this.discussionResolved&&!this.isUnresolving||!this.discussionResolved&&this.isResolving;this.isSubmitting=!0,this.$emit("handleFormUpdateAddToReview",this.updatedNoteBody,e)},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length}})},b=n("tBpV"),y=Object(b.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"editNoteForm",staticClass:"note-edit-form current-note-edit-form js-discussion-note-form"},[e.conflictWhileEditing?n("div",{staticClass:"js-conflict-edit-warning alert alert-danger",domProps:{innerHTML:e._s(e.changedCommentText)}}):e._e(),e._v(" "),n("div",{staticClass:"flash-container timeline-content"}),e._v(" "),n("form",{staticClass:"edit-note common-note-form js-quick-submit gfm-form",attrs:{"data-line-code":e.lineCode}},[n("comment-field-layout",{attrs:{"noteable-data":e.getNoteableData}},[n("markdown-field",{attrs:{"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,line:e.line,note:e.discussionNote,"can-suggest":e.canSuggest,"add-spacing-classes":!1,"help-page-path":e.helpPagePath,"show-suggest-popover":e.showSuggestPopover,"textarea-value":e.updatedNoteBody,lines:e.lines},on:{handleSuggestDismissed:function(){return e.$emit("handleSuggestDismissed")}},scopedSlots:e._u([{key:"textarea",fn:function(){return[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.updatedNoteBody,expression:"updatedNoteBody"}],ref:"textarea",staticClass:"note-textarea js-gfm-input js-note-text js-autosize markdown-area js-vue-issue-note-form",attrs:{id:"note_note","data-supports-quick-actions":!e.isEditing&&!e.glFeatures.tributeAutocomplete,name:"note[note]","data-qa-selector":"reply_field",dir:"auto","aria-label":e.__("Reply to comment"),placeholder:e.__("Write a comment or drag your files here")},domProps:{value:e.updatedNoteBody},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleKeySubmit():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.editMyLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.cancelHandler(!0)}],input:[function(t){t.target.composing||(e.updatedNoteBody=t.target.value)},e.onInput]}})]},proxy:!0}])})],1),e._v(" "),n("div",{staticClass:"note-form-actions"},[e.showBatchCommentsActions?[e.showResolveDiscussionToggle?n("p",[n("label",[e.discussionResolved?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isUnresolving,expression:"isUnresolving"}],staticClass:"js-unresolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isUnresolving)?e._i(e.isUnresolving,null)>-1:e.isUnresolving},on:{change:function(t){var n=e.isUnresolving,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.isUnresolving=n.concat([null])):s>-1&&(e.isUnresolving=n.slice(0,s).concat(n.slice(s+1)))}else e.isUnresolving=r}}}),e._v("\n              "+e._s(e.__("Unresolve thread"))+"\n            ")]:[n("input",{directives:[{name:"model",rawName:"v-model",value:e.isResolving,expression:"isResolving"}],staticClass:"js-resolve-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isResolving)?e._i(e.isResolving,null)>-1:e.isResolving},on:{change:function(t){var n=e.isResolving,i=t.target,r=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.isResolving=n.concat([null])):s>-1&&(e.isResolving=n.slice(0,s).concat(n.slice(s+1)))}else e.isResolving=r}}}),e._v("\n              "+e._s(e.__("Resolve thread"))+"\n            ")]],2)]):e._e(),e._v(" "),n("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-n3"},[n("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"start_review_button"},on:{click:e.handleAddToReview}},[e.hasDrafts?[e._v(e._s(e.__("Add to review")))]:[e._v(e._s(e.__("Start a review")))]],2),e._v(" "),n("gl-button",{staticClass:"gl-sm-mr-3 gl-mb-3 js-comment-button",attrs:{disabled:e.isDisabled,category:"secondary",variant:"confirm","data-qa-selector":"comment_now_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.__("Add comment now"))+"\n          ")]),e._v(" "),n("gl-button",{staticClass:"note-edit-cancel gl-mb-3 js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancelBatchCommentsEnabled"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]:[n("div",{staticClass:"gl-display-sm-flex gl-flex-wrap"},[n("gl-button",{staticClass:"gl-mr-3 js-vue-issue-save js-comment-button",attrs:{disabled:e.isDisabled,category:"primary",variant:"confirm","data-qa-selector":"reply_comment_button"},on:{click:function(t){return e.handleUpdate()}}},[e._v("\n            "+e._s(e.saveButtonTitle)+"\n          ")]),e._v(" "),e.discussion.resolvable?n("gl-button",{staticClass:"gl-mr-3 js-comment-resolve-button",attrs:{category:"secondary",variant:"default"},on:{click:function(t){return t.preventDefault(),e.handleUpdate(!0)}}},[e._v("\n            "+e._s(e.resolveButtonTitle)+"\n          ")]):e._e(),e._v(" "),n("gl-button",{staticClass:"note-edit-cancel js-close-discussion-note-form",attrs:{category:"secondary",variant:"default","data-testid":"cancel"},on:{click:function(t){return e.cancelHandler(!0)}}},[e._v("\n            "+e._s(e.__("Cancel"))+"\n          ")])],1)]],2)],1)])}),[],!1,null,null,null);t.a=y.exports},P0Xo:function(e,t,n){(function(t){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}if(Array.prototype.find||(Array.prototype.find=function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],s=0;s<i;s++)if(t=n[s],e.call(r,t,s,n))return t}),window&&"function"!=typeof window.CustomEvent){var a=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};void 0!==window.Event&&(a.prototype=window.Event.prototype),window.CustomEvent=a}var o=function(){function t(n){e(this,t),this.tribute=n,this.tribute.events=this}return i(t,[{key:"bind",value:function(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}},{key:"unbind",value:function(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}},{key:"keydown",value:function(e,n){e.shouldDeactivate(n)&&(e.tribute.isActive=!1,e.tribute.hideMenu());var i=this;e.commandEvent=!1,t.keys().forEach((function(t){t.key===n.keyCode&&(e.commandEvent=!0,e.callbacks()[t.value.toLowerCase()](n,i))}))}},{key:"input",value:function(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}},{key:"click",value:function(e,t){var n=e.tribute;if(n.menu&&n.menu.contains(t.target)){var i=t.target;for(t.preventDefault(),t.stopPropagation();"li"!==i.nodeName.toLowerCase();)if(!(i=i.parentNode)||i===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(i.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&!n.current.externalTrigger&&(n.current.externalTrigger=!1,setTimeout((function(){return n.hideMenu()})))}},{key:"keyup",value:function(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),27!==t.keyCode){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace)return e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,void e.callbacks().space(t,this);if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{var n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;var i=e.tribute.triggers().find((function(e){return e.charCodeAt(0)===n}));void 0!==i&&e.callbacks().triggerChar(t,this,i)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&!1===e.commandEvent||e.tribute.isActive&&8===t.keyCode)&&e.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(e){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var n=!1;return t.keys().forEach((function(t){e.keyCode===t.key&&(n=!0)})),!n}return!1}},{key:"getKeyCode",value:function(e,t,n){var i=e.tribute,r=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return!!r&&r.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(e){this.tribute.current.element=e;var t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}},{key:"callbacks",value:function(){var e=this;return{triggerChar:function(t,n,i){var r=e.tribute;r.current.trigger=i;var s=r.collection.find((function(e){return e.trigger===i}));r.current.collection=s,r.current.mentionText.length>=r.current.collection.menuShowMinLength&&r.inputEvent&&r.showMenuFor(n,!0)},enter:function(t,n){e.tribute.isActive&&e.tribute.current.filteredItems&&(t.preventDefault(),t.stopPropagation(),setTimeout((function(){e.tribute.selectItemAtIndex(e.tribute.menuSelected,t),e.tribute.hideMenu()}),0))},escape:function(t,n){e.tribute.isActive&&(t.preventDefault(),t.stopPropagation(),e.tribute.isActive=!1,e.tribute.hideMenu())},tab:function(t,n){e.callbacks().enter(t,n)},space:function(t,n){e.tribute.isActive&&(e.tribute.spaceSelectsMatch?e.callbacks().enter(t,n):e.tribute.allowSpaces||(t.stopPropagation(),setTimeout((function(){e.tribute.hideMenu(),e.tribute.isActive=!1}),0)))},up:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var i=e.tribute.current.filteredItems.length,r=e.tribute.menuSelected;i>r&&r>0?(e.tribute.menuSelected--,e.setActiveLi()):0===r&&(e.tribute.menuSelected=i-1,e.setActiveLi(),e.tribute.menu.scrollTop=e.tribute.menu.scrollHeight)}},down:function(t,n){if(e.tribute.isActive&&e.tribute.current.filteredItems){t.preventDefault(),t.stopPropagation();var i=e.tribute.current.filteredItems.length-1,r=e.tribute.menuSelected;i>r?(e.tribute.menuSelected++,e.setActiveLi()):i===r&&(e.tribute.menuSelected=0,e.setActiveLi(),e.tribute.menu.scrollTop=0)}},delete:function(t,n){e.tribute.isActive&&e.tribute.current.mentionText.length<1?e.tribute.hideMenu():e.tribute.isActive&&e.tribute.showMenuFor(n)}}}},{key:"setActiveLi",value:function(e){var t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(var i=0;i<n;i++){var r=t[i];if(i===this.tribute.menuSelected){r.classList.add(this.tribute.current.collection.selectClass);var s=r.getBoundingClientRect(),a=this.tribute.menu.getBoundingClientRect();if(s.bottom>a.bottom){var o=s.bottom-a.bottom;this.tribute.menu.scrollTop+=o}else if(s.top<a.top){var l=a.top-s.top;this.tribute.menu.scrollTop-=l}}else r.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(e,t){var n=e.getBoundingClientRect().height;if(t){var i=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return n}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),t}(),l=function(){function t(n){e(this,t),this.tribute=n,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return i(t,[{key:"bind",value:function(e){var t=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.showMenuFor(t.tribute.current.element,!1)}),300,!1),this.windowResizeEvent=this.debounce((function(){t.tribute.isActive&&t.tribute.range.positionMenuAtCaret(!0)}),300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(e,t,n){var i,r=arguments,s=this;return function(){var a=s,o=r,l=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(a,o)}),t),l&&e.apply(a,o)}}}]),t}(),c=function(){function t(n){e(this,t),this.tribute=n,this.tribute.range=this}return i(t,[{key:"getDocument",value:function(){var e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(e){var t,n=this,i=this.tribute.current,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==r){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");t=this.isContentEditable(i.element)?this.getContentEditableCaretPosition(r.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(t.top,"px;\n                                     left: ").concat(t.left,"px;\n                                     right: ").concat(t.right,"px;\n                                     bottom: ").concat(t.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===t.left&&(this.tribute.menu.style.left="auto"),"auto"===t.top&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout((function(){var i={width:n.tribute.menu.offsetWidth,height:n.tribute.menu.offsetHeight},r=n.isMenuOffScreen(t,i),s=window.innerWidth>i.width&&(r.left||r.right),a=window.innerHeight>i.height&&(r.top||r.bottom);(s||a)&&(n.tribute.menu.style.cssText="display: none",n.positionMenuAtCaret(e))}),0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(e,t,n){var i,r=e;if(t)for(var s=0;s<t.length;s++){if(void 0===(r=r.childNodes[t[s]]))return;for(;r.length<n;)n-=r.length,r=r.nextSibling;0!==r.childNodes.length||r.length||(r=r.previousSibling)}var a=this.getWindowSelection();(i=this.getDocument().createRange()).setStart(r,n),i.setEnd(r,n),i.collapse(!0);try{a.removeAllRanges()}catch(e){}a.addRange(i),e.focus()}},{key:"replaceTriggerText",value:function(e,t,n,i,r){var s=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==s){var a=this.tribute.current,o=new CustomEvent("tribute-replaced",{detail:{item:r,instance:a,context:s,event:i}});if(this.isContentEditable(a.element)){e+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:"";var l=s.mentionPosition+s.mentionText.length;this.tribute.autocompleteMode||(l+=s.mentionTriggerChar.length),this.pasteHtml(e,s.mentionPosition,l)}else{var c=this.tribute.current.element,u="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";e+=u;var d=s.mentionPosition,f=s.mentionPosition+s.mentionText.length+u.length;this.tribute.autocompleteMode||(f+=s.mentionTriggerChar.length-1),c.value=c.value.substring(0,d)+e+c.value.substring(f,c.value.length),c.selectionStart=d+e.length,c.selectionEnd=d+e.length}a.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),a.element.dispatchEvent(o)}}},{key:"pasteHtml",value:function(e,t,n){var i,r;r=this.getWindowSelection(),(i=this.getDocument().createRange()).setStart(r.anchorNode,t),i.setEnd(r.anchorNode,n),i.deleteContents();var s=this.getDocument().createElement("div");s.innerHTML=e;for(var a,o,l=this.getDocument().createDocumentFragment();a=s.firstChild;)o=l.appendChild(a);i.insertNode(l),o&&((i=i.cloneRange()).setStartAfter(o),i.collapse(!0),r.removeAllRanges(),r.addRange(i))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(e){if(null===e.parentNode)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t}},{key:"getContentEditableSelectedPath",value:function(e){var t=this.getWindowSelection(),n=t.anchorNode,i=[];if(null!=n){for(var r,s=n.contentEditable;null!==n&&"true"!==s;)r=this.getNodePositionInParent(n),i.push(r),null!==(n=n.parentNode)&&(s=n.contentEditable);return i.reverse(),{selected:n,path:i,offset:t.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var e=this.tribute.current,t="";if(this.isContentEditable(e.element)){var n=this.getWindowSelection().anchorNode;if(null!=n){var i=n.textContent,r=this.getWindowSelection().getRangeAt(0).startOffset;i&&r>=0&&(t=i.substring(0,r))}}else{var s=this.tribute.current.element;if(s){var a=s.selectionStart;s.value&&a>=0&&(t=s.value.substring(0,a))}}return t}},{key:"getLastWordInText",value:function(e){var t;return e=e.replace(/\u00A0/g," "),(t=this.tribute.autocompleteSeparator?e.split(this.tribute.autocompleteSeparator):e.split(/\s+/))[t.length-1].trim()}},{key:"getTriggerInfo",value:function(e,t,n,i,r){var s,a,o,l=this,c=this.tribute.current;if(this.isContentEditable(c.element)){var u=this.getContentEditableSelectedPath(c);u&&(s=u.selected,a=u.path,o=u.offset)}else s=this.tribute.current.element;var d=this.getTextPrecedingCurrentSelection(),f=this.getLastWordInText(d);if(r)return{mentionPosition:d.length-f.length,mentionText:f,mentionSelectedElement:s,mentionSelectedPath:a,mentionSelectedOffset:o};if(null!=d){var h,p=-1;if(this.tribute.collection.forEach((function(e){var t=e.trigger,i=e.requireLeadingSpace?l.lastIndexWithLeadingSpace(d,t):d.lastIndexOf(t);i>p&&(p=i,h=t,n=e.requireLeadingSpace)})),p>=0&&(0===p||!n||/[\xA0\s]/g.test(d.substring(p-1,p)))){var m=d.substring(p+h.length,d.length);h=d.substring(p,p+h.length);var g=m.substring(0,1),v=m.length>0&&(" "===g||""===g);t&&(m=m.trim());var b=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=b.test(m),!v&&(e||!b.test(m)))return{mentionPosition:p,mentionText:m,mentionSelectedElement:s,mentionSelectedPath:a,mentionSelectedOffset:o,mentionTriggerChar:h}}}}},{key:"lastIndexWithLeadingSpace",value:function(e,t){for(var n=e.split("").reverse().join(""),i=-1,r=0,s=e.length;r<s;r++){for(var a=r===e.length-1,o=/\s/.test(n[r+1]),l=!0,c=t.length-1;c>=0;c--)if(t[c]!==n[r-c]){l=!1;break}if(l&&(a||o)){i=e.length-1-r;break}}return i}},{key:"isContentEditable",value:function(e){return"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName}},{key:"isMenuOffScreen",value:function(e,t){var n=window.innerWidth,i=window.innerHeight,r=document.documentElement,s=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),o="number"==typeof e.top?e.top:a+i-e.bottom-t.height,l="number"==typeof e.right?e.right:e.left+t.width,c="number"==typeof e.bottom?e.bottom:e.top+t.height,u="number"==typeof e.left?e.left:s+n-e.right-t.width;return{top:o<Math.floor(a),right:l>Math.ceil(s+n),bottom:c>Math.ceil(a+i),left:u<Math.floor(s)}}},{key:"getMenuDimensions",value:function(){var e={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}},{key:"getTextAreaOrInputUnderlinePosition",value:function(e,t,n){var i=null!==window.mozInnerScreenX,r=this.getDocument().createElement("div");r.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(r);var s=r.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;s.whiteSpace="pre-wrap","INPUT"!==e.nodeName&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach((function(e){s[e]=a[e]})),i?(s.width="".concat(parseInt(a.width)-2,"px"),e.scrollHeight>parseInt(a.height)&&(s.overflowY="scroll")):s.overflow="hidden",r.textContent=e.value.substring(0,t),"INPUT"===e.nodeName&&(r.textContent=r.textContent.replace(/\s/g,""));var o=this.getDocument().createElement("span");o.textContent=e.value.substring(t)||".",r.appendChild(o);var l=e.getBoundingClientRect(),c=document.documentElement,u=(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0),d=(window.pageYOffset||c.scrollTop)-(c.clientTop||0),f=0,h=0;this.menuContainerIsBody&&(f=l.top,h=l.left);var p={top:f+d+o.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:h+u+o.offsetLeft+parseInt(a.borderLeftWidth)},m=window.innerWidth,g=window.innerHeight,v=this.getMenuDimensions(),b=this.isMenuOffScreen(p,v);b.right&&(p.right=m-p.left,p.left="auto");var y=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(b.bottom){var _=y-(g-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);p.bottom=_+(g-l.top-o.offsetTop),p.top="auto"}return(b=this.isMenuOffScreen(p,v)).left&&(p.left=m>v.width?u+m-v.width:u,delete p.right),b.top&&(p.top=g>v.height?d+g-v.height:d,delete p.bottom),this.getDocument().body.removeChild(r),p}},{key:"getContentEditableCaretPosition",value:function(e){var t,n=this.getWindowSelection();(t=this.getDocument().createRange()).setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);var i=t.getBoundingClientRect(),r=document.documentElement,s=(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0),a=(window.pageYOffset||r.scrollTop)-(r.clientTop||0),o={left:i.left+s,top:i.top+i.height+a},l=window.innerWidth,c=window.innerHeight,u=this.getMenuDimensions(),d=this.isMenuOffScreen(o,u);d.right&&(o.left="auto",o.right=l-i.left-s);var f=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(d.bottom){var h=f-(c-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);o.top="auto",o.bottom=h+(c-i.top)}return(d=this.isMenuOffScreen(o,u)).left&&(o.left=l>u.width?s+l-u.width:s,delete o.right),d.top&&(o.top=c>u.height?a+c-u.height:a,delete o.bottom),this.menuContainerIsBody||(o.left=o.left?o.left-this.tribute.menuContainer.offsetLeft:o.left,o.top=o.top?o.top-this.tribute.menuContainer.offsetTop:o.top),o}},{key:"scrollIntoView",value:function(e){var t,n=this.menu;if(void 0!==n){for(;void 0===t||0===t.height;)if(0===(t=n.getBoundingClientRect()).height&&(void 0===(n=n.childNodes[0])||!n.getBoundingClientRect))return;var i=t.top,r=i+t.height;if(i<0)window.scrollTo(0,window.pageYOffset+t.top-20);else if(r>window.innerHeight){var s=window.pageYOffset+t.top-20;s-window.pageYOffset>100&&(s=window.pageYOffset+100);var a=window.pageYOffset-(window.innerHeight-r);a>s&&(a=s),window.scrollTo(0,a)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),t}(),u=function(){function t(n){e(this,t),this.tribute=n,this.tribute.search=this}return i(t,[{key:"simpleFilter",value:function(e,t){var n=this;return t.filter((function(t){return n.test(e,t)}))}},{key:"test",value:function(e,t){return null!==this.match(e,t)}},{key:"match",value:function(e,t,n){n=n||{},t.length;var i=n.pre||"",r=n.post||"",s=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();var a=this.traverse(s,e,0,0,[]);return a?{rendered:this.render(t,a.cache,i,r),score:a.score}:null}},{key:"traverse",value:function(e,t,n,i,r){if(this.tribute.autocompleteSeparator&&(t=t.split(this.tribute.autocompleteSeparator).splice(-1)[0]),t.length===i)return{score:this.calculateScore(r),cache:r.slice()};if(!(e.length===n||t.length-i>e.length-n)){for(var s,a,o=t[i],l=e.indexOf(o,n);l>-1;){if(r.push(l),a=this.traverse(e,t,l+1,i+1,r),r.pop(),!a)return s;(!s||s.score<a.score)&&(s=a),l=e.indexOf(o,l+1)}return s}}},{key:"calculateScore",value:function(e){var t=0,n=1;return e.forEach((function(i,r){r>0&&(e[r-1]+1===i?n+=n+1:n=1),t+=n})),t}},{key:"render",value:function(e,t,n,i){var r=e.substring(0,t[0]);return t.forEach((function(s,a){r+=n+e[s]+i+e.substring(s+1,t[a+1]?t[a+1]:e.length)})),r}},{key:"filter",value:function(e,t,n){var i=this;return n=n||{},t.reduce((function(t,r,s,a){var o=r;n.extract&&((o=n.extract(r))||(o=""));var l=i.match(e,o,n);return null!=l&&(t[t.length]={string:l.rendered,score:l.score,index:s,original:r}),t}),[]).sort((function(e,t){return t.score-e.score||e.index-t.index}))}}]),t}();return function(){function n(t){var i,r=this,s=t.values,a=void 0===s?null:s,d=t.loadingItemTemplate,f=void 0===d?null:d,h=t.iframe,p=void 0===h?null:h,m=t.selectClass,g=void 0===m?"highlight":m,v=t.containerClass,b=void 0===v?"tribute-container":v,y=t.itemClass,_=void 0===y?"":y,w=t.trigger,O=void 0===w?"@":w,k=t.autocompleteMode,S=void 0!==k&&k,j=t.autocompleteSeparator,C=void 0===j?null:j,x=t.selectTemplate,E=void 0===x?null:x,D=t.menuItemTemplate,P=void 0===D?null:D,T=t.lookup,N=void 0===T?"key":T,I=t.fillAttr,L=void 0===I?"value":I,R=t.collection,A=void 0===R?null:R,F=t.menuContainer,q=void 0===F?null:F,M=t.noMatchTemplate,B=void 0===M?null:M,$=t.requireLeadingSpace,V=void 0===$||$,U=t.allowSpaces,G=void 0!==U&&U,H=t.replaceTextSuffix,z=void 0===H?null:H,W=t.positionMenu,Q=void 0===W||W,K=t.spaceSelectsMatch,Y=void 0!==K&&K,X=t.searchOpts,J=void 0===X?{}:X,Z=t.menuItemLimit,ee=void 0===Z?null:Z,te=t.menuShowMinLength,ne=void 0===te?0:te;if(e(this,n),this.autocompleteMode=S,this.autocompleteSeparator=C,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=q,this.allowSpaces=G,this.replaceTextSuffix=z,this.positionMenu=Q,this.hasTrailingSpace=!1,this.spaceSelectsMatch=Y,this.autocompleteMode&&(O="",G=!1),a)this.collection=[{trigger:O,iframe:p,selectClass:g,containerClass:b,itemClass:_,selectTemplate:(E||n.defaultSelectTemplate).bind(this),menuItemTemplate:(P||n.defaultMenuItemTemplate).bind(this),noMatchTemplate:(i=B,"string"==typeof i?""===i.trim()?null:i:"function"==typeof i?i.bind(r):B||function(){return"<li>No Match Found!</li>"}.bind(r)),lookup:N,fillAttr:L,values:a,loadingItemTemplate:f,requireLeadingSpace:V,searchOpts:J,menuItemLimit:ee,menuShowMinLength:ne}];else{if(!A)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=A.map((function(e){return{trigger:e.trigger||O,iframe:e.iframe||p,selectClass:e.selectClass||g,containerClass:e.containerClass||b,itemClass:e.itemClass||_,selectTemplate:(e.selectTemplate||n.defaultSelectTemplate).bind(r),menuItemTemplate:(e.menuItemTemplate||n.defaultMenuItemTemplate).bind(r),noMatchTemplate:function(e){return"string"==typeof e?""===e.trim()?null:e:"function"==typeof e?e.bind(r):B||function(){return"<li>No Match Found!</li>"}.bind(r)}(B),lookup:e.lookup||N,fillAttr:e.fillAttr||L,values:e.values,loadingItemTemplate:e.loadingItemTemplate,requireLeadingSpace:e.requireLeadingSpace,searchOpts:e.searchOpts||J,menuItemLimit:e.menuItemLimit||ee,menuShowMinLength:e.menuShowMinLength||ne}}))}new c(this),new o(this),new l(this),new u(this)}return i(n,[{key:"triggers",value:function(){return this.collection.map((function(e){return e.trigger}))}},{key:"attach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(void 0!==t&&e instanceof t&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var n=e.length,i=0;i<n;++i)this._attach(e[i]);else this._attach(e)}},{key:"_attach",value:function(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(e){if(-1===n.inputTypes().indexOf(e.nodeName)){if(!e.contentEditable)throw new Error("[Tribute] Cannot bind to "+e.nodeName);e.contentEditable=!0}}},{key:"createMenu",value:function(e){var t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}},{key:"showMenuFor",value:function(e,t){var n=this;if(!this.isActive||this.current.element!==e||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var i=function(e){if(n.isActive){var i=n.search.filter(n.current.mentionText,e,{pre:n.current.collection.searchOpts.pre||"<span>",post:n.current.collection.searchOpts.post||"</span>",skip:n.current.collection.searchOpts.skip,extract:function(e){if("string"==typeof n.current.collection.lookup)return e[n.current.collection.lookup];if("function"==typeof n.current.collection.lookup)return n.current.collection.lookup(e,n.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});n.current.collection.menuItemLimit&&(i=i.slice(0,n.current.collection.menuItemLimit)),n.current.filteredItems=i;var s=n.menu.querySelector("ul");if(n.range.positionMenuAtCaret(t),!i.length){var a=new CustomEvent("tribute-no-match",{detail:n.menu});return n.current.element.dispatchEvent(a),void("function"==typeof n.current.collection.noMatchTemplate&&!n.current.collection.noMatchTemplate()||!n.current.collection.noMatchTemplate?n.hideMenu():"function"==typeof n.current.collection.noMatchTemplate?s.innerHTML=n.current.collection.noMatchTemplate():s.innerHTML=n.current.collection.noMatchTemplate)}s.innerHTML="";var o=n.range.getDocument().createDocumentFragment();i.forEach((function(e,t){var i=n.range.getDocument().createElement("li");i.setAttribute("data-index",t),i.className=n.current.collection.itemClass,i.addEventListener("mousemove",(function(e){var t=r(n._findLiTarget(e.target),2),i=(t[0],t[1]);0!==e.movementY&&n.events.setActiveLi(i)})),n.menuSelected===t&&i.classList.add(n.current.collection.selectClass),i.innerHTML=n.current.collection.menuItemTemplate(e),o.appendChild(i)})),s.appendChild(o)}};"function"==typeof this.current.collection.values?(this.current.collection.loadingItemTemplate&&(this.menu.querySelector("ul").innerHTML=this.current.collection.loadingItemTemplate,this.range.positionMenuAtCaret(t)),this.current.collection.values(this.current.mentionText,i)):i(this.current.collection.values)}}},{key:"_findLiTarget",value:function(e){if(!e)return[];var t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}},{key:"showMenuForCollection",value:function(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}},{key:"placeCaretAtEnd",value:function(e){if(e.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}}},{key:"insertTextAtCursor",value:function(e){var t,n;(n=(t=window.getSelection()).getRangeAt(0)).deleteContents();var i=document.createTextNode(e);n.insertNode(i),n.selectNodeContents(i),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}},{key:"insertAtCaret",value:function(e,t){var n=e.scrollTop,i=e.selectionStart,r=e.value.substring(0,i),s=e.value.substring(e.selectionEnd,e.value.length);e.value=r+t+s,i+=t.length,e.selectionStart=i,e.selectionEnd=i,e.focus(),e.scrollTop=n}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(e,t){if("number"==typeof(e=parseInt(e))&&!isNaN(e)){var n=this.current.filteredItems[e],i=this.current.collection.selectTemplate(n);null!==i&&this.replaceText(i,t,n)}}},{key:"replaceText",value:function(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}},{key:"_append",value:function(e,t,n){if("function"==typeof e.values)throw new Error("Unable to append to values, as it is a function.");e.values=n?t:e.values.concat(t)}},{key:"append",value:function(e,t,n){var i=parseInt(e);if("number"!=typeof i)throw new Error("please provide an index for the collection to update.");var r=this.collection[i];this._append(r,t,n)}},{key:"appendCurrent",value:function(e,t){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,e,t)}},{key:"detach",value:function(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(void 0!==t&&e instanceof t&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array)for(var n=e.length,i=0;i<n;++i)this._detach(e[i]);else this._detach(e)}},{key:"_detach",value:function(e){var t=this;this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout((function(){e.removeAttribute("data-tribute"),t.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()}))}},{key:"isActive",get:function(){return this._isActive},set:function(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){var t=new CustomEvent("tribute-active-".concat(e));this.current.element.dispatchEvent(t)}}}],[{key:"defaultSelectTemplate",value:function(e){return void 0===e?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(e){return e.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),n}()}()}).call(this,n("EmJ/"))},P9pc:function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},PFaH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("/lV4");const r=function(e){let{onlyCommas:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 0===e.length?"":1===e.length?Object(i.f)(Object(i.e)("nounSeries|%{item}"),{item:e[0]},!1):2!==e.length||t?e.reduce((function(n,r,s){return s!==e.length-1||t?Object(i.f)(Object(i.e)("nounSeries|%{item}, %{nextItem}"),{item:n,nextItem:r},!1):Object(i.f)(Object(i.e)("nounSeries|%{item}, and %{lastItem}"),{item:n,lastItem:r},!1)})):Object(i.f)(Object(i.e)("nounSeries|%{firstItem} and %{lastItem}"),{firstItem:e[0],lastItem:e[1]},!1)}},PTFM:function(e,t,n){"use strict";var i=n("4lAS"),r=n("yi8e"),s=n("ZlTH"),a=n("WP4l");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={components:{NoteableNote:s.a,PublishButton:a.a,GlButton:i.a},props:{draft:{type:Object,required:!0},line:{type:Object,required:!1,default:null}},data:()=>({isEditingDraft:!1}),computed:l(l(l({},Object(r.f)("batchComments",["isPublishing"])),Object(r.d)("batchComments",["isPublishingDraft"])),{},{draftCommands(){return this.draft.references.commands}}),mounted(){window.location.hash&&window.location.hash==="#note_".concat(this.draft.id)&&this.scrollToDraft(this.draft)},methods:l(l(l({},Object(r.c)("batchComments",["deleteDraft","updateDraft","publishSingleDraft","scrollToDraft","toggleResolveDiscussion"])),Object(r.c)(["setSelectedCommentPositionHover"])),{},{update(e){this.updateDraft(e)},publishNow(){this.publishSingleDraft(this.draft.id)},handleEditing(){this.isEditingDraft=!0},handleNotEditing(){this.isEditingDraft=!1},handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}})},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("article",{staticClass:"draft-note-component note-wrapper",on:{mouseenter:function(t){return e.handleMouseEnter(e.draft)},mouseleave:function(t){return e.handleMouseLeave(e.draft)}}},[n("ul",{staticClass:"notes draft-notes"},[n("noteable-note",{staticClass:"draft-note",attrs:{note:e.draft,line:e.line,"discussion-root":!0},on:{handleEdit:e.handleEditing,cancelForm:e.handleNotEditing,updateSuccess:e.handleNotEditing,handleDeleteNote:e.deleteDraft,handleUpdateNote:e.update,toggleResolveStatus:function(t){return e.toggleResolveDiscussion(e.draft.id)}}},[n("strong",{staticClass:"badge draft-pending-label gl-mr-2",attrs:{slot:"note-header-info"},slot:"note-header-info"},[e._v("\n        "+e._s(e.__("Pending"))+"\n      ")])])],1),e._v(" "),e.isEditingDraft?e._e():[e.draftCommands?n("div",{staticClass:"referenced-commands draft-note-commands",domProps:{innerHTML:e._s(e.draftCommands)}}):e._e(),e._v(" "),n("p",{staticClass:"draft-note-actions d-flex"},[n("publish-button",{attrs:{"show-count":!0,"should-publish":!1,category:"secondary"}}),e._v(" "),n("gl-button",{ref:"publishNowButton",staticClass:"gl-ml-3",attrs:{loading:e.isPublishingDraft(e.draft.id)||e.isPublishing},on:{click:e.publishNow}},[e._v("\n        "+e._s(e.__("Add comment now"))+"\n      ")])],1)]],2)}),[],!1,null,null,null);t.a=f.exports},Pevy:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("jB52"),r=n("s1D3"),s=n("yi8e");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={components:{GlIcon:r.a},computed:o(o({},Object(s.d)(["getNoteableData"])),{},{isLocked(){return this.getNoteableData.discussion_locked},isConfidential(){return this.getNoteableData.confidential},warningIconsMeta(){return[{iconName:"lock",visible:this.isLocked,dataTestId:"locked"},{iconName:"eye-slash",visible:this.isConfidential,dataTestId:"confidential"}]}})},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-inline-block"},[e._l(e.warningIconsMeta,(function(t){return[t.visible?n("div",{key:t.iconName,staticClass:"issuable-warning-icon inline"},[n("gl-icon",{staticClass:"icon",attrs:{name:t.iconName,"data-testid":t.dataTestId}})],1):e._e()]}))],2)}),[],!1,null,null,null).exports;function f(e){return new i.default({el:document.getElementById("js-issuable-header-warnings"),store:e,render:e=>e(d)})}},Q78f:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("0zRR"),r=n("/Szx"),s=n("lgrP"),a={id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},o=r.a.extend({name:i.w,functional:!0,props:a,render:function(e,t){var n=t.props,i=t.data,r=t.children;return e("form",Object(s.a)(i,{class:{"form-inline":n.inline,"was-validated":n.validated},attrs:{id:n.id,novalidate:n.novalidate}}),r)}})},QBXl:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("EmJ/"),r=n.n(i),s=(n("53m/"),n("/lV4")),a=n("XRO8"),o=n("2ibD");class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selector=e.selector,this.dataType=e.dataType,this.fieldName=e.fieldName,this.lockVersion=e.lockVersion,this.taskListContainerSelector="".concat(this.selector," .js-task-list-container"),this.updateHandler=this.update.bind(this),this.onSuccess=e.onSuccess||function(){},this.onError=e.onError||function(e){let t="";return e.response.data&&"object"==typeof e.response.data&&(t=e.response.data.errors.join(" ")),new a.c(t||Object(s.a)("Update failed"),"alert")},this.init()}init(){this.disable(),document.querySelectorAll("".concat(this.taskListContainerSelector," .js-task-list-field[data-value]")).forEach((function(e){e.value=e.dataset.value})),this.enable()}getTaskListTarget(e){return e&&e.currentTarget?r()(e.currentTarget):r()(this.taskListContainerSelector)}disableNonMarkdownTaskListItems(e){this.getTaskListTarget(e).find(".task-list-item").not("[data-sourcepos]").find(".task-list-item-checkbox").prop("disabled",!0)}disableTaskListItems(e){this.getTaskListTarget(e).taskList("disable")}enableTaskListItems(e){this.getTaskListTarget(e).taskList("enable"),this.disableNonMarkdownTaskListItems(e)}enable(){this.enableTaskListItems(),r()(document).on("tasklist:changed",this.taskListContainerSelector,this.updateHandler)}disable(){this.disableTaskListItems(),r()(document).off("tasklist:changed",this.taskListContainerSelector)}update(e){var t=this;const n=r()(e.target),{index:i,checked:s,lineNumber:a,lineSource:l}=e.detail,c={};return c[this.dataType]={[this.fieldName]:n.val(),lock_version:this.lockVersion,update_task:{index:i,checked:s,line_number:a,line_source:l}},this.disableTaskListItems(e),o.a.patch(n.data("updateUrl")||r()("form.js-issuable-update").attr("action"),c).then((function(n){let{data:i}=n;return t.lockVersion=i.lock_version,t.enableTaskListItems(e),t.onSuccess(i)})).catch((function(n){let{response:i}=n;return t.enableTaskListItems(e),t.onError(i.data)}))}}},QPL1:function(e,t,n){var i=n("pFYY"),r=n("KZGt"),s=n("1XSk"),a=i&&1/s(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=a},QPeP:function(e,t,n){var i=n("q+Dt");e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},QSe5:function(e,t,n){"use strict";var i=n("qVG1"),r=n("LB+Z"),s={components:{GlPagination:i.a},props:{change:{type:Function,required:!0},pageInfo:{type:Object,required:!0}},computed:{showPagination(){return this.pageInfo.nextPage||this.pageInfo.previousPage}},prevText:r.f,nextText:r.e,labelFirstPage:r.a,labelPrevPage:r.d,labelNextPage:r.c,labelLastPage:r.b},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showPagination?n("gl-pagination",e._b({staticClass:"justify-content-center gl-mt-3",attrs:{value:e.pageInfo.page,"per-page":e.pageInfo.perPage,"total-items":e.pageInfo.total,"prev-page":e.pageInfo.previousPage,"prev-text":e.$options.prevText,"next-page":e.pageInfo.nextPage,"next-text":e.$options.nextText,"label-first-page":e.$options.labelFirstPage,"label-prev-page":e.$options.labelPrevPage,"label-next-page":e.$options.labelNextPage,"label-last-page":e.$options.labelLastPage},on:{input:e.change}},"gl-pagination",e.$attrs,!1)):e._e()}),[],!1,null,null,null);t.a=o.exports},QZyC:function(e,t,n){"use strict";var i={components:{GlIcon:n("s1D3").a},props:{severity:{type:Object,required:!0,validator(e){const{value:t,label:n,icon:i}=e;return t&&n&&i}},iconSize:{type:Number,required:!1,default:12},iconOnly:{type:Boolean,required:!1,default:!1}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"incident-severity gl-display-inline-flex gl-align-items-center gl-justify-content-between"},[n("gl-icon",{class:["icon-"+e.severity.icon,{"gl-mr-3":!e.iconOnly}],attrs:{size:e.iconSize,name:"severity-"+e.severity.icon}}),e._v(" "),e.iconOnly?e._e():n("span",[e._v(e._s(e.severity.label))])],1)}),[],!1,null,null,null);t.a=s.exports},Qaw2:function(e,t,n){"use strict";var i=n("s1D3"),r=n("/lV4"),s={components:{GlIcon:i.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{assigneeAlt(){return Object(r.f)(Object(r.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatarUrl||this.user.avatar||this.user.avatar_url||gon.default_avatar_url},isMergeRequest(){return"merge_request"===this.issuableType},hasMergeIcon(){return this.isMergeRequest&&!this.user.can_merge}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.assigneeAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null);t.a=o.exports},QwBj:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));const i={ABORTED:0,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,IM_USED:226,MULTIPLE_CHOICES:300,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,CONFLICT:409,GONE:410,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500,SERVICE_UNAVAILABLE:503},r=[i.OK,i.CREATED,i.ACCEPTED,i.NON_AUTHORITATIVE_INFORMATION,i.NO_CONTENT,i.RESET_CONTENT,i.PARTIAL_CONTENT,i.MULTI_STATUS,i.ALREADY_REPORTED,i.IM_USED];t.a=i},RG0U:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return E})),n.d(t,"v",(function(){return x})),n.d(t,"A",(function(){return T})),n.d(t,"c",(function(){return F})),n.d(t,"C",(function(){return F})),n.d(t,"w",(function(){return A})),n.d(t,"D",(function(){return A})),n.d(t,"B",(function(){return q.a})),n.d(t,"x",(function(){return M.a})),n.d(t,"z",(function(){return M.c})),n.d(t,"y",(function(){return M.b})),n.d(t,"Q",(function(){return ie})),n.d(t,"Y",(function(){return ne})),n.d(t,"R",(function(){return B})),n.d(t,"S",(function(){return $})),n.d(t,"T",(function(){return G})),n.d(t,"U",(function(){return K})),n.d(t,"V",(function(){return Q})),n.d(t,"W",(function(){return X})),n.d(t,"X",(function(){return te})),n.d(t,"e",(function(){return ce})),n.d(t,"f",(function(){return de})),n.d(t,"d",(function(){return oe})),n.d(t,"g",(function(){return he})),n.d(t,"i",(function(){return be})),n.d(t,"j",(function(){return _e})),n.d(t,"h",(function(){return ge})),n.d(t,"l",(function(){return je})),n.d(t,"m",(function(){return xe})),n.d(t,"k",(function(){return ke})),n.d(t,"o",(function(){return De})),n.d(t,"n",(function(){return j})),n.d(t,"p",(function(){return Fe})),n.d(t,"q",(function(){return qe})),n.d(t,"r",(function(){return $e})),n.d(t,"s",(function(){return Ue})),n.d(t,"t",(function(){return He})),n.d(t,"u",(function(){return Ge})),n.d(t,"E",(function(){return Ye})),n.d(t,"G",(function(){return Xe})),n.d(t,"F",(function(){return Je})),n.d(t,"H",(function(){return We})),n.d(t,"I",(function(){return Ze})),n.d(t,"J",(function(){return et})),n.d(t,"K",(function(){return tt})),n.d(t,"L",(function(){return it})),n.d(t,"M",(function(){return st})),n.d(t,"N",(function(){return at})),n.d(t,"O",(function(){return Qe})),n.d(t,"P",(function(){return ot}));var i=n("Mnjd"),r=n("UpzS"),s=Math.abs,a=Math.atan2,o=Math.cos,l=Math.max,c=Math.min,u=Math.sin,d=Math.sqrt,f=1e-12,h=Math.PI,p=h/2,m=2*h;function g(e){return e>=1?p:e<=-1?-p:Math.asin(e)}function v(e){return e.innerRadius}function b(e){return e.outerRadius}function y(e){return e.startAngle}function _(e){return e.endAngle}function w(e){return e&&e.padAngle}function O(e,t,n,i,r,s,a){var o=e-n,c=t-i,u=(a?s:-s)/d(o*o+c*c),f=u*c,h=-u*o,p=e+f,m=t+h,g=n+f,v=i+h,b=(p+g)/2,y=(m+v)/2,_=g-p,w=v-m,O=_*_+w*w,k=r-s,S=p*v-g*m,j=(w<0?-1:1)*d(l(0,k*k*O-S*S)),C=(S*w-_*j)/O,x=(-S*_-w*j)/O,E=(S*w+_*j)/O,D=(-S*_+w*j)/O,P=C-b,T=x-y,N=E-b,I=D-y;return P*P+T*T>N*N+I*I&&(C=E,x=D),{cx:C,cy:x,x01:-f,y01:-h,x11:C*(r/k-1),y11:x*(r/k-1)}}var k=function(){var e=v,t=b,n=Object(r.a)(0),l=null,k=y,S=_,j=w,C=null;function x(){var r,v,b,y=+e.apply(this,arguments),_=+t.apply(this,arguments),w=k.apply(this,arguments)-p,x=S.apply(this,arguments)-p,E=s(x-w),D=x>w;if(C||(C=r=Object(i.a)()),_<y&&(v=_,_=y,y=v),_>f)if(E>m-f)C.moveTo(_*o(w),_*u(w)),C.arc(0,0,_,w,x,!D),y>f&&(C.moveTo(y*o(x),y*u(x)),C.arc(0,0,y,x,w,D));else{var P,T,N=w,I=x,L=w,R=x,A=E,F=E,q=j.apply(this,arguments)/2,M=q>f&&(l?+l.apply(this,arguments):d(y*y+_*_)),B=c(s(_-y)/2,+n.apply(this,arguments)),$=B,V=B;if(M>f){var U=g(M/y*u(q)),G=g(M/_*u(q));(A-=2*U)>f?(L+=U*=D?1:-1,R-=U):(A=0,L=R=(w+x)/2),(F-=2*G)>f?(N+=G*=D?1:-1,I-=G):(F=0,N=I=(w+x)/2)}var H=_*o(N),z=_*u(N),W=y*o(R),Q=y*u(R);if(B>f){var K,Y=_*o(I),X=_*u(I),J=y*o(L),Z=y*u(L);if(E<h&&(K=function(e,t,n,i,r,s,a,o){var l=n-e,c=i-t,u=a-r,d=o-s,h=d*l-u*c;if(!(h*h<f))return[e+(h=(u*(t-s)-d*(e-r))/h)*l,t+h*c]}(H,z,J,Z,Y,X,W,Q))){var ee=H-K[0],te=z-K[1],ne=Y-K[0],ie=X-K[1],re=1/u(((b=(ee*ne+te*ie)/(d(ee*ee+te*te)*d(ne*ne+ie*ie)))>1?0:b<-1?h:Math.acos(b))/2),se=d(K[0]*K[0]+K[1]*K[1]);$=c(B,(y-se)/(re-1)),V=c(B,(_-se)/(re+1))}}F>f?V>f?(P=O(J,Z,H,z,_,V,D),T=O(Y,X,W,Q,_,V,D),C.moveTo(P.cx+P.x01,P.cy+P.y01),V<B?C.arc(P.cx,P.cy,V,a(P.y01,P.x01),a(T.y01,T.x01),!D):(C.arc(P.cx,P.cy,V,a(P.y01,P.x01),a(P.y11,P.x11),!D),C.arc(0,0,_,a(P.cy+P.y11,P.cx+P.x11),a(T.cy+T.y11,T.cx+T.x11),!D),C.arc(T.cx,T.cy,V,a(T.y11,T.x11),a(T.y01,T.x01),!D))):(C.moveTo(H,z),C.arc(0,0,_,N,I,!D)):C.moveTo(H,z),y>f&&A>f?$>f?(P=O(W,Q,Y,X,y,-$,D),T=O(H,z,J,Z,y,-$,D),C.lineTo(P.cx+P.x01,P.cy+P.y01),$<B?C.arc(P.cx,P.cy,$,a(P.y01,P.x01),a(T.y01,T.x01),!D):(C.arc(P.cx,P.cy,$,a(P.y01,P.x01),a(P.y11,P.x11),!D),C.arc(0,0,y,a(P.cy+P.y11,P.cx+P.x11),a(T.cy+T.y11,T.cx+T.x11),D),C.arc(T.cx,T.cy,$,a(T.y11,T.x11),a(T.y01,T.x01),!D))):C.arc(0,0,y,R,L,D):C.lineTo(W,Q)}else C.moveTo(0,0);if(C.closePath(),r)return C=null,r+""||null}return x.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+k.apply(this,arguments)+ +S.apply(this,arguments))/2-h/2;return[o(i)*n,u(i)*n]},x.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),x):e},x.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),x):t},x.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),x):n},x.padRadius=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:Object(r.a)(+e),x):l},x.startAngle=function(e){return arguments.length?(k="function"==typeof e?e:Object(r.a)(+e),x):k},x.endAngle=function(e){return arguments.length?(S="function"==typeof e?e:Object(r.a)(+e),x):S},x.padAngle=function(e){return arguments.length?(j="function"==typeof e?e:Object(r.a)(+e),x):j},x.context=function(e){return arguments.length?(C=null==e?null:e,x):C},x};function S(e){this._context=e}S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var j=function(e){return new S(e)},C=n("zvOv"),x=function(){var e=C.a,t=C.b,n=Object(r.a)(!0),s=null,a=j,o=null;function l(r){var l,c,u,d=r.length,f=!1;for(null==s&&(o=a(u=Object(i.a)())),l=0;l<=d;++l)!(l<d&&n(c=r[l],l,r))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+e(c,l,r),+t(c,l,r));if(u)return o=null,u+""||null}return l.x=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),l):t},l.defined=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(!!e),l):n},l.curve=function(e){return arguments.length?(a=e,null!=s&&(o=a(s)),l):a},l.context=function(e){return arguments.length?(null==e?s=o=null:o=a(s=e),l):s},l},E=function(){var e=C.a,t=null,n=Object(r.a)(0),s=C.b,a=Object(r.a)(!0),o=null,l=j,c=null;function u(r){var u,d,f,h,p,m=r.length,g=!1,v=new Array(m),b=new Array(m);for(null==o&&(c=l(p=Object(i.a)())),u=0;u<=m;++u){if(!(u<m&&a(h=r[u],u,r))===g)if(g=!g)d=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=u-1;f>=d;--f)c.point(v[f],b[f]);c.lineEnd(),c.areaEnd()}g&&(v[u]=+e(h,u,r),b[u]=+n(h,u,r),c.point(t?+t(h,u,r):v[u],s?+s(h,u,r):b[u]))}if(p)return c=null,p+""||null}function d(){return x().defined(a).curve(l).context(o)}return u.x=function(n){return arguments.length?(e="function"==typeof n?n:Object(r.a)(+n),t=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),u):e},u.x1=function(e){return arguments.length?(t=null==e?null:"function"==typeof e?e:Object(r.a)(+e),u):t},u.y=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),s=null,u):n},u.y0=function(e){return arguments.length?(n="function"==typeof e?e:Object(r.a)(+e),u):n},u.y1=function(e){return arguments.length?(s=null==e?null:"function"==typeof e?e:Object(r.a)(+e),u):s},u.lineX0=u.lineY0=function(){return d().x(e).y(n)},u.lineY1=function(){return d().x(e).y(s)},u.lineX1=function(){return d().x(t).y(n)},u.defined=function(e){return arguments.length?(a="function"==typeof e?e:Object(r.a)(!!e),u):a},u.curve=function(e){return arguments.length?(l=e,null!=o&&(c=l(o)),u):l},u.context=function(e){return arguments.length?(null==e?o=c=null:c=l(o=e),u):o},u},D=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},P=function(e){return e},T=function(){var e=P,t=D,n=null,i=Object(r.a)(0),s=Object(r.a)(m),a=Object(r.a)(0);function o(r){var o,l,c,u,d,f=r.length,h=0,p=new Array(f),g=new Array(f),v=+i.apply(this,arguments),b=Math.min(m,Math.max(-m,s.apply(this,arguments)-v)),y=Math.min(Math.abs(b)/f,a.apply(this,arguments)),_=y*(b<0?-1:1);for(o=0;o<f;++o)(d=g[p[o]=o]=+e(r[o],o,r))>0&&(h+=d);for(null!=t?p.sort((function(e,n){return t(g[e],g[n])})):null!=n&&p.sort((function(e,t){return n(r[e],r[t])})),o=0,c=h?(b-f*_)/h:0;o<f;++o,v=u)l=p[o],u=v+((d=g[l])>0?d*c:0)+_,g[l]={data:r[l],index:o,value:d,startAngle:v,endAngle:u,padAngle:y};return g}return o.value=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Object(r.a)(+e),o):i},o.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:Object(r.a)(+e),o):s},o.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:Object(r.a)(+e),o):a},o},N=L(j);function I(e){this._curve=e}function L(e){function t(t){return new I(e(t))}return t._curve=e,t}function R(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(L(e)):t()._curve},e}I.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var A=function(){return R(x().curve(N))},F=function(){var e=E().curve(N),t=e.curve,n=e.lineX0,i=e.lineX1,r=e.lineY0,s=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return R(n())},delete e.lineX0,e.lineEndAngle=function(){return R(i())},delete e.lineX1,e.lineInnerRadius=function(){return R(r())},delete e.lineY0,e.lineOuterRadius=function(){return R(s())},delete e.lineY1,e.curve=function(e){return arguments.length?t(L(e)):t()._curve},e},q=n("s390"),M=n("W1U1"),B={draw:function(e,t){var n=Math.sqrt(t/h);e.moveTo(n,0),e.arc(0,0,n,0,m)}},$={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},V=Math.sqrt(1/3),U=2*V,G={draw:function(e,t){var n=Math.sqrt(t/U),i=n*V;e.moveTo(0,-n),e.lineTo(i,0),e.lineTo(0,n),e.lineTo(-i,0),e.closePath()}},H=Math.sin(h/10)/Math.sin(7*h/10),z=Math.sin(m/10)*H,W=-Math.cos(m/10)*H,Q={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),i=z*n,r=W*n;e.moveTo(0,-n),e.lineTo(i,r);for(var s=1;s<5;++s){var a=m*s/5,o=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-o*n),e.lineTo(o*i-l*r,l*i+o*r)}e.closePath()}},K={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},Y=Math.sqrt(3),X={draw:function(e,t){var n=-Math.sqrt(t/(3*Y));e.moveTo(0,2*n),e.lineTo(-Y*n,-n),e.lineTo(Y*n,-n),e.closePath()}},J=Math.sqrt(3)/2,Z=1/Math.sqrt(12),ee=3*(Z/2+1),te={draw:function(e,t){var n=Math.sqrt(t/ee),i=n/2,r=n*Z,s=i,a=n*Z+n,o=-s,l=a;e.moveTo(i,r),e.lineTo(s,a),e.lineTo(o,l),e.lineTo(-.5*i-J*r,J*i+-.5*r),e.lineTo(-.5*s-J*a,J*s+-.5*a),e.lineTo(-.5*o-J*l,J*o+-.5*l),e.lineTo(-.5*i+J*r,-.5*r-J*i),e.lineTo(-.5*s+J*a,-.5*a-J*s),e.lineTo(-.5*o+J*l,-.5*l-J*o),e.closePath()}},ne=[B,$,G,K,Q,X,te],ie=function(){var e=Object(r.a)(B),t=Object(r.a)(64),n=null;function s(){var r;if(n||(n=r=Object(i.a)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return s.type=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(t),s):e},s.size=function(e){return arguments.length?(t="function"==typeof e?e:Object(r.a)(+e),s):t},s.context=function(e){return arguments.length?(n=null==e?null:e,s):n},s},re=function(){};function se(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ae(e){this._context=e}ae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:se(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:se(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var oe=function(e){return new ae(e)};function le(e){this._context=e}le.prototype={areaStart:re,areaEnd:re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:se(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var ce=function(e){return new le(e)};function ue(e){this._context=e}ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:se(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};var de=function(e){return new ue(e)};function fe(e,t){this._basis=new ae(e),this._beta=t}fe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],s=t[0],a=e[n]-r,o=t[n]-s,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+i*a),this._beta*t[l]+(1-this._beta)*(s+i*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var he=function e(t){function n(e){return 1===t?new ae(e):new fe(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function pe(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function me(e,t){this._context=e,this._k=(1-t)/6}me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pe(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ge=function e(t){function n(e){return new me(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ve(e,t){this._context=e,this._k=(1-t)/6}ve.prototype={areaStart:re,areaEnd:re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var be=function e(t){function n(e){return new ve(e,t)}return n.tension=function(t){return e(+t)},n}(0);function ye(e,t){this._context=e,this._k=(1-t)/6}ye.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pe(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _e=function e(t){function n(e){return new ye(e,t)}return n.tension=function(t){return e(+t)},n}(0);function we(e,t,n){var i=e._x1,r=e._y1,s=e._x2,a=e._y2;if(e._l01_a>f){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,r=(r*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>f){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);s=(s*c+e._x1*e._l23_2a-t*e._l12_2a)/u,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(i,r,s,a,e._x2,e._y2)}function Oe(e,t){this._context=e,this._alpha=t}Oe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ke=function e(t){function n(e){return t?new Oe(e,t):new me(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Se(e,t){this._context=e,this._alpha=t}Se.prototype={areaStart:re,areaEnd:re,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var je=function e(t){function n(e){return t?new Se(e,t):new ve(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ce(e,t){this._context=e,this._alpha=t}Ce.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:we(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xe=function e(t){function n(e){return t?new Ce(e,t):new ye(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function Ee(e){this._context=e}Ee.prototype={areaStart:re,areaEnd:re,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};var De=function(e){return new Ee(e)};function Pe(e){return e<0?-1:1}function Te(e,t,n){var i=e._x1-e._x0,r=t-e._x1,s=(e._y1-e._y0)/(i||r<0&&-0),a=(n-e._y1)/(r||i<0&&-0),o=(s*r+a*i)/(i+r);return(Pe(s)+Pe(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Ne(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ie(e,t,n){var i=e._x0,r=e._y0,s=e._x1,a=e._y1,o=(s-i)/3;e._context.bezierCurveTo(i+o,r+o*t,s-o,a-o*n,s,a)}function Le(e){this._context=e}function Re(e){this._context=new Ae(e)}function Ae(e){this._context=e}function Fe(e){return new Le(e)}function qe(e){return new Re(e)}function Me(e){this._context=e}function Be(e){var t,n,i=e.length-1,r=new Array(i),s=new Array(i),a=new Array(i);for(r[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,s[i-1]=7,a[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(r[i-1]=a[i-1]/s[i-1],t=i-2;t>=0;--t)r[t]=(a[t]-r[t+1])/s[t];for(s[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)s[t]=2*e[t+1]-r[t+1];return[r,s]}Le.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ie(this,this._t0,Ne(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ie(this,Ne(this,n=Te(this,e,t)),n);break;default:Ie(this,this._t0,n=Te(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(Re.prototype=Object.create(Le.prototype)).point=function(e,t){Le.prototype.point.call(this,t,e)},Ae.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,s){this._context.bezierCurveTo(t,e,i,n,s,r)}},Me.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=Be(e),r=Be(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var $e=function(e){return new Me(e)};function Ve(e,t){this._context=e,this._t=t}Ve.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Ue=function(e){return new Ve(e,.5)};function Ge(e){return new Ve(e,0)}function He(e){return new Ve(e,1)}var ze=n("UZ3T"),We=function(e,t){if((r=e.length)>1)for(var n,i,r,s=1,a=e[t[0]],o=a.length;s<r;++s)for(i=a,a=e[t[s]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Qe=function(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n};function Ke(e,t){return e[t]}var Ye=function(){var e=Object(r.a)([]),t=Qe,n=We,i=Ke;function s(r){var s,a,o=e.apply(this,arguments),l=r.length,c=o.length,u=new Array(c);for(s=0;s<c;++s){for(var d,f=o[s],h=u[s]=new Array(l),p=0;p<l;++p)h[p]=d=[0,+i(r[p],f,p,r)],d.data=r[p];h.key=f}for(s=0,a=t(u);s<c;++s)u[a[s]].index=s;return n(u,a),u}return s.keys=function(t){return arguments.length?(e="function"==typeof t?t:Object(r.a)(ze.a.call(t)),s):e},s.value=function(e){return arguments.length?(i="function"==typeof e?e:Object(r.a)(+e),s):i},s.order=function(e){return arguments.length?(t=null==e?Qe:"function"==typeof e?e:Object(r.a)(ze.a.call(e)),s):t},s.offset=function(e){return arguments.length?(n=null==e?We:e,s):n},s},Xe=function(e,t){if((i=e.length)>0){for(var n,i,r,s=0,a=e[0].length;s<a;++s){for(r=n=0;n<i;++n)r+=e[n][s][1]||0;if(r)for(n=0;n<i;++n)e[n][s][1]/=r}We(e,t)}},Je=function(e,t){if((o=e.length)>0)for(var n,i,r,s,a,o,l=0,c=e[t[0]].length;l<c;++l)for(s=a=0,n=0;n<o;++n)(r=(i=e[t[n]][l])[1]-i[0])>0?(i[0]=s,i[1]=s+=r):r<0?(i[1]=a,i[0]=a+=r):(i[0]=0,i[1]=r)},Ze=function(e,t){if((n=e.length)>0){for(var n,i=0,r=e[t[0]],s=r.length;i<s;++i){for(var a=0,o=0;a<n;++a)o+=e[a][i][1]||0;r[i][1]+=r[i][0]=-o/2}We(e,t)}},et=function(e,t){if((r=e.length)>0&&(i=(n=e[t[0]]).length)>0){for(var n,i,r,s=0,a=1;a<i;++a){for(var o=0,l=0,c=0;o<r;++o){for(var u=e[t[o]],d=u[a][1]||0,f=(d-(u[a-1][1]||0))/2,h=0;h<o;++h){var p=e[t[h]];f+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,c+=f*d}n[a-1][1]+=n[a-1][0]=s,l&&(s-=c/l)}n[a-1][1]+=n[a-1][0]=s,We(e,t)}},tt=function(e){var t=e.map(nt);return Qe(e).sort((function(e,n){return t[e]-t[n]}))};function nt(e){for(var t,n=-1,i=0,r=e.length,s=-1/0;++n<r;)(t=+e[n][1])>s&&(s=t,i=n);return i}var it=function(e){var t=e.map(rt);return Qe(e).sort((function(e,n){return t[e]-t[n]}))};function rt(e){for(var t,n=0,i=-1,r=e.length;++i<r;)(t=+e[i][1])&&(n+=t);return n}var st=function(e){return it(e).reverse()},at=function(e){var t,n,i=e.length,r=e.map(rt),s=tt(e),a=0,o=0,l=[],c=[];for(t=0;t<i;++t)n=s[t],a<o?(a+=r[n],l.push(n)):(o+=r[n],c.push(n));return c.reverse().concat(l)},ot=function(e){return Qe(e).reverse()}},RcPc:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"subscription",name:{kind:"Name",value:"issuableAssigneesUpdated"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"issuableId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssuableID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issuableAssigneesUpdated"},arguments:[{kind:"Argument",name:{kind:"Name",value:"issuableId"},value:{kind:"Variable",name:{kind:"Name",value:"issuableId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Issue"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availability"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:337}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n\nsubscription issuableAssigneesUpdated($issuableId: IssuableID!) {\n  issuableAssigneesUpdated(issuableId: $issuableId) {\n    ... on Issue {\n      assignees {\n        nodes {\n          ...User\n          status {\n            availability\n          }\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("aBoS").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.issuableAssigneesUpdated=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"issuableAssigneesUpdated")},Rhav:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(e){var t=a(this),n=new(l(t,s("Set")))(t),i=o(n.delete),r=o(n.add);return c(e,(function(e){i.call(n,e)||r.call(n,e)})),n}})},SNRI:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));n("MoW5"),n("GzNv"),n("pBsb"),n("orcL");var i=n("/lV4"),r=n("GuZl");function s(e){return e/(r.d*r.d)}function a(e){return e/(r.d*r.d*r.d)}function o(e){return e<r.d?Object(i.f)(Object(i.a)("%{size} bytes"),{size:e}):e<r.d*r.d?Object(i.f)(Object(i.a)("%{size} KiB"),{size:(t=e,t/r.d).toFixed(2)}):e<r.d*r.d*r.d?Object(i.f)(Object(i.a)("%{size} MiB"),{size:s(e).toFixed(2)}):Object(i.f)(Object(i.a)("%{size} GiB"),{size:a(e).toFixed(2)});var t}const l=/^[0-9]+$/,c=function(e){return l.test(e)}},SQid:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));n("jaBk");var i=n("htNe"),r=n.n(i);const s=e=>new Promise(t=>{const n=document.createElement("img");n.addEventListener("load",()=>t(n),{once:!0}),n.src=e}),a=e=>{const t={};return Object.keys(e).forEach(n=>{Object.defineProperty(t,n,{get:()=>e[n],set(t){if(t!=e[n])return requestAnimationFrame(l.render),e[n]=t}})}),t};class o{constructor(e){this._position=a({x:0,y:0,centered:!1}),this.image=e}get position(){return this._position}set position(e){Object.assign(this._position,e)}}class l{constructor(e){throw this.image=e,new Error("THIS BLOWS UP! DONT DO IT!")}static setFaviconOverlay(e){return s(e).then(e=>{l.overlays=[new o(e)],requestAnimationFrame(l.render)})}static resetFaviconOverlay(){l.overlays=[],requestAnimationFrame(l.render)}static get isInitialized(){return Boolean(l.canvas)}static get faviconUrl(){const{faviconElement:e}=l,t=e.dataset.originalHref;return t||(e.dataset.originalHref=e.href)}static getOverlay(e){return l.overlays[e]}static initialize({faviconSelector:e='link[rel="icon"]'}={}){return l.isInitialized?Promise.resolve():(l.canvas=document.createElement("canvas"),l.faviconElement=document.querySelector(e),s(l.faviconUrl).then(e=>{l.canvas.width=e.width,l.canvas.height=e.height,l.faviconImage=e}))}static render(){const{overlays:e,faviconImage:t,faviconElement:n,canvas:i}=l;if(!e.length)return void(n.href=n.dataset.originalHref);const r=i.getContext("2d");r.clearRect(0,0,t.width,t.height),r.drawImage(t,0,0,t.width,t.height,0,0,t.width,t.height),e.forEach(e=>{let{x:t,y:n}=e.position;e.position.centered&&(t-=e.image.width/2,n-=e.image.height/2),r.drawImage(e.image,0,0,e.image.width,e.image.height,t,n,e.image.width,e.image.height)}),n.href=i.toDataURL()}}l.canvas=null,l.faviconElement=null,l.faviconImage=null,l.overlays=[];const c=r()((async function(){return await l.initialize({faviconSelector:"#favicon"}),l})),u=async function(e){(await c()).setFaviconOverlay(e)},d=async function(){(await c()).resetFaviconOverlay()}},ScWj:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"mergeRequestSetSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssuableSubscription"},name:{kind:"Name",value:"mergeRequestSetSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"subscribedState"},value:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:325}};n.loc.source={body:"mutation mergeRequestSetSubscription($fullPath: ID!, $iid: String!, $subscribedState: Boolean!) {\n  updateIssuableSubscription: mergeRequestSetSubscription(\n    input: { projectPath: $fullPath, iid: $iid, subscribedState: $subscribedState }\n  ) {\n    issuable: mergeRequest {\n      id\n      subscribed\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.mergeRequestSetSubscription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"mergeRequestSetSubscription")},SeSR:function(e,t,n){"use strict";var i=n("MUaa"),r=n("Pyw5"),s=n.n(r);const a={name:"GlFormCheckbox",components:{BFormCheckbox:i.a},inheritAttrs:!1,model:{prop:"checked",event:"input"}};const o=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-form-checkbox",e._b({staticClass:"gl-form-checkbox",on:{change:function(t){return e.$emit("change",t)},input:function(t){return e.$emit("input",t)}}},"b-form-checkbox",e.$attrs,!1),[e._t("default"),e._v(" "),Boolean(e.$scopedSlots.help)?n("p",{staticClass:"help-text"},[e._t("help")],2):e._e()],2)},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},SqD0:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},SsIm:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i={items:{type:Array,required:!0},keyField:{type:String,default:"id"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)}};function r(){return this.items.length&&"object"!=typeof this.items[0]}},T22c:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},T3gz:function(e,t,n){"use strict";n("jslJ");var i=n("4lAS"),r=n("dsLq"),s=n("MV2A"),a=n("FkSe"),o=n("1cpz"),l=n("NmEs"),c=n("8K50"),u=n("s5BM"),d=n("tBXH"),f=n("olcB"),h=n("69Ig"),p=n("QSe5"),m=n("sHIo"),g={components:{GlButton:i.a,GlEmptyState:r.a,GlLink:s.a,GlLoadingIcon:a.a,GlModal:o.a,PipelinesTableComponent:c.a,TablePagination:p.a},mixins:[d.a,Object(m.a)()],props:{endpoint:{type:String,required:!0},errorStateSvgPath:{type:String,required:!0},viewType:{type:String,required:!1,default:"child"},canCreatePipelineInTargetProject:{type:Boolean,required:!1,default:!1},sourceProjectFullPath:{type:String,required:!1,default:""},targetProjectFullPath:{type:String,required:!1,default:""},projectId:{type:String,required:!1,default:""},mergeRequestId:{type:Number,required:!1,default:0}},data(){const e=new h.a;return{store:e,state:e.state,page:Object(l.p)("page")||"1",requestData:{},modalId:"create-pipeline-for-fork-merge-request-modal"}},computed:{shouldRenderTable(){return!this.isLoading&&this.state.pipelines.length>0&&!this.hasError},shouldRenderErrorState(){return this.hasError&&!this.isLoading},canRenderPipelineButton(){return this.latestPipelineDetachedFlag},isForkMergeRequest(){return this.sourceProjectFullPath!==this.targetProjectFullPath},isLatestPipelineCreatedInTargetProject(){var e;const t=this.state.pipelines[0];return(null==t?void 0:null===(e=t.project)||void 0===e?void 0:e.full_path)==="/".concat(this.targetProjectFullPath)},shouldShowSecurityWarning(){return this.canCreatePipelineInTargetProject&&this.isForkMergeRequest&&!this.isLatestPipelineCreatedInTargetProject},latestPipelineDetachedFlag(){const e=this.state.pipelines[0];return e&&e.flags&&(e.flags.detached_merge_request_pipeline||e.flags.merge_request_pipeline)}},created(){this.service=new f.a(this.endpoint),this.requestData={page:this.page}},methods:{successCallback(e){const t=e.data.pipelines||e.data;this.store.storePagination(e.headers),this.setCommonData(t);const n=new CustomEvent("update-pipelines-count",{detail:{pipelines:e.data}});this.$el.parentElement&&this.$el.parentElement.dispatchEvent(n)},onClickRunPipeline(){u.a.$emit("runMergeRequestPipeline",{projectId:this.projectId,mergeRequestId:this.mergeRequestId})},tryRunPipeline(){this.shouldShowSecurityWarning?this.$refs.modal.show():this.onClickRunPipeline()}}},v=n("tBpV"),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-list pipelines"},[e.isLoading?n("gl-loading-icon",{staticClass:"prepend-top-20",attrs:{label:e.s__("Pipelines|Loading pipelines"),size:"lg"}}):e.shouldRenderErrorState?n("gl-empty-state",{attrs:{"svg-path":e.errorStateSvgPath,title:e.s__("Pipelines|There was an error fetching the pipelines.\n      Try again in a few moments or contact your support team.")}}):e.shouldRenderTable?n("div",[e.canRenderPipelineButton?n("gl-button",{staticClass:"gl-mt-3 gl-mb-3 gl-lg-display-none",attrs:{block:"",variant:"confirm","data-testid":"run_pipeline_button_mobile",loading:e.state.isRunningMergeRequestPipeline},on:{click:e.tryRunPipeline}},[e._v("\n      "+e._s(e.s__("Pipeline|Run pipeline"))+"\n    ")]):e._e(),e._v(" "),n("pipelines-table-component",{attrs:{pipelines:e.state.pipelines,"update-graph-dropdown":e.updateGraphDropdown,"view-type":e.viewType},scopedSlots:e._u([{key:"table-header-actions",fn:function(){return[e.canRenderPipelineButton?n("div",{staticClass:"gl-text-right"},[n("gl-button",{attrs:{variant:"confirm","data-testid":"run_pipeline_button",loading:e.state.isRunningMergeRequestPipeline},on:{click:e.tryRunPipeline}},[e._v("\n            "+e._s(e.s__("Pipeline|Run pipeline"))+"\n          ")])],1):e._e()]},proxy:!0}])})],1):e._e(),e._v(" "),e.canRenderPipelineButton?n("gl-modal",{ref:"modal",attrs:{id:e.modalId,"modal-id":e.modalId,title:e.s__("Pipelines|Are you sure you want to run this pipeline?"),"ok-title":e.s__("Pipeline|Run pipeline"),"ok-variant":"danger"},on:{ok:e.onClickRunPipeline}},[n("p",[e._v("\n      "+e._s(e.s__("Pipelines|This pipeline will run code originating from a forked project merge request. This means that the code can potentially have security considerations like exposing CI variables."))+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.s__("Pipelines|It is recommended the code is reviewed thoroughly before running this pipeline with the parent project's CI resource."))+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.s__("Pipelines|If you are unsure, please ask a project maintainer to review it for you."))+"\n    ")]),e._v(" "),n("gl-link",{attrs:{href:"/help/ci/merge_request_pipelines/index.html#run-pipelines-in-the-parent-project-for-merge-requests-from-a-forked-project",target:"_blank"}},[e._v("\n      "+e._s(e.s__("Pipelines|More Information"))+"\n    ")])],1):e._e(),e._v(" "),e.shouldRenderPagination?n("table-pagination",{attrs:{change:e.onChangePage,"page-info":e.state.pageInfo}}):e._e()],1)}),[],!1,null,null,null);t.a=b.exports},T9Fk:function(e,t,n){(function(e){var i,r,s,a,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}a=this,o=function(e,t){"object"===l(t)&&"function"==typeof t.default&&(t=t.default);var n=function(e,t,n){var i;return function(){var r=this,s=arguments,a=function(){i=null,n||e.apply(r,s)},o=n&&!i;clearTimeout(i),i=setTimeout(a,t),o&&e.apply(r,s)}};return t.component(e,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"==typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(e,t){this.pagemode||(t&&this.removeScrollListener(t),e&&this.addScrollListener(e))}},created:function(){var e=this.start>=this.remain?this.start:0,t=this.remain+(this.bench||this.remain),n=Object.create(null);n.direction="",n.scrollTop=0,n.start=e,n.end=e+t-1,n.keeps=t,n.total=0,n.offsetAll=0,n.paddingTop=0,n.paddingBottom=0,n.varCache={},n.varAverSize=0,n.varLastCalcIndex=0,this.delta=n},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var e=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(e):e*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var e=this.delta;e.keeps=this.remain+(this.bench||this.remain);var t="start"===this.changeProp?this.start:e.start,n=this.getZone(t);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var i="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(n.isLast?e.total:n.start):n.isLast&&e.total-t<=this.remain?e.total*this.size:t*this.size;this.$nextTick(this.setScrollTop.bind(this,i))}(this.changeProp||e.end!==n.end||t!==n.start)&&(this.changeProp="",e.end=n.end,e.start=n.start,this.forceRender())},methods:{addScrollListener:function(e){this.scrollHandler=this.debounce?n(this.onScroll.bind(this),this.debounce):this.onScroll,e.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(e){e.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(e){var t,n=this.delta,i=this.$refs.vsl;if(this.pagemode)t=-this.$el.getBoundingClientRect().top;else if(this.scrollelement){var r=this.scrollelement.getBoundingClientRect(),s=this.$el.getBoundingClientRect();t=r.top-s.top}else t=i&&(i.$el||i).scrollTop||0;n.direction=t>n.scrollTop?"D":"U",n.scrollTop=t,n.total>n.keeps?this.updateZone(t):n.end=n.total-1;var a=n.offsetAll;if(this.onscroll){var o=Object.create(null);o.offset=t,o.offsetAll=a,o.start=n.start,o.end=n.end,this.onscroll(e,o)}!t&&n.total&&this.fireEvent("totop"),t>=a&&this.fireEvent("tobottom")},updateZone:function(e){var t=this.delta,n=this.variable?this.getVarOvers(e):Math.floor(e/this.size);"U"===t.direction&&(n=n-this.remain+1);var i=this.getZone(n),r=this.bench||this.remain,s=1===Math.abs(n-t.start-r);!s&&n-t.start<=r&&!i.isLast&&n>t.start||(s||i.start!==t.start||i.end!==t.end)&&(t.end=i.end,t.start=i.start,this.forceRender())},getZone:function(e){var t,n,i=this.delta;e=parseInt(e,10),e=Math.max(0,e);var r=i.total-i.keeps,s=e<=i.total&&e>=r||e>i.total;return n=(t=s?Math.max(0,r):e)+i.keeps-1,i.total&&n>i.total&&(n=i.total-1),{end:n,start:t,isLast:s}},forceRender:function(){var e=this;window.requestAnimationFrame((function(){e.$forceUpdate()}))},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(e){for(var t=0,n=0,i=0,r=this.delta,s=r.total;t<=s;){if(n=t+Math.floor((s-t)/2),i=this.getVarOffset(n),r.varAverSize||(r.varAverSize=Math.floor(i/n)),i===e)return n;i<e?t=n+1:i>e&&(s=n-1)}return t>0?--t:0},getVarOffset:function(e,t){var n=this.delta,i=n.varCache[e];if(!t&&i)return i.offset;for(var r=0,s=0;s<e;s++){var a=this.getVarSize(s,t);n.varCache[s]={size:a,offset:r},r+=a}return n.varLastCalcIndex=Math.max(n.varLastCalcIndex,e-1),n.varLastCalcIndex=Math.min(n.varLastCalcIndex,n.total-1),r},getVarSize:function(e,t){var n=this.delta.varCache[e];if(!t&&n)return n.size;if("function"==typeof this.variable)return this.variable(e)||0;var i=this.item?this.$children[e]?this.$children[e].$vnode:null:this.$slots.default[e],r=i&&i.data&&i.data.style;if(r&&r.height){var s=r.height.match(/^(.*)px$/);return s&&+s[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var e=this.delta,t=e.total-1;return e.total-e.end<=e.keeps||e.varLastCalcIndex===t?this.getVarOffset(t)-this.getVarOffset(e.end):(e.total-e.end)*(e.varAverSize||this.size)},getVarAllHeight:function(){var e=this.delta;return e.total-e.end<=e.keeps||e.varLastCalcIndex===e.total-1?this.getVarOffset(e.total):this.getVarOffset(e.start)+(e.total-e.end)*(e.varAverSize||this.size)},updateVariable:function(e){this.getVarOffset(e,!0)},fireEvent:function(e){this[e]&&this[e]()},setScrollTop:function(e){if(this.pagemode)window.scrollTo(0,e);else if(this.scrollelement)this.scrollelement.scrollTo(0,e);else{var t=this.$refs.vsl;t&&((t.$el||t).scrollTop=e)}},filter:function(e){var t,n,i,r=this.delta,s=this.$slots.default||[];this.item||this.$scopedSlots.item?(r.total=this.itemcount,r.keeps>r.total&&(r.end=r.total-1)):(s.length||(r.start=0),r.total=s.length);var a=r.total>r.keeps;this.variable?(i=this.getVarAllHeight(),t=a?this.getVarPaddingTop():0,n=a?this.getVarPaddingBottom():0):(i=this.size*r.total,t=this.size*(a?r.start:0),n=this.size*(a?r.total-r.keeps:0)-t),n<this.size&&(n=0),r.paddingTop=t,r.paddingBottom=n,r.offsetAll=i-this.size*this.remain;for(var o=[],l=r.start;l<r.total&&l<=Math.ceil(r.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?e(this.item,this.itemprops(l)):s[l],o.push(c)}return o}},render:function(e){var t=this.debounce,i=this.filter(e),r=this.delta,s=r.paddingTop,a=r.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(i=[e("table",[e("tbody",i)])]);var u=e(l,{style:Object.assign({display:"block","padding-top":s+"px","padding-bottom":a+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},i);return this.pagemode||this.scrollelement?u:e(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":t?n(this.onScroll.bind(this),t):this.onScroll}},[u])}})},"object"===l(t)&&"object"===l(e)?e.exports=o("VirtualList",n("jB52")):(r=[n("jB52")],i=o.bind(a,"VirtualList"),void 0===(s="function"==typeof i?i.apply(t,r):i)||(e.exports=s))}).call(this,n("Fs+f")(e))},TBBL:function(e,t,n){"use strict";var i=n("Pyw5");const r={props:{lines:{type:Number,required:!1,default:3,validator:function(e){return e>0&&e<4}}},computed:{lineClasses:function(){return new Array(this.lines).fill().map((function(e,t){return"skeleton-line-".concat(t+1)}))}}};const s=n.n(i)()({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"animation-container"},this._l(this.lineClasses,(function(e,n){return t("div",{key:n,class:e})})),0)},staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=s},TD9T:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("+xeR");var i=n("EmJ/"),r=n.n(i),s=n("t6Yz"),a=n.n(s),o=n("cmKv"),l=n("NmEs"),c=n("1OWu"),u=n("i3lA"),d=n("3E4U"),f=n("d08M"),h=n("v+Mp");class p extends h.default{constructor(){super(),a.a.bind(Object(f.mb)(f.G),(function(){return p.openSidebarDropdown("assignee")})),a.a.bind(Object(f.mb)(f.H),(function(){return p.openSidebarDropdown("milestone")})),a.a.bind(Object(f.mb)(f.C),(function(){return p.openSidebarDropdown("labels")})),a.a.bind(Object(f.mb)(f.D),p.replyWithSelectedText),a.a.bind(Object(f.mb)(f.E),p.editIssue),a.a.bind(Object(f.mb)(f.O),p.copyBranchName)}static replyWithSelectedText(){const e=r()(".js-main-target-form .js-vue-comment-form");if(!e.length||e.is(":hidden"))return!1;const t=Object(l.r)(document.querySelector("#content-body"));if(!t)return e.focus(),!1;let n=Boolean(t.querySelector(".md"));if(!n&&(t.originalNodes&&t.originalNodes.forEach((function(e){let t=e;do{t.matches&&t.matches(".md")&&(n=!0),t=t.parentNode}while(t&&!n)})),!n))return e.focus(),!1;const i=d.a.transformGFMSelection(t.cloneNode(!0)),s=document.createElement("blockquote");return s.appendChild(i),d.a.nodeToGFM(s).then((function(t){if(""===t.trim())return!1;const n=""!==e.val().trim()?"\n\n":"";e.val((function(e,i){return"".concat(i).concat(n).concat(t,"\n\n")})).trigger("input").trigger("change");const i=document.createEvent("Event");return i.initEvent("autosize:update",!0,!1),e.get(0).dispatchEvent(i),e.focus(),!1})).catch((function(){})),!1}static editIssue(){return document.querySelector(".js-issuable-edit").click(),!1}static openSidebarDropdown(e){return u.a.instance.openDropdown(e),!1}static copyBranchName(){const e=Array.from(document.querySelectorAll(".js-sidebar-source-branch button")).find(c.e);e&&Object(o.a)(e)}}},TM1k:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"setInitialState",(function(){return re})),n.d(i,"toggleDropdownButton",(function(){return se})),n.d(i,"toggleDropdownContents",(function(){return ae})),n.d(i,"toggleDropdownContentsCreateView",(function(){return oe})),n.d(i,"requestLabels",(function(){return le})),n.d(i,"receiveLabelsSuccess",(function(){return ce})),n.d(i,"receiveLabelsFailure",(function(){return ue})),n.d(i,"fetchLabels",(function(){return de})),n.d(i,"requestCreateLabel",(function(){return fe})),n.d(i,"receiveCreateLabelSuccess",(function(){return he})),n.d(i,"receiveCreateLabelFailure",(function(){return pe})),n.d(i,"createLabel",(function(){return me})),n.d(i,"updateSelectedLabels",(function(){return ge}));var r={};n.r(r),n.d(r,"dropdownButtonText",(function(){return ve})),n.d(r,"selectedLabelsList",(function(){return be})),n.d(r,"isDropdownVariantSidebar",(function(){return ye})),n.d(r,"isDropdownVariantStandalone",(function(){return _e})),n.d(r,"isDropdownVariantEmbedded",(function(){return we}));var s=n("EmJ/"),a=n.n(s),o=n("jB52"),l=n("yi8e"),c=n("NmEs"),u=n("/lV4"),d=n("LLbv"),f=n("s1D3"),h={directives:{GlTooltip:d.a},components:{GlIcon:f.a},props:{labels:{type:Array,required:!0}},computed:{labelsList(){const e=this.labels.length?this.labels.slice(0,5).map((function(e){return e.title})).join(", "):Object(u.e)("LabelSelect|Labels");return this.labels.length>5?Object(u.f)(Object(u.e)("LabelSelect|%{labelsString}, and %{remainingLabelCount} more"),{labelsString:e,remainingLabelCount:this.labels.length-5}):e}},methods:{handleClick(){this.$emit("onValueClick")}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.labelsList},on:{click:this.handleClick}},[t("gl-icon",{attrs:{name:"labels"}}),this._v(" "),t("span",[this._v(this._s(this.labels.length))])],1)}),[],!1,null,null,null).exports,g=n("64hj"),v=n("4lAS");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={components:{GlButton:v.a,GlIcon:f.a},computed:y({},Object(l.d)(["dropdownButtonText","isDropdownVariantStandalone","isDropdownVariantEmbedded"])),methods:y(y({},Object(l.c)(["toggleDropdownContents"])),{},{handleButtonClick(e){(this.isDropdownVariantStandalone||this.isDropdownVariantEmbedded)&&this.toggleDropdownContents(),this.isDropdownVariantStandalone&&e.stopPropagation()}})},O=Object(p.a)(w,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-button",{staticClass:"labels-select-dropdown-button js-dropdown-button w-100 text-left",on:{click:this.handleButtonClick}},[t("span",{staticClass:"dropdown-toggle-text gl-pointer-events-none flex-fill"},[this._v("\n    "+this._s(this.dropdownButtonText)+"\n  ")]),this._v(" "),t("gl-icon",{staticClass:"gl-pointer-events-none float-right",attrs:{name:"chevron-down"}})],1)}),[],!1,null,null,null).exports,k=n("PrLL"),S=n("MV2A"),j=n("FkSe");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D={components:{GlButton:v.a,GlFormInput:k.a,GlLink:S.a,GlLoadingIcon:j.a},directives:{GlTooltip:d.a},data:()=>({labelTitle:"",selectedColor:""}),computed:x(x({},Object(l.f)(["labelsCreateTitle","labelCreateInProgress"])),{},{disableCreate(){return!this.labelTitle.length||!this.selectedColor.length||this.labelCreateInProgress},suggestedColors(){const e=gon.suggested_label_colors;return Object.keys(e).map((function(t){return{[t]:e[t]}}))}}),methods:x(x({},Object(l.c)(["toggleDropdownContents","toggleDropdownContentsCreateView","createLabel"])),{},{getColorCode:e=>Object.keys(e).pop(),getColorName:e=>Object.values(e).pop(),handleColorClick(e){this.selectedColor=this.getColorCode(e)},handleCreateClick(){this.createLabel({title:this.labelTitle,color:this.selectedColor})}})},P=Object(p.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"labels-select-contents-create js-labels-create"},[n("div",{staticClass:"dropdown-title d-flex align-items-center pt-0 pb-2"},[n("gl-button",{staticClass:"js-btn-back dropdown-header-button p-0",attrs:{"aria-label":e.__("Go back"),variant:"link",size:"small",icon:"arrow-left"},on:{click:e.toggleDropdownContentsCreateView}}),e._v(" "),n("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.labelsCreateTitle))]),e._v(" "),n("gl-button",{staticClass:"dropdown-header-button p-0",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close"},on:{click:e.toggleDropdownContents}})],1),e._v(" "),n("div",{staticClass:"dropdown-input"},[n("gl-form-input",{attrs:{placeholder:e.__("Name new label"),autofocus:!0},model:{value:e.labelTitle,callback:function(t){e.labelTitle="string"==typeof t?t.trim():t},expression:"labelTitle"}})],1),e._v(" "),n("div",{staticClass:"dropdown-content px-2"},[n("div",{staticClass:"suggest-colors suggest-colors-dropdown mt-0 mb-2"},e._l(e.suggestedColors,(function(t,i){return n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer",arg:"tooltipcontainer"}],key:i,style:{backgroundColor:e.getColorCode(t)},attrs:{title:e.getColorName(t)},on:{click:function(n){return n.preventDefault(),e.handleColorClick(t)}}})})),1),e._v(" "),n("div",{staticClass:"color-input-container gl-display-flex"},[n("span",{staticClass:"dropdown-label-color-preview position-relative position-relative d-inline-block",style:{backgroundColor:e.selectedColor}}),e._v(" "),n("gl-form-input",{staticClass:"gl-rounded-top-left-none gl-rounded-bottom-left-none",attrs:{placeholder:e.__("Use custom color #FF0000")},model:{value:e.selectedColor,callback:function(t){e.selectedColor="string"==typeof t?t.trim():t},expression:"selectedColor"}})],1)]),e._v(" "),n("div",{staticClass:"dropdown-actions clearfix pt-2 px-2"},[n("gl-button",{staticClass:"float-left d-flex align-items-center",attrs:{disabled:e.disableCreate,category:"primary",variant:"success"},on:{click:e.handleCreateClick}},[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.labelCreateInProgress,expression:"labelCreateInProgress"}],staticClass:"mr-1",attrs:{inline:!0}}),e._v("\n      "+e._s(e.__("Create"))+"\n    ")],1),e._v(" "),n("gl-button",{staticClass:"float-right js-btn-cancel-create",on:{click:e.toggleDropdownContentsCreateView}},[e._v("\n      "+e._s(e.__("Cancel"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,T=(n("QifN"),n("ehHk")),N=n("iN9h"),I=n("PxiM"),L=n.n(I),R=n("IfLy"),A={functional:!0,props:{label:{type:Object,required:!0},isLabelSet:{type:Boolean,required:!0},highlight:{type:Boolean,required:!1,default:!1}},render(e,t){let{props:n,listeners:i}=t;const{label:r,highlight:s,isLabelSet:a}=n,o=e("span",{class:"dropdown-label-box gl-flex-shrink-0 gl-top-0 gl-mr-3",style:{backgroundColor:r.color},attrs:{"data-testid":"label-color-box"}}),l=e(f.a,{class:{"gl-mr-3 gl-flex-shrink-0":!0,hidden:!a},props:{name:"mobile-issue-close"}}),c=e("span",{class:{"gl-mr-5 gl-pr-3":!0,hidden:a},attrs:{"data-testid":"no-icon"}}),u=e("span",r.title),d=e(S.a,{class:"gl-display-flex gl-align-items-center label-item gl-text-black-normal",on:{click:function(){i.clickLabel(r)}}},[c,l,o,u]);return e("li",{class:{"gl-display-block":!0,"gl-text-left":!0,"is-focused":s}},[d])}},F=Object(p.a)(A,void 0,void 0,!1,null,null,null).exports;function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={components:{GlIntersectionObserver:T.a,GlLoadingIcon:j.a,GlButton:v.a,GlSearchBoxByType:N.a,GlLink:S.a,LabelItem:F},data:()=>({searchKey:"",currentHighlightItem:-1}),computed:M(M(M({},Object(l.f)(["allowLabelCreate","allowMultiselect","labelsManagePath","labels","labelsFetchInProgress","labelsListTitle","footerCreateLabelTitle","footerManageLabelTitle"])),Object(l.d)(["selectedLabelsList","isDropdownVariantSidebar","isDropdownVariantEmbedded"])),{},{visibleLabels(){return this.searchKey?L.a.filter(this.labels,this.searchKey,{key:["title"]}):this.labels},showNoMatchingResultsMessage(){return Boolean(this.searchKey)&&0===this.visibleLabels.length}}),watch:{searchKey(e){e&&this.visibleLabels.length&&(this.currentHighlightItem=0)}},methods:M(M({},Object(l.c)(["toggleDropdownContents","toggleDropdownContentsCreateView","fetchLabels","receiveLabelsSuccess","updateSelectedLabels","toggleDropdownContents"])),{},{isLabelSelected(e){return this.selectedLabelsList.includes(e.id)},scrollIntoViewIfNeeded(){const e=this.$refs.labelsListContainer.querySelector(".is-focused");if(e){const t=this.$refs.labelsListContainer.getBoundingClientRect(),n=e.getBoundingClientRect();n.bottom>t.bottom?this.$refs.labelsListContainer.scrollTop+=n.bottom-t.bottom:n.top<t.top&&(this.$refs.labelsListContainer.scrollTop-=t.top-n.top)}},handleComponentAppear(){var e=this;return this.fetchLabels().then((function(){e.$refs.searchInput.focusInput()}))},handleComponentDisappear(){this.receiveLabelsSuccess([])},handleCreateLabelClick(){this.receiveLabelsSuccess([]),this.toggleDropdownContentsCreateView()},handleKeyDown(e){var t=this;e.keyCode===R.f&&this.currentHighlightItem>0?this.currentHighlightItem-=1:e.keyCode===R.c&&this.currentHighlightItem<this.visibleLabels.length-1?this.currentHighlightItem+=1:e.keyCode===R.d&&this.currentHighlightItem>-1?(this.updateSelectedLabels([this.visibleLabels[this.currentHighlightItem]]),this.searchKey=""):e.keyCode===R.e&&this.toggleDropdownContents(),e.keyCode!==R.e&&this.$nextTick((function(){t.scrollIntoViewIfNeeded()}))},handleLabelClick(e){this.updateSelectedLabels([e]),this.allowMultiselect||this.toggleDropdownContents()}})};function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={components:{DropdownContentsLabelsView:Object(p.a)($,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-intersection-observer",{on:{appear:e.handleComponentAppear,disappear:e.handleComponentDisappear}},[n("div",{staticClass:"labels-select-contents-list js-labels-list",on:{keydown:e.handleKeyDown}},[e.isDropdownVariantSidebar||e.isDropdownVariantEmbedded?n("div",{staticClass:"dropdown-title gl-display-flex gl-align-items-center gl-pt-0 gl-pb-3!",attrs:{"data-testid":"dropdown-title"}},[n("span",{staticClass:"flex-grow-1"},[e._v(e._s(e.labelsListTitle))]),e._v(" "),n("gl-button",{staticClass:"dropdown-header-button gl-p-0!",attrs:{"aria-label":e.__("Close"),variant:"link",size:"small",icon:"close"},on:{click:e.toggleDropdownContents}})],1):e._e(),e._v(" "),n("div",{staticClass:"dropdown-input",on:{click:function(e){e.stopPropagation()}}},[n("gl-search-box-by-type",{ref:"searchInput",attrs:{disabled:e.labelsFetchInProgress,"data-qa-selector":"dropdown_input_field"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),n("div",{ref:"labelsListContainer",staticClass:"dropdown-content",attrs:{"data-testid":"dropdown-content"}},[e.labelsFetchInProgress?n("gl-loading-icon",{staticClass:"labels-fetch-loading gl-align-items-center w-100 h-100",attrs:{size:"md"}}):n("ul",{staticClass:"list-unstyled gl-mb-0 gl-word-break-word"},[e._l(e.visibleLabels,(function(t,i){return n("label-item",{key:t.id,attrs:{label:t,"is-label-set":t.set,highlight:i===e.currentHighlightItem},on:{clickLabel:function(n){return e.handleLabelClick(t)}}})})),e._v(" "),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoMatchingResultsMessage,expression:"showNoMatchingResultsMessage"}],staticClass:"gl-p-3 gl-text-center"},[e._v("\n          "+e._s(e.__("No matching results"))+"\n        ")])],2)],1),e._v(" "),e.isDropdownVariantSidebar||e.isDropdownVariantEmbedded?n("div",{staticClass:"dropdown-footer",attrs:{"data-testid":"dropdown-footer"}},[n("ul",{staticClass:"list-unstyled"},[e.allowLabelCreate?n("li",[n("gl-link",{staticClass:"gl-display-flex w-100 flex-row text-break-word label-item",on:{click:e.handleCreateLabelClick}},[e._v("\n            "+e._s(e.footerCreateLabelTitle)+"\n          ")])],1):e._e(),e._v(" "),n("li",[n("gl-link",{staticClass:"gl-display-flex flex-row text-break-word label-item",attrs:{href:e.labelsManagePath}},[e._v("\n            "+e._s(e.footerManageLabelTitle)+"\n          ")])],1)])]):e._e()])])}),[],!1,null,null,null).exports,DropdownContentsCreateView:P},props:{renderOnTop:{type:Boolean,required:!1,default:!1}},computed:U(U(U({},Object(l.f)(["showDropdownContentsCreateView"])),Object(l.d)(["isDropdownVariantSidebar"])),{},{dropdownContentsView(){return this.showDropdownContentsCreateView?"dropdown-contents-create-view":"dropdown-contents-labels-view"},directionStyle(){const e=this.isDropdownVariantSidebar?"3rem":"2rem";return this.renderOnTop?{bottom:e}:{}}})},z=Object(p.a)(H,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"labels-select-dropdown-contents gl-w-full gl-my-2 gl-py-3 gl-rounded-base gl-absolute",style:this.directionStyle,attrs:{"data-qa-selector":"labels_dropdown_content"}},[t(this.dropdownContentsView,{tag:"component"})],1)}),[],!1,null,null,null).exports;function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y={components:{GlButton:v.a,GlLoadingIcon:j.a},props:{labelsSelectInProgress:{type:Boolean,required:!0}},computed:Q({},Object(l.f)(["allowLabelEdit","labelsFetchInProgress"])),methods:Q({},Object(l.c)(["toggleDropdownContents"]))},X=Object(p.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed gl-mb-3"},[e._v("\n  "+e._s(e.__("Labels"))+"\n  "),e.allowLabelEdit?[n("gl-loading-icon",{directives:[{name:"show",rawName:"v-show",value:e.labelsSelectInProgress,expression:"labelsSelectInProgress"}],attrs:{inline:""}}),e._v(" "),n("gl-button",{staticClass:"float-right js-sidebar-dropdown-toggle",attrs:{variant:"link","data-qa-selector":"labels_edit_button"},on:{click:e.toggleDropdownContents}},[e._v(e._s(e.__("Edit")))])]:e._e()],2)}),[],!1,null,null,null).exports;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee={components:{GlLabel:n("jl6Z").a},props:{disableLabels:{type:Boolean,required:!1,default:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(l.f)(["selectedLabels","allowLabelRemove","allowScopedLabels","labelsFilterBasePath","labelsFilterParam"])),methods:{labelFilterUrl(e){return"".concat(this.labelsFilterBasePath,"?").concat(this.labelsFilterParam,"[]=").concat(encodeURIComponent(e.title))},scopedLabel(e){return this.allowScopedLabels&&Object(c.H)(e)}}},te=Object(p.a)(ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hide-collapsed value issuable-show-labels js-value",class:{"has-labels":e.selectedLabels.length}},[e.selectedLabels.length?e._l(e.selectedLabels,(function(t){return[n("gl-label",{key:t.id,attrs:{"data-qa-selector":"selected_label_content","data-qa-label-name":t.title,title:t.title,description:t.description,"background-color":t.color,target:e.labelFilterUrl(t),scoped:e.scopedLabel(t),"show-close-button":e.allowLabelRemove,disabled:e.disableLabels,"tooltip-placement":"top"},on:{close:function(n){return e.$emit("onLabelRemove",t.id)}}})]})):n("span",{staticClass:"text-secondary"},[e._t("default")],2)],2)}),[],!1,null,null,null).exports,ne=n("XRO8"),ie=n("2ibD");const re=function(e,t){let{commit:n}=e;return n("SET_INITIAL_STATE",t)},se=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_VISIBILITY")},ae=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_CONTENTS")},oe=function(e){let{commit:t}=e;return t("TOGGLE_DROPDOWN_CONTENTS_CREATE_VIEW")},le=function(e){let{commit:t}=e;return t("REQUEST_LABELS")},ce=function(e,t){let{commit:n}=e;return n("RECEIVE_SET_LABELS_SUCCESS",t)},ue=function(e){let{commit:t}=e;t("RECEIVE_SET_LABELS_FAILURE"),Object(ne.c)(Object(u.a)("Error fetching labels."))},de=function(e){let{state:t,dispatch:n}=e;return n("requestLabels"),ie.a.get(t.labelsFetchPath).then((function(e){let{data:t}=e;n("receiveLabelsSuccess",t)})).catch((function(){return n("receiveLabelsFailure")}))},fe=function(e){let{commit:t}=e;return t("REQUEST_CREATE_LABEL")},he=function(e){let{commit:t}=e;return t("RECEIVE_CREATE_LABEL_SUCCESS")},pe=function(e){let{commit:t}=e;t("RECEIVE_CREATE_LABEL_FAILURE"),Object(ne.c)(Object(u.a)("Error creating label."))},me=function(e,t){let{state:n,dispatch:i}=e;i("requestCreateLabel"),ie.a.post(n.labelsManagePath,{label:t}).then((function(e){let{data:t}=e;if(!t.id)throw new Error("Error Creating Label");i("receiveCreateLabelSuccess"),i("toggleDropdownContentsCreateView")})).catch((function(){i("receiveCreateLabelFailure")}))},ge=function(e,t){let{commit:n}=e;return n("UPDATE_SELECTED_LABELS",{labels:t})},ve=function(e,t){const n=t.isDropdownVariantSidebar?e.labels.filter((function(e){return e.set})):e.selectedLabels;return n.length?n.length>1?Object(u.f)(Object(u.e)("LabelSelect|%{firstLabelName} +%{remainingLabelCount} more"),{firstLabelName:n[0].title,remainingLabelCount:n.length-1}):n[0].title:e.dropdownButtonText||Object(u.a)("Label")},be=function(e){return e.selectedLabels.map((function(e){return e.id}))},ye=function(e){return e.variant===g.a.Sidebar},_e=function(e){return e.variant===g.a.Standalone},we=function(e){return e.variant===g.a.Embedded};n("EWC9");function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={SET_INITIAL_STATE(e,t){Object.assign(e,ke({},t))},TOGGLE_DROPDOWN_VISIBILITY(e){e.showDropdownButton=!e.showDropdownButton},TOGGLE_DROPDOWN_CONTENTS(e){e.variant===g.a.Sidebar&&(e.showDropdownButton=!e.showDropdownButton),e.showDropdownContents=!e.showDropdownContents,e.showDropdownContents&&(e.showDropdownContentsCreateView=!1)},TOGGLE_DROPDOWN_CONTENTS_CREATE_VIEW(e){e.showDropdownContentsCreateView=!e.showDropdownContentsCreateView},REQUEST_LABELS(e){e.labelsFetchInProgress=!0},RECEIVE_SET_LABELS_SUCCESS(e,t){const n=e.selectedLabels.map((function(e){return e.id}));e.labelsFetchInProgress=!1,e.labels=t.reduce((function(e,t){return e.push(ke(ke({},t),{},{set:n.includes(t.id)})),e}),[])},RECEIVE_SET_LABELS_FAILURE(e){e.labelsFetchInProgress=!1},REQUEST_CREATE_LABEL(e){e.labelCreateInProgress=!0},RECEIVE_CREATE_LABEL_SUCCESS(e){e.labelCreateInProgress=!1},RECEIVE_CREATE_LABEL_FAILURE(e){e.labelCreateInProgress=!1},UPDATE_SELECTED_LABELS(e,t){var n;let{labels:i}=t;const r=null===(n=i.pop())||void 0===n?void 0:n.id,s=e.labels.find((function(e){return r===e.id}));s&&(s.touched=!0,s.set=!s.set)}};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}o.default.use(l.b);var De={store:new l.b.Store({namespaced:!0,state:{labels:[],selectedLabels:[],labelsListTitle:"",labelsCreateTitle:"",footerCreateLabelTitle:"",footerManageLabelTitle:"",dropdownButtonText:"",namespace:"",labelsFetchPath:"",labelsFilterBasePath:"",variant:"",allowLabelRemove:!1,allowLabelCreate:!1,allowLabelEdit:!1,allowScopedLabels:!1,allowMultiselect:!1,showDropdownButton:!1,showDropdownContents:!1,showDropdownContentsCreateView:!1,labelsFetchInProgress:!1,labelCreateInProgress:!1,selectedLabelsUpdated:!1},actions:i,getters:r,mutations:je}),components:{DropdownTitle:X,DropdownValue:te,DropdownButton:O,DropdownContents:z,DropdownValueCollapsed:m},props:{allowLabelRemove:{type:Boolean,required:!1,default:!1},allowLabelEdit:{type:Boolean,required:!1,default:!1},allowLabelCreate:{type:Boolean,required:!1,default:!1},allowMultiselect:{type:Boolean,required:!1,default:!1},allowScopedLabels:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:g.a.Sidebar},selectedLabels:{type:Array,required:!1,default:function(){return[]}},labelsSelectInProgress:{type:Boolean,required:!1,default:!1},labelsFetchPath:{type:String,required:!1,default:""},labelsManagePath:{type:String,required:!1,default:""},labelsFilterBasePath:{type:String,required:!1,default:""},labelsFilterParam:{type:String,required:!1,default:"label_name"},dropdownButtonText:{type:String,required:!1,default:Object(u.a)("Label")},labelsListTitle:{type:String,required:!1,default:Object(u.a)("Assign labels")},labelsCreateTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerCreateLabelTitle:{type:String,required:!1,default:Object(u.a)("Create group label")},footerManageLabelTitle:{type:String,required:!1,default:Object(u.a)("Manage group labels")},isEditing:{type:Boolean,required:!1,default:!1}},data:()=>({contentIsOnViewport:!0}),computed:xe(xe(xe({},Object(l.f)(["showDropdownButton","showDropdownContents"])),Object(l.d)(["isDropdownVariantSidebar","isDropdownVariantStandalone","isDropdownVariantEmbedded"])),{},{dropdownButtonVisible(){return!this.isDropdownVariantSidebar||this.showDropdownButton}}),watch:{selectedLabels(e){this.setInitialState({selectedLabels:e})},showDropdownContents(e){this.setContentIsOnViewport(e)},isEditing(e){e&&this.toggleDropdownContents()}},mounted(){this.setInitialState({variant:this.variant,allowLabelRemove:this.allowLabelRemove,allowLabelEdit:this.allowLabelEdit,allowLabelCreate:this.allowLabelCreate,allowMultiselect:this.allowMultiselect,allowScopedLabels:this.allowScopedLabels,dropdownButtonText:this.dropdownButtonText,selectedLabels:this.selectedLabels,labelsFetchPath:this.labelsFetchPath,labelsManagePath:this.labelsManagePath,labelsFilterBasePath:this.labelsFilterBasePath,labelsFilterParam:this.labelsFilterParam,labelsListTitle:this.labelsListTitle,labelsCreateTitle:this.labelsCreateTitle,footerCreateLabelTitle:this.footerCreateLabelTitle,footerManageLabelTitle:this.footerManageLabelTitle}),this.$store.subscribeAction({after:this.handleVuexActionDispatch}),document.addEventListener("mousedown",this.handleDocumentMousedown),document.addEventListener("click",this.handleDocumentClick)},beforeDestroy(){document.removeEventListener("mousedown",this.handleDocumentMousedown),document.removeEventListener("click",this.handleDocumentClick)},methods:xe(xe({},Object(l.c)(["setInitialState","toggleDropdownContents"])),{},{handleVuexActionDispatch(e,t){if("toggleDropdownContents"===e.type&&!t.showDropdownButton&&!t.showDropdownContents){let e=function(e){return e.touched};this.isDropdownVariantEmbedded&&(e=function(e){return e.set}),this.handleDropdownClose(t.labels.filter(e))}},handleDocumentMousedown(e){let{target:t}=e;this.mousedownTarget=t},handleDocumentClick(e){let{target:t}=e;!this.showDropdownContents||this.preventDropdownToggleOnClick(t)||this.preventDropdownToggleOnClick(this.mousedownTarget)||this.toggleDropdownContents()},preventDropdownToggleOnClick(e){var t,n;const i=["js-dropdown-button","js-btn-cancel-create","js-sidebar-dropdown-toggle"].some((function(t){var n;return(null==e?void 0:e.classList.contains(t))||(null==e?void 0:null===(n=e.parentElement)||void 0===n?void 0:n.classList.contains(t))})),r=[".js-btn-back",".js-labels-list"].some((function(t){return a()(e).parents(t).length})),s=null===(t=this.$refs.dropdownButtonCollapsed)||void 0===t?void 0:t.$el.contains(e),o=null===(n=this.$refs.dropdownContents)||void 0===n?void 0:n.$el.contains(e);return i||r||s||o},handleDropdownClose(e){e.length&&this.$emit("updateSelectedLabels",e),this.$emit("onDropdownClose")},handleCollapsedValueClick(){this.$emit("toggleCollapse")},setContentIsOnViewport(e){var t=this;e?this.$nextTick((function(){t.$refs.dropdownContents&&(t.contentIsOnViewport=Object(c.E)(t.$refs.dropdownContents.$el))})):this.contentIsOnViewport=!0}})},Pe=Object(p.a)(De,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"labels-select-wrapper position-relative",class:{"is-standalone":e.isDropdownVariantStandalone,"is-embedded":e.isDropdownVariantEmbedded}},[e.isDropdownVariantSidebar?[n("dropdown-value-collapsed",{ref:"dropdownButtonCollapsed",attrs:{labels:e.selectedLabels},on:{onValueClick:e.handleCollapsedValueClick}}),e._v(" "),n("dropdown-title",{attrs:{"allow-label-edit":e.allowLabelEdit,"labels-select-in-progress":e.labelsSelectInProgress}}),e._v(" "),n("dropdown-value",{attrs:{"disable-labels":e.labelsSelectInProgress},on:{onLabelRemove:function(t){return e.$emit("onLabelRemove",t)}}},[e._t("default")],2),e._v(" "),n("dropdown-button",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible,expression:"dropdownButtonVisible"}],staticClass:"gl-mt-2"}),e._v(" "),n("dropdown-contents",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible&&e.showDropdownContents,expression:"dropdownButtonVisible && showDropdownContents"}],ref:"dropdownContents",attrs:{"render-on-top":!e.contentIsOnViewport}})]:e._e(),e._v(" "),e.isDropdownVariantStandalone||e.isDropdownVariantEmbedded?[n("dropdown-button",{directives:[{name:"show",rawName:"v-show",value:e.dropdownButtonVisible,expression:"dropdownButtonVisible"}]}),e._v(" "),e.dropdownButtonVisible&&e.showDropdownContents?n("dropdown-contents",{ref:"dropdownContents",attrs:{"render-on-top":!e.contentIsOnViewport}}):e._e()]:e._e()],2)}),[],!1,null,null,null);t.a=Pe.exports},TNeE:function(e,t,n){"use strict";n("jaBk");var i=n("s1D3"),r=n("FkSe"),s=n("LLbv"),a=n("yi8e"),o=n("Fsq/"),l=n("rRHO");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={components:{timeAgoTooltip:o.a,GitlabTeamMemberBadge:function(){return n.e(8).then(n.bind(null,"4b03"))},GlIcon:i.a,GlLoadingIcon:r.a,UserNameWithStatus:l.a},directives:{GlTooltip:s.a},props:{author:{type:Object,required:!1,default:function(){return{}}},createdAt:{type:String,required:!1,default:null},actionText:{type:String,required:!1,default:""},noteId:{type:[String,Number],required:!1,default:null},includeToggle:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},showSpinner:{type:Boolean,required:!1,default:!0},isConfidential:{type:Boolean,required:!1,default:!1}},data:()=>({isUsernameLinkHovered:!1,emojiTitle:"",authorStatusHasTooltip:!1}),computed:{toggleChevronIconName(){return this.expanded?"chevron-up":"chevron-down"},noteTimestampLink(){return this.noteId?"#note_".concat(this.noteId):void 0},hasAuthor(){return this.author&&Object.keys(this.author).length},authorLinkClasses(){return{hover:this.isUsernameLinkHovered,"text-underline":this.isUsernameLinkHovered,"author-name-link":!0,"js-user-link":!0}},authorStatus(){var e;return!(null===(e=this.author)||void 0===e||!e.show_status)&&this.author.status_tooltip_html},emojiElement(){var e,t;return null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:t.querySelector("gl-emoji")},authorName(){return this.author.name}},mounted(){var e,t,n;this.emojiTitle=this.emojiElement?this.emojiElement.getAttribute("title"):"";const i=null===(e=this.$refs)||void 0===e?void 0:null===(t=e.authorStatus)||void 0===t?void 0:null===(n=t.querySelector(".user-status-emoji"))||void 0===n?void 0:n.getAttribute("title");this.authorStatusHasTooltip=i&&""!==i},methods:u(u({},Object(a.c)(["setTargetNoteHash"])),{},{handleToggle(){this.$emit("toggleHandler")},updateTargetNoteHash(){this.$store&&this.setTargetNoteHash(this.noteTimestampLink)},removeEmojiTitle(){this.emojiElement.removeAttribute("title")},addEmojiTitle(){this.emojiElement.setAttribute("title",this.emojiTitle)},handleUsernameMouseEnter(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseenter")),this.isUsernameLinkHovered=!0},handleUsernameMouseLeave(){this.$refs.authorNameLink.dispatchEvent(new Event("mouseleave")),this.isUsernameLinkHovered=!1},userAvailability:e=>(null==e?void 0:e.availability)||""})},h=n("tBpV"),p=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-header-info"},[e.includeToggle?n("div",{ref:"discussionActions",staticClass:"discussion-actions"},[n("button",{staticClass:"note-action-button discussion-toggle-button js-vue-toggle-button",attrs:{type:"button"},on:{click:e.handleToggle}},[n("gl-icon",{ref:"chevronIcon",attrs:{name:e.toggleChevronIconName}}),e._v("\n      "+e._s(e.__("Toggle thread"))+"\n    ")],1)]):e._e(),e._v(" "),e.hasAuthor?[n("a",{ref:"authorNameLink",class:e.authorLinkClasses,attrs:{href:e.author.path,"data-user-id":e.author.id,"data-username":e.author.username}},[e._t("note-header-info"),e._v(" "),n("user-name-with-status",{attrs:{name:e.authorName,availability:e.userAvailability(e.author),"container-classes":"note-header-author-name gl-font-weight-bold"}})],2),e._v(" "),e.authorStatus?n("span",e._g({ref:"authorStatus",domProps:{innerHTML:e._s(e.authorStatus)}},e.authorStatusHasTooltip?{mouseenter:e.removeEmojiTitle,mouseleave:e.addEmojiTitle}:{})):e._e(),e._v(" "),n("span",{staticClass:"text-nowrap author-username"},[n("a",{ref:"authorUsernameLink",staticClass:"author-username-link",attrs:{href:e.author.path},on:{mouseenter:e.handleUsernameMouseEnter,mouseleave:e.handleUsernameMouseLeave}},[n("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.author.username))])]),e._v(" "),e.author&&e.author.is_gitlab_employee?n("gitlab-team-member-badge"):e._e()],1)]:n("span",[e._v(e._s(e.__("A deleted user")))]),e._v(" "),n("span",{staticClass:"note-headline-light note-headline-meta"},[n("span",{staticClass:"system-note-message",attrs:{"data-qa-selector":"system_note_content"}},[e._t("default")],2),e._v(" "),e.createdAt?[n("span",{ref:"actionText",staticClass:"system-note-separator"},[e.actionText?[e._v(e._s(e.actionText))]:e._e()],2),e._v(" "),e.noteTimestampLink?n("a",{ref:"noteTimestampLink",staticClass:"note-timestamp system-note-separator",attrs:{href:e.noteTimestampLink},on:{click:e.updateTargetNoteHash}},[n("time-ago-tooltip",{attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})],1):n("time-ago-tooltip",{ref:"noteTimestamp",attrs:{time:e.createdAt,"tooltip-placement":"bottom"}})]:e._e(),e._v(" "),e.isConfidential?n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-ml-1 gl-text-orange-700 align-middle",attrs:{"data-testid":"confidentialIndicator",name:"eye-slash",size:16,title:e.s__("Notes|This comment is confidential and only visible to project members")}}):e._e(),e._v(" "),e._t("extra-controls"),e._v(" "),e.showSpinner?n("gl-loading-icon",{ref:"spinner",staticClass:"editing-spinner",attrs:{label:e.__("Comment is being updated")}}):e._e()],2)],2)}),[],!1,null,null,null);t.a=p.exports},TUEX:function(e,t,n){"use strict";var i=n("jB52"),r=n("Yyc1"),s=n("wP8z"),a=n("koWC"),o=n("yi8e"),l=n("3twG"),c=n("7KAB"),u=n("J7NB");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={components:{GlDropdown:r.a,GlDropdownItem:s.a,GlDropdownDivider:a.a},props:{filters:{type:Array,required:!0},selectedValue:{type:Number,default:c.DISCUSSION_FILTERS_DEFAULT_VALUE,required:!1}},data(){return{currentValue:Object(l.a)(c.NOTE_UNDERSCORE)?c.DISCUSSION_FILTERS_DEFAULT_VALUE:this.selectedValue,defaultValue:c.DISCUSSION_FILTERS_DEFAULT_VALUE,displayFilters:!0}},computed:f(f({},Object(o.d)(["getNotesDataByProp","timelineEnabled"])),{},{currentFilter(){var e=this;return this.currentValue?this.filters.find((function(t){return t.value===e.currentValue})):this.filters[0]}}),created(){if(window.mrTabs){const{eventHub:e,currentTab:t}=window.mrTabs;e.$on("MergeRequestTabChange",this.toggleFilters),this.toggleFilters(t)}u.a.$on("dropdownSelect",this.selectFilter),window.addEventListener("hashchange",this.handleLocationHash)},mounted(){this.toggleCommentsForm()},destroyed(){u.a.$off("dropdownSelect",this.selectFilter),window.removeEventListener("hashchange",this.handleLocationHash)},methods:f(f({},Object(o.c)(["filterDiscussion","setCommentsDisabled","setTargetNoteHash","setTimelineView"])),{},{selectFilter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=parseInt(e,10);n!==this.currentValue&&(this.timelineEnabled&&n!==c.COMMENTS_ONLY_FILTER_VALUE&&this.setTimelineView(!1),this.currentValue=n,this.filterDiscussion({path:this.getNotesDataByProp("discussionsPath"),filter:n,persistFilter:t}),this.toggleCommentsForm())},toggleCommentsForm(){this.setCommentsDisabled(this.currentValue===c.HISTORY_ONLY_FILTER_VALUE)},toggleFilters(e){this.displayFilters=e===c.DISCUSSION_TAB_LABEL},handleLocationHash(){const e=Object(l.f)();/^note_/.test(e)&&this.currentValue!==c.DISCUSSION_FILTERS_DEFAULT_VALUE&&(this.selectFilter(this.defaultValue,!1),this.setTargetNoteHash(e))},filterType:e=>0===e?c.DISCUSSION_FILTER_TYPES.ALL:1===e?c.DISCUSSION_FILTER_TYPES.COMMENTS:c.DISCUSSION_FILTER_TYPES.HISTORY})},m=n("tBpV"),g=Object(m.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.displayFilters?n("gl-dropdown",{staticClass:"gl-mr-3 full-width-mobile discussion-filter-container js-discussion-filter-container",attrs:{id:"discussion-filter-dropdown","data-qa-selector":"discussion_filter_dropdown",text:e.currentFilter.title}},e._l(e.filters,(function(t){return n("div",{key:t.value,staticClass:"dropdown-item-wrapper"},[n("gl-dropdown-item",{class:{"is-active":t.value===e.currentValue},attrs:{"is-check-item":!0,"is-checked":t.value===e.currentValue,"data-filter-type":e.filterType(t.value),"data-qa-selector":"filter_menu_item"},on:{click:function(n){return n.preventDefault(),e.selectFilter(t.value)}}},[e._v("\n      "+e._s(t.title)+"\n    ")]),e._v(" "),t.value===e.defaultValue?n("gl-dropdown-divider"):e._e()],1)})),0):e._e()}),[],!1,null,null,null).exports;t.a=function(e){const t=document.getElementById("js-vue-discussion-filter");if(t){const{defaultFilter:n,notesFilters:r}=t.dataset,s=r?JSON.parse(r):{},a={filters:Object.keys(s).map((function(e){return{title:e,value:s[e]}}))};return n&&(a.selectedValue=parseInt(n,10)),new i.default({el:t,name:"DiscussionFilter",components:{DiscussionFilter:g},store:e,render:e=>e("discussion-filter",{props:a})})}return null}},"TXW/":function(e,t,n){var i=n("Pt7R");e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},TXp8:function(e,t,n){"use strict";var i=n("LLbv"),r=n("s1D3"),s=n("/lV4"),a=n("NY3P"),o=n("Qaw2"),l=n("rRHO"),c={components:{AssigneeAvatar:o.a,UserNameWithStatus:l.a},props:{user:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{availability(){var e;return(null===(e=this.user)||void 0===e?void 0:e.availability)||""}}},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-link",attrs:{type:"button"}},[t("assignee-avatar",{attrs:{user:this.user,"img-size":24,"issuable-type":this.issuableType}}),this._v(" "),t("user-name-with-status",{attrs:{name:this.user.name,availability:this.availability,"container-classes":"author"}})],1)}),[],!1,null,null,null).exports;var f={directives:{GlTooltip:i.a},components:{CollapsedAssignee:d,GlIcon:r.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{isMergeRequest(){return"merge_request"===this.issuableType},hasNoUsers(){return!this.users.length},hasMoreThanOneAssignee(){return this.users.length>1},hasMoreThanTwoAssignees(){return this.users.length>2},allAssigneesCanMerge(){return this.users.every((function(e){return e.can_merge}))},sidebarAvatarCounter(){return this.users.length>99?"".concat(99,"+"):"+".concat(this.users.length-1)},collapsedUsers(){const e=this.hasMoreThanTwoAssignees?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){if(!this.isMergeRequest)return"";const e=this.users.filter((function(e){return e.can_merge})).length;return e===this.users.length?"":e>0?Object(s.f)(Object(s.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(s.a)("cannot merge"):Object(s.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length);return function(e){let{renderUsers:t,allUsers:n,tooltipTitleMergeStatus:i}=e;const r=t.map((function(e){let{name:t,availability:n}=e;return n&&Object(a.a)(n)?Object(s.f)(Object(s.a)("%{name} (Busy)"),{name:t}):t}));if(!n.length)return Object(s.a)("Assignee(s)");n.length>r.length&&r.push(Object(s.f)(Object(s.a)("+ %{amount} more"),{amount:n.length-r.length}));const o=r.join(", ");return i?"".concat(o," (").concat(i,")"):o}({renderUsers:this.users.slice(0,e),allUsers:this.users,tooltipTitleMergeStatus:this.tooltipTitleMergeStatus})},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},h=Object(u.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneAssignee},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?n("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(t){return n("collapsed-assignee",{key:t.id,attrs:{user:t,"issuable-type":e.issuableType}})})),e._v(" "),e.hasMoreThanTwoAssignees?n("button",{staticClass:"btn-link",attrs:{type:"button"}},[n("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")]),e._v(" "),e.isMergeRequest&&!e.allAssigneesCanMerge?n("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):e._e()],1):e._e()],2)}),[],!1,null,null,null);t.a=h.exports},Tctl:function(e,t,n){"use strict";var i=n("EmJ/"),r=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={openButtons:[],forkButtons:[],cancelButtons:[],suggestionSections:[],actionTextPieces:[]};t.a=class{constructor(e){this.elementMap=a(a({},l),e),this.onOpenButtonClick=this.onOpenButtonClick.bind(this),this.onCancelButtonClick=this.onCancelButtonClick.bind(this)}init(){return this.bindEvents(),this}bindEvents(){r()(this.elementMap.openButtons).on("click",this.onOpenButtonClick),r()(this.elementMap.cancelButtons).on("click",this.onCancelButtonClick)}showSuggestionSection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"edit";r()(this.elementMap.suggestionSections).removeClass("hidden"),r()(this.elementMap.forkButtons).attr("href",e),r()(this.elementMap.actionTextPieces).text(t)}hideSuggestionSection(){r()(this.elementMap.suggestionSections).addClass("hidden")}onOpenButtonClick(e){const t=r()(e.currentTarget).attr("data-fork-path"),n=r()(e.currentTarget).attr("data-action");this.showSuggestionSection(t,n)}onCancelButtonClick(){this.hideSuggestionSection()}destroy(){r()(this.elementMap.openButtons).off("click",this.onOpenButtonClick),r()(this.elementMap.cancelButtons).off("click",this.onCancelButtonClick)}}},TwKd:function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_FILE_FINDER_RESULTS",(function(){return v})),n.d(t,"FILE_FINDER_ROW_HEIGHT",(function(){return b})),n.d(t,"FILE_FINDER_EMPTY_ROW_HEIGHT",(function(){return y}));n("+xeR");var i=n("s1D3"),r=n("PxiM"),s=n.n(r),a=n("t6Yz"),o=n.n(a),l=n("T9Fk"),c=n.n(l),u=n("d08M"),d=n("IfLy"),f=(n("l9AF"),n("rOrh")),h=n("9dZE");var p={components:{GlIcon:i.a,ChangedFileIcon:f.a,FileIcon:h.a},props:{file:{type:Object,required:!0},focused:{type:Boolean,required:!0},searchText:{type:String,required:!0},index:{type:Number,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1}},computed:{pathWithEllipsis(){const{path:e}=this.file;return e.length<60?e:"...".concat(e.substr(e.length-60))},nameSearchTextOccurences(){return s.a.match(this.file.name,this.searchText)},pathSearchTextOccurences(){return s.a.match(this.pathWithEllipsis,this.searchText)}},methods:{clickRow(){this.$emit("click",this.file)},mouseOverRow(){this.$emit("mouseover",this.index)},mouseMove(){this.$emit("mousemove",this.index)}}},m=(n("kR/d"),n("tBpV")),g=Object(m.a)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"diff-changed-file",class:{"is-focused":e.focused},attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.clickRow(t)},mouseover:e.mouseOverRow,mousemove:e.mouseMove}},[n("file-icon",{attrs:{"file-name":e.file.name,size:16,"css-classes":"diff-file-changed-icon gl-mr-3"}}),e._v(" "),n("span",{staticClass:"diff-changed-file-content gl-mr-3"},[n("strong",{staticClass:"diff-changed-file-name"},e._l(e.file.name.split(""),(function(t,i){return n("span",{key:i+t,class:{highlighted:e.nameSearchTextOccurences.indexOf(i)>=0},domProps:{textContent:e._s(t)}})})),0),e._v(" "),n("span",{staticClass:"diff-changed-file-path gl-mt-2"},e._l(e.pathWithEllipsis.split(""),(function(t,i){return n("span",{key:i+t,class:{highlighted:e.pathSearchTextOccurences.indexOf(i)>=0},domProps:{textContent:e._s(t)}})})),0)]),e._v(" "),e.file.changed||e.file.tempFile?e._m(0):e._e()],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"diff-changed-stats"},[e.showDiffStats?n("span",[n("span",{staticClass:"cgreen bold"},[n("gl-icon",{staticClass:"align-text-top",attrs:{name:"file-addition"}}),e._v(" "+e._s(e.file.addedLines)+"\n      ")],1),e._v(" "),n("span",{staticClass:"cred bold ml-1"},[n("gl-icon",{staticClass:"align-text-top",attrs:{name:"file-deletion"}}),e._v(" "+e._s(e.file.removedLines)+"\n      ")],1)]):n("changed-file-icon",{attrs:{file:e.file}})],1)}],!1,null,"0a133c5d",null).exports;const v=40,b=55,y=33,_=o.a.prototype.stopCallback;var w={components:{GlIcon:i.a,Item:g,VirtualList:c.a},props:{files:{type:Array,required:!0},visible:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},showDiffStats:{type:Boolean,required:!1,default:!1},clearSearchOnClose:{type:Boolean,required:!1,default:!0}},data:()=>({focusedIndex:-1,searchText:"",mouseOver:!1,cancelMouseOver:!1}),computed:{filteredBlobs(){const e=this.searchText.trim();return""===e?this.files.slice(0,v):s.a.filter(this.files,e,{key:"path",maxResults:v})},filteredBlobsLength(){return this.filteredBlobs.length},listShowCount(){return this.filteredBlobsLength?Math.min(this.filteredBlobsLength,5):1},listHeight(){return this.filteredBlobsLength?b:y},showClearInputButton(){return""!==this.searchText.trim()}},watch:{visible(){var e=this;this.$nextTick((function(){e.visible?(e.focusedIndex=0,e.$refs.searchInput&&e.$refs.searchInput.focus()):e.clearSearchOnClose&&(e.searchText="")}))},searchText(){var e=this;this.focusedIndex=-1,this.$nextTick((function(){e.focusedIndex=0}))},focusedIndex(){var e=this;this.mouseOver||this.$nextTick((function(){const t=e.$refs.virtualScrollList.$el,n=e.focusedIndex*b,i=e.listShowCount*b;0===e.focusedIndex?t.scrollTop=0:e.focusedIndex===e.filteredBlobsLength-1?t.scrollTop=e.filteredBlobsLength*b:n>=i+t.scrollTop?t.scrollTop=n-i+b:n<t.scrollTop&&(t.scrollTop=n)}))}},mounted(){var e=this;this.files.length&&(this.focusedIndex=0),o.a.bind(Object(u.mb)(u.P),(function(t){t.preventDefault&&t.preventDefault(),e.toggle(!e.visible)})),o.a.prototype.stopCallback=function(e,t,n){return!!("t"===n&&t.classList.contains("dropdown-input-field")||t.classList.contains("inputarea"))||"mod+p"!==n&&_.call(this,e,t,n)}},methods:{toggle(e){this.$emit("toggle",e)},clearSearchInput(){var e=this;this.searchText="",this.$nextTick((function(){e.$refs.searchInput.focus()}))},onKeydown(e){switch(e.keyCode){case d.f:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex>0?this.focusedIndex-=1:this.focusedIndex=this.filteredBlobsLength-1;break;case d.c:e.preventDefault(),this.mouseOver=!1,this.cancelMouseOver=!0,this.focusedIndex<this.filteredBlobsLength-1?this.focusedIndex+=1:this.focusedIndex=0}},onKeyup(e){switch(e.keyCode){case d.d:this.openFile(this.filteredBlobs[this.focusedIndex]);break;case d.e:this.toggle(!1)}},openFile(e){this.toggle(!1),this.$emit("click",e)},onMouseOver(e){this.cancelMouseOver||(this.mouseOver=!0,this.focusedIndex=e)},onMouseMove(e){this.cancelMouseOver=!1,this.onMouseOver(e)}}},O=(n("8E5s"),Object(m.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-finder-overlay",on:{mousedown:function(t){return t.target!==t.currentTarget?null:e.toggle(!1)}}},[n("div",{staticClass:"dropdown-menu diff-file-changes file-finder show"},[n("div",{staticClass:"dropdown-input",class:{"has-value":e.showClearInputButton}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],ref:"searchInput",staticClass:"dropdown-input-field",attrs:{placeholder:e.__("Search files"),type:"search",autocomplete:"off"},domProps:{value:e.searchText},on:{keydown:function(t){return e.onKeydown(t)},keyup:function(t){return e.onKeyup(t)},input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("gl-icon",{staticClass:"dropdown-input-search",class:{hidden:e.showClearInputButton},attrs:{name:"search"}}),e._v(" "),n("gl-icon",{staticClass:"dropdown-input-clear",attrs:{name:"close",role:"button","aria-label":e.__("Clear search input")},on:{click:e.clearSearchInput}})],1),e._v(" "),n("div",[n("virtual-list",{ref:"virtualScrollList",attrs:{size:e.listHeight,remain:e.listShowCount,wtag:"ul"}},[e.filteredBlobsLength?e._l(e.filteredBlobs,(function(t,i){return n("li",{key:t.key},[n("item",{staticClass:"disable-hover",attrs:{file:t,"search-text":e.searchText,focused:i===e.focusedIndex,index:i,"show-diff-stats":e.showDiffStats},on:{click:e.openFile,mouseover:e.onMouseOver,mousemove:e.onMouseMove}})],1)})):n("li",{staticClass:"dropdown-menu-empty-item"},[n("div",{staticClass:"gl-mr-3 gl-ml-3 gl-mt-3 gl-mb-3"},[e.loading?[e._v("\n              "+e._s(e.__("Loading..."))+"\n            ")]:[e._v("\n              "+e._s(e.__("No files found."))+"\n            ")]],2)])],2)],1)])])}),[],!1,null,"2354f4fb",null));t.default=O.exports},U5ZW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("orcL"),n("pETN");function i(){const{url:e}=gon.sourcegraph||{};if(!e)return;const t=new URL("/assets/webpack/sourcegraph/0.0.57/",window.location.href),n=new URL("scripts/integration.bundle.js",t).href;window.SOURCEGRAPH_ASSETS_URL=t.href,window.SOURCEGRAPH_URL=e,window.SOURCEGRAPH_INTEGRATION="gitlab-integration",function(e){const t=document.createElement("script");t.type="application/javascript",t.src=e,t.defer=!0,document.head.appendChild(t)}(n)}},UK5N:function(e,t,n){"use strict";var i=n("G3fq"),r=n.n(i),s=n("s1D3"),a=n("MV2A"),o=n("/lV4");function l(e){return'<a href="'.concat(r()(e),'" target="_blank" rel="noopener noreferrer">')}const c={Issue:Object(o.a)("issue"),Epic:Object(o.a)("epic"),MergeRequest:Object(o.a)("merge request")};var u={components:{GlIcon:s.a,GlLink:a.a},props:{isLocked:{type:Boolean,default:!1,required:!1},isConfidential:{type:Boolean,default:!1,required:!1},noteableType:{type:String,required:!1,default:"Issue"},lockedNoteableDocsPath:{type:String,required:!1,default:""},confidentialNoteableDocsPath:{type:String,required:!1,default:""}},computed:{warningIcon(){return this.isConfidential?"eye-slash":this.isLocked?"lock":""},isLockedAndConfidential(){return this.isConfidential&&this.isLocked},noteableTypeText(){return c[this.noteableType]},confidentialAndLockedDiscussionText(){return Object(o.f)(Object(o.a)("This %{noteableTypeText} is %{confidentialLinkStart}confidential%{linkEnd} and %{lockedLinkStart}locked%{linkEnd}."),{noteableTypeText:this.noteableTypeText,confidentialLinkStart:l(this.confidentialNoteableDocsPath),lockedLinkStart:l(this.lockedNoteableDocsPath),linkEnd:"</a>"},!1)},confidentialContextText(){return Object(o.f)(Object(o.a)("This is a confidential %{noteableTypeText}."),{noteableTypeText:this.noteableTypeText})},lockedContextText(){return Object(o.f)(Object(o.a)("This %{noteableTypeText} is locked."),{noteableTypeText:this.noteableTypeText})}}},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"confidential-warning"}},[e.isLockedAndConfidential?e._e():n("gl-icon",{staticClass:"icon inline",attrs:{name:e.warningIcon,size:16}}),e._v(" "),e.isLockedAndConfidential?n("span",{ref:"lockedAndConfidential"},[n("span",{domProps:{innerHTML:e._s(e.confidentialAndLockedDiscussionText)}}),e._v("\n    "+e._s(e.__("People without permission will never get a notification and won't be able to comment."))+"\n  ")]):e.isConfidential?n("span",{ref:"confidential"},[e._v("\n    "+e._s(e.confidentialContextText)+"\n    "+e._s(e.__("People without permission will never get a notification."))+"\n    "),n("gl-link",{attrs:{href:e.confidentialNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more")))])],1):e.isLocked?n("span",{ref:"locked"},[e._v("\n    "+e._s(e.lockedContextText)+"\n    "+e._s(e.__("Only project members can comment."))+"\n    "),n("gl-link",{attrs:{href:e.lockedNoteableDocsPath,target:"_blank"}},[e._v(e._s(e.__("Learn more")))])],1):e._e()],1)}),[],!1,null,null,null).exports,h=n("30su"),p=n("PFaH"),m={components:{GlSprintf:h.a},props:{emails:{type:Array,required:!0},numberOfLessParticipants:{type:Number,required:!1,default:3}},data:()=>({isShowingMoreParticipants:!1}),computed:{title(){return this.moreParticipantsAvailable?Object(p.a)(this.lessParticipants,{onlyCommas:!0}):Object(p.a)(this.emails)},lessParticipants(){return this.emails.slice(0,this.numberOfLessParticipants)},moreLabel(){return Object(o.f)(Object(o.e)("EmailParticipantsWarning|and %{moreCount} more"),{moreCount:this.emails.length-this.numberOfLessParticipants})},moreParticipantsAvailable(){return!this.isShowingMoreParticipants&&this.emails.length>this.numberOfLessParticipants},message(){return this.moreParticipantsAvailable?Object(o.e)("EmailParticipantsWarning|%{emails}, %{andMore} will be notified of your comment."):Object(o.e)("EmailParticipantsWarning|%{emails} will be notified of your comment.")}},methods:{showMoreParticipants(){this.isShowingMoreParticipants=!0}}};var g={components:{EmailParticipantsWarning:Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"issuable-note-warning",attrs:{"data-testid":"email-participants-warning"}},[n("gl-sprintf",{attrs:{message:e.message},scopedSlots:e._u([{key:"andMore",fn:function(){return[n("button",{staticClass:"btn-transparent btn-link",attrs:{type:"button"},on:{click:e.showMoreParticipants}},[e._v("\n        "+e._s(e.moreLabel)+"\n      ")])]},proxy:!0},{key:"emails",fn:function(){return[n("span",[e._v(e._s(e.title))])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,NoteableWarning:f},props:{noteableData:{type:Object,required:!0},noteableType:{type:String,required:!1,default:"Issue"},withAlertContainer:{type:Boolean,required:!1,default:!1}},computed:{isLocked(){return Boolean(this.noteableData.discussion_locked)},isConfidential(){return Boolean(this.noteableData.confidential)},hasWarning(){return this.isConfidential||this.isLocked},emailParticipants(){var e;return(null===(e=this.noteableData.issue_email_participants)||void 0===e?void 0:e.map((function(e){let{email:t}=e;return t})))||[]}}},v=Object(d.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-warning-wrapper gl-border-solid gl-border-1 gl-rounded-base gl-border-gray-100"},[e.withAlertContainer?n("div",{staticClass:"error-alert",attrs:{"data-testid":"comment-field-alert-container"}}):e._e(),e._v(" "),e.hasWarning?n("noteable-warning",{staticClass:"gl-border-b-1 gl-border-b-solid gl-border-b-gray-100 gl-rounded-base gl-rounded-bottom-left-none gl-rounded-bottom-right-none",attrs:{"is-locked":e.isLocked,"is-confidential":e.isConfidential,"noteable-type":e.noteableType,"locked-noteable-docs-path":e.noteableData.locked_discussion_docs_path,"confidential-noteable-docs-path":e.noteableData.confidential_issues_docs_path}}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.emailParticipants.length?n("email-participants-warning",{staticClass:"gl-border-t-1 gl-border-t-solid gl-border-t-gray-100 gl-rounded-base gl-rounded-top-left-none! gl-rounded-top-right-none!",attrs:{emails:e.emailParticipants}}):e._e()],2)}),[],!1,null,null,null);t.a=v.exports},UZ3T:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=Array.prototype.slice},Udsl:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateEpicDueDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateEpicInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetDate"},name:{kind:"Name",value:"updateEpic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateIsFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDateFromMilestones"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:223}};n.loc.source={body:"mutation updateEpicDueDate($input: UpdateEpicInput!) {\n  issuableSetDate: updateEpic(input: $input) {\n    issuable: epic {\n      id\n      dueDateIsFixed\n      dueDateFixed\n      dueDateFromMilestones\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateEpicDueDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateEpicDueDate")},UfEt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o}));var i=n("/lV4");const r="code_quality_walkthrough",s={commitCiFile:"commit_ci_file",runningPipeline:"running_pipeline",successPipeline:"success_pipeline",failedPipeline:"failed_pipeline",troubleshootJob:"troubleshoot_job"},a={[s.commitCiFile]:{title:Object(i.e)("codeQualityWalkthrough|Let's start by creating a new CI file."),body:Object(i.e)("codeQualityWalkthrough|To begin with code quality, we first need to create a new CI file using our code editor. We added a code quality template in the code editor to help you get started %{emojiStart}wink%{emojiEnd} .%{lineBreak}Take some time to review the template, when you are ready, use the %{strongStart}commit changes%{strongEnd} button at the bottom of the page."),buttonText:Object(i.e)("codeQualityWalkthrough|Got it"),placement:"right",offset:90},[s.runningPipeline]:{title:Object(i.e)("codeQualityWalkthrough|Congrats! Your first pipeline is running %{emojiStart}zap%{emojiEnd}"),body:Object(i.e)("codeQualityWalkthrough|Your pipeline can take a few minutes to run. If you enabled email notifications, you'll receive an email with your pipeline status. In the meantime, why don't you get some coffee? You earned it!"),buttonText:Object(i.e)("codeQualityWalkthrough|Got it"),offset:97},[s.successPipeline]:{title:Object(i.e)("codeQualityWalkthrough|Well done! You've just automated your code quality review. %{emojiStart}raised_hands%{emojiEnd}"),body:Object(i.e)("codeQualityWalkthrough|A code quality job will now run every time you or your team members commit changes to your project. You can view the results of the code quality job in the job logs."),buttonText:Object(i.e)("codeQualityWalkthrough|View the logs"),offset:98},[s.failedPipeline]:{title:Object(i.e)("codeQualityWalkthrough|Something went wrong. %{emojiStart}thinking%{emojiEnd} Let's fix it."),body:Object(i.e)("codeQualityWalkthrough|Your job failed. No worries - this happens. Let's view the logs, and see how we can fix it."),buttonText:Object(i.e)("codeQualityWalkthrough|View the logs"),offset:98},[s.troubleshootJob]:{title:Object(i.e)("codeQualityWalkthrough|Troubleshoot your code quality job"),body:Object(i.e)("codeQualityWalkthrough|Not sure how to fix your failed job? We have compiled some tips on how to troubleshoot code quality jobs in the documentation."),buttonText:Object(i.e)("codeQualityWalkthrough|Read the documentation")}},o={running:"running",successWithWarnings:"success-with-warnings",success:"success",failed:"failed"}},Ul1K:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row {\n  display: flex;\n  align-items: center;\n  height: 32px;\n  padding: 4px 8px;\n  margin-left: -8px;\n  margin-right: -8px;\n  border-radius: 3px;\n  text-align: left;\n  cursor: pointer;\n}\n.file-row-name-container {\n  display: flex;\n  width: 100%;\n  align-items: center;\n  overflow: visible;\n}\n.file-row-name {\n  display: inline-block;\n  flex: 1;\n  max-width: inherit;\n  height: 19px;\n  line-height: 16px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.file-row-name .file-row-icon {\n  margin-right: 2px;\n  vertical-align: middle;\n}\n",""])},UpzS:function(e,t,n){"use strict";t.a=function(e){return function(){return e}}},Usid:function(e){e.exports=JSON.parse('{"__schema":{"types":[{"kind":"UNION","name":"Issuable","possibleTypes":[{"name":"Issue"},{"name":"MergeRequest"}]},{"kind":"INTERFACE","name":"User","possibleTypes":[{"name":"UserCore"}]}]}}')},UtYG:function(e,t,n){"use strict";var i=n("jB52"),r=n("T3gz");t.a=function(){const e=document.querySelector("#commit-pipeline-table-view");if(e&&(e.addEventListener("update-pipelines-count",(function(e){if(e.detail.pipelines&&e.detail.pipelines.count&&e.detail.pipelines.count.all){document.querySelector(".js-pipelines-mr-count").textContent=e.detail.pipelines.count.all}})),void 0===e.dataset.disableInitialization)){const t=new i.default({provide:{artifactsEndpoint:e.dataset.artifactsEndpoint,artifactsEndpointPlaceholder:e.dataset.artifactsEndpointPlaceholder},render:t=>t(r.a,{props:{endpoint:e.dataset.endpoint,emptyStateSvgPath:e.dataset.emptyStateSvgPath,errorStateSvgPath:e.dataset.errorStateSvgPath}})}).$mount();e.appendChild(t.$el)}}},VNgF:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(s).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];null!=s&&(i[s]=!0)}for(r=0;r<e.length;r++){var a=e[r];null!=a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},VYh0:function(e,t,n){var i=n("aCzx"),r=i?i.prototype:void 0,s=r?r.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},VnNw:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"issueSetSubscription"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"updateIssuableSubscription"},name:{kind:"Name",value:"issueSetSubscription"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}},{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"subscribedState"},value:{kind:"Variable",name:{kind:"Name",value:"subscribedState"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:304}};n.loc.source={body:"mutation issueSetSubscription($fullPath: ID!, $iid: String!, $subscribedState: Boolean!) {\n  updateIssuableSubscription: issueSetSubscription(\n    input: { projectPath: $fullPath, iid: $iid, subscribedState: $subscribedState }\n  ) {\n    issuable: issue {\n      id\n      subscribed\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueSetSubscription=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueSetSubscription")},VuQQ:function(e,t,n){"use strict";var i=n("LLbv"),r=n("bOix"),s={directives:{GlTooltip:i.a},props:{endDateString:{type:String,required:!0,validator:e=>!Number.isNaN(new Date(e).getTime())}},data:()=>({remainingTime:Object(r.j)(0),countdownUpdateIntervalId:null}),mounted(){var e=this;const t=function(){const t=Object(r.c)(e.endDateString);e.remainingTime=Object(r.j)(t)};t(),this.countdownUpdateIntervalId=window.setInterval(t,1e3)},beforeDestroy(){window.clearInterval(this.countdownUpdateIntervalId)}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this.$createElement;return(this._self._c||e)("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{datetime:this.endDateString,title:this.endDateString}},[this._v(" "+this._s(this.remainingTime)+" ")])}),[],!1,null,null,null);t.a=o.exports},VwWG:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("FUyg"),c=n("eclS"),u=n("ayhe"),d=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{filter:function(e){var t=a(this),n=u(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(c(t,s("Set"))),f=o(r.add);return d(n,(function(e){i(e,e,t)&&f.call(r,e)}),{IS_ITERATOR:!0}),r}})},W1U1:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g}));var i=n("Mnjd"),r=n("UZ3T"),s=n("UpzS"),a=n("zvOv"),o=n("s390");function l(e){return e.source}function c(e){return e.target}function u(e){var t=l,n=c,o=a.a,u=a.b,d=null;function f(){var s,a=r.a.call(arguments),l=t.apply(this,a),c=n.apply(this,a);if(d||(d=s=Object(i.a)()),e(d,+o.apply(this,(a[0]=l,a)),+u.apply(this,a),+o.apply(this,(a[0]=c,a)),+u.apply(this,a)),s)return d=null,s+""||null}return f.source=function(e){return arguments.length?(t=e,f):t},f.target=function(e){return arguments.length?(n=e,f):n},f.x=function(e){return arguments.length?(o="function"==typeof e?e:Object(s.a)(+e),f):o},f.y=function(e){return arguments.length?(u="function"==typeof e?e:Object(s.a)(+e),f):u},f.context=function(e){return arguments.length?(d=null==e?null:e,f):d},f}function d(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t=(t+i)/2,n,t,r,i,r)}function f(e,t,n,i,r){e.moveTo(t,n),e.bezierCurveTo(t,n=(n+r)/2,i,n,i,r)}function h(e,t,n,i,r){var s=Object(o.a)(t,n),a=Object(o.a)(t,n=(n+r)/2),l=Object(o.a)(i,n),c=Object(o.a)(i,r);e.moveTo(s[0],s[1]),e.bezierCurveTo(a[0],a[1],l[0],l[1],c[0],c[1])}function p(){return u(d)}function m(){return u(f)}function g(){var e=u(h);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}},W2kU:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("AgLN"),o=n("ayhe"),l=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{reduce:function(e){var t=s(this),n=o(t),i=arguments.length<2,r=i?void 0:arguments[1];if(a(e),l(n,(function(n){i?(i=!1,r=n):r=e(r,n,n,t)}),{IS_ITERATOR:!0}),i)throw TypeError("Reduce of empty set with no initial value");return r}})},W7Ty:function(e,t,n){var i=n("sjqF"),r=n("nHTl"),s=n("NDsS"),a=Math.max,o=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var c=l-1;return void 0!==n&&(c=s(n),c=n<0?a(l+c,0):o(c,l-1)),i(e,r(t,3),c,!0)}},WP4l:function(e,t,n){"use strict";var i=n("4lAS"),r=n("yi8e");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={components:{GlBadge:n("Lzak").a},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.d)("batchComments",["draftsCount"]))},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-badge",{staticClass:"gl-ml-2",attrs:{size:"sm",variant:"info"}},[this._v("\n  "+this._s(this.draftsCount)+"\n  "),t("span",{staticClass:"sr-only"},[this._v(" "+this._s(this.n__("draft","drafts",this.draftsCount))+" ")])])}),[],!1,null,null,null).exports;function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={components:{GlButton:i.a,DraftsCount:c},props:{showCount:{type:Boolean,required:!1,default:!1},category:{type:String,required:!1,default:"primary"},variant:{type:String,required:!1,default:"confirm"}},computed:d({},Object(r.f)("batchComments",["isPublishing"])),methods:d(d({},Object(r.c)("batchComments",["publishReview"])),{},{onClick(){this.publishReview()}})},p=Object(l.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-button",{staticClass:"js-publish-draft-button",attrs:{loading:e.isPublishing,"data-qa-selector":"submit_review_button",category:e.category,variant:e.variant},on:{click:e.onClick}},[e._v("\n  "+e._s(e.__("Submit review"))+"\n  "),e.showCount?n("drafts-count"):e._e()],1)}),[],!1,null,null,null);t.a=p.exports},"X/rp":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:422}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery issueParticipants($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      participants {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.issueParticipants=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"issueParticipants")},XII9:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.highlighted[data-v-0a133c5d] {\n  color: #1f78d1;\n  font-weight: 600;\n}\n",""])},Xa9V:function(e,t,n){"use strict";n("jaBk");var i=n("G3fq"),r=n.n(i),s=n("s1D3"),a=n("4lAS"),o=n("1fc5"),l=n("Yyc1"),c=n("wP8z"),u=n("koWC"),d=n("SeSR"),f=n("FkSe"),h=n("LLbv"),p=n("R0j4"),m=n("yi8e"),g=n("BAGK"),v=n("NmEs"),b=n("0AwG"),y=n("/lV4"),_=n("rK/1"),w=n("9dZE"),O=n("sHIo"),k=n("pIt4"),S=n("Kuu+"),j=n("Gtn5"),C=n("i3g2"),x=n("l+kv");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={components:{ClipboardButton:_.a,GlIcon:s.a,FileIcon:w.a,DiffStats:x.a,GlButton:a.a,GlButtonGroup:o.a,GlDropdown:l.a,GlDropdownItem:c.a,GlDropdownDivider:u.a,GlFormCheckbox:d.a,GlLoadingIcon:f.a,CodeQualityBadge:function(){return n.e(8).then(n.bind(null,"4b03"))}},directives:{GlTooltip:h.a,SafeHtml:p.a},mixins:[Object(O.a)()],i18n:D(D({},S.b),{},{compareButtonLabel:Object(y.e)("Compare submodule commit revisions")}),props:{discussionPath:{type:String,required:!1,default:""},diffFile:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!1},addMergeRequestButtons:{type:Boolean,required:!1,default:!1},expanded:{type:Boolean,required:!1,default:!0},canCurrentUserFork:{type:Boolean,required:!0},viewDiffsFileByFile:{type:Boolean,required:!1,default:!1},showLocalFileReviews:{type:Boolean,required:!1,default:!1},reviewed:{type:Boolean,required:!1,default:!1},codequalityDiff:{type:Array,required:!1,default:function(){return[]}}},data:()=>({moreActionsShown:!1}),computed:D(D(D({},Object(m.f)("diffs",["latestDiff"])),Object(m.d)("diffs",["diffHasExpandedDiscussions","diffHasDiscussions"])),{},{diffContentIDSelector(){return"#diff-content-".concat(this.diffFile.file_hash)},titleLink(){return this.diffFile.submodule?this.diffFile.submodule_tree_url||this.diffFile.submodule_link:this.discussionPath?this.discussionPath:this.diffContentIDSelector},submoduleDiffCompareLinkText(){if(this.diffFile.submodule_compare){const e=r()(Object(b.u)(this.diffFile.submodule_compare.old_sha)),t=r()(Object(b.u)(this.diffFile.submodule_compare.new_sha));return Object(y.f)(Object(y.e)("Compare %{oldCommitId}...%{newCommitId}"),{oldCommitId:'<span class="commit-sha">'.concat(e,"</span>"),newCommitId:'<span class="commit-sha">'.concat(t,"</span>")},!1)}return null},filePath(){return this.diffFile.submodule?"".concat(this.diffFile.file_path," @ ").concat(Object(b.u)(this.diffFile.blob.id)):this.diffFile.deleted_file?Object(y.f)(Object(y.a)("%{filePath} deleted"),{filePath:this.diffFile.file_path},!1):this.diffFile.file_path},isUsingLfs(){return this.diffFile.stored_externally&&"lfs"===this.diffFile.external_storage},isCollapsed(){return Object(j.c)(this.diffFile,{fileByFile:this.viewDiffsFileByFile})},collapseIcon(){return this.expanded?"chevron-down":"chevron-right"},viewFileButtonText(){const e=r()(Object(b.u)(this.diffFile.content_sha));return Object(y.f)(Object(y.e)("MergeRequests|View file @ %{commitId}"),{commitId:e},!1)},viewReplacedFileButtonText(){const e=r()(Object(b.u)(this.diffFile.diff_refs.base_sha));return Object(y.f)(Object(y.e)("MergeRequests|View replaced file @ %{commitId}"),{commitId:e})},gfmCopyText(){return"`".concat(this.diffFile.file_path,"`")},isFileRenamed(){return this.diffFile.renamed_file},isModeChanged(){return this.diffFile.viewer.name===g.v.mode_changed},expandDiffToFullFileTitle(){return this.diffFile.isShowingFullFile?Object(y.e)("MRDiff|Show changes only"):Object(y.e)("MRDiff|Show full file")},showEditButton(){var e;return(null===(e=this.diffFile.blob)||void 0===e?void 0:e.readable_text)&&!this.diffFile.deleted_file&&(this.diffFile.edit_path||this.diffFile.ide_edit_path)},isReviewable(){return Object(C.d)(this.diffFile)},externalUrlLabel(){return Object(y.f)(Object(y.a)("View on %{url}"),{url:this.diffFile.formatted_external_url})}}),methods:D(D({},Object(m.c)("diffs",["toggleFileDiscussions","toggleFileDiscussionWrappers","toggleFullDiff","toggleActiveFileByHash","reviewFile","setFileCollapsedByUser"])),{},{handleToggleFile(){this.$emit("toggleFile")},showForkMessage(e){this.canCurrentUserFork&&!this.diffFile.can_modify_blob&&(e.preventDefault(),this.$emit("showForkMessage"))},handleFileNameClick(e){if(!(this.diffFile.submodule_tree_url||this.diffFile.submodule_link||this.discussionPath)){e.preventDefault();const t=this.diffContentIDSelector;Object(v.Q)(document.querySelector(t)),window.location.hash=t,this.viewDiffsFileByFile||this.toggleActiveFileByHash(this.diffFile.file_hash)}},setMoreActionsShown(e){this.moreActionsShown=e},toggleReview(e){const t=this.isCollapsed&&Object(j.a)(this.diffFile)===k.p,n=this.expanded,i=!n,r=e;this.reviewFile({file:this.diffFile,reviewed:r}),r&&t&&this.setFileCollapsedByUser({filePath:this.diffFile.file_path,collapsed:!0}),(n&&r||i&&!r)&&this.$emit("toggleFile")}})},N=n("tBpV"),I=Object(N.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"header",staticClass:"js-file-title file-title file-title-flex-parent",class:{"gl-z-dropdown-menu!":e.moreActionsShown},attrs:{"data-qa-selector":"file_title_container","data-qa-file-name":e.filePath},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleToggleFile(t)}}},[n("div",{staticClass:"file-header-content"},[e.collapsible?n("gl-icon",{ref:"collapseIcon",staticClass:"diff-toggle-caret gl-mr-2",attrs:{name:e.collapseIcon,size:16},on:{click:function(t){return t.stopPropagation(),e.handleToggleFile(t)}}}):e._e(),e._v(" "),n("a",{ref:"titleWrapper",staticClass:"gl-mr-2 gl-text-decoration-none! gl-word-break-all",attrs:{"v-once":!e.viewDiffsFileByFile,href:e.titleLink},on:{click:e.handleFileNameClick}},[n("file-icon",{attrs:{"file-name":e.filePath,size:18,"aria-hidden":"true","css-classes":"gl-mr-2",submodule:e.diffFile.submodule}}),e._v(" "),e.isFileRenamed?n("span",[n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.old_path_html,expression:"diffFile.old_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.old_path}}),e._v("\n        \n        "),n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"},{name:"safe-html",rawName:"v-safe-html",value:e.diffFile.new_path_html,expression:"diffFile.new_path_html"}],staticClass:"file-title-name",attrs:{title:e.diffFile.new_path}})]):n("strong",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"file-title-name",attrs:{title:e.filePath,"data-container":"body","data-qa-selector":"file_name_content"}},[e._v("\n        "+e._s(e.filePath)+"\n      ")])],1),e._v(" "),n("clipboard-button",{attrs:{title:e.__("Copy file path"),text:e.diffFile.file_path,gfm:e.gfmCopyText,"data-testid":"diff-file-copy-clipboard",category:"tertiary","data-track-event":"click_copy_file_button","data-track-label":"diff_copy_file_path_button","data-track-property":"diff_copy_file"}}),e._v(" "),e.codequalityDiff.length?n("code-quality-badge",{staticClass:"gl-mr-2",attrs:{"file-name":e.filePath,"codequality-diff":e.codequalityDiff}}):e._e(),e._v(" "),e.isModeChanged?n("small",{ref:"fileMode",staticClass:"mr-1"},[e._v("\n      "+e._s(e.diffFile.a_mode)+"  "+e._s(e.diffFile.b_mode)+"\n    ")]):e._e(),e._v(" "),e.isUsingLfs?n("span",{staticClass:"badge label label-lfs gl-mr-2"},[e._v(" "+e._s(e.__("LFS"))+" ")]):e._e()],1),e._v(" "),!e.diffFile.submodule&&e.addMergeRequestButtons?n("div",{staticClass:"file-actions d-flex align-items-center gl-ml-auto gl-align-self-start"},[n("diff-stats",{attrs:{"added-lines":e.diffFile.added_lines,"removed-lines":e.diffFile.removed_lines}}),e._v(" "),e.isReviewable&&e.showLocalFileReviews?n("gl-form-checkbox",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-mr-5 gl-display-flex gl-align-items-center",attrs:{"data-testid":"fileReviewCheckbox",title:e.$options.i18n.fileReviewTooltip,checked:e.reviewed},on:{change:e.toggleReview}},[e._v("\n      "+e._s(e.$options.i18n.fileReviewLabel)+"\n    ")]):e._e(),e._v(" "),n("gl-button-group",{staticClass:"gl-pt-0!"},[e.diffFile.external_url?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],ref:"externalLink",attrs:{href:e.diffFile.external_url,title:e.externalUrlLabel,"aria-label":e.externalUrlLabel,target:"_blank","data-track-event":"click_toggle_external_button","data-track-label":"diff_toggle_external_button","data-track-property":"diff_toggle_external",icon:"external-link"}}):e._e(),e._v(" "),n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",value:e.$options.i18n.optionsDropdownTitle,expression:"$options.i18n.optionsDropdownTitle",modifiers:{hover:!0,focus:!0}}],staticClass:"gl-pt-0!",attrs:{right:"","toggle-class":"btn-icon js-diff-more-actions","data-qa-selector":"dropdown_button"},on:{show:function(t){return e.setMoreActionsShown(!0)},hidden:function(t){return e.setMoreActionsShown(!1)}},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("gl-icon",{staticClass:"mr-0",attrs:{name:"ellipsis_v"}}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$options.i18n.optionsDropdownTitle))])]},proxy:!0}],null,!1,1529039611)},[e._v(" "),e.diffFile.replaced_view_path?n("gl-dropdown-item",{ref:"replacedFileButton",attrs:{href:e.diffFile.replaced_view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewReplacedFileButtonText)+"\n        ")]):e._e(),e._v(" "),n("gl-dropdown-item",{ref:"viewButton",attrs:{href:e.diffFile.view_path,target:"_blank"}},[e._v("\n          "+e._s(e.viewFileButtonText)+"\n        ")]),e._v(" "),e.showEditButton?[e.diffFile.edit_path?n("gl-dropdown-item",{ref:"editButton",staticClass:"js-edit-blob",attrs:{href:e.diffFile.edit_path},on:{click:e.showForkMessage}},[e._v("\n            "+e._s(e.__("Edit in single-file editor"))+"\n          ")]):e._e(),e._v(" "),e.diffFile.edit_path?n("gl-dropdown-item",{ref:"ideEditButton",staticClass:"js-ide-edit-blob",attrs:{href:e.diffFile.ide_edit_path,"data-qa-selector":"edit_in_ide_button"}},[e._v("\n            "+e._s(e.__("Edit in Web IDE"))+"\n          ")]):e._e()]:e._e(),e._v(" "),e.isCollapsed?e._e():[!e.diffFile.is_fully_expanded||e.diffHasDiscussions(e.diffFile)?n("gl-dropdown-divider"):e._e(),e._v(" "),e.diffHasDiscussions(e.diffFile)?n("gl-dropdown-item",{ref:"toggleDiscussionsButton",attrs:{"data-qa-selector":"toggle_comments_button"},on:{click:function(t){return e.toggleFileDiscussionWrappers(e.diffFile)}}},[e.diffHasExpandedDiscussions(e.diffFile)?[e._v("\n              "+e._s(e.__("Hide comments on this file"))+"\n            ")]:[e._v("\n              "+e._s(e.__("Show comments on this file"))+"\n            ")]],2):e._e(),e._v(" "),e.diffFile.is_fully_expanded?e._e():n("gl-dropdown-item",{ref:"expandDiffToFullFileButton",attrs:{disabled:e.diffFile.isLoadingFullFile},on:{click:function(t){return e.toggleFullDiff(e.diffFile.file_path)}}},[e.diffFile.isLoadingFullFile?n("gl-loading-icon",{attrs:{inline:""}}):e._e(),e._v("\n            "+e._s(e.expandDiffToFullFileTitle)+"\n          ")],1)]],2)],1)],1):e._e(),e._v(" "),e.diffFile.submodule_compare?n("div",{staticClass:"file-actions d-none d-sm-flex align-items-center flex-wrap"},[n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}},{name:"safe-html",rawName:"v-safe-html",value:e.submoduleDiffCompareLinkText,expression:"submoduleDiffCompareLinkText"}],staticClass:"submodule-compare",attrs:{title:e.$options.i18n.compareButtonLabel,"aria-label":e.$options.i18n.compareButtonLabel,href:e.diffFile.submodule_compare.url}})],1):e._e()])}),[],!1,null,null,null);t.a=I.exports},YH60:function(e,t,n){"use strict";n.r(t);n("jaBk");var i=n("W7Ty"),r=n.n(i),s=n("s1D3"),a=n("Yyc1"),o=n("iN9h"),l=n("T9Fk"),c=n.n(l),u=n("tDP3"),d=n("5yoc"),f=n("ehHk"),h=n("0AwG"),p={props:{emojis:{type:Array,required:!0},renderGroup:{type:Boolean,required:!0},clickEmoji:{type:Function,required:!0}}},m=n("tBpV"),g=Object(m.a)(p,(function(e,t){var n=t._c;return n("div",{staticClass:"gl-display-flex gl-flex-wrap gl-mb-2"},[t.props.renderGroup?t._l(t.props.emojis,(function(e){return n("button",{key:e,staticClass:"gl-border-0 gl-bg-transparent gl-px-0 gl-py-2 gl-text-center emoji-picker-emoji",attrs:{type:"button","data-testid":"emoji-button"},on:{click:function(n){return t.props.clickEmoji(e)}}},[n("gl-emoji",{attrs:{"data-name":e}})],1)})):t._e()],2)}),[],!0,null,null,null).exports,v={components:{GlIntersectionObserver:f.a,EmojiGroup:g},props:{category:{type:String,required:!0},emojis:{type:Array,required:!0}},data:()=>({renderGroup:!1}),computed:{categoryTitle(){return Object(h.l)(this.category)}},methods:{categoryAppeared(){this.renderGroup=!0,this.$emit("appear",this.category)}}},b=Object(m.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-intersection-observer",{staticClass:"gl-px-5 gl-h-full",on:{appear:e.categoryAppeared}},[n("div",{staticClass:"gl-top-0 gl-py-3 gl-w-full gl-z-index-1 emoji-picker-category-header"},[n("b",[e._v(e._s(e.categoryTitle))])]),e._v(" "),e.emojis.length?e._l(e.emojis,(function(t,i){return n("emoji-group",{key:i,attrs:{emojis:t,"render-group":e.renderGroup,"click-emoji":function(t){return e.$emit("click",t)}}})})):n("p",[e._v("\n    "+e._s(e.s__("AwardEmoji|No emojis found."))+"\n  ")])],2)}),[],!1,null,null,null).exports,y=n("Am3t"),_=n.n(y),w=(n("pBsb"),n("d+lS")),O=n.n(w),k=n("htNe"),S=n.n(k),j=n("06tH"),C=n.n(j);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=function(e){return e*d.d+d.b},T=function(){const e=C.a.get(d.e);if(!e)return null;const t=_()(O()(e.split(",")),9);return{frequently_used:{emojis:t,top:0,height:P(t.length)}}},N=S()((async function(){await Object(u.initEmojiMap)();const e=await Object(u.getEmojiCategoryMap)(),t=T();let n=t?t.frequently_used.top+t.frequently_used.height:0;return Object.freeze(Object.keys(e).filter((function(e){return e!==d.f})).reduce((function(t,i){const r=_()(e[i],d.c),s=P(r.length),a=E(E({},t),{},{[i]:{emojis:r,height:s,top:n}});return n+=s,a}),t||{}))}));var I={props:{searchValue:{type:String,required:!0}},data:()=>({render:!1}),computed:{filteredCategories(){if(""!==this.searchValue){const e=_()(Object(u.searchEmoji)(this.searchValue).map((function(e){let{emoji:t}=e;return t.name})),d.c);return{search:{emojis:e,height:P(e.length)}}}return this.categories}},async mounted(){this.categories=await N(),this.render=!0}},L=Object(m.a)(I,(function(){var e=this.$createElement,t=this._self._c||e;return this.render?t("div",[this._t("default",null,{filteredCategories:this.filteredCategories})],2):this._e()}),[],!1,null,null,null).exports,R={components:{GlIcon:s.a,GlDropdown:a.a,GlSearchBoxByType:o.a,VirtualList:c.a,Category:b,EmojiList:L},props:{toggleClass:{type:[Array,String,Object],required:!1,default:function(){return[]}}},data:()=>({currentCategory:0,searchValue:""}),computed:{categoryNames:()=>u.CATEGORY_NAMES.filter((function(e){return e!==d.f||null!==T()})).map((function(e){return{name:e,icon:d.a[e]}}))},methods:{categoryAppeared(e){this.currentCategory=e},async scrollToCategory(e){const t=await N(),{top:n}=t[e];this.$refs.virtualScoller.setScrollTop(n)},selectEmoji(e){this.$emit("click",e),this.$refs.dropdown.hide(),function(e){const t=O()((C.a.get(d.e)||"").split(",").filter((function(e){return e})).concat(e));C.a.set(d.e,t.join(","),{expires:365})}(e)},getBoundaryElement:()=>document.querySelector(".content-wrapper")||"scrollParent",onSearchInput(){this.$refs.virtualScoller.setScrollTop(0),this.$refs.virtualScoller.forceRender()},async onScroll(e,t){let{offset:n}=t;const i=await N();this.currentCategory=r()(Object.values(i),(function(e){let{top:t}=e;return n>=t}))}}},A=Object(m.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"emoji-picker"},[n("gl-dropdown",{ref:"dropdown",attrs:{"toggle-class":e.toggleClass,boundary:e.getBoundaryElement(),"menu-class":"dropdown-extended-height",category:"tertiary","no-flip":"",right:"",lazy:""},on:{shown:function(t){return e.$emit("shown")},hidden:function(t){return e.$emit("hidden")}},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._t("button-content")]},proxy:!0}],null,!0)},[e._v(" "),n("gl-search-box-by-type",{staticClass:"gl-mx-5! gl-mb-2!",attrs:{autofocus:"",debounce:"500"},on:{input:e.onSearchInput},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchValue,expression:"!searchValue"}],staticClass:"gl-display-flex gl-mx-5 gl-border-b-solid gl-border-gray-100 gl-border-b-1"},e._l(e.categoryNames,(function(t,i){return n("button",{key:t.name,staticClass:"gl-border-0 gl-border-b-2 gl-border-b-solid gl-flex-fill-1 gl-text-gray-300 gl-pt-3 gl-pb-3 gl-bg-transparent emoji-picker-category-tab",class:{"gl-text-body! emoji-picker-category-active":i===e.currentCategory},attrs:{type:"button","aria-label":t.name},on:{click:function(n){return e.scrollToCategory(t.name)}}},[n("gl-icon",{attrs:{name:t.icon,size:12}})],1)})),0),e._v(" "),n("emoji-list",{attrs:{"search-value":e.searchValue},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.filteredCategories;return[n("virtual-list",{ref:"virtualScoller",attrs:{size:258,remain:1,bench:2,variable:"",onscroll:e.onScroll}},e._l(i,(function(t,i){return n("div",{key:i,style:{height:t.height+"px"}},[n("category",{attrs:{category:i,emojis:t.emojis},on:{click:e.selectEmoji}})],1)})),0)]}}])})],1)],1)}),[],!1,null,null,null);t.default=A.exports},YJlI:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return C})),n.d(t,"t",(function(){return I})),n.d(t,"u",(function(){return L})),n.d(t,"v",(function(){return F})),n.d(t,"o",(function(){return f})),n.d(t,"p",(function(){return p})),n.d(t,"q",(function(){return m})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return B})),n.d(t,"l",(function(){return $})),n.d(t,"h",(function(){return U})),n.d(t,"i",(function(){return G})),n.d(t,"e",(function(){return z})),n.d(t,"f",(function(){return W})),n.d(t,"w",(function(){return Q}));var i=n("eq7s");function r(e,t,n,i,r){var s=e*e,a=s*e;return((1-3*e+3*s-a)*t+(4-6*s+3*a)*n+(1+3*e+3*s-3*a)*i+a*r)/6}var s=function(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),s=e[i],a=e[i+1],o=i>0?e[i-1]:2*s-a,l=i<t-1?e[i+2]:2*a-s;return r((n-i/t)*t,o,s,a,l)}},a=function(e){var t=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*t),s=e[(i+t-1)%t],a=e[i%t],o=e[(i+1)%t],l=e[(i+2)%t];return r((n-i/t)*t,s,a,o,l)}},o=function(e){return function(){return e}};function l(e,t){return function(n){return e+n*t}}function c(e,t){var n=t-e;return n?l(e,n>180||n<-180?n-360*Math.round(n/360):n):o(isNaN(e)?t:e)}function u(e){return 1==(e=+e)?d:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):o(isNaN(t)?n:t)}}function d(e,t){var n=t-e;return n?l(e,n):o(isNaN(e)?t:e)}var f=function e(t){var n=u(t);function r(e,t){var r=n((e=Object(i.f)(e)).r,(t=Object(i.f)(t)).r),s=n(e.g,t.g),a=n(e.b,t.b),o=d(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=s(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function h(e){return function(t){var n,r,s=t.length,a=new Array(s),o=new Array(s),l=new Array(s);for(n=0;n<s;++n)r=Object(i.f)(t[n]),a[n]=r.r||0,o[n]=r.g||0,l[n]=r.b||0;return a=e(a),o=e(o),l=e(l),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=l(e),r+""}}}var p=h(s),m=h(a),g=function(e,t){var n,i=t?t.length:0,r=e?Math.min(i,e.length):0,s=new Array(r),a=new Array(i);for(n=0;n<r;++n)s[n]=x(e[n],t[n]);for(;n<i;++n)a[n]=t[n];return function(e){for(n=0;n<r;++n)a[n]=s[n](e);return a}},v=function(e,t){var n=new Date;return t-=e=+e,function(i){return n.setTime(e+t*i),n}},b=function(e,t){return t-=e=+e,function(n){return e+t*n}},y=function(e,t){var n,i={},r={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?i[n]=x(e[n],t[n]):r[n]=t[n];return function(e){for(n in i)r[n]=i[n](e);return r}},_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(_.source,"g");var O,k,S,j,C=function(e,t){var n,i,r,s=_.lastIndex=w.lastIndex=0,a=-1,o=[],l=[];for(e+="",t+="";(n=_.exec(e))&&(i=w.exec(t));)(r=i.index)>s&&(r=t.slice(s,r),o[a]?o[a]+=r:o[++a]=r),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:b(n,i)})),s=w.lastIndex;return s<t.length&&(r=t.slice(s),o[a]?o[a]+=r:o[++a]=r),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,i=0;i<t;++i)o[(n=l[i]).i]=n.x(e);return o.join("")})},x=function(e,t){var n,r=typeof t;return null==t||"boolean"===r?o(t):("number"===r?b:"string"===r?(n=Object(i.a)(t))?(t=n,f):C:t instanceof i.a?f:t instanceof Date?v:Array.isArray(t)?g:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?y:b)(e,t)},E=function(e,t){return t-=e=+e,function(n){return Math.round(e+t*n)}},D=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},T=function(e,t,n,i,r,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*i)&&(n-=e*l,i-=t*l),(o=Math.sqrt(n*n+i*i))&&(n/=o,i/=o,l/=o),e*i<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:r,translateY:s,rotate:Math.atan2(t,e)*D,skewX:Math.atan(l)*D,scaleX:a,scaleY:o}};function N(e,t,n,i){function r(e){return e.length?e.pop()+" ":""}return function(s,a){var o=[],l=[];return s=e(s),a=e(a),function(e,i,r,s,a,o){if(e!==r||i!==s){var l=a.push("translate(",null,t,null,n);o.push({i:l-4,x:b(e,r)},{i:l-2,x:b(i,s)})}else(r||s)&&a.push("translate("+r+t+s+n)}(s.translateX,s.translateY,a.translateX,a.translateY,o,l),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(r(n)+"rotate(",null,i)-2,x:b(e,t)})):t&&n.push(r(n)+"rotate("+t+i)}(s.rotate,a.rotate,o,l),function(e,t,n,s){e!==t?s.push({i:n.push(r(n)+"skewX(",null,i)-2,x:b(e,t)}):t&&n.push(r(n)+"skewX("+t+i)}(s.skewX,a.skewX,o,l),function(e,t,n,i,s,a){if(e!==n||t!==i){var o=s.push(r(s)+"scale(",null,",",null,")");a.push({i:o-4,x:b(e,n)},{i:o-2,x:b(t,i)})}else 1===n&&1===i||s.push(r(s)+"scale("+n+","+i+")")}(s.scaleX,s.scaleY,a.scaleX,a.scaleY,o,l),s=a=null,function(e){for(var t,n=-1,i=l.length;++n<i;)o[(t=l[n]).i]=t.x(e);return o.join("")}}}var I=N((function(e){return"none"===e?P:(O||(O=document.createElement("DIV"),k=document.documentElement,S=document.defaultView),O.style.transform=e,e=S.getComputedStyle(k.appendChild(O),null).getPropertyValue("transform"),k.removeChild(O),e=e.slice(7,-1).split(","),T(+e[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),L=N((function(e){return null==e?P:(j||(j=document.createElementNS("http://www.w3.org/2000/svg","g")),j.setAttribute("transform",e),(e=j.transform.baseVal.consolidate())?(e=e.matrix,T(e.a,e.b,e.c,e.d,e.e,e.f)):P)}),", ",")",")"),R=Math.SQRT2;function A(e){return((e=Math.exp(e))+1/e)/2}var F=function(e,t){var n,i,r=e[0],s=e[1],a=e[2],o=t[0],l=t[1],c=t[2],u=o-r,d=l-s,f=u*u+d*d;if(f<1e-12)i=Math.log(c/a)/R,n=function(e){return[r+e*u,s+e*d,a*Math.exp(R*e*i)]};else{var h=Math.sqrt(f),p=(c*c-a*a+4*f)/(2*a*2*h),m=(c*c-a*a-4*f)/(2*c*2*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);i=(v-g)/R,n=function(e){var t,n=e*i,o=A(g),l=a/(2*h)*(o*(t=R*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+l*u,s+l*d,a*o/A(R*n+g)]}}return n.duration=1e3*i,n};function q(e){return function(t,n){var r=e((t=Object(i.d)(t)).h,(n=Object(i.d)(n)).h),s=d(t.s,n.s),a=d(t.l,n.l),o=d(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=s(e),t.l=a(e),t.opacity=o(e),t+""}}}var M=q(c),B=q(d);function $(e,t){var n=d((e=Object(i.e)(e)).l,(t=Object(i.e)(t)).l),r=d(e.a,t.a),s=d(e.b,t.b),a=d(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=s(t),e.opacity=a(t),e+""}}function V(e){return function(t,n){var r=e((t=Object(i.c)(t)).h,(n=Object(i.c)(n)).h),s=d(t.c,n.c),a=d(t.l,n.l),o=d(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=s(e),t.l=a(e),t.opacity=o(e),t+""}}}var U=V(c),G=V(d);function H(e){return function t(n){function r(t,r){var s=e((t=Object(i.b)(t)).h,(r=Object(i.b)(r)).h),a=d(t.s,r.s),o=d(t.l,r.l),l=d(t.opacity,r.opacity);return function(e){return t.h=s(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,r.gamma=t,r}(1)}var z=H(c),W=H(d),Q=function(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}},"Z/0p":function(e,t,n){n("x5C5")("flat")},Z9h7:function(e,t,n){"use strict";n("QifN");var i=n("D2I9");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={name:"ReportItem",components:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({IssueStatusIcon:n("0V1+").a},i.b),props:{issue:{type:Object,required:!0},component:{type:String,required:!1,default:"",validator:function(e){return""===e||Object.values(i.a).includes(e)}},status:{type:String,required:!0},statusIconSize:{type:Number,required:!1,default:24},isNew:{type:Boolean,required:!1,default:!1},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0}}},o=n("tBpV"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"report-block-list-issue align-items-center",class:{"is-dismissed":e.issue.isDismissed},attrs:{"data-qa-selector":"report_item_row"}},[e.showReportSectionStatusIcon?n("issue-status-icon",{staticClass:"gl-mr-3",attrs:{status:e.status,"status-icon-size":e.statusIconSize}}):e._e(),e._v(" "),e.component?n(e.component,{tag:"component",attrs:{issue:e.issue,status:e.status,"is-new":e.isNew}}):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},ZGli:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequestSubscribed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:216}};n.loc.source={body:"query mergeRequestSubscribed($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: mergeRequest(iid: $iid) {\n      __typename\n      id\n      subscribed\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.mergeRequestSubscribed=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"mergeRequestSubscribed")},ZHzM:function(e,t,n){"use strict";var i=n("MV2A"),r=n("LLbv"),s=n("+kWK"),a={name:"UserAvatarLink",components:{GlLink:i.a,userAvatarImage:s.a},directives:{GlTooltip:r.a},props:{linkHref:{type:String,required:!1,default:""},imgSrc:{type:String,required:!1,default:""},imgAlt:{type:String,required:!1,default:""},imgCssClasses:{type:String,required:!1,default:""},imgSize:{type:Number,required:!1,default:20},tooltipText:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},username:{type:String,required:!1,default:""}},computed:{shouldShowUsername(){return this.username.length>0},avatarTooltipText(){return this.shouldShowUsername?"":this.tooltipText}}},o=n("tBpV"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{staticClass:"user-avatar-link",attrs:{href:e.linkHref}},[n("user-avatar-image",{attrs:{"img-src":e.imgSrc,"img-alt":e.imgAlt,"css-classes":e.imgCssClasses,size:e.imgSize,"tooltip-text":e.avatarTooltipText,"tooltip-placement":e.tooltipPlacement}},[e._t("default")],2),e.shouldShowUsername?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-user-avatar-link-username",attrs:{title:e.tooltipText,"tooltip-placement":e.tooltipPlacement}},[e._v(e._s(e.username))]):e._e(),e._t("avatar-badge")],2)}),[],!1,null,null,null);t.a=l.exports},ZeWX:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));n("QifN"),n("pBsb"),n("Ch9p"),n("+xeR"),n("orcL"),n("pETN");var i=n("EmJ/"),r=n.n(i),s=n("06tH"),a=n.n(s);var o=n("m/7A"),l=n("XRO8"),c=n("2ibD"),u=n("GVjJ"),d=n("3twG"),f=n("/lV4"),h=n("k/Fq");class p{constructor(){!function(){const e=r()("ul.clone-options-dropdown");if(e.length){const t=r()("#clone_url"),n=r()(".js-git-clone-holder .js-clone-dropdown-label"),i=document.querySelector(".js-mobile-git-clone .js-clone-dropdown-label"),s=n.text().trim();s.length>0&&r()("a:contains('".concat(s,"')"),e).addClass("is-active"),r()("a",e).on("click",(function(n){const s=r()(n.currentTarget),a=s.attr("href");if(a&&(a.startsWith("vscode://")||a.startsWith("xcode://")))return;n.preventDefault();const o=s.data("cloneType");r()(".is-active",e).removeClass("is-active"),r()('a[data-clone-type="'.concat(o,'"]')).each((function(){const e=r()(this),t=e.find(".dropdown-menu-inner-title").text(),n=e.closest(".js-git-clone-holder, .js-mobile-git-clone").find(".js-clone-dropdown-label");e.toggleClass("is-active"),n.text(t)})),i?i.dataset.clipboardText=a:t.val(a),r()(".js-git-empty .js-clone").text(a)}))}}(),document.querySelector(".js-project-refs-dropdown")&&(p.initRefSwitcher(),r()(".project-refs-select").on("change",(function(){return r()(this).parents("form").trigger("submit")}))),r()(".hide-no-ssh-message").on("click",(function(e){return a.a.set("hide_no_ssh_message","false"),r()(this).parents(".no-ssh-key-message").remove(),e.preventDefault()})),r()(".hide-no-password-message").on("click",(function(e){return a.a.set("hide_no_password_message","false"),r()(this).parents(".no-password-message").remove(),e.preventDefault()})),r()(".hide-auto-devops-implicitly-enabled-banner").on("click",(function(e){const t=r()(this).data("project-id"),n="hide_auto_devops_implicitly_enabled_banner_".concat(t);return a.a.set(n,"false"),r()(this).parents(".auto-devops-implicitly-enabled-banner").remove(),e.preventDefault()})),p.projectSelectDropdown()}static projectSelectDropdown(){Object(h.a)(),r()(".project-item-select").on("click",(function(e){return p.changeProject(r()(e.currentTarget).val())}))}static changeProject(e){return window.location=e}static initRefSwitcher(){const e=document.createElement("li"),t=document.createElement("a");return t.href="#",r()(".js-project-refs-dropdown").each((function(){const n=r()(this),i=n.data("selected"),s=n.data("fieldName"),a=Boolean(n.data("visit")),h=n.closest("form"),p=h.attr("action"),m=Object(d.q)(Object(u.b)(h[0]),p);return Object(o.a)(n,{data(e,t){c.a.get(n.data("refsUrl"),{params:{ref:n.data("ref"),search:e}}).then((function(e){let{data:n}=e;return t(n)})).catch((function(){return Object(l.c)(Object(f.a)("An error occurred while getting projects"))}))},selectable:!0,filterable:!0,filterRemote:!0,filterByText:!0,inputFieldName:n.data("inputFieldName"),fieldName:s,renderRow(n){const r=e.cloneNode(!1),o=t.cloneNode(!1);return n===i&&(o.className="is-active"),o.textContent=n,o.dataset.ref=n,n.length>0&&a&&(o.href=Object(d.q)({[s]:n},m)),r.appendChild(o),r},id:(e,t)=>t.attr("data-ref"),toggleLabel:(e,t)=>t.text().trim(),clicked(e){const{e:t}=e;if(t.preventDefault(),a){const e=new URL(t.target.href),i=window.location.href;if(i.includes("/-/")){const t=n.data("ref"),r=i.split(t)[1];if(null==r?void 0:r.startsWith("/")){const t=null==r?void 0:r.slice(1).split("#")[0];e.searchParams.set("path",t),e.hash=window.location.hash}}t.metaKey?window.open(e.href,"_blank"):window.location.href=e.href}}})}))}}},Zia5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("4ZIW"),r=n("FoG6"),s=n("0adK");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.trackingArgs=t,this.data=Object(s.b)(e)}event(e){return!!this.data&&i.a.event(document.body.dataset.page,e,o(o({},this.trackingArgs),{},{context:{schema:r.c,data:this.data}}))}}},ZlTH:function(e,t,n){"use strict";n("pBsb");var i=n("Q33P"),r=n.n(i),s=n("G3fq"),a=n.n(s),o=n("30su"),l=n("R0j4"),c=n("EmJ/"),u=n.n(c),d=n("yi8e"),f=n("pIt4"),h=n("QwBj"),p=n("0AwG"),m=n("OgyL"),g=n("XRO8"),v=n("/lV4"),b=n("ZHzM"),y=n("J7NB"),_=n("byjy"),w=n("G/dv"),O=n("z3Iu"),k=(n("jaBk"),n("s1D3")),S=n("4lAS"),j=n("wP8z"),C=n("LLbv"),x=n("qPgm"),E=n("CUaz"),D=n("GuZl"),P=n("Or2z"),T=n("AMrI"),N=n("sHIo"),I={i18n:{buttonText:Object(v.a)("Reply to comment")},name:"ReplyButton",components:{GlButton:S.a},directives:{GlTooltip:C.a}},L=n("tBpV"),R=Object(L.a)(I,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-track-event":"click_button","data-track-label":"reply_comment_button",category:"tertiary",icon:"comment",title:e.$options.i18n.buttonText,"aria-label":e.$options.i18n.buttonText},on:{click:function(t){return e.$emit("startReplying")}}})}),[],!1,null,null,null).exports;function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M={i18n:{addReactionLabel:Object(v.a)("Add reaction"),editCommentLabel:Object(v.a)("Edit comment"),deleteCommentLabel:Object(v.a)("Delete comment"),moreActionsLabel:Object(v.a)("More actions")},name:"NoteActions",components:{GlIcon:k.a,ReplyButton:R,GlButton:S.a,GlDropdownItem:j.a,UserAccessRoleBadge:T.a,EmojiPicker:function(){return Promise.resolve().then(n.bind(null,"YH60"))}},directives:{GlTooltip:C.a},mixins:[E.a,Object(N.a)()],props:{author:{type:Object,required:!0},authorId:{type:Number,required:!0},noteId:{type:[String,Number],required:!0},noteUrl:{type:String,required:!1,default:""},accessLevel:{type:String,required:!1,default:""},reportAbusePath:{type:String,required:!1,default:null},isAuthor:{type:Boolean,required:!1,default:!1},isContributor:{type:Boolean,required:!1,default:!1},noteableType:{type:String,required:!1,default:""},projectName:{type:String,required:!1,default:""},showReply:{type:Boolean,required:!0},canEdit:{type:Boolean,required:!0},canAwardEmoji:{type:Boolean,required:!0},canDelete:{type:Boolean,required:!0},canResolve:{type:Boolean,required:!1,default:!1},resolvable:{type:Boolean,required:!1,default:!1},isResolved:{type:Boolean,required:!1,default:!1},isResolving:{type:Boolean,required:!1,default:!1},resolvedBy:{type:Object,required:!1,default:function(){return{}}},canReportAsAbuse:{type:Boolean,required:!0},awardPath:{type:String,required:!1,default:""}},computed:F(F({},Object(d.d)(["getUserDataByProp","getNoteableData"])),{},{shouldShowActionsDropdown(){return this.currentUserId&&(this.canEdit||this.canReportAsAbuse)},showDeleteAction(){return this.canDelete&&!this.canReportAsAbuse&&!this.noteUrl},isAuthoredByCurrentUser(){return this.authorId===this.currentUserId},currentUserId(){return this.getUserDataByProp("id")},isUserAssigned(){var e=this;return this.assignees&&this.assignees.some((function(t){let{id:n}=t;return n===e.author.id}))},displayAssignUserText(){return this.isUserAssigned?Object(v.a)("Unassign from commenting user"):Object(v.a)("Assign to commenting user")},sidebarAction(){return this.isUserAssigned?"sidebar.addAssignee":"sidebar.removeAssignee"},targetType(){return this.getNoteableData.targetType},noteableDisplayName(){return Object(p.p)(this.noteableType).toLowerCase()},assignees(){return this.getNoteableData.assignees||[]},isIssue(){return"issue"===this.targetType},canAssign(){var e;return(null===(e=this.getNoteableData.current_user)||void 0===e?void 0:e.can_update)&&this.isIssue},displayAuthorBadgeText(){return Object(v.f)(Object(v.a)("This user is the author of this %{noteable}."),{noteable:this.noteableDisplayName})},displayMemberBadgeText(){return Object(v.f)(Object(v.a)("This user has the %{access} role in the %{name} project."),{access:this.accessLevel.toLowerCase(),name:this.projectName})},displayContributorBadgeText(){return Object(v.f)(Object(v.a)("This user has previously committed to the %{name} project."),{name:this.projectName})},resolveIcon(){return this.isResolving?null:this.isResolved?"check-circle-filled":"check-circle"},resolveVariant(){return this.isResolved?"success":"default"}}),methods:F(F({},Object(d.c)(["toggleAwardRequest"])),{},{onEdit(){this.$emit("handleEdit")},onDelete(){this.$emit("handleDelete")},onResolve(){this.$emit("handleResolve")},closeTooltip(){var e=this;this.$nextTick((function(){e.$root.$emit(D.b)}))},handleAssigneeUpdate(e){this.$emit("updateAssignees",e),P.a.$emit(this.sidebarAction,this.author),P.a.$emit("sidebar.saveAssignees")},assignUser(){var e=this;let{assignees:t}=this;const{project_id:n,iid:i}=this.getNoteableData;this.isUserAssigned?t=t.filter((function(t){return t.id!==e.author.id})):t.push({id:this.author.id}),"issue"===this.targetType&&x.a.updateIssue(n,i,{assignee_ids:t.map((function(e){return e.id}))}).then((function(){return e.handleAssigneeUpdate(t)})).catch((function(){return Object(g.c)(Object(v.a)("Something went wrong while updating assignees"))}))},setAwardEmoji(e){this.toggleAwardRequest({endpoint:this.awardPath,noteId:this.noteId,awardName:e})}})},B=Object(L.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-actions"},[e.isAuthor?n("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mx-3 d-none d-md-inline-block",attrs:{title:e.displayAuthorBadgeText}},[e._v("\n    "+e._s(e.__("Author"))+"\n  ")]):e._e(),e._v(" "),e.accessLevel?n("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mx-3",attrs:{title:e.displayMemberBadgeText}},[e._v("\n    "+e._s(e.accessLevel)+"\n  ")]):e.isContributor?n("user-access-role-badge",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mx-3",attrs:{title:e.displayContributorBadgeText}},[e._v("\n    "+e._s(e.__("Contributor"))+"\n  ")]):e._e(),e._v(" "),e.canResolve?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"resolveButton",staticClass:"line-resolve-btn note-action-button",class:{"is-disabled":!e.resolvable,"is-active":e.isResolved},attrs:{category:"tertiary",variant:e.resolveVariant,title:e.resolveButtonTitle,"aria-label":e.resolveButtonTitle,icon:e.resolveIcon,loading:e.isResolving},on:{click:e.onResolve}}):e._e(),e._v(" "),e.canAwardEmoji?[e.glFeatures.improvedEmojiPicker?n("emoji-picker",{attrs:{"toggle-class":"note-action-button note-emoji-button gl-text-gray-600 gl-m-3 gl-p-0! gl-shadow-none! gl-bg-transparent!"},on:{click:e.setAwardEmoji},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("gl-icon",{staticClass:"link-highlight award-control-icon-neutral gl-m-0!",attrs:{name:"slight-smile"}}),e._v(" "),n("gl-icon",{staticClass:"link-highlight award-control-icon-positive gl-m-0!",attrs:{name:"smiley"}}),e._v(" "),n("gl-icon",{staticClass:"link-highlight award-control-icon-super-positive gl-m-0!",attrs:{name:"smile"}})]},proxy:!0}],null,!1,22457640)}):n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button note-emoji-button add-reaction-button btn-icon js-add-award js-note-emoji",class:{"js-user-authored":e.isAuthoredByCurrentUser},attrs:{category:"tertiary",variant:"default",title:e.$options.i18n.addReactionLabel,"aria-label":e.$options.i18n.addReactionLabel,"data-position":"right"}},[n("span",{staticClass:"reaction-control-icon reaction-control-icon-neutral"},[n("gl-icon",{attrs:{name:"slight-smile"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-positive"},[n("gl-icon",{attrs:{name:"smiley"}})],1),e._v(" "),n("span",{staticClass:"reaction-control-icon reaction-control-icon-super-positive"},[n("gl-icon",{attrs:{name:"smile"}})],1)])]:e._e(),e._v(" "),e.showReply?n("reply-button",{ref:"replyButton",staticClass:"js-reply-button",on:{startReplying:function(t){return e.$emit("startReplying")}}}):e._e(),e._v(" "),e.canEdit?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-edit",attrs:{title:e.$options.i18n.editCommentLabel,"aria-label":e.$options.i18n.editCommentLabel,icon:"pencil",category:"tertiary","data-qa-selector":"note_edit_button"},on:{click:e.onEdit}}):e._e(),e._v(" "),e.showDeleteAction?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button js-note-delete",attrs:{title:e.$options.i18n.deleteCommentLabel,"aria-label":e.$options.i18n.deleteCommentLabel,icon:"remove",category:"tertiary"},on:{click:e.onDelete}}):e.shouldShowActionsDropdown?n("div",{staticClass:"dropdown more-actions"},[n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"note-action-button more-actions-toggle",attrs:{title:e.$options.i18n.moreActionsLabel,"aria-label":e.$options.i18n.moreActionsLabel,icon:"ellipsis_v",category:"tertiary","data-toggle":"dropdown"},on:{click:e.closeTooltip}}),e._v(" "),n("ul",{staticClass:"dropdown-menu more-actions-dropdown dropdown-open-left"},[e.canReportAsAbuse?n("gl-dropdown-item",{attrs:{href:e.reportAbusePath}},[e._v("\n        "+e._s(e.__("Report abuse to admin"))+"\n      ")]):e._e(),e._v(" "),e.noteUrl?n("gl-dropdown-item",{staticClass:"js-btn-copy-note-link",attrs:{"data-clipboard-text":e.noteUrl}},[e._v("\n        "+e._s(e.__("Copy link"))+"\n      ")]):e._e(),e._v(" "),e.canAssign?n("gl-dropdown-item",{attrs:{"data-testid":"assign-user"},on:{click:e.assignUser}},[e._v("\n        "+e._s(e.displayAssignUserText)+"\n      ")]):e._e(),e._v(" "),e.canEdit?n("gl-dropdown-item",{staticClass:"js-note-delete",on:{click:function(t){return t.preventDefault(),e.onDelete(t)}}},[n("span",{staticClass:"text-danger"},[e._v(e._s(e.__("Delete comment")))])]):e._e()],1)],1):e._e()],2)}),[],!1,null,null,null).exports,$=(n("EJYk"),n("KAYR")),V=n("ywIy"),U={name:"NoteAttachment",components:{GlIcon:k.a},props:{attachment:{type:Object,required:!0}}},G=Object(L.a)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-attachment"},[e.attachment.image?n("a",{ref:"attachmentImage",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[n("img",{staticClass:"note-image-attach col-lg-4",attrs:{src:e.attachment.url}})]):e._e(),e._v(" "),n("div",{staticClass:"attachment"},[e.attachment.url?n("a",{ref:"attachmentUrl",attrs:{href:e.attachment.url,target:"_blank",rel:"noopener noreferrer"}},[n("gl-icon",{attrs:{name:"paperclip"}}),e._v(" "+e._s(e.attachment.filename)+"\n    ")],1):e._e()])])}),[],!1,null,null,null).exports;function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q={components:{AwardsList:n("NbhA").a},props:{awards:{type:Array,required:!0},toggleAwardPath:{type:String,required:!0},noteAuthorId:{type:Number,required:!0},noteId:{type:String,required:!0},canAwardEmoji:{type:Boolean,required:!0}},computed:z(z({},Object(d.d)(["getUserData"])),{},{isAuthoredByMe(){return this.noteAuthorId===this.getUserData.id},addButtonClass(){return this.isAuthoredByMe?"js-user-authored":""}}),methods:z(z({},Object(d.c)(["toggleAwardRequest"])),{},{handleAward(e){const t={endpoint:this.toggleAwardPath,noteId:this.noteId,awardName:e};this.toggleAwardRequest(t).catch((function(){return Object(g.c)(Object(v.a)("Something went wrong on our end."))}))}})},K=Object(L.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note-awards"},[n("awards-list",{attrs:{awards:e.awards,"can-award-emoji":e.canAwardEmoji,"current-user-id":e.getUserData.id,"add-button-class":e.addButtonClass},on:{award:function(t){return e.handleAward(t)}}})],1)}),[],!1,null,null,null).exports,Y=n("c82y"),X=n("OsT7");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te={components:{noteEditedText:Y.a,noteAwardsList:K,noteAttachment:G,noteForm:X.a,Suggestions:$.a},mixins:[V.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},file:{type:Object,required:!1,default:null},canEdit:{type:Boolean,required:!0},isEditing:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:Z(Z(Z(Z({},Object(d.d)(["getDiscussion","suggestionsCount"])),Object(d.d)("diffs",["suggestionCommitMessage"])),{},{discussion(){return this.note.isDraft?this.getDiscussion(this.note.discussion_id):{}}},Object(d.f)({batchSuggestionsInfo:function(e){return e.notes.batchSuggestionsInfo}})),{},{noteBody(){return this.note.note},hasSuggestion(){return this.note.suggestions&&this.note.suggestions.length},lineType(){return this.line?this.line.type:null},commitMessage(){const e=this.file?[this.file.file_path]:[],t=this.suggestionCommitMessage({file_paths:e.join(", "),suggestions_count:1,files_count:1});return a()(t)}}),mounted(){this.renderGFM(),this.isEditing&&this.initAutoSave(this.note)},updated(){this.renderGFM(),this.isEditing&&(this.autosave?this.setAutoSave():this.initAutoSave(this.note))},methods:Z(Z({},Object(d.c)(["submitSuggestion","submitSuggestionBatch","addSuggestionInfoToBatch","removeSuggestionInfoFromBatch"])),{},{renderGFM(){u()(this.$refs["note-body"]).renderGFM()},handleFormUpdate(e,t,n,i){this.$emit("handleFormUpdate",e,t,n,i)},formCancelHandler(e,t){this.$emit("cancelForm",e,t)},applySuggestion(e){let{suggestionId:t,flashContainer:n,callback:i=function(){},message:r}=e;const{discussion_id:s,id:a}=this.note;return this.submitSuggestion({discussionId:s,noteId:a,suggestionId:t,flashContainer:n,message:r}).then(i)},applySuggestionBatch(e){let{flashContainer:t}=e;return this.submitSuggestionBatch({flashContainer:t})},addSuggestionToBatch(e){const{discussion_id:t,id:n}=this.note;this.addSuggestionInfoToBatch({suggestionId:e,discussionId:t,noteId:n})},removeSuggestionFromBatch(e){this.removeSuggestionInfoFromBatch(e)}})},ne=Object(L.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"note-body",staticClass:"note-body",class:{"js-task-list-container":e.canEdit}},[e.hasSuggestion&&!e.isEditing?n("suggestions",{attrs:{suggestions:e.note.suggestions,"suggestions-count":e.suggestionsCount,"batch-suggestions-info":e.batchSuggestionsInfo,"note-html":e.note.note_html,"line-type":e.lineType,"help-page-path":e.helpPagePath,"default-commit-message":e.commitMessage},on:{apply:e.applySuggestion,applyBatch:e.applySuggestionBatch,addToBatch:e.addSuggestionToBatch,removeFromBatch:e.removeSuggestionFromBatch}}):n("div",{staticClass:"note-text md",domProps:{innerHTML:e._s(e.note.note_html)}}),e._v(" "),e.isEditing?n("note-form",{ref:"noteForm",attrs:{"is-editing":e.isEditing,"note-body":e.noteBody,"note-id":e.note.id,line:e.line,note:e.note,"help-page-path":e.helpPagePath,discussion:e.discussion,"resolve-discussion":e.note.resolve_discussion},on:{handleFormUpdate:e.handleFormUpdate,cancelForm:e.formCancelHandler}}):e._e(),e._v(" "),e.canEdit?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note.note,expression:"note.note"}],staticClass:"hidden js-task-list-field",attrs:{"data-update-url":e.note.path,dir:"auto"},domProps:{value:e.note.note},on:{input:function(t){t.target.composing||e.$set(e.note,"note",t.target.value)}}}):e._e(),e._v(" "),e.note.last_edited_at?n("note-edited-text",{staticClass:"note_edited_ago",attrs:{"edited-at":e.note.last_edited_at,"edited-by":e.note.last_edited_by,"action-text":"Edited"}}):e._e(),e._v(" "),e.note.award_emoji&&e.note.award_emoji.length?n("note-awards-list",{attrs:{"note-id":e.note.id,"note-author-id":e.note.author.id,awards:e.note.award_emoji,"toggle-award-path":e.note.toggle_award_path,"can-award-emoji":e.note.current_user.can_award_emoji}}):e._e(),e._v(" "),e.note.attachment?n("note-attachment",{attrs:{attachment:e.note.attachment}}):e._e()],1)}),[],!1,null,null,null).exports,ie=n("TNeE");function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe={name:"NoteableNote",components:{GlSprintf:o.a,userAvatarLink:b.a,noteHeader:ie.a,noteActions:B,NoteBody:ne,TimelineEntryItem:m.a},directives:{SafeHtml:l.a},mixins:[_.a,w.a],props:{note:{type:Object,required:!0},line:{type:Object,required:!1,default:null},discussionFile:{type:Object,required:!1,default:null},helpPagePath:{type:String,required:!1,default:""},commit:{type:Object,required:!1,default:function(){return null}},showReplyButton:{type:Boolean,required:!1,default:!1},diffLines:{type:Array,required:!1,default:null},discussionRoot:{type:Boolean,required:!1,default:!1},discussionResolvePath:{type:String,required:!1,default:""}},data:()=>({isEditing:!1,isDeleting:!1,isRequesting:!1,isResolving:!1,commentLineStart:{},resolveAsThread:!0}),computed:se(se(se({},Object(d.d)("diffs",["getDiffFileByHash"])),Object(d.d)(["targetNoteHash","getNoteableData","getUserData","commentsDisabled"])),{},{author(){return this.note.author},classNameBindings(){return{["note-row-".concat(this.note.id)]:!0,"is-editing":this.isEditing&&!this.isRequesting,"is-requesting being-posted":this.isRequesting,"disabled-content":this.isDeleting,target:this.isTarget,"is-editable":this.note.current_user.can_edit}},canReportAsAbuse(){return Boolean(this.note.report_abuse_path)&&this.author.id!==this.getUserData.id},noteAnchorId(){return"note_".concat(this.note.id)},isTarget(){return this.targetNoteHash===this.noteAnchorId},discussionId(){return this.discussion?this.discussion.id:""},actionText(){if(!this.commit)return"";const{id:e,url:t}=this.commit,n='<a class="commit-sha monospace" href="'.concat(a()(t),'">').concat(Object(p.u)(e),"</a>");return Object(v.f)(Object(v.e)("MergeRequests|commented on commit %{commitLink}"),{commitLink:n},!1)},isDraft(){return this.note.isDraft},canResolve(){return!!this.discussionRoot&&this.note.current_user.can_resolve_discussion},lineRange(){var e;return null===(e=this.note.position)||void 0===e?void 0:e.line_range},startLineNumber(){return Object(O.f)(this.lineRange)},endLineNumber(){return Object(O.d)(this.lineRange)},showMultiLineComment(){return!(!this.discussionRoot||0===this.startLineNumber.length||0===this.endLineNumber.length)&&(this.line&&this.startLineNumber!==this.endLineNumber)},commentLineOptions(){const e=this.diffFile[f.I].length;return Object(O.a)(e,this.commentLineStart,this.line.line_code)},diffFile(){let e;if(this.commentLineStart.line_code){const t=this.commentLineStart.line_code.split("_")[0];e=this.getDiffFileByHash(t)}return!e&&this.discussionFile&&(e=this.discussionFile),e||null}}),created(){var e,t,n=this;const i=(null===(e=this.note.position)||void 0===e?void 0:null===(t=e.line_range)||void 0===t?void 0:t.start)||this.line;this.commentLineStart=i?{line_code:i.line_code,type:i.type,old_line:i.old_line,new_line:i.new_line}:{},y.a.$on("enterEditMode",(function(e){let{noteId:t}=e;t===n.note.id&&(n.isEditing=!0,n.setSelectedCommentPositionHover(),n.scrollToNoteIfNeeded(u()(n.$el)))}))},mounted(){this.isTarget&&this.scrollToNoteIfNeeded(u()(this.$el))},methods:se(se({},Object(d.c)(["deleteNote","removeNote","updateNote","toggleResolveNote","scrollToNoteIfNeeded","updateAssignees","setSelectedCommentPositionHover","updateDiscussionPosition"])),{},{editHandler(){this.isEditing=!0,this.setSelectedCommentPositionHover(),this.$emit("handleEdit")},deleteHandler(){var e=this;const t=this.note.isDraft?Object(v.a)("pending comment"):Object(v.a)("comment");if(window.confirm(Object(v.f)(Object(v.a)("Are you sure you want to delete this %{typeOfComment}?"),{typeOfComment:t}))){if(this.isDeleting=!0,this.$emit("handleDeleteNote",this.note),this.note.isDraft)return;this.deleteNote(this.note).then((function(){e.isDeleting=!1})).catch((function(){Object(g.c)(Object(v.a)("Something went wrong while deleting your note. Please try again.")),e.isDeleting=!1}))}},updateSuccess(){this.isEditing=!1,this.isRequesting=!1,this.oldContent=null,u()(this.$refs.noteBody.$el).renderGFM(),this.$refs.noteBody.resetAutoSave(),this.$emit("updateSuccess")},formUpdateHandler(e,t,n,i){var s=this;const o=se({},this.note.position);if(this.discussionRoot&&this.commentLineStart&&this.line&&(o.line_range=Object(O.b)(this.commentLineStart,this.line),this.updateDiscussionPosition({discussionId:this.note.discussion_id,position:o})),this.$emit("handleUpdateNote",{note:this.note,noteText:e,resolveDiscussion:i,position:o,callback:function(){return s.updateSuccess()}}),this.isDraft)return;const l={endpoint:this.note.path,note:{target_type:this.getNoteableData.targetType,target_id:this.note.noteable_id,note:{note:e}}};r()(o)||(l.note.note.position=JSON.stringify(o)),this.isRequesting=!0,this.oldContent=this.note.note_html,this.note.note_html=a()(e),this.updateNote(l).then((function(){s.updateSuccess(),n()})).catch((function(t){t.status===h.a.GONE?(s.removeNote(s.note),s.updateSuccess(),n()):(s.isRequesting=!1,s.isEditing=!0,s.setSelectedCommentPositionHover(),s.$nextTick((function(){const t=Object(v.a)("Something went wrong while editing your comment. Please try again.");Object(g.c)(t,"alert",s.$el),s.recoverNoteContent(e),n()})))}))},formCancelHandler(e,t){e&&t&&!window.confirm(Object(v.a)("Are you sure you want to cancel editing this comment?"))||(this.$refs.noteBody.resetAutoSave(),this.oldContent&&(this.note.note_html=this.oldContent,this.oldContent=null),this.isEditing=!1,this.$emit("cancelForm"))},recoverNoteContent(e){this.note.note=e;const{noteBody:t}=this.$refs;t&&(t.note.note=e)},getLineClasses:e=>Object(O.e)(e),assigneesUpdate(e){this.updateAssignees(e)}})},le=Object(L.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-wrapper",class:e.classNameBindings,attrs:{id:e.noteAnchorId,"data-award-url":e.note.toggle_award_path,"data-note-id":e.note.id,"data-qa-selector":"noteable_note_container"}},[e.showMultiLineComment?n("div",{staticClass:"gl-mb-3 gl-text-gray-500 gl-border-gray-200 gl-border-b-solid gl-border-b-1 gl-pb-3",attrs:{"data-testid":"multiline-comment"}},[n("gl-sprintf",{attrs:{message:e.__("Comment on lines %{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[n("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[n("span",{class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1413361638)})],1):e._e(),e._v(" "),n("div",{staticClass:"timeline-icon"},[n("user-avatar-link",{attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}},[e._t("avatar-badge",null,{slot:"avatar-badge"})],2)],1),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"note-header"},[n("note-header",{attrs:{author:e.author,"created-at":e.note.created_at,"note-id":e.note.id,"is-confidential":e.note.confidential}},[e._t("note-header-info",null,{slot:"note-header-info"}),e._v(" "),e.commit?n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionText,expression:"actionText"}]}):e.note.created_at?n("span",{staticClass:"d-none d-sm-inline"},[e._v("")]):e._e()],2),e._v(" "),n("note-actions",{attrs:{author:e.author,"author-id":e.author.id,"note-id":e.note.id,"note-url":e.note.noteable_note_url,"access-level":e.note.human_access,"is-contributor":e.note.is_contributor,"is-author":e.note.is_noteable_author,"project-name":e.note.project_name,"noteable-type":e.note.noteable_type,"show-reply":e.showReplyButton,"can-edit":e.note.current_user.can_edit,"can-award-emoji":e.note.current_user.can_award_emoji,"can-delete":e.note.current_user.can_edit,"can-report-as-abuse":e.canReportAsAbuse,"can-resolve":e.canResolve,"report-abuse-path":e.note.report_abuse_path,resolvable:e.note.resolvable||e.note.isDraft,"is-resolved":e.note.resolved||e.note.resolve_discussion,"is-resolving":e.isResolving,"resolved-by":e.note.resolved_by,"is-draft":e.note.isDraft,"resolve-discussion":e.note.isDraft&&e.note.resolve_discussion,"discussion-id":e.discussionId,"award-path":e.note.toggle_award_path},on:{handleEdit:e.editHandler,handleDelete:e.deleteHandler,handleResolve:e.resolveHandler,startReplying:function(t){return e.$emit("startReplying")},updateAssignees:e.assigneesUpdate}})],1),e._v(" "),n("div",{staticClass:"timeline-discussion-body"},[e._t("discussion-resolved-text"),e._v(" "),n("note-body",{ref:"noteBody",attrs:{note:e.note,line:e.line,file:e.diffFile,"can-edit":e.note.current_user.can_edit,"is-editing":e.isEditing,"help-page-path":e.helpPagePath},on:{handleFormUpdate:e.formUpdateHandler,cancelForm:e.formCancelHandler}})],2)])])}),[],!1,null,null,null);t.a=le.exports},Zpbh:function(e,t,n){"use strict";n.d(t,"m",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"l",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"n",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return g}));const i={codeBlock:"codeBlock",link:"link",seconds:"seconds",text:"text"},r="LOADING",s="ERROR",a="SUCCESS",o="failed",l="success",c="neutral",u="warning",d="success",f="notfound",h={LOADING:r,ERROR:s,SUCCESS:a},p="success",m="loading",g="error"},ZqG5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"mergeRequestReference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reference"},arguments:[{kind:"Argument",name:{kind:"Name",value:"full"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}}]}}]}}],loc:{start:0,end:226}};n.loc.source={body:"query mergeRequestReference($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: mergeRequest(iid: $iid) {\n      __typename\n      id\n      reference(full: true)\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.mergeRequestReference=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"mergeRequestReference")},a0mT:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("1M6e"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(e){var t=l(this),n=a(e),i=n.has;return"function"!=typeof i&&(n=new(s("Set"))(e),i=o(n.has)),!c(t,(function(e,t){if(!1===i.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},a5E7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueConfidential"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueSetConfidentialInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuableSetConfidential"},name:{kind:"Name",value:"issueSetConfidential"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confidential"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:209}};n.loc.source={body:"mutation updateIssueConfidential($input: IssueSetConfidentialInput!) {\n  issuableSetConfidential: issueSetConfidential(input: $input) {\n    issuable: issue {\n      id\n      confidential\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateIssueConfidential=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateIssueConfidential")},aBoS:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"User"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]}]}}],loc:{start:0,end:70}};n.loc.source={body:"fragment User on User {\n  id\n  avatarUrl\n  name\n  username\n  webUrl\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},aLi5:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"mergeRequestSetAssignees"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assigneeUsernames"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequestSetAssignees"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}},{kind:"ObjectField",name:{kind:"Name",value:"assigneeUsernames"},value:{kind:"Variable",name:{kind:"Name",value:"assigneeUsernames"}}},{kind:"ObjectField",name:{kind:"Name",value:"projectPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:596}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nmutation mergeRequestSetAssignees($iid: String!, $assigneeUsernames: [String!]!, $fullPath: ID!) {\n  mergeRequestSetAssignees(\n    input: { iid: $iid, assigneeUsernames: $assigneeUsernames, projectPath: $fullPath }\n  ) {\n    mergeRequest {\n      id\n      assignees {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n      participants {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.mergeRequestSetAssignees=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"mergeRequestSetAssignees")},aOF2:function(e,t,n){"use strict";var i=n("0zRR"),r=n("h3Ey"),s=n("6nFr"),a=n("/Szx"),o=n("lgrP"),l=n("o/E4"),c={css:!0,enterClass:"",enterActiveClass:"collapsing",enterToClass:"collapse show",leaveClass:"collapse show",leaveActiveClass:"collapsing",leaveToClass:"collapse"},u={enter:function(e){Object(l.F)(e,"height",0),Object(l.B)((function(){Object(l.w)(e),Object(l.F)(e,"height","".concat(e.scrollHeight,"px"))}))},afterEnter:function(e){Object(l.A)(e,"height")},leave:function(e){Object(l.F)(e,"height","auto"),Object(l.F)(e,"display","block"),Object(l.F)(e,"height","".concat(Object(l.i)(e).height,"px")),Object(l.w)(e),Object(l.F)(e,"height",0)},afterLeave:function(e){Object(l.A)(e,"height")}},d=a.a.extend({name:i.o,functional:!0,props:{appear:{type:Boolean,default:!1}},render:function(e,t){var n=t.props,i=t.data,r=t.children;return e("transition",Object(o.a)(i,{props:c,on:u},{props:n}),r)}}),f=n("EGlP"),h=n("QXXq"),p=n("DXSV"),m=n("6iM1"),g=n("EQ0+"),v=n("/GZH"),b=(n("zlPX"),n("NSGy"),n("TjC/"),n("BrvI"),n("7bmO"),"__BV_toggle"),y=("".concat(b,"_HANDLER__"),"".concat(b,"_CLICK__"),"".concat(b,"_STATE__"),"".concat(b,"_TARGETS__"),v.c,v.h,a.a.extend({name:i.n,mixins:[p.a,m.a,g.a],model:{prop:"visible",event:"input"},props:{isNav:{type:Boolean,default:!1},accordion:{type:String},visible:{type:Boolean,default:!1},tag:{type:String,default:"div"},appear:{type:Boolean,default:!1}},data:function(){return{show:this.visible,transitioning:!1}},computed:{classObject:function(){return{"navbar-collapse":this.isNav,collapse:!this.transitioning,show:this.show&&!this.transitioning}}},watch:{visible:function(e){e!==this.show&&(this.show=e)},show:function(e,t){e!==t&&this.emitState()}},created:function(){this.show=this.visible},mounted:function(){var e=this;this.show=this.visible,this.listenOnRoot("bv::toggle::collapse",this.handleToggleEvt),this.listenOnRoot("bv::collapse::accordion",this.handleAccordionEvt),this.isNav&&(this.setWindowEvents(!0),this.handleResize()),this.$nextTick((function(){e.emitState()})),this.listenOnRoot("bv::request::collapse::state",(function(t){t===e.safeId()&&e.$nextTick(e.emitSync)}))},updated:function(){this.emitSync()},deactivated:function(){this.isNav&&this.setWindowEvents(!1)},activated:function(){this.isNav&&this.setWindowEvents(!0),this.emitSync()},beforeDestroy:function(){this.show=!1,this.isNav&&f.g&&this.setWindowEvents(!1)},methods:{setWindowEvents:function(e){Object(h.c)(e,window,"resize",this.handleResize,r.a),Object(h.c)(e,window,"orientationchange",this.handleResize,r.a)},toggle:function(){this.show=!this.show},onEnter:function(){this.transitioning=!0,this.$emit("show")},onAfterEnter:function(){this.transitioning=!1,this.$emit("shown")},onLeave:function(){this.transitioning=!0,this.$emit("hide")},onAfterLeave:function(){this.transitioning=!1,this.$emit("hidden")},emitState:function(){this.$emit("input",this.show),this.emitOnRoot("bv::collapse::state",this.safeId(),this.show),this.accordion&&this.show&&this.emitOnRoot("bv::collapse::accordion",this.safeId(),this.accordion)},emitSync:function(){this.emitOnRoot("bv::collapse::sync::state",this.safeId(),this.show)},checkDisplayBlock:function(){var e=Object(l.p)(this.$el,"show");Object(l.y)(this.$el,"show");var t="block"===Object(l.k)(this.$el).display;return e&&Object(l.b)(this.$el,"show"),t},clickHandler:function(e){var t=e.target;this.isNav&&t&&"block"===Object(l.k)(this.$el).display&&(Object(l.v)(t,".nav-link,.dropdown-item")||Object(l.e)(".nav-link,.dropdown-item",t))&&(this.checkDisplayBlock()||(this.show=!1))},handleToggleEvt:function(e){e===this.safeId()&&this.toggle()},handleAccordionEvt:function(e,t){this.accordion&&t===this.accordion&&(e===this.safeId()?this.show||this.toggle():this.show&&this.toggle())},handleResize:function(){this.show="block"===Object(l.k)(this.$el).display}},render:function(e){var t=this,n={visible:this.show,close:function(){return t.show=!1}},i=e(this.tag,{class:this.classObject,directives:[{name:"show",value:this.show}],attrs:{id:this.safeId()},on:{click:this.clickHandler}},[this.normalizeSlot(s.c,n)]);return e(d,{props:{appear:this.appear},on:{enter:this.onEnter,afterEnter:this.onAfterEnter,leave:this.onLeave,afterLeave:this.onAfterLeave}},[i])}})),_=n("Pyw5");const w={components:{BCollapse:y},model:{prop:"visible",event:"input"}};const O=n.n(_)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-collapse",this._g(this._b({},"b-collapse",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,w,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=O},aOyP:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.tree-list-blobs .file-row-name {\n  margin-left: 12px;\n}\n.diff-tree-search-shortcut {\n  top: 50%;\n  right: 10px;\n  transform: translateY(-50%);\n  pointer-events: none;\n}\n.tree-list-icon:not(button) {\n  pointer-events: none;\n}\n",""])},aTm7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("06tH"),r=n.n(i),s=n("pIt4");function a(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=r.a.get(s.q);return t?t===s.x:e}},aYTY:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},ayhe:function(e,t,n){var i=n("PpKG"),r=n("1M6e");e.exports=i?r:function(e){return Set.prototype.values.call(e)}},"b/GH":function(e,t,n){var i=n("TXW/");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},bKga:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return v}));function i(){}function r(e,t){var n=new i;if(e instanceof i)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var r,s=-1,a=e.length;if(null==t)for(;++s<a;)n.set(s,e[s]);else for(;++s<a;)n.set(t(r=e[s],s,e),r)}else if(e)for(var o in e)n.set(o,e[o]);return n}i.prototype=r.prototype={constructor:i,has:function(e){return"$"+e in this},get:function(e){return this["$"+e]},set:function(e,t){return this["$"+e]=t,this},remove:function(e){var t="$"+e;return t in this&&delete this[t]},clear:function(){for(var e in this)"$"===e[0]&&delete this[e]},keys:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)"$"===t[0]&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)"$"===t[0]&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)"$"===t[0]&&++e;return e},empty:function(){for(var e in this)if("$"===e[0])return!1;return!0},each:function(e){for(var t in this)"$"===t[0]&&e(this[t],t.slice(1),this)}};var s=r,a=function(){var e,t,n,i=[],r=[];function a(n,r,o,l){if(r>=i.length)return null!=e&&n.sort(e),null!=t?t(n):n;for(var c,u,d,f=-1,h=n.length,p=i[r++],m=s(),g=o();++f<h;)(d=m.get(c=p(u=n[f])+""))?d.push(u):m.set(c,[u]);return m.each((function(e,t){l(g,t,a(e,r,o,l))})),g}return n={object:function(e){return a(e,0,o,l)},map:function(e){return a(e,0,c,u)},entries:function(e){return function e(n,s){if(++s>i.length)return n;var a,o=r[s-1];return null!=t&&s>=i.length?a=n.entries():(a=[],n.each((function(t,n){a.push({key:n,values:e(t,s)})}))),null!=o?a.sort((function(e,t){return o(e.key,t.key)})):a}(a(e,0,c,u),0)},key:function(e){return i.push(e),n},sortKeys:function(e){return r[i.length-1]=e,n},sortValues:function(t){return e=t,n},rollup:function(e){return t=e,n}}};function o(){return{}}function l(e,t,n){e[t]=n}function c(){return s()}function u(e,t,n){e.set(t,n)}function d(){}var f=s.prototype;function h(e,t){var n=new d;if(e instanceof d)e.each((function(e){n.add(e)}));else if(e){var i=-1,r=e.length;if(null==t)for(;++i<r;)n.add(e[i]);else for(;++i<r;)n.add(t(e[i],i,e))}return n}d.prototype=h.prototype={constructor:d,has:f.has,add:function(e){return this["$"+(e+="")]=e,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var p=h,m=function(e){var t=[];for(var n in e)t.push(n);return t},g=function(e){var t=[];for(var n in e)t.push(e[n]);return t},v=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}},bS9M:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"epicSubscribed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emailsDisabled"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscribed"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:212}};n.loc.source={body:"query epicSubscribed($fullPath: ID!, $iid: ID) {\n  workspace: group(fullPath: $fullPath) {\n    __typename\n    emailsDisabled\n    issuable: epic(iid: $iid) {\n      __typename\n      id\n      subscribed\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.epicSubscribed=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"epicSubscribed")},"bX/R":function(e,t,n){"use strict";var i=n("R0j4"),r=n("yi8e"),s=n("/lV4");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={directives:{SafeHtml:i.a},computed:o(o({},Object(r.d)(["getNotesDataByProp"])),{},{registerLink(){return this.getNotesDataByProp("registerPath")},signInLink(){return this.getNotesDataByProp("newSessionPath")},signedOutText(){return Object(s.f)(Object(s.a)("Please %{startTagRegister}register%{endRegisterTag} or %{startTagSignIn}sign in%{endSignInTag} to reply"),{startTagRegister:'<a href="'.concat(this.registerLink,'">'),startTagSignIn:'<a href="'.concat(this.signInLink,'">'),endRegisterTag:"</a>",endSignInTag:"</a>"},!1)}})},u=n("tBpV"),d=Object(u.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:this.signedOutText,expression:"signedOutText"}],staticClass:"disabled-comment text-center"})}),[],!1,null,null,null);t.a=d.exports},bpeo:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const i="issuable_vue_app:change",r={issues:"issues",mergeRequests:"merge-requests"}},byjy:function(e,t,n){"use strict";var i=n("7KAB");t.a={computed:{noteableType(){const e=this.discussion?this.discussion.notes[0]:this.note;return i.NOTEABLE_TYPE_MAPPING[e.noteable_type]}}}},c82y:function(e,t,n){"use strict";var i={name:"EditedNoteText",components:{timeAgoTooltip:n("Fsq/").a},props:{actionText:{type:String,required:!0},actionDetailText:{type:String,required:!1,default:""},editedAt:{type:String,required:!1,default:null},editedBy:{type:Object,required:!1,default:null},className:{type:String,required:!1,default:"edited-text"}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.className},[e._v("\n  "+e._s(e.actionText)+"\n  "),e.editedBy?[e._v("\n    by\n    "),n("a",{staticClass:"js-user-link author-link",attrs:{href:e.editedBy.path,"data-user-id":e.editedBy.id}},[e._v("\n      "+e._s(e.editedBy.name)+"\n    ")])]:e._e(),e._v("\n  "+e._s(e.actionDetailText)+"\n  "),n("time-ago-tooltip",{attrs:{time:e.editedAt,"tooltip-placement":"bottom"}})],2)}),[],!1,null,null,null);t.a=s.exports},cioq:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"timeTrackingReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TimelogFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:252}};i.loc.source={body:'#import "~/graphql_shared/fragments/issuable_timelogs.fragment.graphql"\n\nquery timeTrackingReport($id: IssueID!) {\n  issuable: issue(id: $id) {\n    __typename\n    id\n    title\n    timelogs {\n      nodes {\n        ...TimelogFragment\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("+YT9").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.timeTrackingReport=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"timeTrackingReport")},cyZB:function(e,t,n){"use strict";n("jaBk"),n("QifN"),n("S26F");var i=n("yi8e"),r=n("oz03"),s=n("/lV4"),a=n("ONti"),o=n("OgyL"),l={functional:!0,render(e,t){const{slotKeys:n}=t.props,i=t.slots();return n.map((function(e){return i[e]})).filter((function(e){return e}))}},c=n("tBpV"),u=Object(c.a)(l,void 0,void 0,!1,null,null,null).exports,d=n("sHIo"),f=n("PTFM"),h=n("XRO8"),p=n("3twG"),m=n("sZvX"),g=n("zkom"),v={name:"SkeletonNote",components:{GlSkeletonLoading:n("TBBL").a,TimelineEntryItem:o.a}},b=Object(c.a)(v,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note note-wrapper",attrs:{"data-qa-selector":"skeleton_note_placeholder"}},[t("div",{staticClass:"timeline-icon"}),this._v(" "),t("div",{staticClass:"timeline-content"},[t("div",{staticClass:"note-header"}),this._v(" "),t("div",{staticClass:"note-body"},[t("gl-skeleton-loading")],1)])])}),[],!1,null,null,null).exports,y=n("gvRd"),_=n("7KAB"),w=n("J7NB"),O=(n("KcQl"),n("dsWN")),k=n("4lAS"),S=n("s1D3"),j=n("SeSR"),C=n("Yyc1"),x=n("wP8z"),E=n("koWC"),D=n("LLbv"),P=n("k5du"),T=n.n(P),N=n("EmJ/"),I=n.n(N),L=n("tRCE"),R=n("s4z4"),A=n("JGUf"),F=n("QwBj"),q=n("0AwG"),M=n("IeAI");const B={GENERIC_UNSUBMITTABLE_NETWORK:Object(s.a)("Your comment could not be submitted! Please check your network connection and try again."),note:Object(s.a)("Note"),comment:Object(s.a)("Comment"),issue:Object(s.a)("issue"),startThread:Object(s.a)("Start thread"),mergeRequest:Object(s.a)("merge request"),bodyPlaceholder:Object(s.a)("Write a comment or drag your files here"),confidential:Object(s.e)("Notes|Make this comment confidential"),confidentialVisibility:Object(s.e)("Notes|Confidential comments are only visible to project members"),discussionThatNeedsResolution:Object(s.a)("Discuss a specific suggestion or question that needs to be resolved."),discussion:Object(s.a)("Discuss a specific suggestion or question."),actionButtonWithNote:Object(s.a)("%{actionText} & %{openOrClose} %{noteable}"),actionButton:Object(s.a)("%{openOrClose} %{noteable}"),submitButton:{startThread:Object(s.a)("Start thread"),comment:Object(s.a)("Comment"),commentHelp:Object(s.a)("Add a general comment to this %{noteableDisplayName}.")}};var $=n("IsdW"),V=n("UK5N"),U=n("MV2A"),G={props:{issuableType:{required:!0,type:String}},computed:{issuableDisplayName(){return this.issuableType.replace(/_/g," ")}}},H={components:{GlIcon:S.a,GlLink:U.a},mixins:[G,$.a],computed:{projectArchivedWarning:()=>Object(s.a)("This project is archived and cannot be commented on."),lockedIssueWarning(){return Object(s.f)(Object(s.a)("This %{issuableDisplayName} is locked. Only project members can comment."),{issuableDisplayName:this.issuableDisplayName})}}},z=Object(c.a)(H,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"disabled-comment text-center"},[n("span",{staticClass:"issuable-note-warning inline"},[n("gl-icon",{staticClass:"icon",attrs:{size:16,name:"lock"}}),e._v(" "),e.isProjectArchived?n("span",[e._v("\n      "+e._s(e.projectArchivedWarning)+"\n      "),n("gl-link",{staticClass:"learn-more",attrs:{href:e.archivedProjectDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1):n("span",[e._v("\n      "+e._s(e.lockedIssueWarning)+"\n      "),n("gl-link",{staticClass:"learn-more",attrs:{href:e.lockedIssueDocsPath,target:"_blank"}},[e._v("\n        "+e._s(e.__("Learn more"))+"\n      ")])],1)],1)])}),[],!1,null,null,null).exports,W=n("bX/R");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{UNPROCESSABLE_ENTITY:X}=F.a;var J={name:"CommentForm",i18n:B,noteTypeComment:_.COMMENT,noteTypeDiscussion:_.DISCUSSION,components:{noteSignedOutWidget:W.a,discussionLockedWidget:z,markdownField:M.a,GlAlert:O.a,GlButton:k.a,TimelineEntryItem:o.a,GlIcon:S.a,CommentFieldLayout:V.a,GlFormCheckbox:j.a,GlDropdown:C.a,GlDropdownItem:x.a,GlDropdownDivider:E.a},directives:{GlTooltip:D.a},mixins:[Object(d.a)(),$.a],props:{noteableType:{type:String,required:!0}},data:()=>({note:"",noteType:_.COMMENT,errors:[],noteIsConfidential:!1,isSubmitting:!1}),computed:K(K(K({},Object(i.d)(["getCurrentUserLastNote","getUserData","getNoteableData","getNoteableDataByProp","getNotesData","openState","hasDrafts"])),Object(i.f)(["isToggleStateButtonLoading"])),{},{isNoteTypeComment(){return this.noteType===_.COMMENT},isNoteTypeDiscussion(){return this.noteType===_.DISCUSSION},noteableDisplayName(){return Object(q.p)(this.noteableType).toLowerCase()},isLoggedIn(){return this.getUserData.id},commentButtonTitle(){return this.noteType===_.COMMENT?this.$options.i18n.comment:this.$options.i18n.startThread},startDiscussionDescription(){return this.getNoteableData.noteableType===_.MERGE_REQUEST_NOTEABLE_TYPE?this.$options.i18n.discussionThatNeedsResolution:this.$options.i18n.discussion},commentDescription(){return Object(s.f)(this.$options.i18n.submitButton.commentHelp,{noteableDisplayName:this.noteableDisplayName})},isOpen(){return this.openState===_.OPENED||this.openState===_.REOPENED},canCreateNote(){return this.getNoteableData.current_user.can_create_note},canSetConfidential(){return this.getNoteableData.current_user.can_update},issueActionButtonTitle(){const e=this.isOpen?"close":"reopen";return this.note.length?Object(s.f)(this.$options.i18n.actionButtonWithNote,{actionText:this.commentButtonTitle,openOrClose:e,noteable:this.noteableDisplayName}):Object(s.f)(this.$options.i18n.actionButton,{openOrClose:Object(q.b)(e),noteable:this.noteableDisplayName})},actionButtonClassNames(){return{"btn-reopen":!this.isOpen,"btn-close":this.isOpen,"js-note-target-close":this.isOpen,"js-note-target-reopen":!this.isOpen}},markdownDocsPath(){return this.getNotesData.markdownDocsPath},quickActionsDocsPath(){return this.getNotesData.quickActionsDocsPath},markdownPreviewPath(){return this.getNoteableData.preview_note_path},author(){return this.getUserData},canToggleIssueState(){return this.getNoteableData.current_user.can_update&&this.openState!==_.MERGED&&!this.closedAndLocked},closedAndLocked(){return!this.isOpen&&this.isLocked(this.getNoteableData)},endpoint(){return this.getNoteableData.create_note_path},draftEndpoint(){return this.getNotesData.draftsPath},issuableTypeTitle(){return this.noteableType===_.MERGE_REQUEST_NOTEABLE_TYPE?this.$options.i18n.mergeRequest:this.$options.i18n.issue},isIssue(){return this.noteableDisplayName===_.ISSUE_NOTEABLE_TYPE},trackingLabel(){return Object(q.o)("".concat(this.commentButtonTitle," button"))},confidentialNotesEnabled(){return Boolean(this.glFeatures.confidentialNotes)},disableSubmitButton(){return 0===this.note.length||this.isSubmitting}}),mounted(){var e=this;I()(document).on("issuable:change",(function(t,n){e.toggleIssueLocalState(n?_.CLOSED:_.REOPENED)})),this.initAutoSave()},methods:K(K({},Object(i.c)(["saveNote","stopPolling","restartPolling","removePlaceholderNotes","closeIssuable","reopenIssuable","toggleIssueLocalState"])),{},{handleSaveError(e){var t,n;let{data:i,status:r}=e;r===X&&(null===(t=i.errors)||void 0===t?void 0:null===(n=t.commands_only)||void 0===n?void 0:n.length)?this.errors=i.errors.commands_only:this.errors=[this.$options.i18n.GENERIC_UNSUBMITTABLE_NETWORK]},handleSaveDraft(){this.handleSave({isDraft:!0})},handleSave(){var e=this;let{withIssueAction:t=!1,isDraft:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.errors=[],this.note.length){const i={endpoint:n?this.draftEndpoint:this.endpoint,data:{note:{noteable_type:this.noteableType,noteable_id:this.getNoteableData.id,confidential:this.noteIsConfidential,note:this.note},merge_request_diff_head_sha:this.getNoteableData.diff_head_sha},isDraft:n};this.noteType===_.DISCUSSION&&(i.data.note.type=_.DISCUSSION_NOTE),this.note="",this.resizeTextarea(),this.stopPolling(),this.isSubmitting=!0,this.saveNote(i).then((function(){e.restartPolling(),e.discard(),t&&e.toggleIssueState()})).catch((function(t){let{response:n}=t;e.handleSaveError(n),e.discard(!1),e.note=i.data.note.note,e.removePlaceholderNotes()})).finally((function(){e.isSubmitting=!1}))}else this.toggleIssueState()},toggleIssueState(){var e=this;if(this.isIssue)return void w.a.$emit("toggle.issuable.state");(this.isOpen?this.closeIssuable:this.reopenIssuable)().then((function(){return A.b.updateStatus&&A.b.updateStatus()})).then(R.b).catch((function(){return Object(h.c)(_.toggleStateErrorMessage[e.noteableType][e.openState])}))},discard(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.$refs.textarea.blur(),this.$refs.textarea.focus(),e&&(this.note="",this.noteIsConfidential=!1,this.resizeTextarea(),this.$refs.markdownField.previewMarkdown=!1),this.autosave.reset()},setNoteType(e){this.noteType=e},setNoteTypeToComment(){this.setNoteType(_.COMMENT)},setNoteTypeToDiscussion(){this.setNoteType(_.DISCUSSION)},editCurrentUserLastNote(){if(""===this.note){const e=this.getCurrentUserLastNote;e&&w.a.$emit("enterEditMode",{noteId:e.id})}},initAutoSave(){if(this.isLoggedIn){const e=Object(q.b)(Object(q.c)(this.noteableType));this.autosave=new L.a(I()(this.$refs.textarea),[this.$options.i18n.note,e,this.getNoteableData.id])}},resizeTextarea(){var e=this;this.$nextTick((function(){T.a.update(e.$refs.textarea)}))},hasEmailParticipants(){var e;return null===(e=this.getNoteableData.issue_email_participants)||void 0===e?void 0:e.length},dismissError(e){this.errors.splice(e,1)}})},Z=Object(c.a)(J,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoggedIn?e.canCreateNote?e.canCreateNote?n("ul",{staticClass:"notes notes-form timeline"},[n("timeline-entry-item",{staticClass:"note-form"},[e._l(e.errors,(function(t,i){return n("gl-alert",{key:i,staticClass:"gl-mb-2",attrs:{variant:"danger"},on:{dismiss:function(){return e.dismissError(i)}}},[e._v("\n        "+e._s(t)+"\n      ")])})),e._v(" "),n("div",{staticClass:"timeline-content timeline-content-form"},[n("form",{ref:"commentForm",staticClass:"new-note common-note-form gfm-form js-main-target-form"},[n("comment-field-layout",{attrs:{"with-alert-container":!0,"noteable-data":e.getNoteableData,"noteable-type":e.noteableType}},[n("markdown-field",{ref:"markdownField",attrs:{"is-submitting":e.isSubmitting,"markdown-preview-path":e.markdownPreviewPath,"markdown-docs-path":e.markdownDocsPath,"quick-actions-docs-path":e.quickActionsDocsPath,"add-spacing-classes":!1,"textarea-value":e.note},scopedSlots:e._u([{key:"textarea",fn:function(){return[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],ref:"textarea",staticClass:"note-textarea js-vue-comment-form js-note-text js-gfm-input js-autosize markdown-area",attrs:{id:"note-body",dir:"auto",disabled:e.isSubmitting,name:"note[note]","data-qa-selector":"comment_field","data-testid":"comment-field","data-supports-quick-actions":!e.glFeatures.tributeAutocomplete,"aria-label":e.$options.i18n.comment,placeholder:e.$options.i18n.bodyPlaceholder},domProps:{value:e.note},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.editCurrentUserLastNote()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.metaKey?e.handleSave():null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.handleSave():null}],input:function(t){t.target.composing||(e.note=t.target.value)}}})]},proxy:!0}])})],1),e._v(" "),n("div",{staticClass:"note-form-actions"},[e.hasDrafts?[n("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-to-review-button",type:"submit",category:"primary",variant:"success"},on:{click:function(t){return t.preventDefault(),e.handleSaveDraft()}}},[e._v(e._s(e.__("Add to review")))]),e._v(" "),n("gl-button",{attrs:{disabled:e.disableSubmitButton,"data-testid":"add-comment-now-button",category:"secondary"},on:{click:function(t){return t.preventDefault(),e.handleSave()}}},[e._v(e._s(e.__("Add comment now")))])]:[e.confidentialNotesEnabled&&e.canSetConfidential?n("gl-form-checkbox",{staticClass:"gl-mb-6",attrs:{"data-testid":"confidential-note-checkbox"},model:{value:e.noteIsConfidential,callback:function(t){e.noteIsConfidential=t},expression:"noteIsConfidential"}},[e._v("\n                "+e._s(e.$options.i18n.confidential)+"\n                "),n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:tooltipcontainer.bottom",arg:"tooltipcontainer",modifiers:{bottom:!0}}],staticClass:"gl-text-gray-500",attrs:{name:"question",size:16,title:e.$options.i18n.confidentialVisibility}})],1):e._e(),e._v(" "),n("gl-dropdown",{staticClass:"gl-mr-3 js-comment-button js-comment-submit-button comment-type-dropdown",attrs:{split:"",text:e.commentButtonTitle,category:"primary",variant:"confirm",disabled:e.disableSubmitButton,"data-testid":"comment-button","data-qa-selector":"comment_button","data-track-label":e.trackingLabel,"data-track-event":"click_button"},on:{click:function(t){return e.handleSave()}}},[n("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeComment,selected:e.isNoteTypeComment},on:{click:e.setNoteTypeToComment}},[n("strong",[e._v(e._s(e.$options.i18n.submitButton.comment))]),e._v(" "),n("p",{staticClass:"gl-m-0"},[e._v(e._s(e.commentDescription))])]),e._v(" "),n("gl-dropdown-divider"),e._v(" "),n("gl-dropdown-item",{attrs:{"is-check-item":"","is-checked":e.isNoteTypeDiscussion,selected:e.isNoteTypeDiscussion,"data-qa-selector":"discussion_menu_item"},on:{click:e.setNoteTypeToDiscussion}},[n("strong",[e._v(e._s(e.$options.i18n.submitButton.startThread))]),e._v(" "),n("p",{staticClass:"gl-m-0"},[e._v(e._s(e.startDiscussionDescription))])])],1)],e._v(" "),e.canToggleIssueState?n("gl-button",{class:[e.actionButtonClassNames,"btn-comment btn-comment-and-close"],attrs:{loading:e.isToggleStateButtonLoading,disabled:e.isSubmitting,"data-testid":"close-reopen-button"},on:{click:function(t){return e.handleSave({withIssueAction:!0})}}},[e._v(e._s(e.issueActionButtonTitle))]):e._e()],2)],1)])],2)],1):e._e():n("discussion-locked-widget",{attrs:{"issuable-type":e.issuableTypeTitle}}):n("note-signed-out-widget")],1)}),[],!1,null,null,null).exports,ee=n("30su"),te={i18n:{information:Object(s.e)("Notes|You're only seeing %{boldStart}other activity%{boldEnd} in the feed. To add a comment, switch to one of the following options.")},components:{GlButton:k.a,GlIcon:S.a,GlSprintf:ee.a},methods:{selectFilter(e){w.a.$emit("dropdownSelect",e)}}},ne=Object(c.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"timeline-entry note note-wrapper discussion-filter-note js-discussion-filter-note",attrs:{"data-qa-selector":"discussion_filter_container"}},[n("div",{staticClass:"timeline-icon d-none d-lg-flex"},[n("gl-icon",{attrs:{name:"comment"}})],1),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{attrs:{"data-testid":"discussion-filter-timeline-content"}},[n("gl-sprintf",{attrs:{message:e.$options.i18n.information},scopedSlots:e._u([{key:"bold",fn:function(t){var i=t.content;return[n("b",[e._v(e._s(i))])]}}])})],1),e._v(" "),n("div",{staticClass:"discussion-filter-actions mt-2"},[n("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(0)}}},[e._v("\n        "+e._s(e.__("Show all activity"))+"\n      ")]),e._v(" "),n("gl-button",{attrs:{variant:"default"},on:{click:function(t){return e.selectFilter(1)}}},[e._v("\n        "+e._s(e.__("Show comments only"))+"\n      ")])],1)])])}),[],!1,null,null,null).exports,ie=n("ffkl"),re=n("ZlTH"),se=(n("pBsb"),n("xk0s")),ae=n("5v28"),oe=n("H3X6"),le=n("1X7o");function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de={props:{noteableData:{type:Object,required:!0},iid:{type:Number,required:!0}},computed:{fullPath(){return this.noteableData.web_url?this.noteableData.web_url.split("/-/")[0].substring(1).replace("groups/",""):null},issuableType(){return this.noteableData.noteableType.toLowerCase()}},created(){var e=this;this.issuableType!==se.c.Issue&&this.issuableType!==se.c.Epic||le.b.watchQuery({query:oe.c[this.issuableType].query,variables:{iid:String(this.iid),fullPath:this.fullPath},fetchPolicy:ae.fetchPolicies.CACHE_ONLY}).subscribe((function(t){var n,i;const r=null===(n=t.data)||void 0===n?void 0:null===(i=n.workspace)||void 0===i?void 0:i.issuable;r&&e.setConfidentiality(r.confidential)}))},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.c)(["setConfidentiality"])),render:()=>null},fe=Object(c.a)(de,void 0,void 0,!1,null,null,null).exports;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={name:"NotesApp",components:{noteableNote:re.a,noteableDiscussion:ie.a,systemNote:y.a,commentForm:Z,placeholderNote:m.a,placeholderSystemNote:g.a,skeletonLoadingContainer:b,discussionFilterNote:ne,OrderedLayout:u,SidebarSubscription:fe,draftNote:f.a,TimelineEntryItem:o.a},mixins:[Object(d.a)()],props:{noteableData:{type:Object,required:!0},notesData:{type:Object,required:!0},userData:{type:Object,required:!1,default:function(){return{}}},shouldShow:{type:Boolean,required:!1,default:!0},helpPagePath:{type:String,required:!1,default:""}},data:()=>({currentFilter:null}),computed:pe(pe({},Object(i.d)(["isNotesFetched","discussions","convertedDisscussionIds","getNotesDataByProp","isLoading","isFetching","commentsDisabled","getNoteableData","userCanReply","discussionTabCounter","sortDirection","timelineEnabled"])),{},{sortDirDesc(){return this.sortDirection===_.DESC},discussionTabCounterText(){return this.isLoading?"":this.discussionTabCounter},noteableType(){return this.noteableData.noteableType},allDiscussions(){if(this.isLoading){const e=parseInt(this.notesData.prerenderedNotesCount,10)||0;return new Array(e).fill({isSkeletonNote:!0})}return this.discussions},canReply(){return this.userCanReply&&!this.commentsDisabled&&!this.timelineEnabled},slotKeys(){return this.sortDirDesc?["form","comments"]:["comments","form"]}}),watch:{async isFetching(){this.isFetching||(await this.$nextTick(),await this.startTaskList(),await this.checkLocationHash())},shouldShow(){this.isNotesFetched||this.fetchNotes()},discussionTabCounterText(e){this.discussionsCount&&(this.discussionsCount.textContent=e)}},created(){this.discussionsCount=document.querySelector(".js-discussions-count"),this.setNotesData(this.notesData),this.setNoteableData(this.noteableData),this.setUserData(this.userData),this.setTargetNoteHash(Object(p.f)()),w.a.$once("fetchNotesData",this.fetchNotes)},mounted(){var e=this;this.shouldShow&&this.fetchNotes();const{parentElement:t}=this.$el;t&&t.classList.contains("js-vue-notes-event")&&t.addEventListener("toggleAward",(function(t){const{awardName:n,noteId:i}=t.detail;e.toggleAward({awardName:n,noteId:i})})),window.addEventListener("hashchange",this.handleHashChanged),w.a.$on("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},updated(){var e=this;this.$nextTick((function(){Object(r.a)(e.$el.querySelectorAll(".gfm-project_member")),Object(a.a)(e.$el.querySelectorAll(".js-user-link"))}))},beforeDestroy(){this.stopPolling(),window.removeEventListener("hashchange",this.handleHashChanged),w.a.$off("notesApp.updateIssuableConfidentiality",this.setConfidentiality)},methods:pe(pe({},Object(i.c)(["setFetchingState","setLoadingState","fetchDiscussions","poll","toggleAward","setNotesData","setNoteableData","setUserData","setLastFetchedAt","setTargetNoteHash","toggleDiscussion","setNotesFetchedState","expandDiscussion","startTaskList","convertToDiscussion","stopPolling","setConfidentiality"])),{},{discussionIsIndividualNoteAndNotConverted(e){return e.individual_note&&!this.convertedDisscussionIds.includes(e.id)},handleHashChanged(){this.checkLocationHash()&&this.setTargetNoteHash(Object(p.f)())},fetchNotes(){var e=this;return this.isFetching?null:(this.setFetchingState(!0),this.glFeatures.paginatedNotes?this.initPolling():this.fetchDiscussions(this.getFetchDiscussionsConfig()).then(this.initPolling).then((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),w.a.$emit("fetchedNotesData"),e.setFetchingState(!1)})).catch((function(){e.setLoadingState(!1),e.setNotesFetchedState(!0),Object(h.c)(Object(s.a)("Something went wrong while fetching comments. Please try again."))})))},initPolling(){this.isPollingInitialized||(this.setLastFetchedAt(this.getNotesDataByProp("lastFetchedAt")),this.poll(),this.isPollingInitialized=!0)},checkLocationHash(){const e=Object(p.f)(),t=e&&e.replace(/^note_/,"");if(t){const e=this.discussions.find((function(e){return e.notes.some((function(e){let{id:n}=e;return n===t}))}));e&&this.expandDiscussion({discussionId:e.id})}return t},startReplying(e){return this.convertToDiscussion(e).then(this.$nextTick).then((function(){return w.a.$emit("startReplying",e)}))},getFetchDiscussionsConfig(){const e={path:this.getNotesDataByProp("discussionsPath")};return Object(p.a)(_.NOTE_UNDERSCORE)?pe(pe({},e),{},{filter:_.DISCUSSION_FILTERS_DEFAULT_VALUE,persistFilter:!1}):e}}),systemNote:_.SYSTEM_NOTE},ve=Object(c.a)(ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],attrs:{id:"notes"}},[n("sidebar-subscription",{attrs:{iid:e.noteableData.iid,"noteable-data":e.noteableData}}),e._v(" "),n("ordered-layout",{attrs:{"slot-keys":e.slotKeys},scopedSlots:e._u([{key:"form",fn:function(){return[e.commentsDisabled||e.timelineEnabled?e._e():n("comment-form",{staticClass:"js-comment-form",attrs:{"noteable-type":e.noteableType}})]},proxy:!0},{key:"comments",fn:function(){return[n("ul",{staticClass:"notes main-notes-list timeline",attrs:{id:"notes-list"}},[e._l(e.allDiscussions,(function(t){return[t.isSkeletonNote?n("skeleton-loading-container",{key:t.id}):t.isDraft?n("timeline-entry-item",{key:t.id},[n("draft-note",{attrs:{draft:t}})],1):t.isPlaceholderNote?[t.placeholderType===e.$options.systemNote?n("placeholder-system-note",{key:t.id,attrs:{note:t.notes[0]}}):n("placeholder-note",{key:t.id,attrs:{note:t.notes[0]}})]:e.discussionIsIndividualNoteAndNotConverted(t)?[t.notes[0].system?n("system-note",{key:t.id,attrs:{note:t.notes[0]}}):n("noteable-note",{key:t.id,attrs:{note:t.notes[0],"show-reply-button":e.canReply},on:{startReplying:function(n){return e.startReplying(t.id)}}})]:n("noteable-discussion",{key:t.id,attrs:{discussion:t,"render-diff-file":!0,"help-page-path":e.helpPagePath}})]})),e._v(" "),n("discussion-filter-note",{directives:[{name:"show",rawName:"v-show",value:e.commentsDisabled,expression:"commentsDisabled"}]})],2)]},proxy:!0}])})],1)}),[],!1,null,null,null);t.a=ve.exports},"d+lS":function(e,t,n){var i=n("dA+0");e.exports=function(e){return e&&e.length?i(e):[]}},d5X7:function(e,t,n){"use strict";const i={init(e){this.hook=e,this.destroyed=!1,this.config=e.config.InputSetter||(this.hook.config.InputSetter={}),this.eventWrapper={},this.addEvents()},addEvents(){this.eventWrapper.setInputs=this.setInputs.bind(this),this.hook.list.list.addEventListener("click.dl",this.eventWrapper.setInputs)},removeEvents(){this.hook.list.list.removeEventListener("click.dl",this.eventWrapper.setInputs)},setInputs(e){var t=this;if(this.destroyed)return;const n=e.detail.selected;Array.isArray(this.config)||(this.config=[this.config]),this.config.forEach((function(e){return t.setInput(e,n)}))},setInput(e,t){const n=e.input||this.hook.trigger,i=t.getAttribute(e.valueAttribute),r=e.inputAttribute;return n.hasAttribute(r)?n.setAttribute(r,i):"INPUT"===n.tagName?n.value=i:n.textContent=i},destroy(){this.destroyed=!0,this.removeEvents()}};t.a=i},"dA+0":function(e,t,n){var i=n("4O6w"),r=n("QPeP"),s=n("GY8p"),a=n("5PFN"),o=n("QPL1"),l=n("1XSk"),c=200;e.exports=function(e,t,n){var u=-1,d=r,f=e.length,h=!0,p=[],m=p;if(n)h=!1,d=s;else if(f>=c){var g=t?null:o(e);if(g)return l(g);h=!1,d=a,m=new i}else m=t?[]:p;e:for(;++u<f;){var v=e[u],b=t?t(v):v;if(v=n||0!==v?v:0,h&&b==b){for(var y=m.length;y--;)if(m[y]===b)continue e;t&&m.push(b),p.push(v)}else d(m,b,n)||(m!==p&&m.push(b),p.push(v))}return p}},dHQd:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("o34M");i({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return s.apply(this,arguments)}})},dOWE:function(e,t,n){var i=n("w9hk"),r=n("wJPF"),s=n("Uc6l"),a=s&&s.isMap,o=a?r(a):i;e.exports=o},"dR/i":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n("b9Gi"),r=n("jB52"),s=n("XRO8"),a=n("/lV4"),o=n("kMc5"),l=n("H3X6"),c=n("s1D3"),u=n("LLbv"),d={components:{GlIcon:c.a},directives:{GlTooltip:u.a},props:{confidential:{type:Boolean,required:!0},issuableType:{type:String,required:!0}},computed:{confidentialText(){return this.confidential?Object(a.f)(Object(a.a)("This %{issuableType} is confidential"),{issuableType:this.issuableType}):Object(a.a)("Not confidential")},confidentialIcon(){return this.confidential?"eye-slash":"eye"},tooltipLabel(){return this.confidential?Object(a.a)("Confidential"):Object(a.a)("Not confidential")}}},f=n("tBpV"),h=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.tooltipLabel,"data-testid":"sidebar-collapsed-icon"},on:{click:function(t){return e.$emit("expandSidebar")}}},[n("gl-icon",{staticClass:"sidebar-item-icon inline",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}})],1),e._v(" "),n("gl-icon",{staticClass:"sidebar-item-icon inline hide-collapsed",class:{"is-active":e.confidential},attrs:{size:16,name:e.confidentialIcon}}),e._v(" "),n("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"confidential-text"}},[e._v(e._s(e.confidentialText))])],1)}),[],!1,null,null,null).exports,p=(n("jaBk"),n("KcQl"),n("30su")),m=n("4lAS"),g=n("xk0s");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={i18n:{confidentialityOnWarning:Object(a.a)("You are going to turn on confidentiality. Only team members with %{strongStart}at least Reporter access%{strongEnd} will be able to see and leave comments on the %{issuableType}."),confidentialityOffWarning:Object(a.a)("You are going to turn off the confidentiality. This means %{strongStart}everyone%{strongEnd} will be able to see and leave a comment on this %{issuableType}.")},components:{GlSprintf:p.a,GlButton:m.a},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},confidential:{required:!0,type:Boolean},issuableType:{required:!0,type:String}},data:()=>({loading:!1}),computed:{toggleButtonText(){return this.loading?Object(a.a)("Applying"):this.confidential?Object(a.a)("Turn off"):Object(a.a)("Turn on")},warningMessage(){return this.confidential?this.$options.i18n.confidentialityOffWarning:this.$options.i18n.confidentialityOnWarning},workspacePath(){return this.issuableType===g.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}}},methods:{submitForm(){var e=this;this.loading=!0,this.$apollo.mutate({mutation:l.c[this.issuableType].mutation,variables:{input:b(b({},this.workspacePath),{},{iid:this.iid,confidential:!this.confidential})}}).then((function(t){let{data:{issuableSetConfidential:{errors:n}}}=t;n.length?Object(s.b)({message:n[0]}):e.$emit("closeForm")})).catch((function(){Object(s.b)({message:Object(a.f)(Object(a.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:e.issuableType})})})).finally((function(){e.loading=!1}))}}},w=Object(f.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown show"},[n("div",{staticClass:"dropdown-menu sidebar-item-warning-message"},[n("div",[n("p",{attrs:{"data-testid":"warning-message"}},[n("gl-sprintf",{attrs:{message:e.warningMessage},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}},{key:"issuableType",fn:function(){return[e._v(e._s(e.issuableType))]},proxy:!0}])})],1),e._v(" "),n("div",{staticClass:"sidebar-item-warning-message-actions"},[n("gl-button",{staticClass:"gl-mr-3",attrs:{"data-testid":"confidential-cancel"},on:{click:function(t){return e.$emit("closeForm")}}},[e._v("\n          "+e._s(e.__("Cancel"))+"\n        ")]),e._v(" "),n("gl-button",{attrs:{category:"secondary",variant:"confirm",disabled:e.loading,loading:e.loading,"data-testid":"confidential-toggle"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n          "+e._s(e.toggleButtonText)+"\n        ")])],1)])])])}),[],!1,null,null,null).exports;const O=r.default.observable({setConfidentiality:null}),k=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var S={tracking:{event:"click_edit_button",label:"right_sidebar",property:"confidentiality"},components:{SidebarEditableItem:o.a,SidebarConfidentialityContent:h,SidebarConfidentialityForm:w},inject:{isClassicSidebar:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({confidential:!1}),apollo:{confidential:{query(){return l.c[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.confidential)||!1},result(e){var t,n;let{data:i}=e;this.$emit("confidentialityUpdated",null===(t=i.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.confidential)},error(){Object(s.b)({message:Object(a.f)(Object(a.a)("Something went wrong while setting %{issuableType} confidentiality."),{issuableType:this.issuableType})})}}},computed:{isLoading(){return this.$apollo.queries.confidential.loading}},mounted(){O.setConfidentiality=this.setConfidentiality},destroyed(){O.setConfidentiality=null},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(k),this.$emit("closeForm")},setConfidentiality(){var e=this;const{defaultClient:t}=this.$apollo.provider.clients,n=t.readQuery({query:l.c[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid}}),r=Object(i.a)(n,(function(t){t.workspace.issuable.confidential=!e.confidential}));t.writeQuery({query:l.c[this.issuableType].query,variables:{fullPath:this.fullPath,iid:this.iid},data:r})},expandSidebar(){this.$refs.editable.expand(),this.$emit("expandSidebar")}}},j=Object(f.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-editable-item",{ref:"editable",staticClass:"block confidentiality",attrs:{title:e.__("Confidentiality"),tracking:e.$options.tracking,loading:e.isLoading},scopedSlots:e._u([{key:"collapsed",fn:function(){return[n("div",[e.isLoading?e._e():n("sidebar-confidentiality-content",{class:{"gl-mt-3":!e.isClassicSidebar},attrs:{confidential:e.confidential,"issuable-type":e.issuableType},on:{expandSidebar:e.expandSidebar}})],1)]},proxy:!0},{key:"default",fn:function(){return[n("sidebar-confidentiality-content",{attrs:{confidential:e.confidential,"issuable-type":e.issuableType}}),e._v(" "),n("sidebar-confidentiality-form",{attrs:{iid:e.iid,"full-path":e.fullPath,confidential:e.confidential,"issuable-type":e.issuableType},on:{closeForm:e.closeForm}})]},proxy:!0}])})}),[],!1,null,null,null);t.b=j.exports},dsLq:function(e,t,n){"use strict";var i=n("4lAS"),r=n("Pyw5"),s=n.n(r);const a={components:{GlButton:i.a},props:{title:{type:String,required:!0},svgPath:{type:String,required:!1,default:null},svgHeight:{type:Number,required:!1,default:null},description:{type:String,required:!1,default:null},primaryButtonLink:{type:String,required:!1,default:null},primaryButtonText:{type:String,required:!1,default:null},secondaryButtonLink:{type:String,required:!1,default:null},secondaryButtonText:{type:String,required:!1,default:null},compact:{type:Boolean,required:!1,default:!1}},computed:{height:function(){return this.shouldPreventImageReflow?this.svgHeight:null},shouldPreventImageReflow:function(){return Boolean(this.svgHeight)},shouldRenderPrimaryButton:function(){return Boolean(this.primaryButtonLink&&this.primaryButtonText)},shouldRenderSecondaryButton:function(){return Boolean(this.secondaryButtonLink&&this.secondaryButtonText)}}};const o=s()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"row",class:{"empty-state text-center":!e.compact}},[n("div",{class:{"col-3 d-none d-sm-block":e.compact,"col-12":!e.compact}},[e.svgPath?n("div",{staticClass:"svg-250",class:{"svg-content":!e.compact}},[n("img",{staticClass:"gl-max-w-full",attrs:{src:e.svgPath,alt:"",height:e.height}})]):e._e()]),e._v(" "),n("div",{class:e.compact?"col-sm-9":"col-12"},[n("div",{staticClass:"text-content gl-mx-auto gl-my-0",class:{"gl-p-5":!e.compact}},[n("h1",{ref:"title",class:e.compact?"h5":"h4"},[e._v(e._s(e.title))]),e._v(" "),e.description||e.$scopedSlots.description?n("p",{ref:"description"},[e._t("description",[e._v("\n          "+e._s(e.description)+"\n        ")])],2):e._e(),e._v(" "),n("div",{staticClass:"gl-display-flex gl-flex-wrap",class:{"gl-justify-content-center":!e.compact}},[e._t("actions",[e.shouldRenderPrimaryButton?n("gl-button",{staticClass:"gl-mb-3",class:e.compact?"gl-mr-3":"gl-mx-2",attrs:{variant:"confirm",href:e.primaryButtonLink}},[e._v(e._s(e.primaryButtonText))]):e._e(),e._v(" "),e.shouldRenderSecondaryButton?n("gl-button",{staticClass:"gl-mb-3 gl-mr-3",class:{"gl-mx-2!":!e.compact},attrs:{href:e.secondaryButtonLink}},[e._v(e._s(e.secondaryButtonText)+"\n          ")]):e._e()])],2)])])])},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},dsWN:function(e,t,n){"use strict";var i=n("XBTk"),r=n("Ge+5"),s=n("4lAS"),a=n("s1D3"),o=n("Pyw5"),l=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f={components:{GlIcon:a.a,CloseButton:r.a,GlButton:s.a},props:{title:{type:String,required:!1,default:""},dismissible:{type:Boolean,required:!1,default:!0},dismissLabel:{type:String,required:!1,default:"Dismiss"},variant:{type:String,required:!1,default:i.c.info,validator:function(e){return Object.keys(i.c).includes(e)}},primaryButtonLink:{type:String,required:!1,default:""},primaryButtonText:{type:String,required:!1,default:""},secondaryButtonLink:{type:String,required:!1,default:""},secondaryButtonText:{type:String,required:!1,default:""},contained:{type:Boolean,required:!1,default:!1},sticky:{type:Boolean,required:!1,default:!1}},computed:{iconName:function(){return i.b[this.variant]},shouldRenderActions:function(){return Boolean(this.$slots.actions||this.actionButtons.length)},actionButtons:function(){return[{text:this.primaryButtonText,attrs:{href:this.primaryButtonLink,variant:"confirm",category:i.u.primary},listeners:{click:this.primaryButtonClicked}},{text:this.secondaryButtonText,attrs:{href:this.secondaryButtonLink,variant:"default",category:i.u.secondary},listeners:{click:this.secondaryButtonClicked}}].reduce((function(e,t){if(!t.text)return e;var n=d({},t.attrs);return n.href||delete n.href,e.push(d(d({},t),{},{attrs:n})),e}),[])},variantClass:function(){return"gl-alert-".concat(this.variant)}},methods:{primaryButtonClicked:function(e){this.$emit("primaryAction",e)},secondaryButtonClicked:function(e){this.$emit("secondaryAction",e)},onDismiss:function(){this.$emit("dismiss")}}};const h=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["gl-alert",{"gl-alert-max-content":e.contained},{"gl-alert-sticky":e.sticky},{"gl-alert-not-dismissible":!e.dismissible},e.variantClass]},[n("div",{staticClass:"gl-alert-container"},[n("gl-icon",{class:{"gl-alert-icon":!0,"gl-alert-icon-no-title":!e.title},attrs:{name:e.iconName}}),e._v(" "),e.dismissible?n("close-button",{ref:"dismiss",staticClass:"gl-dismiss-btn",attrs:{label:e.dismissLabel},on:{click:e.onDismiss}}):e._e(),e._v(" "),n("div",{staticClass:"gl-alert-content",attrs:{role:"alert"}},[e.title?n("h4",{staticClass:"gl-alert-title"},[e._v(e._s(e.title))]):e._e(),e._v(" "),n("div",{staticClass:"gl-alert-body"},[e._t("default")],2),e._v(" "),e.shouldRenderActions?n("div",{staticClass:"gl-alert-actions"},[e._t("actions",e._l(e.actionButtons,(function(t,i){return n("gl-button",e._g(e._b({key:i,staticClass:"gl-alert-action"},"gl-button",t.attrs,!1),t.listeners),[e._v("\n            "+e._s(t.text)+"\n          ")])})))],2):e._e()])],1)])},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},dxmq:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("EWC9"),n("jaBk"),n("orcL");var i=n("NmEs"),r=n("2ibD");class s{constructor(e){this.endpoints=e,this.apiApprovalsPath=e.apiApprovalsPath,this.apiApprovePath=e.apiApprovePath,this.apiUnapprovePath=e.apiUnapprovePath}merge(e){return r.a.post(this.endpoints.mergePath,e)}cancelAutomaticMerge(){return r.a.post(this.endpoints.cancelAutoMergePath)}removeWIP(){return r.a.post(this.endpoints.removeWIPPath)}removeSourceBranch(){return r.a.delete(this.endpoints.sourceBranchPath)}fetchDeployments(e){return r.a.get(this.endpoints.ciEnvironmentsStatusPath,{params:{environment_target:e}})}poll(){return r.a.get(this.endpoints.mergeRequestBasicPath)}checkStatus(){const e=r.a.get(this.endpoints.mergeRequestWidgetPath),t=r.a.get(this.endpoints.mergeRequestCachedWidgetPath);return r.a.all([e,t]).then(r.a.spread((function(e,t){return{data:Object.assign(e.data,t.data)}})))}fetchMergeActionsContent(){return r.a.get(this.endpoints.mergeActionsContentPath)}rebase(){return r.a.post(this.endpoints.rebasePath)}fetchApprovals(){return r.a.get(this.apiApprovalsPath).then((function(e){return e.data}))}approveMergeRequest(){return r.a.post(this.apiApprovePath).then((function(e){return e.data}))}unapproveMergeRequest(){return r.a.post(this.apiUnapprovePath).then((function(e){return e.data}))}static executeInlineAction(e){return r.a.post(e)}static fetchMetrics(e){return r.a.get("".concat(e,".json"))}static fetchInitialData(){return Promise.all([r.a.get(window.gl.mrWidgetData.merge_request_cached_widget_path),r.a.get(window.gl.mrWidgetData.merge_request_widget_path)]).then(r.a.spread((function(e,t){return{data:Object.assign(e.data,t.data),headers:Object(i.I)(e.headers)}})))}}},"e+NP":function(e,t,n){"use strict";var i=n("o4PY"),r=n.n(i),s=n("7jeQ"),a=n.n(s),o=function(e){return e.every((function(e){return a()(e,"id")}))},l=n("e67P"),c=n("Pyw5"),u=n.n(c);const d={name:"GlTokenContainer",components:{GlToken:l.a},props:{tokens:{type:Array,validator:o,required:!0},state:{type:Boolean,required:!1,default:null},registerFocusOnToken:{type:Function,required:!0}},data:function(){return{bindFocusEvent:!0,focusedTokenIndex:null}},computed:{focusedToken:function(){return this.tokens[this.focusedTokenIndex]||null}},watch:{focusedToken:function(e){var t;if(null!==e){var n=null===(t=this.$refs.tokens)||void 0===t?void 0:t.find((function(t){return t.dataset.tokenId===e.id.toString()}));n&&(this.bindFocusEvent=!1,n.focus(),this.bindFocusEvent=!0)}}},created:function(){this.registerFocusOnToken(this.focusOnToken)},methods:{handleClose:function(e){this.$emit("token-remove",e),this.focusedTokenIndex=null},handleLeftArrow:function(){0===this.focusedTokenIndex?this.focusLastToken():this.focusPrevToken()},handleRightArrow:function(){this.focusedTokenIndex===this.tokens.length-1?this.focusFirstToken():this.focusNextToken()},handleHome:function(){this.focusFirstToken()},handleEnd:function(){this.focusLastToken()},handleDelete:function(){this.$emit("token-remove",this.focusedToken),this.focusedTokenIndex>0&&this.focusPrevToken()},handleEscape:function(){this.focusedTokenIndex=null,this.$emit("cancel-focus")},handleTokenFocus:function(e){this.focusedTokenIndex=e},focusLastToken:function(){this.focusedTokenIndex=this.tokens.length-1},focusFirstToken:function(){this.focusedTokenIndex=0},focusNextToken:function(){this.focusedTokenIndex+=1},focusPrevToken:function(){this.focusedTokenIndex-=1},focusOnToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.focusedTokenIndex=e}}};var f=u()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"tokenContainer",staticClass:"gl-display-flex gl-flex-wrap gl-align-items-center gl-my-n1 gl-mx-n1",attrs:{role:"listbox","aria-multiselectable":"false","aria-orientation":"horizontal","aria-invalid":!1===e.state&&"true"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:e.handleLeftArrow(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?null:"button"in t&&2!==t.button?null:e.handleRightArrow(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.handleHome(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.handleEnd(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleDelete(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(e){e.preventDefault()}]}},[e._l(e.tokens,(function(t,i){return n("div",{key:t.id,ref:"tokens",refInFor:!0,staticClass:"gl-token-selector-token-container gl-px-1 gl-py-1 gl-outline-none",attrs:{"data-token-id":t.id,role:"option",tabindex:"-1"},on:{focus:function(t){e.bindFocusEvent&&e.handleTokenFocus(i)}}},[n("gl-token",{staticClass:"gl-cursor-default",class:t.class,on:{close:function(n){return e.handleClose(t)}}},[e._t("token-content",[n("span",[e._v("\n          "+e._s(t.name)+"\n        ")])],{token:t})],2)],1)})),e._v(" "),e._t("text-input")],2)},staticRenderFns:[]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0);const h={name:"GlTokenSelectorDropdown",components:{GlDropdownItem:n("wP8z").a},props:{show:{type:Boolean,required:!0},menuClass:{type:[String,Array,Object],required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},dropdownItems:{type:Array,validator:o,required:!0},inputText:{type:String,required:!0},allowUserDefinedTokens:{type:Boolean,required:!0},componentId:{type:String,required:!0},registerDropdownEventHandlers:{type:Function,required:!0},registerResetFocusedDropdownItem:{type:Function,required:!0}},data:function(){return{focusedDropdownItemIndex:0}},computed:{focusedDropdownItem:function(){return this.dropdownItems[this.focusedDropdownItemIndex]}},watch:{focusedDropdownItem:function(e,t){if((null==e?void 0:e.id)!==(null==t?void 0:t.id)){if(this.$emit("input",e),!e)return;var n=this.getDropdownItemRef(e);null!=n&&n.$el&&n.$el.scrollIntoView({block:"nearest",inline:"end"})}}},created:function(){this.registerDropdownEventHandlers({handleUpArrow:this.handleUpArrow,handleDownArrow:this.handleDownArrow,handleHomeKey:this.handleHomeKey,handleEndKey:this.handleEndKey}),this.registerResetFocusedDropdownItem(this.resetFocusedDropdownItem),this.$emit("input",this.focusedDropdownItem)},methods:{handleDropdownItemClick:function(e){this.$emit("dropdown-item-click",e)},handleMousedown:function(e){var t=null===e?this.$refs.userDefinedTokenDropdownItem:this.getDropdownItemRef(e);null!=t&&t.$el&&t.$el.querySelector("button").focus()},handleUpArrow:function(){this.show&&0!==this.focusedDropdownItemIndex&&this.focusPrevDropdownItem()},handleDownArrow:function(){this.show?this.focusedDropdownItemIndex!==this.dropdownItems.length-1&&this.focusNextDropdownItem():this.$emit("show")},handleHomeKey:function(e){e.preventDefault(),this.focusFirstDropdownItem()},handleEndKey:function(e){e.preventDefault(),this.focusLastDropdownItem()},focusLastDropdownItem:function(){this.focusedDropdownItemIndex=this.dropdownItems.length-1},focusFirstDropdownItem:function(){this.focusedDropdownItemIndex=0},focusNextDropdownItem:function(){this.focusedDropdownItemIndex+=1},focusPrevDropdownItem:function(){this.focusedDropdownItemIndex-=1},resetFocusedDropdownItem:function(){this.focusedDropdownItemIndex=0},dropdownItemIsFocused:function(e){return!!this.focusedDropdownItem&&e.id===this.focusedDropdownItem.id},getDropdownItemRef:function(e){var t;return null===(t=this.$refs.dropdownItems)||void 0===t?void 0:t.find((function(t){return t.$attrs["data-dropdown-item-id"]===e.id}))},dropdownItemIdAttribute:function(e){return e?"".concat(this.componentId,"-dropdown-item-").concat(e.id):null}}};var p=u()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown b-dropdown gl-new-dropdown gl-relative",class:{show:e.show}},[n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu gl-absolute",class:[{show:e.show},e.menuClass],attrs:{role:"menu","aria-activedescendant":e.dropdownItemIdAttribute(e.focusedDropdownItem)}},[e.loading?n("gl-dropdown-item",{attrs:{disabled:""}},[e._t("loading-content",[e._v("Searching...")])],2):e.dropdownItems.length?e._l(e.dropdownItems,(function(t){return n("gl-dropdown-item",{key:t.id,ref:"dropdownItems",refInFor:!0,attrs:{id:e.dropdownItemIdAttribute(t),"data-dropdown-item-id":t.id,active:e.dropdownItemIsFocused(t),"active-class":"is-focused",tabindex:"-1"},on:{click:function(n){return e.handleDropdownItemClick(t)}}},[n("div",{staticClass:"gl-mx-n4 gl-my-n3 gl-px-4 gl-py-3",on:{mousedown:function(n){return e.handleMousedown(t)}}},[e._t("dropdown-item-content",[e._v("\n            "+e._s(t.name)+"\n          ")],{dropdownItem:t})],2)])})):[e.allowUserDefinedTokens&&""!==e.inputText?n("gl-dropdown-item",{ref:"userDefinedTokenDropdownItem",attrs:{active:"","active-class":"is-focused"},on:{click:function(t){return e.handleDropdownItemClick(null)}}},[n("div",{staticClass:"gl-mx-n4 gl-my-n3 gl-px-4 gl-py-3",on:{mousedown:function(t){return e.handleMousedown(null)}}},[e._t("user-defined-token-content",[e._v('\n            Add "'+e._s(e.inputText)+'"\n          ')],{inputText:e.inputText})],2)]):n("gl-dropdown-item",{attrs:{disabled:""}},[e._t("no-results-content",[e._v("No matches found")])],2)],e._v(" "),e._t("dropdown-footer")],2)])},staticRenderFns:[]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0);function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const v={name:"GlTokenSelector",componentId:r()("token-selector"),components:{GlTokenContainer:f,GlTokenSelectorDropdown:p},model:{prop:"selectedTokens",event:"input"},props:{dropdownItems:{type:Array,validator:o,required:!1,default:function(){return[]}},allowUserDefinedTokens:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},hideDropdownWithNoItems:{type:Boolean,required:!1,default:!1},containerClass:{type:String,required:!1,default:""},menuClass:{type:[String,Array,Object],required:!1,default:""},autocomplete:{type:String,required:!1,default:"off"},ariaLabelledby:{type:String,required:!1,default:null},placeholder:{type:String,required:!1,default:null},textInputAttrs:{type:Object,required:!1,default:null},state:{type:Boolean,required:!1,default:null},selectedTokens:{type:Array,validator:o,required:!0}},data:function(){return{inputText:"",inputFocused:!1,dropdownIsOpen:!1,focusedDropdownItem:null,triggerTokenFocusNextBackspace:!0,rootElClasses:"",dropdownEventHandlers:{handleUpArrow:function(){},handleDownArrow:function(){},handleHomeKey:function(){},handleEndKey:function(){}},resetFocusedDropdownItem:function(){},focusOnToken:function(){}}},computed:{filteredDropdownItems:function(){var e=this;return this.dropdownItems.filter((function(t){return-1===e.selectedTokens.findIndex((function(e){return e.id===t.id}))}))},dropdownHasNoItems:function(){return!this.filteredDropdownItems.length},userDefinedTokenCanBeAdded:function(){return this.allowUserDefinedTokens&&this.dropdownHasNoItems&&""!==this.inputText},hideDropdown:function(){return!this.userDefinedTokenCanBeAdded&&!(!this.hideDropdownWithNoItems||!this.dropdownHasNoItems)},stateClass:function(){return null===this.state?"gl-inset-border-1-gray-400!":this.state?"is-valid gl-inset-border-1-gray-400!":"is-invalid gl-inset-border-1-red-500!"}},watch:{inputText:function(e,t){var n=this;e!==t&&(this.$emit("text-input",e),this.resetFocusedDropdownItem(),this.triggerTokenFocusNextBackspace=""===e,this.$nextTick((function(){n.hideDropdown?n.closeDropdown():""!==e&&n.openDropdown()})))}},methods:{handleFocus:function(e){this.$emit("focus",e),this.openDropdown(),this.inputFocused=!0,this.focusOnToken(),""===this.inputText&&(this.triggerTokenFocusNextBackspace=!0)},handleBlur:function(e){var t=this;this.$emit("blur",e),this.inputFocused=!1,this.$nextTick((function(){var n,i;null!==(n=e.relatedTarget)&&void 0!==n&&null!==(i=n.closest)&&void 0!==i&&i.call(n,".dropdown-item")||t.closeDropdown()}))},handleEnter:function(){this.userDefinedTokenCanBeAdded?this.addToken():this.focusedDropdownItem&&this.dropdownIsOpen&&this.addToken(this.focusedDropdownItem)},handleEscape:function(){this.inputText="",this.closeDropdown()},handleBackspace:function(e){""===this.inputText&&this.selectedTokens.length&&(e.preventDefault(),this.triggerTokenFocusNextBackspace?(this.$refs.textInput.blur(),this.focusOnToken(this.selectedTokens.length-1)):this.triggerTokenFocusNextBackspace=!0)},handleInputClick:function(){this.inputFocused&&""===this.inputText&&!this.dropdownIsOpen&&this.openDropdown()},handleContainerClick:function(e){var t=e.target;null!==(null==t?void 0:t.closest(".gl-token"))||this.inputFocused||this.focusTextInput()},addToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null!==e?e:{id:r()("user-defined-token"),name:this.inputText};this.$emit("input",[].concat(m(this.selectedTokens),[t])),this.inputText="",this.closeDropdown(),this.$emit("token-add",t)},removeToken:function(e){this.$emit("input",this.selectedTokens.filter((function(t){return t.id!==e.id}))),this.$emit("token-remove",e)},cancelTokenFocus:function(){this.focusTextInput()},closeDropdown:function(){this.dropdownIsOpen=!1,this.resetFocusedDropdownItem()},openDropdown:function(){this.hideDropdown||(this.dropdownIsOpen=!0)},focusTextInput:function(){this.$refs.textInput.focus()},registerDropdownEventHandlers:function(e){this.dropdownEventHandlers=e},registerResetFocusedDropdownItem:function(e){this.resetFocusedDropdownItem=e},registerFocusOnToken:function(e){this.focusOnToken=e}}};const b=u()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"container",staticClass:"gl-token-selector gl-form-input form-control form-control-plaintext gl-cursor-text! gl-py-2! gl-px-3!",class:[e.inputFocused?"gl-token-selector-focus-glow":"",e.containerClass,e.stateClass],on:{click:e.handleContainerClick}},[n("gl-token-container",{attrs:{tokens:e.selectedTokens,state:e.state,"register-focus-on-token":e.registerFocusOnToken},on:{"token-remove":e.removeToken,"cancel-focus":e.cancelTokenFocus},scopedSlots:e._u([{key:"token-content",fn:function(t){var n=t.token;return[e._t("token-content",null,{token:n})]}},{key:"text-input",fn:function(){return[n("input",e._b({ref:"textInput",staticClass:"gl-token-selector-input gl-bg-none gl-font-regular gl-font-base gl-line-height-normal gl-px-1 gl-h-auto gl-text-gray-900 gl-border-none gl-outline-none gl-flex-grow-1",attrs:{type:"text",autocomplete:e.autocomplete,"aria-labelledby":e.ariaLabelledby,placeholder:e.placeholder},domProps:{value:e.inputText},on:{input:function(t){e.inputText=t.target.value},focus:e.handleFocus,blur:e.handleBlur,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleEnter(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEscape(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.handleBackspace(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.dropdownEventHandlers.handleUpArrow(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.dropdownEventHandlers.handleDownArrow(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.dropdownEventHandlers.handleHomeKey(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.dropdownEventHandlers.handleEndKey(t)},function(t){return t.stopPropagation(),e.$emit("keydown",t)}],click:e.handleInputClick}},"input",e.textInputAttrs,!1))]},proxy:!0}],null,!0)})],1),e._v(" "),n("gl-token-selector-dropdown",{attrs:{"menu-class":e.menuClass,show:e.dropdownIsOpen,loading:e.loading,"dropdown-items":e.filteredDropdownItems,"selected-tokens":e.selectedTokens,"input-text":e.inputText,"allow-user-defined-tokens":e.allowUserDefinedTokens,"component-id":e.$options.componentId,"register-dropdown-event-handlers":e.registerDropdownEventHandlers,"register-reset-focused-dropdown-item":e.registerResetFocusedDropdownItem},on:{"dropdown-item-click":e.addToken,show:e.openDropdown},scopedSlots:e._u([{key:"loading-content",fn:function(){return[e._t("loading-content")]},proxy:!0},{key:"user-defined-token-content",fn:function(){return[e._t("user-defined-token-content",null,{inputText:e.inputText})]},proxy:!0},{key:"no-results-content",fn:function(){return[e._t("no-results-content")]},proxy:!0},{key:"dropdown-item-content",fn:function(t){var n=t.dropdownItem;return[e._t("dropdown-item-content",null,{dropdownItem:n})]}},{key:"dropdown-footer",fn:function(){return[e._t("dropdown-footer")]},proxy:!0}],null,!0),model:{value:e.focusedDropdownItem,callback:function(t){e.focusedDropdownItem=t},expression:"focusedDropdownItem"}})],1)},staticRenderFns:[]},void 0,v,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=b},e67P:function(e,t,n){"use strict";var i=n("XBTk"),r=n("s1D3"),s=n("Pyw5"),a=n.n(s);const o={components:{GlIcon:r.a},props:{viewOnly:{type:Boolean,required:!1,default:!1},variant:{type:String,required:!1,default:"default",validator:function(e){return i.C.includes(e)}}},computed:{variantClass:function(){return"gl-token-".concat(this.variant,"-variant")}},methods:{close:function(e){this.$emit("close",e)}}};const l=a()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._g({class:["gl-token",e.variantClass]},e.$listeners),[n("span",{staticClass:"gl-token-content"},[e._t("default"),e._v(" "),e.viewOnly?e._e():n("gl-icon",{staticClass:"gl-token-close",attrs:{name:"close",size:16},on:{click:e.close}})],2)])},staticRenderFns:[]},void 0,o,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=l},eRq8:function(e,t,n){var i=n("Ul1K");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("cfbd2bda",i,!0,{})},eTVF:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("5M4W"),s=n("/EoU"),a=n("KG2+"),o=n("u67S"),l=n("yqOl");i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=s(this),n=a(t.length),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:o(e)),i}})},eaMP:function(e,t,n){"use strict";var i={};n.r(i),n.d(i,"clearModal",(function(){return u})),n.d(i,"requestBranches",(function(){return d})),n.d(i,"setBranchesEndpoint",(function(){return f})),n.d(i,"fetchBranches",(function(){return h})),n.d(i,"setBranch",(function(){return p})),n.d(i,"setSelectedBranch",(function(){return m})),n.d(i,"setSelectedProject",(function(){return g}));var r={};n.r(r),n.d(r,"joinedBranches",(function(){return y})),n.d(r,"sortedProjects",(function(){return _}));var s=n("jB52"),a=n("yi8e"),o=n("XRO8"),l=n("2ibD"),c=n("FyMq");const u=function(e){let{commit:t}=e;t("CLEAR_MODAL")},d=function(e){let{commit:t}=e;t("REQUEST_BRANCHES")},f=function(e,t){let{commit:n}=e;n("SET_BRANCHES_ENDPOINT",t)},h=function(e,t){let{commit:n,dispatch:i,state:r}=e;return i("requestBranches"),l.a.get(r.branchesEndpoint,{params:{search:t}}).then((function(e){var t;let{data:i=[]}=e;n("RECEIVE_BRANCHES_SUCCESS",(null===(t=i.Branches)||void 0===t?void 0:t.length)?i.Branches:i)})).catch((function(){Object(o.b)({message:c.m})}))},p=function(e,t){let{commit:n,dispatch:i}=e;n("SET_BRANCH",t),i("setSelectedBranch",t)},m=function(e,t){let{commit:n}=e;n("SET_SELECTED_BRANCH",t)},g=function(e,t){var n;let{commit:i,dispatch:r,state:s}=e,{branchesEndpoint:a}=s;(null===(n=s.projects)||void 0===n?void 0:n.length)&&(a=s.projects.find((function(e){return e.id===t})).refsUrl),i("SET_SELECTED_PROJECT",t),r("setBranchesEndpoint",a),r("fetchBranches")};var v=n("d+lS"),b=n.n(v);const y=function(e){return b()(e.branches).sort()},_=function(e){return b()(e.projects).sort()};var w={SET_BRANCHES_ENDPOINT(e,t){e.branchesEndpoint=t},REQUEST_BRANCHES(e){e.isFetching=!0},RECEIVE_BRANCHES_SUCCESS(e,t){e.isFetching=!1,e.branches=t,e.branches.unshift(e.branch)},CLEAR_MODAL(e){e.branch=e.defaultBranch},SET_BRANCH(e,t){e.branch=t},SET_SELECTED_BRANCH(e,t){e.selectedBranch=t},SET_SELECTED_PROJECT(e,t){e.targetProjectId=t,e.branch=e.defaultBranch}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}s.default.use(a.b);t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new a.b.Store({actions:i,mutations:w,getters:r,state:k(k({},{endpoint:null,branchesEndpoint:null,isFetching:!1,branches:[],projects:[],selectedBranch:"",pushCode:!1,branchCollaboration:!1,modalTitle:"",existingBranch:"",defaultBranch:"",branch:"",targetProjectId:"",targetProjectName:""}),e)})}},ehHk:function(e,t,n){"use strict";var i=n("htNe"),r=n.n(i),s=n("Pyw5"),a=n.n(s),o=r()((function(e){return new IntersectionObserver((function(e){e.forEach((function(e){e.target.$_gl_intersectionHandler(e)}))}),e||{})}));const l={name:"GlIntersectionObserver",props:{options:{type:Object,required:!1,default:null}},mounted:function(){var e=this,t=o(this.options);this.$el.$_gl_intersectionHandler=function(t){e.$emit("update",t),t.isIntersecting?e.$emit("appear"):e.$emit("disappear")},this.$el.$_gl_intersectionObserver=t,t.observe(this.$el)},destroyed:function(){this.$el.$_gl_intersectionObserver.unobserve(this.$el),delete this.$el.$_gl_intersectionHandler,delete this.$el.$_gl_intersectionObserver},getObserver:o};const c=a()({render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._t("default")],2)},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=c},epSX:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"missingBranchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceBranchExists"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:164}};n.loc.source={body:"query missingBranchQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      sourceBranchExists\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.missingBranchQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"missingBranchQuery")},eppl:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{union:function(e){var t=a(this),n=new(l(t,s("Set")))(t);return c(e,o(n.add),{that:n}),n}})},eq7s:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return O})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return q})),n.d(t,"c",(function(){return G})),n.d(t,"b",(function(){return ee}));var i=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e};function r(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function s(){}var a="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,u=/^#([0-9a-f]{6})$/,d=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,o]+"\\)$"),m=new RegExp("^hsl\\("+[o,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[o,l,l,o]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(e){var t;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?new k((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=u.exec(e))?y(parseInt(t[1],16)):(t=d.exec(e))?new k(t[1],t[2],t[3],1):(t=f.exec(e))?new k(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?_(t[1],t[2],t[3],t[4]):(t=p.exec(e))?_(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?S(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?S(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?y(v[e]):"transparent"===e?new k(NaN,NaN,NaN,0):null}function y(e){return new k(e>>16&255,e>>8&255,255&e,1)}function _(e,t,n,i){return i<=0&&(e=t=n=NaN),new k(e,t,n,i)}function w(e){return e instanceof s||(e=b(e)),e?new k((e=e.rgb()).r,e.g,e.b,e.opacity):new k}function O(e,t,n,i){return 1===arguments.length?w(e):new k(e,t,n,null==i?1:i)}function k(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function S(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new C(e,t,n,i)}function j(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof C)return new C(e.h,e.s,e.l,e.opacity);if(e instanceof s||(e=b(e)),!e)return new C;if(e instanceof C)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),a=Math.max(t,n,i),o=NaN,l=a-r,c=(a+r)/2;return l?(o=t===a?(n-i)/l+6*(n<i):n===a?(i-t)/l+2:(t-n)/l+4,l/=c<.5?a+r:2-a-r,o*=60):l=c>0&&c<1?0:o,new C(o,l,c,e.opacity)}(e):new C(e,t,n,null==i?1:i)}function C(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function x(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}i(s,b,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),i(k,O,r(s,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}})),i(C,j,r(s,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new C(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new C(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new k(x(e>=240?e-240:e+120,r,i),x(e,r,i),x(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var E=Math.PI/180,D=180/Math.PI,P=.95047,T=1,N=1.08883,I=4/29,L=6/29,R=3*L*L,A=L*L*L;function F(e){if(e instanceof M)return new M(e.l,e.a,e.b,e.opacity);if(e instanceof H){var t=e.h*E;return new M(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}e instanceof k||(e=w(e));var n=U(e.r),i=U(e.g),r=U(e.b),s=B((.4124564*n+.3575761*i+.1804375*r)/P),a=B((.2126729*n+.7151522*i+.072175*r)/T);return new M(116*a-16,500*(s-a),200*(a-B((.0193339*n+.119192*i+.9503041*r)/N)),e.opacity)}function q(e,t,n,i){return 1===arguments.length?F(e):new M(e,t,n,null==i?1:i)}function M(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function B(e){return e>A?Math.pow(e,1/3):e/R+I}function $(e){return e>L?e*e*e:R*(e-I)}function V(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function U(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function G(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof H)return new H(e.h,e.c,e.l,e.opacity);e instanceof M||(e=F(e));var t=Math.atan2(e.b,e.a)*D;return new H(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}(e):new H(e,t,n,null==i?1:i)}function H(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}i(M,q,r(s,{brighter:function(e){return new M(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new M(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return e=T*$(e),new k(V(3.2404542*(t=P*$(t))-1.5371385*e-.4985314*(n=N*$(n))),V(-.969266*t+1.8760108*e+.041556*n),V(.0556434*t-.2040259*e+1.0572252*n),this.opacity)}})),i(H,G,r(s,{brighter:function(e){return new H(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new H(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return F(this).rgb()}}));var z=-.14861,W=1.78277,Q=-.29227,K=-.90649,Y=1.97294,X=Y*K,J=Y*W,Z=W*Q-K*z;function ee(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof te)return new te(e.h,e.s,e.l,e.opacity);e instanceof k||(e=w(e));var t=e.r/255,n=e.g/255,i=e.b/255,r=(Z*i+X*t-J*n)/(Z+X-J),s=i-r,a=(Y*(n-r)-Q*s)/K,o=Math.sqrt(a*a+s*s)/(Y*r*(1-r)),l=o?Math.atan2(a,s)*D-120:NaN;return new te(l<0?l+360:l,o,r,e.opacity)}(e):new te(e,t,n,null==i?1:i)}function te(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}i(te,ee,r(s,{brighter:function(e){return e=null==e?1/.7:Math.pow(1/.7,e),new te(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?.7:Math.pow(.7,e),new te(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*E,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),r=Math.sin(e);return new k(255*(t+n*(z*i+W*r)),255*(t+n*(Q*i+K*r)),255*(t+n*(Y*i)),this.opacity)}}))},f8Rl:function(e,t,n){"use strict";var i={props:{startSize:{type:Number,required:!0},side:{type:String,required:!0},minSize:{type:Number,required:!1,default:0},maxSize:{type:Number,required:!1,default:Number.MAX_VALUE},enabled:{type:Boolean,required:!1,default:!0}},data(){return{size:this.startSize,isDragging:!1}},computed:{className(){return["position-".concat(this.side,"-0"),{"is-dragging":this.isDragging}]},cursorStyle(){return this.enabled?{cursor:"ew-resize"}:{}}},methods:{resetSize(e){var t=this;e.preventDefault(),this.$emit("resize-start",this.size),this.size=this.startSize,this.$emit("update:size",this.size),this.$nextTick((function(){t.$emit("resize-end",t.size)}))},startDrag(e){this.enabled&&(e.preventDefault(),this.isDragging=!0,this.startPos=e.clientX,this.currentStartSize=this.size,document.addEventListener("mousemove",this.drag),document.addEventListener("mouseup",this.endDrag,{once:!0}),this.$emit("resize-start",this.size))},drag(e){e.preventDefault();let t=e.clientX-this.startPos;"left"===this.side&&(t=-t);let n=this.currentStartSize+t;n<this.minSize?n=this.minSize:n>this.maxSize&&(n=this.maxSize),this.size=n,this.$emit("update:size",n)},endDrag(e){e.preventDefault(),this.isDragging=!1,document.removeEventListener("mousemove",this.drag),this.$emit("resize-end",this.size)}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"position-absolute position-top-0 position-bottom-0 drag-handle",class:this.className,style:this.cursorStyle,on:{mousedown:this.startDrag,dblclick:this.resetSize}})}),[],!1,null,null,null);t.a=s.exports},f9it:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));n("jaBk");var i=n("eVUo"),r=n("EmJ/"),s=n.n(r),a=n("06tH"),o=n.n(a),l=n("qnJZ"),c=n("yYhH");class u{constructor(e){this.userSelect=new c.default(e),this.reviewersSelect=new c.default(e,".js-reviewer-search"),n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(l.a)(gon.select2_css_path).then((function(){s()("select.select2").select2({width:"resolve",dropdownAutoWidth:!0})})).catch((function(){}))})).catch((function(){})),s()(".issuable-sidebar .inline-update").on("change","select",(function(){return s()(this).submit()})),s()(".issuable-sidebar .inline-update").on("change",".js-assignee",(function(){return s()(this).submit()})),s()(document).off("click",".issuable-sidebar .dropdown-content a").on("click",".issuable-sidebar .dropdown-content a",(function(e){return e.preventDefault()})),s()(document).off("click",".edit-link").on("click",".edit-link",(function(e){e.preventDefault();const t=s()(this).parents(".block"),n=t.find(".selectbox");n.is(":visible")?(n.hide(),t.find(".value:not(.dont-hide)").show()):(n.show(),t.find(".value:not(.dont-hide)").hide()),n.is(":visible")&&setTimeout((function(){return t.find(".dropdown-menu-toggle").trigger("click")}),0)})),window.addEventListener("beforeunload",(function(){const e=i.b.getBreakpointSize();["xs","sm","md"].includes(e)&&o.a.set("collapsed_gutter",!0)}))}}},ffkl:function(e,t,n){"use strict";n("QifN");var i=n("s1D3"),r=n("LLbv"),s=n("yi8e"),a=n("PTFM"),o=n("4UiK"),l=n("/lV4"),c=n("IwtM"),u=n("OgyL"),d=n("XRO8"),f=n("ZHzM"),h=n("J7NB"),p=n("byjy"),m=n("G/dv"),g=n("G3fq"),v=n.n(g),b=n("R0j4"),y=n("0AwG"),_=n("c82y"),w=n("TNeE");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={name:"DiffDiscussionHeader",components:{userAvatarLink:f.a,noteEditedText:_.a,noteHeader:w.a},directives:{SafeHtml:b.a},props:{discussion:{type:Object,required:!0}},computed:{notes(){return this.discussion.notes},firstNote(){return this.notes[0]},lastNote(){return this.notes[this.notes.length-1]},author(){return this.firstNote.author},resolvedText(){return this.discussion.resolved_by_push?Object(l.a)("Automatically resolved"):Object(l.a)("Resolved")},lastUpdatedBy(){return this.notes.length>1?this.lastNote.author:null},lastUpdatedAt(){return this.notes.length>1?this.lastNote.created_at:null},headerText(){const e='<a href="'.concat(v()(this.discussion.discussion_path),'">'),{commit_id:t}=this.discussion;let n=t;t&&(n='<span class="commit-sha">'.concat(Object(y.u)(t),"</span>"));const{for_commit:i,diff_discussion:r,active:s}=this.discussion;let a=Object(l.e)("MergeRequests|started a thread");return i?a=Object(l.e)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):r&&t?a=s?Object(l.e)("MergeRequests|started a thread on commit %{linkStart}%{commitDisplay}%{linkEnd}"):Object(l.e)("MergeRequests|started a thread on an outdated change in commit %{linkStart}%{commitDisplay}%{linkEnd}"):r&&(a=s?Object(l.e)("MergeRequests|started a thread on %{linkStart}the diff%{linkEnd}"):Object(l.e)("MergeRequests|started a thread on %{linkStart}an old version of the diff%{linkEnd}")),Object(l.f)(a,{commitDisplay:n,linkStart:e,linkEnd:"</a>"},!1)}},methods:k(k({},Object(s.c)(["toggleDiscussion"])),{},{toggleDiscussionHandler(){this.toggleDiscussion({discussionId:this.discussion.id})}})},C=n("tBpV"),x=Object(C.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-header note-wrapper"},[e._m(0),e._v(" "),n("div",{staticClass:"timeline-content w-100"},[n("note-header",{attrs:{author:e.author,"created-at":e.firstNote.created_at,"note-id":e.firstNote.id,"include-toggle":!0,expanded:e.discussion.expanded},on:{toggleHandler:e.toggleDiscussionHandler}},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.headerText,expression:"headerText"}]})]),e._v(" "),e.discussion.resolved?n("note-edited-text",{attrs:{"edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline"}}):e.lastUpdatedAt?n("note-edited-text",{attrs:{"edited-at":e.lastUpdatedAt,"edited-by":e.lastUpdatedBy,"action-text":e.__("Last updated"),"class-name":"discussion-headline-light js-discussion-headline"}}):e._e()],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"timeline-icon align-self-start flex-shrink-0"},[this.author?t("user-avatar-link",{attrs:{"link-href":this.author.path,"img-src":this.author.avatar_url,"img-alt":this.author.name,"img-size":40}}):this._e()],1)}],!1,null,null,null).exports,E=(n("S26F"),n("TBBL")),D=n("Xa9V"),P=n("Ex4Z"),T=n("04nr"),N=n("BAGK"),I=n("x/Tb"),L=n("Gtn5");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q=/^(\+|-| )/;var M={components:{DiffFileHeader:D.a,GlSkeletonLoading:E.a,DiffViewer:I.a,ImageDiffOverlay:P.a},props:{discussion:{type:Object,required:!0}},data:()=>({error:!1}),computed:A(A({},Object(s.f)({projectPath:function(e){return e.diffs.projectPath}})),{},{diffMode(){return Object(T.g)(this.discussion.diff_file)},diffViewerMode(){return this.discussion.diff_file.viewer.name},isTextFile(){return this.diffViewerMode===N.v.text},hasTruncatedDiffLines(){return this.discussion.truncated_diff_lines&&0!==this.discussion.truncated_diff_lines.length},isCollapsed(){return Object(L.c)(this.discussion.diff_file)}}),mounted(){this.isTextFile&&!this.hasTruncatedDiffLines&&this.fetchDiff()},methods:A(A({},Object(s.c)(["fetchDiscussionDiffLines"])),{},{fetchDiff(){var e=this;this.error=!1,this.fetchDiscussionDiffLines(this.discussion).then(this.highlight).catch((function(){e.error=!0}))},trimChar:e=>e.replace(q,"")}),userColorSchemeClass:window.gon.user_color_scheme},B=Object(C.a)(M,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file file-holder",class:{"text-file":e.isTextFile}},[n("diff-file-header",{attrs:{"discussion-path":e.discussion.discussion_path,"diff-file":e.discussion.diff_file,"can-current-user-fork":!1,expanded:!e.isCollapsed}}),e._v(" "),e.isTextFile?n("div",{staticClass:"diff-content"},[n("table",{staticClass:"code js-syntax-highlight",class:e.$options.userColorSchemeClass},[e.hasTruncatedDiffLines?e._m(0):e._e(),e._v(" "),e.hasTruncatedDiffLines?e._e():n("tr",{staticClass:"line_holder line-holder-placeholder"},[n("td",{staticClass:"old_line diff-line-num"}),e._v(" "),n("td",{staticClass:"new_line diff-line-num"}),e._v(" "),e.error?n("td",{staticClass:"js-error-lazy-load-diff diff-loading-error-block"},[e._v("\n          "+e._s(e.__("Unable to load the diff"))+"\n          "),n("button",{staticClass:"btn-link btn-link-retry btn-no-padding js-toggle-lazy-diff-retry-button",on:{click:e.fetchDiff}},[e._v("\n            "+e._s(e.__("Try again"))+"\n          ")])]):n("td",{staticClass:"line_content js-success-lazy-load"},[n("span"),e._v(" "),n("gl-skeleton-loading"),e._v(" "),n("span")],1)]),e._v(" "),n("tr",{staticClass:"notes_holder"},[n("td",{staticClass:"notes-content",attrs:{colspan:"3"}},[e._t("default")],2)])],2)]):n("div",[n("diff-viewer",{attrs:{"diff-file":e.discussion.diff_file,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.discussion.diff_file.new_path,"new-sha":e.discussion.diff_file.diff_refs.head_sha,"old-path":e.discussion.diff_file.old_path,"old-sha":e.discussion.diff_file.diff_refs.base_sha,"file-hash":e.discussion.diff_file.file_hash,"project-path":e.projectPath},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,r=t.renderedHeight;return[i?n("image-diff-overlay",{attrs:{"rendered-width":i,"rendered-height":r,discussions:e.discussion,"file-hash":e.discussion.diff_file.file_hash,"show-comment-icon":!0,"should-toggle-discussion":!1,"badge-class":"image-comment-badge gl-text-gray-500"}}):e._e()]}}])}),e._v(" "),e._t("default")],2)],1)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return e._l(e.discussion.truncated_diff_lines,(function(t){return n("tr",{key:t.line_code,staticClass:"line_holder"},[n("td",{staticClass:"diff-line-num old_line",class:t.type},[e._v(e._s(t.old_line))]),e._v(" "),n("td",{staticClass:"diff-line-num new_line",class:t.type},[e._v(e._s(t.new_line))]),e._v(" "),n("td",{staticClass:"line_content",class:t.type,domProps:{innerHTML:e._s(e.trimChar(t.rich_text))}})])}))}],!1,null,null,null).exports,$=n("sHIo"),V=n("h/fo"),U=n("4lAS"),G={name:"ResolveDiscussionButton",components:{GlButton:U.a},props:{isResolving:{type:Boolean,required:!1,default:!1},buttonTitle:{type:String,required:!0}}},H=Object(C.a)(G,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",{staticClass:"ml-sm-2",attrs:{loading:e.isResolving},on:{click:function(t){return e.$emit("onClick")}}},[e._v("\n  "+e._s(e.buttonTitle)+"\n")])}),[],!1,null,null,null).exports,z={i18n:{buttonLabel:Object(l.e)("MergeRequests|Resolve this thread in a new issue")},name:"ResolveWithIssueButton",components:{GlButton:U.a},directives:{GlTooltip:r.a},props:{url:{type:String,required:!0}}},W=Object(C.a)(z,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"btn-group",attrs:{role:"group"}},[t("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn",attrs:{href:this.url,title:this.$options.i18n.buttonLabel,"aria-label":this.$options.i18n.buttonLabel,icon:"issue-new"}})],1)}),[],!1,null,null,null).exports,Q={name:"DiscussionActions",components:{ReplyPlaceholder:V.a,ResolveDiscussionButton:H,ResolveWithIssueButton:W},mixins:[Object($.a)()],props:{discussion:{type:Object,required:!0},isResolving:{type:Boolean,required:!0},resolveButtonTitle:{type:String,required:!0},resolveWithIssuePath:{type:String,required:!1,default:""},shouldShowJumpToNextDiscussion:{type:Boolean,required:!0}},computed:{resolvableNotes(){return this.discussion.notes.filter((function(e){return e.resolvable}))},userCanResolveDiscussion(){return this.resolvableNotes.every((function(e){var t;return null===(t=e.current_user)||void 0===t?void 0:t.can_resolve_discussion}))}}},K=Object(C.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-with-resolve-btn clearfix"},[n("reply-placeholder",{attrs:{"data-qa-selector":"discussion_reply_tab","placeholder-text":e.__("Reply")},on:{focus:function(t){return e.$emit("showReplyForm")}}}),e._v(" "),e.userCanResolveDiscussion?n("div",{staticClass:"btn-group discussion-actions",attrs:{role:"group"}},[n("div",{staticClass:"btn-group"},[e.discussion.resolvable?n("resolve-discussion-button",{attrs:{"data-qa-selector":"resolve_discussion_button","is-resolving":e.isResolving,"button-title":e.resolveButtonTitle},on:{onClick:function(t){return e.$emit("resolve")}}}):e._e()],1),e._v(" "),e.discussion.resolvable&&e.resolveWithIssuePath?n("resolve-with-issue-button",{attrs:{url:e.resolveWithIssuePath}}):e._e()],1):e._e()],1)}),[],!1,null,null,null).exports,Y=n("sZvX"),X=n("zkom"),J=n("gvRd"),Z=n("7KAB"),ee={functional:!0,props:{isDiffDiscussion:{type:Boolean,required:!1,default:!1}},render(e,t){let{props:n,children:i}=t;return n.isDiffDiscussion?e("li",{class:"discussion-collapsible gl-border-solid gl-border-gray-100 gl-border-1 gl-rounded-base clearfix"},[e("ul",{class:"notes"},i)]):i}},te=Object(C.a)(ee,void 0,void 0,!1,null,null,null).exports,ne=n("ZlTH"),ie=n("YqVM"),re=n.n(ie),se=n("Fsq/"),ae={components:{GlButton:U.a,GlIcon:i.a,UserAvatarLink:f.a,TimeAgoTooltip:se.a},props:{collapsed:{type:Boolean,required:!0},replies:{type:Array,required:!0}},computed:{lastReply(){return this.replies[this.replies.length-1]},uniqueAuthors(){const e=this.replies.map((function(e){return e.author||{}}));return re()(e,(function(e){return e.username}))},className(){return this.collapsed?"collapsed":"expanded"}},methods:{toggle(){this.$emit("toggle")}},ICON_CLASS:"gl-mr-3 gl-cursor-pointer"};function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue={name:"DiscussionNotes",components:{ToggleRepliesWidget:Object(C.a)(ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"replies-toggle js-toggle-replies gl-display-flex! gl-align-items-center gl-flex-wrap",class:e.className},[e.collapsed?[n("gl-icon",{class:e.$options.ICON_CLASS,attrs:{name:"chevron-right"},nativeOn:{click:function(t){return e.toggle(t)}}}),e._v(" "),n("div",e._l(e.uniqueAuthors,(function(e){return n("user-avatar-link",{key:e.username,attrs:{"link-href":e.path,"img-alt":e.name,"img-src":e.avatar_url,"img-size":26,"tooltip-text":e.name,"tooltip-placement":"bottom"}})})),1),e._v(" "),n("gl-button",{staticClass:"js-replies-text gl-mr-2",attrs:{category:"tertiary",variant:"link","data-qa-selector":"expand_replies_button"},on:{click:e.toggle}},[e._v("\n      "+e._s(e.replies.length)+" "+e._s(e.n__("reply","replies",e.replies.length))+"\n    ")]),e._v("\n    "+e._s(e.__("Last reply by"))+"\n    "),n("a",{staticClass:"btn btn-link author-link gl-mx-2",attrs:{href:e.lastReply.author.path}},[e._v("\n      "+e._s(e.lastReply.author.name)+"\n    ")]),e._v(" "),n("time-ago-tooltip",{attrs:{time:e.lastReply.created_at,"tooltip-placement":"bottom"}})]:n("div",{staticClass:"collapse-replies-btn js-collapse-replies gl-display-flex align-items-center",attrs:{"data-qa-selector":"collapse_replies_button"},on:{click:e.toggle}},[n("gl-icon",{class:e.$options.ICON_CLASS,attrs:{name:"chevron-down"}}),e._v(" "),n("span",{staticClass:"gl-cursor-pointer"},[e._v(e._s(e.s__("Notes|Collapse replies")))])],1)],2)}),[],!1,null,null,null).exports,NoteEditedText:_.a,DiscussionNotesRepliesWrapper:te},props:{discussion:{type:Object,required:!0},isExpanded:{type:Boolean,required:!1,default:!1},diffLine:{type:Object,required:!1,default:null},line:{type:Object,required:!1,default:null},shouldGroupReplies:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},computed:le(le({},Object(s.d)(["userCanReply"])),{},{hasReplies(){return Boolean(this.replies.length)},replies(){return this.discussion.notes.slice(1)},firstNote(){return this.discussion.notes.slice(0,1)[0]},resolvedText(){return this.discussion.resolved_by_push?Object(l.a)("Automatically resolved"):Object(l.a)("Resolved")},commit(){return this.discussion.for_commit?{id:this.discussion.commit_id,url:this.discussion.discussion_path}:null}}),methods:le(le({},Object(s.c)(["toggleDiscussion","setSelectedCommentPositionHover"])),{},{componentName:e=>e.isPlaceholderNote?e.placeholderType===Z.SYSTEM_NOTE?X.a:Y.a:e.system?J.a:ne.a,componentData:e=>e.isPlaceholderNote?e.notes[0]:e,handleMouseEnter(e){e.position&&this.setSelectedCommentPositionHover(e.position.line_range)},handleMouseLeave(e){e.position&&this.setSelectedCommentPositionHover()}})},de=Object(C.a)(ue,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-notes"},[n("ul",{staticClass:"notes",on:{mouseenter:function(t){return e.handleMouseEnter(e.discussion)},mouseleave:function(t){return e.handleMouseLeave(e.discussion)}}},[e.shouldGroupReplies?[n(e.componentName(e.firstNote),{tag:"component",attrs:{note:e.componentData(e.firstNote),line:e.line||e.diffLine,"discussion-file":e.discussion.diff_file,commit:e.commit,"help-page-path":e.helpPagePath,"show-reply-button":e.userCanReply,"discussion-root":!0,"discussion-resolve-path":e.discussion.resolve_path},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")},startReplying:function(t){return e.$emit("startReplying")}}},[e.discussion.resolved?n("note-edited-text",{attrs:{slot:"discussion-resolved-text","edited-at":e.discussion.resolved_at,"edited-by":e.discussion.resolved_by,"action-text":e.resolvedText,"class-name":"discussion-headline-light js-discussion-headline discussion-resolved-text"},slot:"discussion-resolved-text"}):e._e(),e._v(" "),e._t("avatar-badge",null,{slot:"avatar-badge"})],2),e._v(" "),n("discussion-notes-replies-wrapper",{attrs:{"is-diff-discussion":e.discussion.diff_discussion}},[e.hasReplies?n("toggle-replies-widget",{class:{"discussion-toggle-replies":e.discussion.diff_discussion},attrs:{collapsed:!e.isExpanded,replies:e.replies},on:{toggle:function(t){return e.toggleDiscussion({discussionId:e.discussion.id})}}}):e._e(),e._v(" "),e.isExpanded?e._l(e.replies,(function(t){return n(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"help-page-path":e.helpPagePath,line:e.line},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}})})):e._e(),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})],2)]:[e._l(e.discussion.notes,(function(t,i){return n(e.componentName(t),{key:t.id,tag:"component",attrs:{note:e.componentData(t),"discussion-file":e.discussion.diff_file,"help-page-path":e.helpPagePath,line:e.diffLine,"discussion-root":0===i,"discussion-resolve-path":e.discussion.resolve_path},on:{handleDeleteNote:function(t){return e.$emit("deleteNote")}}},[0===i?e._t("avatar-badge",null,{slot:"avatar-badge"}):e._e()],2)})),e._v(" "),e._t("footer",null,{showReplies:e.isExpanded||!e.hasReplies})]],2)])}),[],!1,null,null,null).exports,fe=n("OsT7"),he=n("bX/R");function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve={name:"NoteableDiscussion",components:{GlIcon:i.a,userAvatarLink:f.a,diffDiscussionHeader:x,noteSignedOutWidget:he.a,noteForm:fe.a,DraftNote:a.a,TimelineEntryItem:u.a,DiscussionNotes:de,DiscussionActions:K},directives:{GlTooltip:r.a},mixins:[p.a,m.a,c.a],props:{discussion:{type:Object,required:!0},line:{type:Object,required:!1,default:null},renderDiffFile:{type:Boolean,required:!1,default:!0},alwaysExpanded:{type:Boolean,required:!1,default:!1},discussionsByDiffOrder:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},data:()=>({isReplying:!1,isResolving:!1,resolveAsThread:!0}),computed:me(me({},Object(s.d)(["convertedDisscussionIds","getNoteableData","userCanReply","showJumpToNextDiscussion","getUserData"])),{},{currentUser(){return this.getUserData},isLoggedIn:()=>Boolean(gon.current_user_id),autosaveKey(){return Object(o.b)(this.firstNote.noteable_type,this.discussion.id)},newNotePath(){return this.getNoteableData.create_note_path},firstNote(){return this.discussion.notes.slice(0,1)[0]},shouldShowJumpToNextDiscussion(){return this.showJumpToNextDiscussion(this.discussionsByDiffOrder?"diff":"discussion")},shouldRenderDiffs(){return this.discussion.diff_discussion&&this.renderDiffFile},shouldGroupReplies(){return!this.shouldRenderDiffs},wrapperComponent(){return this.shouldRenderDiffs?B:"div"},wrapperComponentProps(){return this.shouldRenderDiffs?{discussion:this.discussion}:{}},isExpanded(){return this.discussion.expanded||this.alwaysExpanded},shouldHideDiscussionBody(){return this.shouldRenderDiffs&&!this.isExpanded},diffLine(){return this.line?this.line:this.discussion.diff_discussion&&this.discussion.truncated_diff_lines?this.discussion.truncated_diff_lines.slice(-1)[0]:null},resolveWithIssuePath(){return this.discussionResolved?"":this.discussion.resolve_with_issue_path}}),created(){h.a.$on("startReplying",this.onStartReplying)},beforeDestroy(){h.a.$off("startReplying",this.onStartReplying)},methods:me(me({},Object(s.c)(["saveNote","removePlaceholderNotes","toggleResolveNote","removeConvertedDiscussion","expandDiscussion"])),{},{showReplyForm(){this.isReplying=!0,this.discussion.expanded||this.expandDiscussion({discussionId:this.discussion.id})},cancelReplyForm(e,t){if(e&&t){const e=Object(l.e)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(e))return}this.convertedDisscussionIds.includes(this.discussion.id)&&this.removeConvertedDiscussion(this.discussion.id),this.isReplying=!1,Object(o.a)(this.autosaveKey)},saveReply(e,t,n){var i=this;if(!e)return this.cancelReplyForm(),void n();const r={in_reply_to_discussion_id:this.discussion.reply_id,target_type:this.getNoteableData.targetType,note:{note:e}};this.convertedDisscussionIds.includes(this.discussion.id)&&(r.return_discussion=!0),this.discussion.for_commit&&(r.note_project_id=this.discussion.project_id);const s={endpoint:this.newNotePath,flashContainer:this.$el,data:r};this.saveNote(s).then((function(e){!0!==e.hasFlash&&(i.isReplying=!1,Object(o.a)(i.autosaveKey)),n()})).catch((function(t){i.removePlaceholderNotes();const r=Object(l.a)("Your comment could not be submitted! Please check your network connection and try again.");Object(d.c)(r,"alert",i.$el),i.$refs.noteForm.note=e,n(t)}))},deleteNoteHandler(e){this.$emit("noteDeleted",this.discussion,e)},onStartReplying(e){this.discussion.id===e&&this.showReplyForm()}})},be=Object(C.a)(ve,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-discussion"},[n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"discussion js-discussion-container",attrs:{"data-discussion-id":e.discussion.id,"data-qa-selector":"discussion_content"}},[e.shouldRenderDiffs?n("diff-discussion-header",{attrs:{discussion:e.discussion}}):e._e(),e._v(" "),e.shouldHideDiscussionBody?e._e():n("div",{staticClass:"discussion-body"},[n(e.wrapperComponent,e._b({tag:"component",staticClass:"card discussion-wrapper"},"component",e.wrapperComponentProps,!1),[n("discussion-notes",{attrs:{discussion:e.discussion,"diff-line":e.diffLine,"help-page-path":e.helpPagePath,"is-expanded":e.isExpanded,line:e.line,"should-group-replies":e.shouldGroupReplies},on:{startReplying:e.showReplyForm,deleteNote:e.deleteNoteHandler},scopedSlots:e._u([{key:"footer",fn:function(t){var i=t.showReplies;return[e.showDraft(e.discussion.reply_id)?n("draft-note",{key:"draft_"+e.discussion.id,attrs:{draft:e.draftForDiscussion(e.discussion.reply_id)}}):i?n("div",{staticClass:"discussion-reply-holder gl-border-t-0! clearfix",class:{"is-replying":e.isReplying}},[!e.isReplying&&e.userCanReply?n("discussion-actions",{attrs:{discussion:e.discussion,"is-resolving":e.isResolving,"resolve-button-title":e.resolveButtonTitle,"resolve-with-issue-path":e.resolveWithIssuePath,"should-show-jump-to-next-discussion":e.shouldShowJumpToNextDiscussion},on:{showReplyForm:e.showReplyForm,resolve:e.resolveHandler}}):e._e(),e._v(" "),e.isReplying?n("note-form",{ref:"noteForm",attrs:{discussion:e.discussion,"is-editing":!1,line:e.diffLine,"save-button-title":"Comment","autosave-key":e.autosaveKey},on:{handleFormUpdateAddToReview:e.addReplyToReview,handleFormUpdate:e.saveReply,cancelForm:e.cancelReplyForm}}):e._e(),e._v(" "),e.isLoggedIn?e._e():n("note-signed-out-widget")],1):e._e()]}}],null,!1,3010899309)},[e._t("avatar-badge",null,{slot:"avatar-badge"})],2)],1)],1)],1)])])}),[],!1,null,null,null);t.a=be.exports},fm5U:function(e,t,n){"use strict";n("Lft7")},fn5V:function(e,t,n){"use strict";var i={components:{ciIcon:n("8zNS").a},props:{name:{type:String,required:!0},status:{type:Object,required:!0},iconSize:{type:Number,required:!1,default:16}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"ci-job-name-component mw-100 gl-display-flex gl-align-items-center"},[t("ci-icon",{staticClass:"gl-line-height-0",attrs:{size:this.iconSize,status:this.status}}),this._v(" "),t("span",{staticClass:"gl-text-truncate mw-70p gl-pl-3 gl-display-inline-block"},[this._v("\n    "+this._s(this.name)+"\n  ")])],1)}),[],!1,null,null,null);t.a=s.exports},g7k4:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"clearEtagPoll",(function(){return Kr})),n.d(i,"stopPolling",(function(){return Yr})),n.d(i,"restartPolling",(function(){return Xr})),n.d(i,"setEndpoint",(function(){return Jr})),n.d(i,"fetchReport",(function(){return Zr})),n.d(i,"receiveReportSuccess",(function(){return es})),n.d(i,"receiveReportError",(function(){return ts}));var r={};n.r(r),n.d(r,"groupedSummaryText",(function(){return is})),n.d(r,"summaryStatus",(function(){return rs})),n.d(r,"shouldRenderIssuesList",(function(){return ss})),n.d(r,"unresolvedIssues",(function(){return as})),n.d(r,"resolvedIssues",(function(){return os})),n.d(r,"newIssues",(function(){return ls}));var s={};n.r(s),n.d(s,"setPaths",(function(){return ws})),n.d(s,"fetchReports",(function(){return Os})),n.d(s,"receiveReportsSuccess",(function(){return ks})),n.d(s,"receiveReportsError",(function(){return Ss}));var a={};n.r(a),n.d(a,"hasCodequalityIssues",(function(){return js})),n.d(a,"codequalityStatus",(function(){return Cs})),n.d(a,"codequalityText",(function(){return xs})),n.d(a,"codequalityPopover",(function(){return Es}));var o={};n.r(o),n.d(o,"setPaths",(function(){return zs})),n.d(o,"requestReports",(function(){return Ws})),n.d(o,"clearEtagPoll",(function(){return Ks})),n.d(o,"stopPolling",(function(){return Ys})),n.d(o,"restartPolling",(function(){return Xs})),n.d(o,"fetchReports",(function(){return Js})),n.d(o,"receiveReportsSuccess",(function(){return Zs})),n.d(o,"receiveReportsError",(function(){return ea})),n.d(o,"openModal",(function(){return ta})),n.d(o,"closeModal",(function(){return na}));var l={};n.r(l),n.d(l,"summaryStatus",(function(){return ia}));var c={};n.r(c),n.d(c,"setEndpoint",(function(){return Pa})),n.d(c,"requestArtifacts",(function(){return Ta})),n.d(c,"clearEtagPoll",(function(){return Ia})),n.d(c,"stopPolling",(function(){return La})),n.d(c,"restartPolling",(function(){return Ra})),n.d(c,"fetchArtifacts",(function(){return Aa})),n.d(c,"receiveArtifactsSuccess",(function(){return Fa})),n.d(c,"receiveArtifactsError",(function(){return qa}));var u={};n.r(u),n.d(u,"title",(function(){return Ma}));var d=n("jB52"),f=n("yi8e"),h=n("wnC9"),p=(n("jaBk"),n("Yyc1")),m=n("wP8z"),g=n("s1D3"),v=n("30su"),b=n("pIt4"),y=n("/lV4"),_=n("z3Iu"),w=n("CUaz");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={components:{GlIcon:g.a,GlSprintf:v.a},mixins:[w.a],props:{draft:{type:Object,required:!0},isLast:{type:Boolean,required:!0}},computed:k(k(k({},Object(f.d)("diffs",["getDiffFileByHash"])),Object(f.d)(["getDiscussion"])),{},{iconName(){return this.isDiffDiscussion||this.draft.line_code?"doc-text":"comment"},discussion(){return this.getDiscussion(this.draft.discussion_id)},isDiffDiscussion(){return this.discussion&&this.discussion.diff_discussion},titleText(){const e=this.discussion?this.discussion.diff_file:this.draft;return(null==e?void 0:e.file_path)?e.file_path:this.discussion?Object(y.f)(Object(y.a)("%{authorsName}'s thread"),{authorsName:this.discussion.notes.find((function(e){return!e.system})).author.name}):Object(y.a)("Your new comment")},linePosition(){var e,t,n;return(null===(e=this.position)||void 0===e?void 0:e.position_type)===b.G?"".concat(this.position.x,"x ").concat(this.position.y,"y"):(null===(t=this.position)||void 0===t?void 0:t.new_line)||(null===(n=this.position)||void 0===n?void 0:n.old_line)},content(){const e=document.createElement("div");return e.innerHTML=this.draft.note_html,e.textContent},showLinePosition(){return this.draft.file_hash||this.isDiffDiscussion},position(){return this.draft.position||this.discussion.position},startLineNumber(){var e,t;return(null===(e=this.position)||void 0===e?void 0:e.position_type)===b.G?"".concat(this.position.x,"x ").concat(this.position.y,"y"):Object(_.f)(null===(t=this.position)||void 0===t?void 0:t.line_range)},endLineNumber(){var e;return Object(_.d)(null===(e=this.position)||void 0===e?void 0:e.line_range)}}),methods:{getLineClasses:e=>Object(_.e)(e)},showStaysResolved:!1},C=n("tBpV"),x=Object(C.a)(j,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("span",{staticClass:"review-preview-item-header"},[n("gl-icon",{staticClass:"flex-shrink-0",attrs:{name:e.iconName}}),e._v(" "),n("span",{staticClass:"bold text-nowrap gl-align-items-center"},[n("span",{staticClass:"review-preview-item-header-text block-truncated gl-ml-2"},[e._v("\n        "+e._s(e.titleText)+"\n      ")]),e._v(" "),e.showLinePosition?[e.startLineNumber===e.endLineNumber?[e._v("\n          :"),n("span",{class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]:n("gl-sprintf",{attrs:{message:e.__(":%{startLine} to %{endLine}")},scopedSlots:e._u([{key:"startLine",fn:function(){return[n("span",{staticClass:"gl-mr-2",class:e.getLineClasses(e.startLineNumber)},[e._v(e._s(e.startLineNumber))])]},proxy:!0},{key:"endLine",fn:function(){return[n("span",{staticClass:"gl-ml-2",class:e.getLineClasses(e.endLineNumber)},[e._v(e._s(e.endLineNumber))])]},proxy:!0}],null,!1,1655010680)})]:e._e()],2)],1),e._v(" "),n("span",{staticClass:"review-preview-item-content"},[n("p",[e._v(e._s(e.content))])]),e._v(" "),e.draft.discussion_id&&e.resolvedStatusMessage?n("span",{staticClass:"review-preview-item-footer draft-note-resolution p-0"},[n("gl-icon",{staticClass:"gl-mr-3",attrs:{name:"status_success"}}),e._v(" "+e._s(e.resolvedStatusMessage)+"\n  ")],1):e._e()])}),[],!1,null,null,null).exports;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={components:{GlDropdown:p.a,GlDropdownItem:m.a,GlIcon:g.a,PreviewItem:x},computed:D(D({},Object(f.f)("diffs",["viewDiffsFileByFile"])),Object(f.d)("batchComments",["draftsCount","sortedDrafts"])),methods:D(D(D({},Object(f.c)("diffs",["toggleActiveFileByHash"])),Object(f.c)("batchComments",["scrollToDraft"])),{},{isLast(e){return e===this.sortedDrafts.length-1},async onClickDraft(e){this.viewDiffsFileByFile&&e.file_hash&&await this.toggleActiveFileByHash(e.file_hash),await this.scrollToDraft(e)}})};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={components:{PreviewDropdown:Object(C.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{"header-text":e.n__("%d pending comment","%d pending comments",e.draftsCount),dropup:"","data-qa-selector":"review_preview_dropdown"},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v("\n    "+e._s(e.__("Pending comments"))+"\n    "),n("gl-icon",{staticClass:"dropdown-chevron",attrs:{name:"chevron-up"}})]},proxy:!0}])},[e._v(" "),e._l(e.sortedDrafts,(function(t,i){return n("gl-dropdown-item",{key:t.id,attrs:{"data-testid":"preview-item"},on:{click:function(n){return e.onClickDraft(t)}}},[n("preview-item",{attrs:{draft:t,"is-last":e.isLast(i)}})],1)}))],2)}),[],!1,null,null,null).exports,PublishButton:n("WP4l").a},computed:I(I({},Object(f.d)(["isNotesFetched"])),Object(f.d)("batchComments",["draftsCount"])),watch:{isNotesFetched(){this.isNotesFetched&&this.expandAllDiscussions()}},methods:I({},Object(f.c)("batchComments",["expandAllDiscussions"]))},A=Object(C.a)(R,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"show",rawName:"v-show",value:this.draftsCount>0,expression:"draftsCount > 0"}]},[t("nav",{staticClass:"review-bar-component"},[t("div",{staticClass:"review-bar-content d-flex gl-justify-content-end",attrs:{"data-qa-selector":"review_bar_content"}},[t("preview-dropdown"),this._v(" "),t("publish-button",{staticClass:"gl-ml-3",attrs:{"show-count":""}})],1)])])}),[],!1,null,null,null).exports;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=n("gjRm"),$=n("MbsY"),V=n("06tH"),U=n.n(V),G=n("NmEs"),H=n("TwKd"),z=n("J7NB"),W=(n("S26F"),n("pBsb"),n("FkSe")),Q=n("qVG1"),K=n("eVUo"),Y=n("t6Yz"),X=n.n(Y),J=n("IwOe"),Z=n("qPgm"),ee=n("d08M"),te=n("XRO8");function ne(e){var t;return(null==e?void 0:null===(t=e.highlighted_diff_lines)||void 0===t?void 0:t.length)>0}function ie(e){var t;return(null==e?void 0:null===(t=e.parallel_diff_lines)||void 0===t?void 0:t.length)>0}var re=n("3twG"),se=n("f8Rl"),ae=n("i3g2"),oe=n("lnTC"),le=n("0ch9"),ce=n("T22c");function ue(){Object(oe.a)({mark:le.d})}function de(){Object(oe.a)({mark:le.c,measures:[{name:le.g,start:le.d,end:le.c}]})}function fe(){Object(oe.a)({mark:le.b})}function he(){Object(oe.a)({mark:le.a,measures:[{name:le.f,start:le.b,end:le.a}]})}function pe(){Object(oe.a)({mark:le.e})}const me={instrument(){ce.a.$on(b.E,ue),ce.a.$on(b.D,de),ce.a.$on(b.C,fe),ce.a.$on(b.B,he),ce.a.$on(b.F,pe)},deinstrument(){ce.a.$off(b.F,pe),ce.a.$off(b.B,he),ce.a.$off(b.C,fe),ce.a.$off(b.D,de),ce.a.$off(b.E,ue)}};var ge=n("aTm7"),ve=n("dsWN"),be=n("4lAS"),ye={components:{GlAlert:ve.a,GlButton:be.a},props:{limited:{type:Boolean,required:!1,default:!1},dismissed:{type:Boolean,required:!1,default:!1}},data(){return{isDismissed:this.dismissed}},computed:{containerClasses(){return{[b.d]:this.limited}}},methods:{dismiss(){this.isDismissed=!0,this.$emit("dismiss")},expand(){ce.a.$emit(b.A),this.dismiss()}}},_e=Object(C.a)(ye,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isDismissed?e._e():n("div",{staticClass:"col-12",class:e.containerClasses,attrs:{"data-testid":"root"}},[n("gl-alert",{staticClass:"gl-mb-5",attrs:{dismissible:!0,title:e.__("Some changes are not shown"),variant:"warning"},on:{dismiss:e.dismiss},scopedSlots:e._u([{key:"actions",fn:function(){return[n("gl-button",{staticClass:"gl-alert-action",attrs:{category:"secondary",variant:"warning"},on:{click:e.expand}},[e._v("\n        "+e._s(e.__("Expand all files"))+"\n      ")])]},proxy:!0}],null,!1,35827708)},[n("p",{staticClass:"gl-mb-0"},[e._v("\n      "+e._s(e.__("For a faster browsing experience, some files are collapsed by default."))+"\n    ")])])],1)}),[],!1,null,null,null).exports,we={components:{CommitItem:n("1Pt7").a},props:{commit:{type:Object,required:!0},collapsible:{type:Boolean,required:!1,default:!0}}},Oe=Object(C.a)(we,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"info-well mw-100 mx-0"},[t("div",{staticClass:"well-segment"},[t("ul",{staticClass:"blob-commit-info"},[t("commit-item",{attrs:{commit:this.commit,collapsible:this.collapsible}})],1)])])}),[],!1,null,null,null).exports,ke=n("MV2A"),Se=n("1fc5"),je=n("LLbv"),Ce=n("koWC"),xe=n("Fsq/"),Ee={components:{GlDropdown:p.a,GlDropdownItem:m.a,GlDropdownDivider:Ce.a,TimeAgo:xe.a},props:{versions:{type:Array,required:!0}},computed:{selectedVersionName(){var e;return(null===(e=this.versions.find((function(e){return e.selected})))||void 0===e?void 0:e.versionName)||""}}},De=Object(C.a)(Ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{text:e.selectedVersionName,"data-qa-selector":"dropdown_content"}},[e._l(e.versions,(function(t){return[t.addDivider?n("gl-dropdown-divider",{key:t.id}):e._e(),e._v(" "),n("gl-dropdown-item",{key:t.id,class:{"is-active":t.selected},attrs:{"is-check-item":!0,"is-checked":t.selected,href:t.href}},[n("div",[n("strong",[e._v("\n          "+e._s(t.versionName)+"\n          "),t.isHead?[e._v(e._s(e.s__("DiffsCompareBaseBranch|(HEAD)")))]:t.isBase?[e._v(e._s(e.s__("DiffsCompareBaseBranch|(base)")))]:e._e()],2)]),e._v(" "),n("div",[n("small",{staticClass:"commit-sha"},[e._v(" "+e._s(t.short_commit_sha)+" ")])]),e._v(" "),n("div",[n("small",[t.commitsText?[e._v("\n            "+e._s(t.commitsText)+"\n          ")]:e._e(),e._v(" "),t.created_at?n("time-ago",{staticClass:"js-timeago",attrs:{time:t.created_at}}):e._e()],2)])])]}))],2)}),[],!1,null,null,null).exports,Pe=n("l+kv"),Te=n("SeSR"),Ne=n("Kuu+");function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae={i18n:Ne.d,components:{GlButtonGroup:Se.a,GlButton:be.a,GlDropdown:p.a,GlFormCheckbox:Te.a},computed:Le(Le({},Object(f.d)("diffs",["isInlineView","isParallelView"])),Object(f.f)("diffs",["renderTreeList","showWhitespace","viewDiffsFileByFile"])),methods:Le(Le({},Object(f.c)("diffs",["setInlineDiffViewType","setParallelDiffViewType","setRenderTreeList","setShowWhitespace","setFileByFile"])),{},{toggleFileByFile(){this.setFileByFile({fileByFile:!this.viewDiffsFileByFile})},toggleWhitespace(e){this.setShowWhitespace({showWhitespace:e,pushState:!0})}})},Fe=Object(C.a)(Ae,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{attrs:{icon:"settings",text:e.__("Diff view settings"),"text-sr-only":!0,"toggle-class":"js-show-diff-settings",right:""}},[n("div",{staticClass:"gl-px-3"},[n("span",{staticClass:"gl-font-weight-bold gl-display-block gl-mb-2"},[e._v(e._s(e.__("File browser")))]),e._v(" "),n("gl-button-group",{staticClass:"gl-display-flex"},[n("gl-button",{staticClass:"gl-w-half js-list-view",class:{selected:!e.renderTreeList},on:{click:function(t){return e.setRenderTreeList(!1)}}},[e._v("\n        "+e._s(e.__("List view"))+"\n      ")]),e._v(" "),n("gl-button",{staticClass:"gl-w-half js-tree-view",class:{selected:e.renderTreeList},on:{click:function(t){return e.setRenderTreeList(!0)}}},[e._v("\n        "+e._s(e.__("Tree view"))+"\n      ")])],1)],1),e._v(" "),n("div",{staticClass:"gl-mt-3 gl-px-3"},[n("span",{staticClass:"gl-font-weight-bold gl-display-block gl-mb-2"},[e._v(e._s(e.__("Compare changes")))]),e._v(" "),n("gl-button-group",{staticClass:"gl-display-flex js-diff-view-buttons"},[n("gl-button",{staticClass:"gl-w-half js-inline-diff-button",class:{selected:e.isInlineView},attrs:{id:"inline-diff-btn","data-view-type":"inline"},on:{click:e.setInlineDiffViewType}},[e._v("\n        "+e._s(e.__("Inline"))+"\n      ")]),e._v(" "),n("gl-button",{staticClass:"gl-w-half js-parallel-diff-button",class:{selected:e.isParallelView},attrs:{id:"parallel-diff-btn","data-view-type":"parallel"},on:{click:e.setParallelDiffViewType}},[e._v("\n        "+e._s(e.__("Side-by-side"))+"\n      ")])],1)],1),e._v(" "),n("gl-form-checkbox",{staticClass:"gl-mt-3 gl-ml-3",attrs:{"data-testid":"show-whitespace",checked:e.showWhitespace},on:{input:e.toggleWhitespace}},[e._v("\n    "+e._s(e.$options.i18n.whitespace)+"\n  ")]),e._v(" "),n("gl-form-checkbox",{staticClass:"gl-ml-3 gl-mb-0",attrs:{"data-testid":"file-by-file",checked:e.viewDiffsFileByFile},on:{input:e.toggleFileByFile}},[e._v("\n    "+e._s(e.$options.i18n.fileByFile)+"\n  ")])],1)}),[],!1,null,null,null).exports;function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $e={components:{CompareDropdownLayout:De,GlIcon:g.a,GlLink:ke.a,GlButtonGroup:Se.a,GlButton:be.a,GlSprintf:v.a,SettingsDropdown:Fe,DiffStats:Pe.a},directives:{GlTooltip:je.a},props:{isLimitedContainer:{type:Boolean,required:!1,default:!1},diffFilesCountText:{type:String,required:!1,default:null}},computed:Me(Me(Me({},Object(f.d)("diffs",["whichCollapsedTypes","diffCompareDropdownTargetVersions","diffCompareDropdownSourceVersions"])),Object(f.f)("diffs",["diffFiles","commit","showTreeList","startVersion","latestVersionPath","addedLines","removedLines"])),{},{toggleFileBrowserTitle(){return this.showTreeList?Object(y.a)("Hide file browser"):Object(y.a)("Show file browser")},hasChanges(){return this.diffFiles.length>0},hasSourceVersions(){return this.diffCompareDropdownSourceVersions.length>0},nextCommitUrl(){return this.commit.next_commit_id?Object(re.y)({commit_id:this.commit.next_commit_id}):""},previousCommitUrl(){return this.commit.prev_commit_id?Object(re.y)({commit_id:this.commit.prev_commit_id}):""},hasNeighborCommits(){return this.commit&&(this.commit.next_commit_id||this.commit.prev_commit_id)}}),created(){this.CENTERED_LIMITED_CONTAINER_CLASSES=b.d},methods:Me(Me({},Object(f.c)("diffs",["setInlineDiffViewType","setParallelDiffViewType","setShowTreeList"])),{},{expandAllFiles(){ce.a.$emit(b.A)}},Object(f.c)("diffs",["moveToNeighboringCommit"]))},Ve=Object(C.a)($e,(function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"mr-version-controls border-top"},[i("div",{staticClass:"mr-version-menus-container content-block",class:(e={},e[t.CENTERED_LIMITED_CONTAINER_CLASSES]=t.isLimitedContainer,e)},[t.hasChanges?i("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"gl-mr-3 js-toggle-tree-list",attrs:{variant:"default",icon:"file-tree",title:t.toggleFileBrowserTitle,"aria-label":t.toggleFileBrowserTitle,selected:t.showTreeList},on:{click:function(e){return t.setShowTreeList({showTreeList:!t.showTreeList})}}}):t._e(),t._v(" "),t.commit?i("div",[t._v("\n      "+t._s(t.__("Viewing commit"))+"\n      "),i("gl-link",{staticClass:"monospace",attrs:{href:t.commit.commit_url}},[t._v(t._s(t.commit.short_id))])],1):t._e(),t._v(" "),t.hasNeighborCommits?i("div",{staticClass:"commit-nav-buttons ml-3"},[i("gl-button-group",[i("gl-button",{attrs:{href:t.previousCommitUrl,disabled:!t.commit.prev_commit_id},on:{click:function(e){return e.preventDefault(),t.moveToNeighboringCommit({direction:"previous"})}}},[t.commit.prev_commit_id?t._e():i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"h-100 w-100 position-absolute position-top-0 position-left-0",attrs:{title:t.__("You're at the first commit")}}),t._v(" "),i("gl-icon",{attrs:{name:"chevron-left"}}),t._v("\n          "+t._s(t.__("Prev"))+"\n        ")],1),t._v(" "),i("gl-button",{attrs:{href:t.nextCommitUrl,disabled:!t.commit.next_commit_id},on:{click:function(e){return e.preventDefault(),t.moveToNeighboringCommit({direction:"next"})}}},[t.commit.next_commit_id?t._e():i("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"h-100 w-100 position-absolute position-top-0 position-left-0",attrs:{title:t.__("You're at the last commit")}}),t._v("\n          "+t._s(t.__("Next"))+"\n          "),i("gl-icon",{attrs:{name:"chevron-right"}})],1)],1)],1):!t.commit&&t.hasSourceVersions?i("gl-sprintf",{staticClass:"d-flex align-items-center compare-versions-container",attrs:{message:t.s__("MergeRequest|Compare %{target} and %{source}")},scopedSlots:t._u([{key:"target",fn:function(){return[i("compare-dropdown-layout",{staticClass:"mr-version-compare-dropdown",attrs:{versions:t.diffCompareDropdownTargetVersions,"data-qa-selector":"target_version_dropdown"}})]},proxy:!0},{key:"source",fn:function(){return[i("compare-dropdown-layout",{staticClass:"mr-version-dropdown",attrs:{versions:t.diffCompareDropdownSourceVersions}})]},proxy:!0}])}):t._e(),t._v(" "),t.hasChanges?i("div",{staticClass:"inline-parallel-buttons d-none d-md-flex ml-auto"},[i("diff-stats",{attrs:{"diff-files-count-text":t.diffFilesCountText,"added-lines":t.addedLines,"removed-lines":t.removedLines}}),t._v(" "),t.commit||t.startVersion?i("gl-button",{staticClass:"gl-mr-3 js-latest-version",attrs:{href:t.latestVersionPath,variant:"default"}},[t._v("\n        "+t._s(t.__("Show latest version"))+"\n      ")]):t._e(),t._v(" "),i("gl-button",{directives:[{name:"show",rawName:"v-show",value:t.whichCollapsedTypes.any,expression:"whichCollapsedTypes.any"}],staticClass:"gl-mr-3",attrs:{variant:"default"},on:{click:t.expandAllFiles}},[t._v("\n        "+t._s(t.__("Expand all"))+"\n      ")]),t._v(" "),i("settings-dropdown")],1):t._e()],1)])}),[],!1,null,null,null).exports,Ue=n("G3fq"),Ge=n.n(Ue),He=n("R0j4"),ze=n("BAGK"),We=n("sHIo"),Qe=n("Gtn5"),Ke=n("669a"),Ye=n("PTFM");function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et={components:{DraftNote:Ye.a},mixins:[Ke.a],props:{fileHash:{type:String,required:!0}},computed:Je(Je({},Object(f.d)("batchComments",["draftsForFile"])),{},{drafts(){return this.draftsForFile(this.fileHash)}})},tt=Object(C.a)(et,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.drafts,(function(t,i){return n("div",{key:t.id,staticClass:"discussion-notes diff-discussions position-relative"},[n("div",{staticClass:"notes"},[n("span",{staticClass:"d-block btn-transparent badge badge-pill is-draft js-diff-notes-index"},[e._v("\n        "+e._s(e.toggleText(t,i))+"\n      ")]),e._v(" "),n("draft-note",{attrs:{draft:t}})],1)])})),0)}),[],!1,null,null,null).exports;function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={computed:it(it({},Object(f.d)("batchComments",["shouldRenderDraftRow","shouldRenderParallelDraftRow","draftForLine","draftsForFile","hasParallelDraftLeft","hasParallelDraftRight"])),{},{imageDiscussions(){return this.diffFile.discussions.concat(this.draftsForFile(this.diffFile.file_hash))}})},at=n("IwtM"),ot=n("x/Tb"),lt=Object(C.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v("\n  "+this._s(this.__("No preview for this file type"))+"\n")])}),[],!1,null,null,null).exports,ct=Object(C.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v("\n  "+this._s(this.__("This diff was suppressed by a .gitattributes entry."))+"\n")])}),[],!1,null,null,null).exports,ut=n("OsT7"),dt=n("ZHzM"),ft=n("04nr");function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt={components:{noteableDiscussion:n("ffkl").a,GlIcon:g.a},props:{discussions:{type:Array,required:!0},line:{type:Object,required:!1,default:null},shouldCollapseDiscussions:{type:Boolean,required:!1,default:!1},renderAvatarBadge:{type:Boolean,required:!1,default:!1},helpPagePath:{type:String,required:!1,default:""}},methods:pt(pt(pt({},Object(f.c)(["toggleDiscussion"])),Object(f.c)("diffs",["removeDiscussionsFromDiff"])),{},{deleteNoteHandler(e){e.notes.length<=1&&this.removeDiscussionsFromDiff(e)},isExpanded(e){return!this.shouldCollapseDiscussions||e.expanded}})},vt=Object(C.a)(gt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.discussions,(function(t,i){return n("div",{key:t.id,staticClass:"discussion-notes diff-discussions position-relative",class:{collapsed:!e.isExpanded(t)}},[n("ul",{staticClass:"notes",attrs:{"data-discussion-id":t.id}},[e.shouldCollapseDiscussions?[n("button",{staticClass:"js-diff-notes-toggle",class:{"diff-notes-collapse":t.expanded,"btn-transparent badge badge-pill":!t.expanded},attrs:{type:"button","aria-label":e.__("Show comments")},on:{click:function(n){return e.toggleDiscussion({discussionId:t.id})}}},[t.expanded?n("gl-icon",{staticClass:"collapse-icon",attrs:{name:"collapse"}}):[e._v("\n            "+e._s(i+1)+"\n          ")]],2)]:e._e(),e._v(" "),n("noteable-discussion",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded(t),expression:"isExpanded(discussion)"}],attrs:{discussion:t,"render-diff-file":!1,"discussions-by-diff-order":!0,line:e.line,"help-page-path":e.helpPagePath},on:{noteDeleted:e.deleteNoteHandler},scopedSlots:e._u([e.renderAvatarBadge?{key:"avatar-badge",fn:function(){return[n("span",{staticClass:"badge badge-pill"},[e._v("\n            "+e._s(i+1)+"\n          ")])]},proxy:!0}:null],null,!0)})],2)])})),0)}),[],!1,null,null,null).exports;n("QifN");function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){_t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const wt=function(e,t,n){if(n)return!0;const i=null==t?void 0:t.line_code;return!!i&&i===e.diffs.highlightedRow},Ot=function(e){return e===b.k},kt=function(e){return e===b.Q},St=function(e){return[b.db,b.Z,b.z].includes(e)},jt=function(e,t){return t&&e},Ct=function(e){var t;return(null==e?void 0:null===(t=e.discussions)||void 0===t?void 0:t.length)>0},xt=function(e){return"#".concat((null==e?void 0:e.line_code)||"")},Et=function(e){var t,n;if(e)return e.line_code||(null===(t=e.left)||void 0===t?void 0:t.line_code)||(null===(n=e.right)||void 0===n?void 0:n.line_code)},Dt=function(e){let{line:t,hll:n,isLoggedIn:i,isHover:r}=e;if(!t)return[];const{type:s}=t;return[s,{hll:n,[b.N]:i&&r&&!Ot(s)&&!St(s),old_line:"old"===t.type,new_line:"new"===t.type}]},Pt=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return t;t=n?Object(y.a)("Add a comment to this line or drag for multiple lines"):Object(y.a)("Add a comment to this line");const i=e.commentsDisabled;return i&&(i.wasSymbolic||i.isSymbolic?t=Object(y.a)("Commenting on symbolic links that replace or are replaced by files is currently not supported."):(i.wasReal||i.isReal)&&(t=Object(y.a)("Commenting on files that replace or are replaced by symbolic links is currently not supported."))),t},Tt=function(e,t){var n;if((null==e?void 0:null===(n=e.right)||void 0===n?void 0:n.type)===b.Z)return b.db;return[(null==e?void 0:e.left)?e.left.type:b.z,{hll:t}]},Nt=function(e,t,n,i){return e&&!t&&!n&&!i},It=function(e){return function(t){var n,i,r,s,a,o,l,c,u,d,f,h,p,m,g,v;let{left:b,right:y}=t;const _=(null===(n=b)||void 0===n?void 0:null===(i=n.discussions)||void 0===i?void 0:i.length)>0&&(null===(r=b)||void 0===r?void 0:r.discussionsExpanded),w=(null===(s=y)||void 0===s?void 0:null===(a=s.discussions)||void 0===a?void 0:a.length)>0&&(null===(o=y)||void 0===o?void 0:o.discussionsExpanded),O=_||w||(null===(l=b)||void 0===l?void 0:l.hasForm)||(null===(c=y)||void 0===c?void 0:c.hasForm);return b&&(b=yt(yt({},b),{},{renderDiscussion:_,hasDraft:e.hasParallelDraftLeft(e.diffFile.file_hash,t),lineDraft:e.draftForLine(e.diffFile.file_hash,t,"left"),hasCommentForm:b.hasForm})),y&&(y=yt(yt({},y),{},{renderDiscussion:Boolean(w&&y.type),hasDraft:e.hasParallelDraftRight(e.diffFile.file_hash,t),lineDraft:e.draftForLine(e.diffFile.file_hash,t,"right"),hasCommentForm:Boolean(y.hasForm&&y.type)})),yt(yt({},t),{},{left:b,right:y,isMatchLineLeft:kt(null===(u=b)||void 0===u?void 0:u.type),isMatchLineRight:kt(null===(d=y)||void 0===d?void 0:d.type),isContextLineLeft:Ot(null===(f=b)||void 0===f?void 0:f.type),isContextLineRight:Ot(null===(h=y)||void 0===h?void 0:h.type),hasDiscussionsLeft:Ct(b),hasDiscussionsRight:Ct(y),lineHrefOld:xt(b),lineHrefNew:xt(y),lineCode:Et(t),isMetaLineLeft:St(null===(p=b)||void 0===p?void 0:p.type),isMetaLineRight:St(null===(m=y)||void 0===m?void 0:m.type),draftRowClasses:(null===(g=b)||void 0===g?void 0:g.lineDraft)>0||(null===(v=y)||void 0===v?void 0:v.lineDraft)>0?"":"js-temp-notes-holder",renderCommentRow:O,commentRowClasses:Ct(b)||Ct(y)?"":"js-temp-notes-holder"})}};var Lt=n("h/fo");function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft={name:"DiffDiscussionReply",components:{NoteSignedOutWidget:n("bX/R").a,ReplyPlaceholder:Lt.a},props:{hasForm:{type:Boolean,required:!1,default:!1},renderReplyPlaceholder:{type:Boolean,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(f.d)({currentUser:"getUserData",userCanReply:"userCanReply"}))},qt=Object(C.a)(Ft,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discussion-reply-holder d-flex clearfix"},[e.userCanReply?[e.hasForm?e._t("form"):e.renderReplyPlaceholder?[n("reply-placeholder",{attrs:{"placeholder-text":e.__("Start a new discussion"),"label-text":e.__("New discussion")},on:{focus:function(t){return e.$emit("showNewDiscussionForm")}}})]:e._e()]:n("note-signed-out-widget")],2)}),[],!1,null,null,null).exports;function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vt={components:{GlFormSelect:n("Gjpj").a,GlSprintf:v.a},props:{lineRange:{type:Object,required:!1,default:null},line:{type:Object,required:!0},commentLineOptions:{type:Array,required:!0}},data(){var e,t;return{commentLineStart:{},commentLineEndType:(null===(e=this.lineRange)||void 0===e?void 0:null===(t=e.end)||void 0===t?void 0:t.line_type)||this.line.type}},computed:Bt(Bt({},Object(f.f)({selectedCommentPosition:function(e){let{notes:t}=e;return t.selectedCommentPosition}})),{},{lineNumber(){return this.commentLineOptions[this.commentLineOptions.length-1].text}}),created(){var e,t;const n=(null===(e=this.selectedCommentPosition)||void 0===e?void 0:e.start)||(null===(t=this.lineRange)||void 0===t?void 0:t.start)||this.line;this.commentLineStart={line_code:n.line_code,type:n.type,old_line:n.old_line,new_line:n.new_line},this.selectedCommentPosition||this.highlightSelection()},destroyed(){this.setSelectedCommentPosition()},methods:Bt(Bt({},Object(f.c)(["setSelectedCommentPosition"])),{},{getSymbol(e){let{type:t}=e;return Object(_.g)(t)},getLineClasses:e=>Object(_.e)(e),updateCommentLineStart(e){this.commentLineStart=e,this.$emit("input",e),this.highlightSelection()},highlightSelection(){const{line_code:e,new_line:t,old_line:n,type:i}=this.line,r={start:Bt({},this.commentLineStart),end:{line_code:e,new_line:t,old_line:n,type:i}};this.setSelectedCommentPosition(r)}})},Ut=Object(C.a)(Vt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-sprintf",{attrs:{message:e.s__("MergeRequestDiffs|Commenting on lines %{selectStart}start%{selectEnd} to %{end}")},scopedSlots:e._u([{key:"select",fn:function(){return[n("label",{staticClass:"sr-only",attrs:{for:"comment-line-start"}},[e._v(e._s(e.s__("MergeRequestDiffs|Select comment starting line")))]),e._v(" "),n("gl-form-select",{staticClass:"gl-w-auto gl-vertical-align-baseline",attrs:{id:"comment-line-start",value:e.commentLineStart,options:e.commentLineOptions,size:"sm"},on:{change:e.updateCommentLineStart}})]},proxy:!0},{key:"end",fn:function(){return[n("span",{class:e.getLineClasses(e.line)},[e._v("\n        "+e._s(e.lineNumber)+"\n      ")])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Gt=n("ywIy");function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qt={components:{noteForm:ut.a,MultilineCommentForm:Ut},mixins:[Gt.a,at.a,Object(We.a)()],props:{diffFileHash:{type:String,required:!0},line:{type:Object,required:!0},linePosition:{type:String,required:!1,default:""},noteTargetLine:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""}},data(){return{commentLineStart:{line_code:this.line.line_code,type:this.line.type,old_line:this.line.old_line,new_line:this.line.new_line}}},computed:zt(zt(zt(zt({},Object(f.f)({diffViewType:function(e){let{diffs:t}=e;return t.diffViewType},showSuggestPopover:function(e){let{diffs:t}=e;return t.showSuggestPopover},noteableData:function(e){let{notes:t}=e;return t.noteableData},selectedCommentPosition:function(e){let{notes:t}=e;return t.selectedCommentPosition}})),Object(f.d)("diffs",["getDiffFileByHash","diffLines"])),Object(f.d)(["isLoggedIn","noteableType","getNoteableData","getNotesDataByProp","getUserData"])),{},{author(){return this.getUserData},formData(){return{noteableData:this.noteableData,noteableType:this.noteableType,noteTargetLine:this.noteTargetLine,diffViewType:this.diffViewType,diffFile:this.diffFile,linePosition:this.linePosition,lineRange:Object(_.b)(this.commentLineStart,this.line)}},diffFile(){return this.getDiffFileByHash(this.diffFileHash)},commentLineOptions(){var e=this;const t=function(e,t){let{left:n,right:i}=t;return n&&e.push(n),(null==n?void 0:n.line_code)===(null==i?void 0:i.line_code)||"old-nonewline"===(null==n?void 0:n.type)||"new-nonewline"===(null==i?void 0:i.type)?e:(i&&"match"!==i.type&&e.push(i),e)},n="new"===this.line.type?"right":"left",i=e.diffViewType===b.eb?e.diffLines(e.diffFile,e.glFeatures.unifiedDiffComponents).reduce(t,[]):e.diffFile[b.I];return Object(_.a)(i,this.line,this.line.line_code,n)},commentLines(){if(!this.selectedCommentPosition)return[];const e=[],{start:t,end:n}=this.selectedCommentPosition,i=this.diffFile[b.I];let r=!1;for(let s=0,a=i.length-1;s<=a;s+=1){const a=i[s];if(t.line_code===a.line_code&&(r=!0),r&&(a.type!==b.cb&&e.push(a),n.line_code===a.line_code))break}return e}}),mounted(){if(this.isLoggedIn){const e=[this.noteableData.diff_head_sha,b.u,this.noteableData.source_project_id,this.line.line_code];this.initAutoSave(this.noteableData,e)}this.selectedCommentPosition&&(this.commentLineStart=this.selectedCommentPosition.start)},methods:zt(zt({},Object(f.c)("diffs",["cancelCommentForm","saveDiffDiscussion","setSuggestPopoverDismissed"])),{},{handleCancelCommentForm(e,t){var n=this;if(e&&t){const e=Object(y.e)("Notes|Are you sure you want to cancel creating this comment?");if(!window.confirm(e))return}this.cancelCommentForm({lineCode:this.line.line_code,fileHash:this.diffFileHash}),this.$nextTick((function(){n.resetAutoSave()}))},handleSaveNote(e){var t=this;return this.saveDiffDiscussion({note:e,formData:this.formData}).then((function(){return t.handleCancelCommentForm()}))}})};function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xt={components:{DiffDiscussions:vt,DiffLineNoteForm:Object(C.a)(Qt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content discussion-form discussion-form-container discussion-notes"},[n("div",{staticClass:"gl-mb-3 gl-text-gray-500 gl-pb-3"},[n("multiline-comment-form",{attrs:{line:e.line,"comment-line-options":e.commentLineOptions},model:{value:e.commentLineStart,callback:function(t){e.commentLineStart=t},expression:"commentLineStart"}})],1),e._v(" "),n("note-form",{ref:"noteForm",staticClass:"diff-comment-form gl-mt-3",attrs:{"is-editing":!1,"line-code":e.line.line_code,line:e.line,lines:e.commentLines,"help-page-path":e.helpPagePath,"diff-file":e.diffFile,"show-suggest-popover":e.showSuggestPopover,"save-button-title":e.__("Comment")},on:{handleFormUpdateAddToReview:e.addToReview,cancelForm:e.handleCancelCommentForm,handleFormUpdate:e.handleSaveNote,handleSuggestDismissed:e.setSuggestPopoverDismissed}})],1)}),[],!1,null,null,null).exports,DiffDiscussionReply:qt},props:{line:{type:Object,required:!0},diffFileHash:{type:String,required:!0},helpPagePath:{type:String,required:!1,default:""},hasDraft:{type:Boolean,required:!1,default:!1},linePosition:{type:String,required:!1,default:""}},methods:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Yt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(f.c)("diffs",["showCommentForm"]))},Jt=Object(C.a)(Xt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[e.line.renderDiscussion?n("diff-discussions",{attrs:{line:e.line,discussions:e.line.discussions,"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.hasDraft?e._e():n("diff-discussion-reply",{attrs:{"has-form":e.line.hasCommentForm,"render-reply-placeholder":Boolean(e.line.discussions.length)},on:{showNewDiscussionForm:function(t){return e.showCommentForm({lineCode:e.line.line_code,fileHash:e.diffFileHash})}},scopedSlots:e._u([{key:"form",fn:function(){return[n("diff-line-note-form",{attrs:{"diff-file-hash":e.diffFileHash,line:e.line,"note-target-line":e.line,"help-page-path":e.helpPagePath,"line-position":e.linePosition}})]},proxy:!0}],null,!1,708891510)})],1)}),[],!1,null,null,null).exports;function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nn={i18n:{showMore:Object(y.f)(Object(y.e)("Diffs|Show %{unfoldCount} lines"),{unfoldCount:b.Hb}),showAll:Object(y.e)("Diffs|Show all unchanged lines")},components:{GlIcon:g.a},mixins:[Object(We.a)()],props:{fileHash:{type:String,required:!0},contextLinesPath:{type:String,required:!0},line:{type:Object,required:!0},isTop:{type:Boolean,required:!1,default:!1},isBottom:{type:Boolean,required:!1,default:!1}},computed:en(en({},Object(f.f)({diffFiles:function(e){return e.diffs.diffFiles}})),{},{canExpandUp(){return!this.isBottom},canExpandDown(){return this.isBottom||!this.isTop}}),created(){this.EXPAND_DOWN=2,this.EXPAND_UP=1},methods:en(en({},Object(f.c)("diffs",["loadMoreLines"])),{},{getPrevLineNumber(e,t){const n=ft.e(this.diffFiles,this.fileHash),i=ft.k(b.J,n,{oldLineNumber:e,newLineNumber:t});return function(e,t){const n={[b.J]:function(e){return null==e?void 0:e.new_line}}[e];return n&&n(t)}(b.J,n[b.I][i-2])||0},callLoadMoreLines(e,t,n,i){var r=this;let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.loadMoreLines({endpoint:e,params:t,lineNumbers:n,fileHash:i,isExpandDown:s,nextLineNumbers:a}).then((function(){r.isRequesting=!1})).catch((function(){Object(te.c)(Object(y.e)("Diffs|Something went wrong while fetching diff lines.")),r.isRequesting=!1}))},handleExpandLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.isRequesting)return;this.isRequesting=!0;const t=this.contextLinesPath,{fileHash:n}=this,i=b.J,r=this.line.meta_data.old_pos||0,s=this.line.meta_data.new_pos||0,a={endpoint:t,fileHash:n,view:i,oldLineNumber:r,newLineNumber:s,offset:s-r};1===e?this.handleExpandUpLines(a):2===e?this.handleExpandDownLines(a):this.handleExpandAllLines(a)},handleExpandUpLines(e){const{endpoint:t,fileHash:n,view:i,oldLineNumber:r,newLineNumber:s,offset:a}=e,o=this.isBottom,l=s-1,c=l;let u=l-b.Hb,d=!0;const f=this.getPrevLineNumber(r,s);u<=f+1&&(u=f+1,d=!1);const h={since:u,to:c,bottom:o,offset:a,unfold:d,view:i},p={oldLineNumber:r,newLineNumber:s};this.callLoadMoreLines(t,h,p,n)},handleExpandDownLines(e){const{endpoint:t,fileHash:n,view:i,oldLineNumber:r,newLineNumber:s,offset:a}=e,o={old_line:r,new_line:s};let l=!0,c=!1,u=r,d=s,f=s+1,h=f,p=f+b.Hb;if(!this.isBottom){const e=this.getPrevLineNumber(u,d);c=!0,u=e-a,d=e,h=f=e+1,(p=f+b.Hb)>=s&&(p=s-1,l=!1)}const m={since:h,to:p,bottom:!0,offset:a,unfold:l,view:i},g={oldLineNumber:u,newLineNumber:d};this.callLoadMoreLines(t,m,g,n,c,o)},handleExpandAllLines(e){const{endpoint:t,fileHash:n,view:i,oldLineNumber:r,newLineNumber:s,offset:a}=e,o=this.isBottom;let l,c;if(this.isTop)l=1,c=s-1;else if(o)l=s+1,c=-1;else{l=this.getPrevLineNumber(r,s)+1,c=s-1}const u={since:l,to:c,bottom:o,offset:a,unfold:!1,view:i},d={oldLineNumber:r,newLineNumber:s};this.callLoadMoreLines(t,u,d,n)}})},rn=Object(C.a)(nn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content js-line-expansion-content"},[e.canExpandDown?n("a",{staticClass:"gl-mx-2 gl-cursor-pointer js-unfold-down gl-display-inline-block gl-py-4",on:{click:function(t){return e.handleExpandLines(e.EXPAND_DOWN)}}},[n("gl-icon",{attrs:{size:12,name:"expand-down"}}),e._v(" "),n("span",[e._v(e._s(e.$options.i18n.showMore))])],1):e._e(),e._v(" "),n("a",{staticClass:"gl-mx-2 cursor-pointer js-unfold-all",on:{click:function(t){return e.handleExpandLines()}}},[n("gl-icon",{attrs:{size:12,name:"expand"}}),e._v(" "),n("span",[e._v(e._s(e.$options.i18n.showAll))])],1),e._v(" "),e.canExpandUp?n("a",{staticClass:"gl-mx-2 gl-cursor-pointer js-unfold gl-display-inline-block gl-py-4",on:{click:function(t){return e.handleExpandLines(e.EXPAND_UP)}}},[n("gl-icon",{attrs:{size:12,name:"expand-up"}}),e._v(" "),n("span",[e._v(e._s(e.$options.i18n.showMore))])],1):e._e()])}),[],!1,null,null,null).exports,sn=(n("orcL"),n("GuZl"));n("Ch9p");const an="".concat("data-interop-","type"),on="".concat("data-interop-","line"),ln="".concat("data-interop-","new-line"),cn="".concat("data-interop-","old-line"),un=function(e){var t;if(!e)return null;const n=(null===(t=e.type)||void 0===t?void 0:t.startsWith("old"))?"old":"new",i="old"===n?e.old_line:e.new_line;return{[an]:n,[on]:i,[ln]:e.new_line,[cn]:e.old_line}},dn=function(e){return e?{[an]:"old",[on]:e.old_line,[cn]:e.old_line}:null},fn=function(e){return e?{[an]:"new",[on]:e.new_line,[ln]:e.new_line}:null};var hn=n("0AwG"),pn=n("+kWK"),mn={components:{GlIcon:g.a,UserAvatarImage:pn.a},directives:{GlTooltip:je.a},props:{discussions:{type:Array,required:!0},discussionsExpanded:{type:Boolean,required:!1,default:!1}},computed:{allDiscussions(){return this.discussions.reduce((function(e,t){return e.concat(t.notes)}),[])},notesInGutter(){return this.allDiscussions.slice(0,b.l).map((function(e){return{note:e.note,author:e.author}}))},moreCount(){return this.allDiscussions.length-this.notesInGutter.length},moreText(){return 0===this.moreCount?"":Object(y.d)("%d more comment","%d more comments",this.moreCount)}},methods:{getTooltipText(e){let{note:t}=e;return t.length>b.L&&(t=Object(hn.r)(t,b.L)),"".concat(e.author.name,": ").concat(t)}}},gn=Object(C.a)(mn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-comment-avatar-holders"},[e.discussionsExpanded?n("button",{staticClass:"diff-notes-collapse js-diff-comment-avatar js-diff-comment-button",attrs:{type:"button","aria-label":e.__("Show comments")},on:{click:function(t){return e.$emit("toggleLineDiscussions")}}},[n("gl-icon",{attrs:{size:12,name:"collapse"}})],1):[e._l(e.notesInGutter,(function(t){return n("user-avatar-image",{key:t.id,staticClass:"diff-comment-avatar js-diff-comment-avatar",attrs:{"img-src":t.author.avatar_url,"tooltip-text":e.getTooltipText(t)},nativeOn:{click:function(t){return e.$emit("toggleLineDiscussions")}}})})),e._v(" "),e.moreText?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"diff-comments-more-count js-diff-comment-avatar js-diff-comment-plus",attrs:{title:e.moreText,"data-container":"body","data-placement":"top",role:"button"},on:{click:function(t){return e.$emit("toggleLineDiscussions")}}},[e._v("+"+e._s(e.moreCount))]):e._e()]],2)}),[],!1,null,null,null).exports;function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n={components:{DiffGutterAvatars:gn},directives:{GlTooltip:je.a},mixins:[Object(We.a)()],props:{fileHash:{type:String,required:!0},filePath:{type:String,required:!0},line:{type:Object,required:!0},isCommented:{type:Boolean,required:!1,default:!1},inline:{type:Boolean,required:!1,default:!1},index:{type:Number,required:!0}},data:()=>({dragging:!1}),computed:bn(bn(bn(bn({},Object(f.d)("diffs",["fileLineCoverage"])),Object(f.d)(["isLoggedIn"])),Object(f.f)({isHighlighted(e){var t;const n=(null===(t=this.line.left)||void 0===t?void 0:t.line_code)?this.line.left:this.line.right;return wt(e,n,!1)}})),{},{classNameMap(){return{[b.j]:this.line.isContextLineLeft,[b.eb]:!this.inline,commented:this.isCommented}},parallelViewLeftLineType(){return Tt(this.line,this.isHighlighted||this.isCommented)},coverageStateLeft(){return this.inline&&this.line.left?this.fileLineCoverage(this.filePath,this.line.left.new_line):{}},coverageStateRight(){return this.line.right?this.fileLineCoverage(this.filePath,this.line.right.new_line):{}},classNameMapCellLeft(){return Dt({line:this.line.left,hll:this.isHighlighted||this.isCommented,isLoggedIn:this.isLoggedIn})},classNameMapCellRight(){return Dt({line:this.line.right,hll:this.isHighlighted||this.isCommented,isLoggedIn:this.isLoggedIn})},addCommentTooltipLeft(){return Pt(this.line.left,this.glFeatures.dragCommentSelection)},addCommentTooltipRight(){return Pt(this.line.right,this.glFeatures.dragCommentSelection)},emptyCellRightClassMap(){var e;return{conflict_their:(null===(e=this.line.left)||void 0===e?void 0:e.type)===b.h}},emptyCellLeftClassMap(){var e;return{conflict_our:(null===(e=this.line.right)||void 0===e?void 0:e.type)===b.i}},shouldRenderCommentButton(){return this.isLoggedIn&&!this.line.isContextLineLeft&&!this.line.isMetaLineLeft},isLeftConflictMarker(){var e;return[b.f,b.g].includes(null===(e=this.line.left)||void 0===e?void 0:e.type)},interopLeftAttributes(){return this.inline?un(this.line.left):dn(this.line.left)},interopRightAttributes(){return fn(this.line.right)}}),mounted(){this.scrollToLineIfNeededParallel(this.line)},methods:bn(bn({},Object(f.c)("diffs",["scrollToLineIfNeededParallel","showCommentForm","setHighlightedRow","toggleLineDiscussions"])),{},{handleParallelLineMouseDown(e){const t=e.currentTarget,n=t.closest(".diff-table");n.classList.remove("left-side-selected","right-side-selected");const[i]=["left-side","right-side"].filter((function(e){return t.classList.contains(e)}));i&&n.classList.add("".concat(i,"-selected"))},handleCommentButton(e){this.showCommentForm({lineCode:e.line_code,fileHash:this.fileHash})},conflictText(e){return e.type===b.g?this.$options.THEIR_CHANGES:this.$options.OUR_CHANGES},onDragEnd(){this.dragging=!1,this.glFeatures.dragCommentSelection&&this.$emit("stopdragging")},onDragEnter(e,t){this.glFeatures.dragCommentSelection&&this.$emit("enterdragging",bn(bn({},e),{},{index:t}))},onDragStart(e){this.$root.$emit(sn.b),this.dragging=!0,this.$emit("startdragging",e)}}),OUR_CHANGES:"HEAD//our changes",THEIR_CHANGES:"origin//their changes",CONFLICT_MARKER:b.e,CONFLICT_MARKER_THEIR:b.g,CONFLICT_OUR:b.h,CONFLICT_THEIR:b.i};function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn={components:{DiffExpansionCell:rn,DiffRow:Object(C.a)(_n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-grid-row diff-tr line_holder",class:e.classNameMap},[n("div",e._b({staticClass:"diff-grid-left left-side",attrs:{"data-testid":"left-side"},on:{dragover:function(e){e.preventDefault()},dragenter:function(t){return e.onDragEnter(e.line.left,e.index)},dragend:e.onDragEnd}},"div",e.interopLeftAttributes,!1),[e.line.left&&e.line.left.type!==e.$options.CONFLICT_MARKER?[n("div",{staticClass:"diff-td diff-line-num",class:e.classNameMapCellLeft,attrs:{"data-testid":"left-line-number","data-qa-selector":"new_diff_line_link"}},[e.isLeftConflictMarker?e._e():[e.shouldRenderCommentButton&&!e.line.hasDiscussionsLeft?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"add-diff-note tooltip-wrapper",attrs:{title:e.addCommentTooltipLeft}},[n("div",{staticClass:"add-diff-note unified-diff-components-diff-note-button note-button js-add-diff-note-button",class:{"gl-cursor-grab":e.dragging},attrs:{"data-testid":"left-comment-button",role:"button",tabindex:"0",draggable:!e.line.left.commentsDisabled&&e.glFeatures.dragCommentSelection,type:"button","data-qa-selector":"diff_comment_button",disabled:e.line.left.commentsDisabled,"aria-disabled":e.line.left.commentsDisabled},on:{click:function(t){!e.line.left.commentsDisabled&&e.handleCommentButton(e.line.left)},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;!e.line.left.commentsDisabled&&e.handleCommentButton(e.line.left)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;!e.line.left.commentsDisabled&&e.handleCommentButton(e.line.left)}],dragstart:function(t){!e.line.left.commentsDisabled&&e.onDragStart(Object.assign({},e.line.left,{index:e.index}))}}})]):e._e()],e._v(" "),e.line.left.old_line&&e.line.left.type!==e.$options.CONFLICT_THEIR?n("a",{attrs:{"data-linenumber":e.line.left.old_line,href:e.line.lineHrefOld},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e(),e._v(" "),e.line.hasDiscussionsLeft?n("diff-gutter-avatars",{attrs:{discussions:e.line.left.discussions,"discussions-expanded":e.line.left.discussionsExpanded,"data-testid":"left-discussions"},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.line.left.line_code,fileHash:e.fileHash,expanded:!e.line.left.discussionsExpanded})}}}):e._e()],2),e._v(" "),e.inline?n("div",{staticClass:"diff-td diff-line-num",class:e.classNameMapCellLeft},[e.line.left.new_line&&e.line.left.type!==e.$options.CONFLICT_OUR?n("a",{attrs:{"data-linenumber":e.line.left.new_line,href:e.line.lineHrefOld},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e()]):e._e(),e._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"diff-td line-coverage left-side",class:e.parallelViewLeftLineType.concat([e.coverageStateLeft.class]),attrs:{title:e.coverageStateLeft.text}}),e._v(" "),n("div",{key:e.line.left.line_code,staticClass:"diff-td line_content with-coverage left-side",class:[e.parallelViewLeftLineType,{parallel:!e.inline}],attrs:{id:e.line.left.line_code,"data-testid":"left-content"},on:{mousedown:e.handleParallelLineMouseDown}},[e.isLeftConflictMarker?n("strong",[e._v(e._s(e.conflictText(e.line.left)))]):n("span",{domProps:{innerHTML:e._s(e.line.left.rich_text)}})])]:!e.inline||e.line.left&&e.line.left.type===e.$options.CONFLICT_MARKER?[n("div",{staticClass:"diff-td diff-line-num old_line empty-cell",class:e.emptyCellLeftClassMap,attrs:{"data-testid":"left-empty-cell"}},[e._v("\n        \n      ")]),e._v(" "),e.inline?n("div",{staticClass:"diff-td diff-line-num old_line empty-cell",class:e.emptyCellLeftClassMap}):e._e(),e._v(" "),n("div",{staticClass:"diff-td line-coverage left-side empty-cell",class:e.emptyCellLeftClassMap}),e._v(" "),n("div",{staticClass:"diff-td line_content with-coverage left-side empty-cell",class:[e.emptyCellLeftClassMap,{parallel:!e.inline}]})]:e._e()],2),e._v(" "),e.inline?e._e():n("div",e._b({staticClass:"diff-grid-right right-side",attrs:{"data-testid":"right-side"},on:{dragover:function(e){e.preventDefault()},dragenter:function(t){return e.onDragEnter(e.line.right,e.index)},dragend:e.onDragEnd}},"div",e.interopRightAttributes,!1),[e.line.right?[n("div",{staticClass:"diff-td diff-line-num new_line",class:e.classNameMapCellRight},[e.line.right.type!==e.$options.CONFLICT_MARKER_THEIR?[e.shouldRenderCommentButton&&!e.line.hasDiscussionsRight?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"add-diff-note tooltip-wrapper",attrs:{title:e.addCommentTooltipRight}},[n("div",{staticClass:"add-diff-note unified-diff-components-diff-note-button note-button js-add-diff-note-button",class:{"gl-cursor-grab":e.dragging},attrs:{"data-testid":"right-comment-button",role:"button",tabindex:"0",draggable:!e.line.right.commentsDisabled&&e.glFeatures.dragCommentSelection,type:"button",disabled:e.line.right.commentsDisabled,"aria-disabled":e.line.right.commentsDisabled},on:{click:function(t){!e.line.right.commentsDisabled&&e.handleCommentButton(e.line.right)},keydown:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;!e.line.right.commentsDisabled&&e.handleCommentButton(e.line.right)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"]))return null;!e.line.right.commentsDisabled&&e.handleCommentButton(e.line.right)}],dragstart:function(t){!e.line.right.commentsDisabled&&e.onDragStart(Object.assign({},e.line.right,{index:e.index}))}}})]):e._e()]:e._e(),e._v(" "),e.line.right.new_line?n("a",{attrs:{"data-linenumber":e.line.right.new_line,href:e.line.lineHrefNew},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e(),e._v(" "),e.line.hasDiscussionsRight?n("diff-gutter-avatars",{attrs:{discussions:e.line.right.discussions,"discussions-expanded":e.line.right.discussionsExpanded,"data-testid":"right-discussions"},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.line.right.line_code,fileHash:e.fileHash,expanded:!e.line.right.discussionsExpanded})}}}):e._e()],2),e._v(" "),n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"diff-td line-coverage right-side",class:[e.line.right.type,e.coverageStateRight.class,{hll:e.isHighlighted,hll:e.isCommented}],attrs:{title:e.coverageStateRight.text}}),e._v(" "),n("div",{key:e.line.right.rich_text,staticClass:"diff-td line_content with-coverage right-side",class:[e.line.right.type,{hll:e.isHighlighted,hll:e.isCommented,parallel:!e.inline}],attrs:{id:e.line.right.line_code},on:{mousedown:e.handleParallelLineMouseDown}},[e.line.right.type===e.$options.CONFLICT_MARKER_THEIR?n("strong",[e._v(e._s(e.conflictText(e.line.right)))]):n("span",{domProps:{innerHTML:e._s(e.line.right.rich_text)}})])]:[n("div",{staticClass:"diff-td diff-line-num old_line empty-cell",class:e.emptyCellRightClassMap,attrs:{"data-testid":"right-empty-cell"}}),e._v(" "),e.inline?n("div",{staticClass:"diff-td diff-line-num old_line empty-cell",class:e.emptyCellRightClassMap}):e._e(),e._v(" "),n("div",{staticClass:"diff-td line-coverage right-side empty-cell",class:e.emptyCellRightClassMap}),e._v(" "),n("div",{staticClass:"diff-td line_content with-coverage right-side empty-cell",class:[e.emptyCellRightClassMap,{parallel:!e.inline}]})]],2)])}),[],!1,null,null,null).exports,DiffCommentCell:Jt,DraftNote:Ye.a},mixins:[st],props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""},inline:{type:Boolean,required:!1,default:!1}},data:()=>({dragStart:null,updatedLineRange:null}),computed:On(On(On({},Object(f.d)("diffs",["commitId"])),Object(f.f)({selectedCommentPosition:function(e){let{notes:t}=e;return t.selectedCommentPosition},selectedCommentPositionHover:function(e){let{notes:t}=e;return t.selectedCommentPositionHover}})),{},{diffLinesLength(){return this.diffLines.length},commentedLines(){return Object(_.c)(this.selectedCommentPosition||this.selectedCommentPositionHover,this.diffLines)}}),methods:On(On(On({},Object(f.c)(["setSelectedCommentPosition"])),Object(f.c)("diffs",["showCommentForm"])),{},{showCommentLeft:e=>e.left&&!e.right,showCommentRight:e=>e.right&&!e.left,onStartDragging(e){this.dragStart=e},onDragOver(e){if(e.chunk!==this.dragStart.chunk)return;let t=this.dragStart,n=e;this.dragStart.index>=e.index&&(t=e,n=this.dragStart),this.updatedLineRange={start:t,end:n},this.setSelectedCommentPosition(this.updatedLineRange)},onStopDragging(){var e,t;this.showCommentForm({lineCode:null===(e=this.updatedLineRange)||void 0===e?void 0:null===(t=e.end)||void 0===t?void 0:t.line_code,fileHash:this.diffFile.file_hash}),this.dragStart=null}}),userColorScheme:window.gon.user_color_scheme},jn=Object(C.a)(Sn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-grid diff-table code diff-wrap-lines js-syntax-highlight text-file",class:[e.$options.userColorScheme,{inline:e.inline}],attrs:{"data-commit-id":e.commitId}},[e._l(e.diffLines,(function(t,i){return[t.isMatchLineLeft||t.isMatchLineRight?n("div",{key:"expand-"+i,staticClass:"diff-tr line_expansion match"},[n("div",{staticClass:"diff-td text-center gl-font-regular"},[n("diff-expansion-cell",{attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t.left,"is-top":0===i,"is-bottom":i+1===e.diffLinesLength}})],1)]):e._e(),e._v(" "),t.isMatchLineLeft||t.isMatchLineRight?e._e():n("diff-row",{key:t.line_code,attrs:{"file-hash":e.diffFile.file_hash,"file-path":e.diffFile.file_path,line:t,"is-bottom":i+1===e.diffLinesLength,"is-commented":i>=e.commentedLines.startLine&&i<=e.commentedLines.endLine,inline:e.inline,index:i},on:{enterdragging:e.onDragOver,startdragging:e.onStartDragging,stopdragging:e.onStopDragging}}),e._v(" "),t.renderCommentRow?n("div",{key:"dcr-"+(t.line_code||i),staticClass:"diff-grid-comments diff-tr notes_holder",class:t.commentRowClasses},[t.left||!e.inline?n("div",{staticClass:"diff-td notes-content old",class:{parallel:!e.inline}},[t.left&&(t.left.renderDiscussion||t.left.hasCommentForm)?n("diff-comment-cell",{attrs:{line:t.left,"diff-file-hash":e.diffFile.file_hash,"help-page-path":e.helpPagePath,"line-position":"left"}}):e._e()],1):e._e(),e._v(" "),t.right||!e.inline?n("div",{staticClass:"diff-td notes-content new",class:{parallel:!e.inline}},[t.right&&(t.right.renderDiscussion||t.right.hasCommentForm)?n("diff-comment-cell",{attrs:{line:t.right,"diff-file-hash":e.diffFile.file_hash,"line-index":i,"help-page-path":e.helpPagePath,"line-position":"right"}}):e._e()],1):e._e()]):e._e(),e._v(" "),e.shouldRenderParallelDraftRow(e.diffFile.file_hash,t)?n("div",{key:"drafts-"+i,staticClass:"diff-grid-drafts diff-tr notes_holder",class:t.draftRowClasses},[!e.inline||t.left&&t.left.lineDraft.isDraft?n("div",{staticClass:"diff-td notes-content parallel old"},[t.left&&t.left.lineDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:t.left.lineDraft,line:t.left}})],1):e._e()]):e._e(),e._v(" "),!e.inline||t.right&&t.right.lineDraft.isDraft?n("div",{staticClass:"diff-td notes-content parallel new"},[t.right&&t.right.lineDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:t.right.lineDraft,line:t.right}})],1):e._e()]):e._e()]):e._e()]}))],2)}),[],!1,null,null,null).exports,Cn=n("Ex4Z");function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn={components:{DiffGutterAvatars:gn,GlIcon:g.a},directives:{GlTooltip:je.a,SafeHtml:He.a},props:{fileHash:{type:String,required:!0},filePath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1},isCommented:{type:Boolean,required:!1,default:!1}},data:()=>({isHover:!1}),computed:En(En(En(En({},Object(f.d)(["isLoggedIn"])),Object(f.d)("diffs",["fileLineCoverage"])),Object(f.f)({isHighlighted(e){return wt(e,this.line,this.isCommented)}})),{},{classNameMap(){return[this.line.type,{[b.j]:this.line.isContextLine}]},inlineRowId(){return this.line.line_code||"".concat(this.fileHash,"_").concat(this.line.old_line,"_").concat(this.line.new_line)},coverageState(){return this.fileLineCoverage(this.filePath,this.line.new_line)},classNameMapCell(){return Dt({line:this.line,hll:this.isHighlighted,isLoggedIn:this.isLoggedIn,isHover:this.isHover})},addCommentTooltip(){return Pt(this.line)},shouldRenderCommentButton(){return jt(this.isLoggedIn,!0)},shouldShowCommentButton(){return Nt(this.isHover,this.line.isContextLine,this.line.isMetaLine,this.line.hasDiscussions)},shouldShowAvatarsOnGutter(){return this.line.hasDiscussions},interopAttrs(){return un(this.line)}}),mounted(){this.scrollToLineIfNeededInline(this.line)},methods:En(En({},Object(f.c)("diffs",["scrollToLineIfNeededInline","showCommentForm","setHighlightedRow","toggleLineDiscussions"])),{},{handleMouseMove(e){this.isHover="mouseover"===e.type},handleCommentButton(){this.showCommentForm({lineCode:this.line.line_code,fileHash:this.fileHash})}})};function Tn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln={components:{DiffCommentCell:Jt,inlineDiffTableRow:Object(C.a)(Pn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",e._b({staticClass:"line_holder",class:e.classNameMap,attrs:{id:e.inlineRowId},on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},"tr",e.interopAttrs,!1),[n("td",{ref:"oldTd",staticClass:"diff-line-num old_line",class:e.classNameMapCell},[e.shouldRenderCommentButton?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"addNoteTooltip",staticClass:"add-diff-note tooltip-wrapper",attrs:{title:e.addCommentTooltip}},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowCommentButton,expression:"shouldShowCommentButton"}],ref:"addDiffNoteButton",staticClass:"add-diff-note note-button js-add-diff-note-button",attrs:{type:"button",disabled:e.line.commentsDisabled,"aria-label":e.addCommentTooltip},on:{click:e.handleCommentButton}},[n("gl-icon",{attrs:{size:12,name:"comment"}})],1)]):e._e(),e._v(" "),e.line.old_line?n("a",{ref:"lineNumberRefOld",attrs:{"data-linenumber":e.line.old_line,href:e.line.lineHref},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e(),e._v(" "),e.shouldShowAvatarsOnGutter?n("diff-gutter-avatars",{attrs:{discussions:e.line.discussions,"discussions-expanded":e.line.discussionsExpanded},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.line.lineCode,fileHash:e.fileHash,expanded:!e.line.discussionsExpanded})}}}):e._e()],1),e._v(" "),n("td",{ref:"newTd",staticClass:"diff-line-num new_line",class:e.classNameMapCell},[e.line.new_line?n("a",{ref:"lineNumberRefNew",attrs:{"data-linenumber":e.line.new_line,href:e.line.lineHref},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e()]),e._v(" "),n("td",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"line-coverage",class:[e.line.type,e.coverageState.class,{hll:e.isHighlighted}],attrs:{title:e.coverageState.text}}),e._v(" "),n("td",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.line.rich_text,expression:"line.rich_text"}],key:e.line.line_code,staticClass:"line_content with-coverage",class:[e.line.type,{hll:e.isHighlighted}]})])}),[],!1,null,null,null).exports,DraftNote:Ye.a,DiffExpansionCell:rn},mixins:[st,Object(We.a)()],props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Nn(Nn(Nn({},Object(f.d)("diffs",["commitId"])),Object(f.f)({selectedCommentPosition:function(e){let{notes:t}=e;return t.selectedCommentPosition},selectedCommentPositionHover:function(e){let{notes:t}=e;return t.selectedCommentPositionHover}})),{},{diffLinesLength(){return this.diffLines.length},commentedLines(){return Object(_.c)(this.selectedCommentPosition||this.selectedCommentPositionHover,this.diffLines)}}),userColorScheme:window.gon.user_color_scheme},Rn=Object(C.a)(Ln,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file js-diff-inline-view",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[e._m(0),e._v(" "),n("tbody",[e._l(e.diffLines,(function(t,i){return[t.isMatchLine?n("tr",{key:"expand-"+i,staticClass:"line_expansion match"},[n("td",{staticClass:"text-center gl-font-regular",attrs:{colspan:"4"}},[n("diff-expansion-cell",{attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t,"is-top":0===i,"is-bottom":i+1===e.diffLinesLength}})],1)]):e._e(),e._v(" "),t.isMatchLine?e._e():n("inline-diff-table-row",{key:""+(t.line_code||i),attrs:{"file-hash":e.diffFile.file_hash,"file-path":e.diffFile.file_path,line:t,"is-bottom":i+1===e.diffLinesLength,"is-commented":i>=e.commentedLines.startLine&&i<=e.commentedLines.endLine}}),e._v(" "),t.renderCommentRow?n("tr",{key:"icr-"+(t.line_code||i),staticClass:"notes_holder",class:t.commentRowClasses},[n("td",{staticClass:"notes-content",attrs:{colspan:"4"}},[n("diff-comment-cell",{attrs:{"diff-file-hash":e.diffFile.file_hash,line:t,"help-page-path":e.helpPagePath,"has-draft":t.hasDraft}})],1)]):e._e(),e._v(" "),t.hasDraft?n("tr",{key:"draft_"+i,staticClass:"notes_holder js-temp-notes-holder"},[n("td",{staticClass:"notes-content",attrs:{colspan:"4"}},[n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:e.draftForLine(e.diffFile.file_hash,t),"diff-file":e.diffFile,line:t}})],1)])]):e._e()]}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("colgroup",[t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col")])}],!1,null,null,null).exports,An=n("EmJ/"),Fn=n.n(An);function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $n={components:{GlIcon:g.a,DiffGutterAvatars:gn},directives:{GlTooltip:je.a,SafeHtml:He.a},props:{fileHash:{type:String,required:!0},filePath:{type:String,required:!0},line:{type:Object,required:!0},isBottom:{type:Boolean,required:!1,default:!1},isCommented:{type:Boolean,required:!1,default:!1}},data:()=>({isLeftHover:!1,isRightHover:!1,isCommentButtonRendered:!1}),computed:Mn(Mn(Mn(Mn({},Object(f.d)("diffs",["fileLineCoverage"])),Object(f.d)(["isLoggedIn"])),Object(f.f)({isHighlighted(e){var t;const n=(null===(t=this.line.left)||void 0===t?void 0:t.line_code)?this.line.left:this.line.right;return wt(e,n,this.isCommented)}})),{},{classNameMap(){return{[b.j]:this.line.isContextLineLeft,[b.eb]:!0}},parallelViewLeftLineType(){return Tt(this.line,this.isHighlighted)},coverageState(){return this.fileLineCoverage(this.filePath,this.line.right.new_line)},classNameMapCellLeft(){return Dt({line:this.line.left,hll:this.isHighlighted,isLoggedIn:this.isLoggedIn,isHover:this.isLeftHover})},classNameMapCellRight(){return Dt({line:this.line.right,hll:this.isHighlighted,isLoggedIn:this.isLoggedIn,isHover:this.isRightHover})},addCommentTooltipLeft(){return Pt(this.line.left)},addCommentTooltipRight(){return Pt(this.line.right)},shouldRenderCommentButton(){return jt(this.isLoggedIn,this.isCommentButtonRendered)},shouldShowCommentButtonLeft(){return Nt(this.isLeftHover,this.line.isContextLineLeft,this.line.isMetaLineLeft,this.line.hasDiscussionsLeft)},shouldShowCommentButtonRight(){return Nt(this.isRightHover,this.line.isContextLineRight,this.line.isMetaLineRight,this.line.hasDiscussionsRight)},interopLeftAttributes(){return dn(this.line.left)},interopRightAttributes(){return fn(this.line.right)}}),mounted(){var e=this;this.scrollToLineIfNeededParallel(this.line),this.unwatchShouldShowCommentButton=this.$watch((function(e){return[e.shouldShowCommentButtonLeft,e.shouldShowCommentButtonRight].join()}),(function(t){t&&(e.isCommentButtonRendered=!0,e.unwatchShouldShowCommentButton())}))},beforeDestroy(){this.unwatchShouldShowCommentButton()},methods:Mn(Mn({},Object(f.c)("diffs",["scrollToLineIfNeededParallel","showCommentForm","setHighlightedRow","toggleLineDiscussions"])),{},{handleMouseMove(e){const t="mouseover"===e.type,n=e.target.closest("td");Array.from(e.currentTarget.children).indexOf(n)>=3?this.isRightHover=t:this.isLeftHover=t},handleParallelLineMouseDown(e){const t=Fn()(e.currentTarget),n=t.closest("table");n.removeClass("left-side-selected right-side-selected");const[i]=["left-side","right-side"].filter((function(e){return t.hasClass(e)}));i&&n.addClass("".concat(i,"-selected"))},handleCommentButton(e){this.showCommentForm({lineCode:e.line_code,fileHash:this.fileHash})}})};function Vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(n),!0).forEach((function(t){Gn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Hn={components:{DiffExpansionCell:rn,parallelDiffTableRow:Object(C.a)($n,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",{staticClass:"line_holder",class:e.classNameMap,on:{mouseover:e.handleMouseMove,mouseout:e.handleMouseMove}},[e.line.left&&!e.line.isMatchLineLeft?[n("td",{ref:"oldTd",staticClass:"diff-line-num old_line",class:e.classNameMapCellLeft},[e.shouldRenderCommentButton?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"addNoteTooltipLeft",staticClass:"add-diff-note tooltip-wrapper",attrs:{title:e.addCommentTooltipLeft}},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowCommentButtonLeft,expression:"shouldShowCommentButtonLeft"}],ref:"addDiffNoteButtonLeft",staticClass:"add-diff-note note-button js-add-diff-note-button",attrs:{type:"button",disabled:e.line.left.commentsDisabled,"aria-label":e.addCommentTooltipLeft},on:{click:function(t){return e.handleCommentButton(e.line.left)}}},[n("gl-icon",{attrs:{size:12,name:"comment"}})],1)]):e._e(),e._v(" "),e.line.left.old_line?n("a",{ref:"lineNumberRefOld",attrs:{"data-linenumber":e.line.left.old_line,href:e.line.lineHrefOld},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e(),e._v(" "),e.line.hasDiscussionsLeft?n("diff-gutter-avatars",{attrs:{discussions:e.line.left.discussions,"discussions-expanded":e.line.left.discussionsExpanded},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.line.left.line_code,fileHash:e.fileHash,expanded:!e.line.left.discussionsExpanded})}}}):e._e()],1),e._v(" "),n("td",{staticClass:"line-coverage left-side",class:e.parallelViewLeftLineType}),e._v(" "),n("td",e._b({directives:[{name:"safe-html",rawName:"v-safe-html",value:e.line.left.rich_text,expression:"line.left.rich_text"}],key:e.line.left.line_code,staticClass:"line_content with-coverage parallel left-side",class:e.parallelViewLeftLineType,attrs:{id:e.line.left.line_code},on:{mousedown:e.handleParallelLineMouseDown}},"td",e.interopLeftAttributes,!1))]:[n("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),n("td",{staticClass:"line-coverage left-side empty-cell"}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel left-side empty-cell"})],e._v(" "),e.line.right&&!e.line.isMatchLineRight?[n("td",{ref:"newTd",staticClass:"diff-line-num new_line",class:e.classNameMapCellRight},[e.shouldRenderCommentButton?n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"addNoteTooltipRight",staticClass:"add-diff-note tooltip-wrapper",attrs:{title:e.addCommentTooltipRight}},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowCommentButtonRight,expression:"shouldShowCommentButtonRight"}],ref:"addDiffNoteButtonRight",staticClass:"add-diff-note note-button js-add-diff-note-button",attrs:{type:"button",disabled:e.line.right.commentsDisabled,"aria-label":e.addCommentTooltipRight},on:{click:function(t){return e.handleCommentButton(e.line.right)}}},[n("gl-icon",{attrs:{size:12,name:"comment"}})],1)]):e._e(),e._v(" "),e.line.right.new_line?n("a",{ref:"lineNumberRefNew",attrs:{"data-linenumber":e.line.right.new_line,href:e.line.lineHrefNew},on:{click:function(t){return e.setHighlightedRow(e.line.lineCode)}}}):e._e(),e._v(" "),e.line.hasDiscussionsRight?n("diff-gutter-avatars",{attrs:{discussions:e.line.right.discussions,"discussions-expanded":e.line.right.discussionsExpanded},on:{toggleLineDiscussions:function(t){return e.toggleLineDiscussions({lineCode:e.line.right.line_code,fileHash:e.fileHash,expanded:!e.line.right.discussionsExpanded})}}}):e._e()],1),e._v(" "),n("td",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],staticClass:"line-coverage right-side",class:[e.line.right.type,e.coverageState.class,{hll:e.isHighlighted}],attrs:{title:e.coverageState.text}}),e._v(" "),n("td",e._b({directives:[{name:"safe-html",rawName:"v-safe-html",value:e.line.right.rich_text,expression:"line.right.rich_text"}],key:e.line.right.rich_text,staticClass:"line_content with-coverage parallel right-side",class:[e.line.right.type,{hll:e.isHighlighted}],attrs:{id:e.line.right.line_code},on:{mousedown:e.handleParallelLineMouseDown}},"td",e.interopRightAttributes,!1))]:[n("td",{staticClass:"diff-line-num old_line empty-cell"}),e._v(" "),n("td",{staticClass:"line-coverage right-side empty-cell"}),e._v(" "),n("td",{staticClass:"line_content with-coverage parallel right-side empty-cell"})]],2)}),[],!1,null,null,null).exports,DiffCommentCell:Jt,DraftNote:Ye.a},mixins:[st],props:{diffFile:{type:Object,required:!0},diffLines:{type:Array,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Un(Un(Un({},Object(f.d)("diffs",["commitId"])),Object(f.f)({selectedCommentPosition:function(e){let{notes:t}=e;return t.selectedCommentPosition},selectedCommentPositionHover:function(e){let{notes:t}=e;return t.selectedCommentPositionHover}})),{},{diffLinesLength(){return this.diffLines.length},commentedLines(){return Object(_.c)(this.selectedCommentPosition||this.selectedCommentPositionHover,this.diffLines)}}),userColorScheme:window.gon.user_color_scheme},zn=Object(C.a)(Hn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"code diff-wrap-lines js-syntax-highlight text-file",class:e.$options.userColorScheme,attrs:{"data-commit-id":e.commitId}},[e._m(0),e._v(" "),n("tbody",[e._l(e.diffLines,(function(t,i){return[t.isMatchLineLeft||t.isMatchLineRight?n("tr",{key:"expand-"+i,staticClass:"line_expansion match"},[n("td",{staticClass:"text-center gl-font-regular",attrs:{colspan:"6"}},[n("diff-expansion-cell",{attrs:{"file-hash":e.diffFile.file_hash,"context-lines-path":e.diffFile.context_lines_path,line:t.left,"is-top":0===i,"is-bottom":i+1===e.diffLinesLength}})],1)]):e._e(),e._v(" "),n("parallel-diff-table-row",{key:t.line_code,attrs:{"file-hash":e.diffFile.file_hash,"file-path":e.diffFile.file_path,line:t,"is-bottom":i+1===e.diffLinesLength,"is-commented":i>=e.commentedLines.startLine&&i<=e.commentedLines.endLine}}),e._v(" "),t.renderCommentRow?n("tr",{key:"dcr-"+(t.line_code||i),staticClass:"notes_holder",class:t.commentRowClasses},[n("td",{staticClass:"notes-content parallel old",attrs:{colspan:"3"}},[t.left?n("diff-comment-cell",{attrs:{line:t.left,"diff-file-hash":e.diffFile.file_hash,"help-page-path":e.helpPagePath,"has-draft":t.left.hasDraft,"line-position":"left"}}):e._e()],1),e._v(" "),n("td",{staticClass:"notes-content parallel new",attrs:{colspan:"3"}},[t.right?n("diff-comment-cell",{attrs:{line:t.right,"diff-file-hash":e.diffFile.file_hash,"line-index":i,"help-page-path":e.helpPagePath,"has-draft":t.right.hasDraft,"line-position":"right"}}):e._e()],1)]):e._e(),e._v(" "),e.shouldRenderParallelDraftRow(e.diffFile.file_hash,t)?n("tr",{key:"drafts-"+i,staticClass:"notes_holder",class:t.draftRowClasses},[n("td",{staticClass:"notes_line old"}),e._v(" "),n("td",{staticClass:"notes-content parallel old",attrs:{colspan:"2"}},[t.left&&t.left.lineDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:t.left.lineDraft,line:t.left}})],1):e._e()]),e._v(" "),n("td",{staticClass:"notes_line new"}),e._v(" "),n("td",{staticClass:"notes-content parallel new",attrs:{colspan:"2"}},[t.right&&t.right.lineDraft.isDraft?n("div",{staticClass:"content"},[n("draft-note",{attrs:{draft:t.right.lineDraft,line:t.right}})],1):e._e()])]):e._e()]}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("colgroup",[t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col"),this._v(" "),t("col",{staticStyle:{width:"50px"}}),this._v(" "),t("col",{staticStyle:{width:"8px"}}),this._v(" "),t("col")])}],!1,null,null,null).exports;function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){Kn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yn={components:{GlLoadingIcon:W.a,InlineDiffView:Rn,ParallelDiffView:zn,DiffView:jn,DiffViewer:ot.a,NoteForm:ut.a,DiffDiscussions:vt,ImageDiffOverlay:Cn.a,NotDiffableViewer:ct,NoPreviewViewer:lt,userAvatarLink:dt.a,DiffFileDrafts:tt},mixins:[at.a,st,Object(We.a)()],props:{diffFile:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""}},computed:Qn(Qn(Qn(Qn({},Object(f.f)("diffs",["projectPath"])),Object(f.d)("diffs",["isInlineView","isParallelView","getCommentFormForDiffFile","diffLines"])),Object(f.d)(["getNoteableData","noteableType","getUserData"])),{},{diffMode(){return Object(ft.g)(this.diffFile)},diffViewerMode(){return this.diffFile.viewer.name},isTextFile(){return this.diffViewerMode===ze.v.text},noPreview(){return this.diffViewerMode===ze.v.no_preview},notDiffable(){return this.diffViewerMode===ze.v.not_diffable},diffFileCommentForm(){return this.getCommentFormForDiffFile(this.diffFileHash)},showNotesContainer(){return this.imageDiscussions.length||this.diffFileCommentForm},diffFileHash(){return this.diffFile.file_hash},author(){return this.getUserData},mappedLines(){return this.glFeatures.unifiedDiffComponents?this.diffLines(this.diffFile,!0).map(It(this))||[]:this.isInlineView?this.diffFile.highlighted_diff_lines.map((e=this,function(t){var n,i,r;const s=t.hasForm||(null===(n=t.discussions)||void 0===n?void 0:n.length)&&t.discussionsExpanded;return yt(yt({},t),{},{renderDiscussion:Boolean(null===(i=t.discussions)||void 0===i?void 0:i.length),isMatchLine:kt(t.type),commentRowClasses:(null===(r=t.discussions)||void 0===r?void 0:r.length)?"":"js-temp-notes-holder",renderCommentRow:s,hasDraft:e.shouldRenderDraftRow(e.diffFile.file_hash,t),hasCommentForm:t.hasForm,isMetaLine:St(t.type),isContextLine:Ot(t.type),hasDiscussions:Ct(t),lineHref:xt(t),lineCode:Et(t)})})):this.diffLines(this.diffFile).map(It(this));var e}}),updated(){var e=this;this.$nextTick((function(){z.a.$emit("showBlobInteractionZones",e.diffFile.new_path)}))},methods:Qn(Qn({},Object(f.c)("diffs",["saveDiffDiscussion","closeDiffFileCommentForm"])),{},{handleSaveNote(e){this.saveDiffDiscussion({note:e,formData:{noteableData:this.getNoteableData,noteableType:this.noteableType,diffFile:this.diffFile,positionType:b.G,x:this.diffFileCommentForm.x,y:this.diffFileCommentForm.y,width:this.diffFileCommentForm.width,height:this.diffFileCommentForm.height}})}})},Xn=Object(C.a)(Yn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-content"},[n("div",{staticClass:"diff-viewer"},[e.isTextFile&&e.glFeatures.unifiedDiffComponents?[n("diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.mappedLines,"help-page-path":e.helpPagePath,inline:e.isInlineView}}),e._v(" "),e.diffFile.renderingLines?n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"md"}}):e._e()]:e.isTextFile?[e.isInlineView?n("inline-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.mappedLines,"help-page-path":e.helpPagePath}}):e.isParallelView?n("parallel-diff-view",{attrs:{"diff-file":e.diffFile,"diff-lines":e.mappedLines,"help-page-path":e.helpPagePath}}):e._e(),e._v(" "),e.diffFile.renderingLines?n("gl-loading-icon",{staticClass:"mt-3",attrs:{size:"md"}}):e._e()]:e.notDiffable?n("not-diffable-viewer"):e.noPreview?n("no-preview-viewer"):n("diff-viewer",{attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"diff-viewer-mode":e.diffViewerMode,"new-path":e.diffFile.new_path,"new-sha":e.diffFile.diff_refs.head_sha,"new-size":e.diffFile.new_size,"old-path":e.diffFile.old_path,"old-sha":e.diffFile.diff_refs.base_sha,"old-size":e.diffFile.old_size,"file-hash":e.diffFileHash,"project-path":e.projectPath,"a-mode":e.diffFile.a_mode,"b-mode":e.diffFile.b_mode},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var i=t.renderedWidth,r=t.renderedHeight;return[i?n("image-diff-overlay",{attrs:{"rendered-width":i,"rendered-height":r,discussions:e.imageDiscussions,"file-hash":e.diffFileHash,"can-comment":e.getNoteableData.current_user.can_create_note&&!e.diffFile.brokenSymlink}}):e._e()]}}])},[e._v(" "),e.showNotesContainer?n("div",{staticClass:"note-container"},[e.diffFileCommentForm&&e.author?n("user-avatar-link",{staticClass:"d-none d-sm-block new-comment",attrs:{"link-href":e.author.path,"img-src":e.author.avatar_url,"img-alt":e.author.name,"img-size":40}}):e._e(),e._v(" "),e.diffFile.discussions.length?n("diff-discussions",{staticClass:"diff-file-discussions",attrs:{discussions:e.diffFile.discussions,"should-collapse-discussions":!0,"render-avatar-badge":!0}}):e._e(),e._v(" "),n("diff-file-drafts",{staticClass:"diff-file-discussions",attrs:{"file-hash":e.diffFileHash}}),e._v(" "),e.diffFileCommentForm?n("note-form",{ref:"noteForm",staticClass:"diff-comment-form new-note discussion-form discussion-form-container",attrs:{"is-editing":!1,"save-button-title":e.__("Comment")},on:{handleFormUpdateAddToReview:e.addToReview,handleFormUpdate:e.handleSaveNote,cancelForm:function(t){return e.closeDiffFileCommentForm(e.diffFileHash)}}}):e._e()],1):e._e()])],2)])}),[],!1,null,null,null).exports;function Jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(n),!0).forEach((function(t){ei(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ti={components:{DiffFileHeader:n("Xa9V").a,DiffContent:Xn,GlButton:be.a,GlLoadingIcon:W.a,GlSprintf:v.a},directives:{SafeHtml:He.a},mixins:[Object(We.a)()],props:{file:{type:Object,required:!0},reviewed:{type:Boolean,required:!1,default:!1},isFirstFile:{type:Boolean,required:!1,default:!1},isLastFile:{type:Boolean,required:!1,default:!1},canCurrentUserFork:{type:Boolean,required:!0},helpPagePath:{type:String,required:!1,default:""},viewDiffsFileByFile:{type:Boolean,required:!0}},data(){return{isLoadingCollapsedDiff:!1,forkMessageVisible:!1,isCollapsed:Object(Qe.c)(this.file)}},i18n:Zn(Zn({},Ne.a),{},{genericError:Ne.c}),computed:Zn(Zn(Zn(Zn({},Object(f.f)("diffs",["currentDiffFileId","codequalityDiff"])),Object(f.d)(["isNotesFetched"])),Object(f.d)("diffs",["getDiffFileDiscussions","isVirtualScrollingEnabled"])),{},{viewBlobHref(){return Ge()(this.file.view_path)},shortSha(){return Object(Qe.b)(this.file)},showLoadingIcon(){return this.isLoadingCollapsedDiff||!this.file.renderIt&&!this.isCollapsed},hasDiff(){return ne(e=this.file)||ie(e)||!(null==e?void 0:null===(t=e.blob)||void 0===t?void 0:t.readable_text);var e,t},isFileTooLarge(){return!this.manuallyCollapsed&&this.file.viewer.error===ze.u.too_large},errorMessage(){return this.manuallyCollapsed?"":this.file.viewer.error_message},forkMessage(){return Object(y.f)(this.$options.i18n.editInFork,{tag_start:'<span class="js-file-fork-suggestion-section-action">',tag_end:"</span>"},!1)},hasBodyClasses(){const e={header:"gl-rounded-base!",contentByHash:"",content:""};return this.showBody&&(e.header="gl-rounded-bottom-left-none gl-rounded-bottom-right-none",e.contentByHash="gl-rounded-none gl-rounded-bottom-left-base gl-rounded-bottom-right-base gl-border-1 gl-border-t-0! gl-border-solid gl-border-gray-100",e.content="gl-rounded-bottom-left-base gl-rounded-bottom-right-base"),e},automaticallyCollapsed(){return Object(Qe.a)(this.file)===b.p},manuallyCollapsed(){return Object(Qe.a)(this.file)===b.s},showBody(){return!this.isCollapsed||this.automaticallyCollapsed},showWarning(){return this.isCollapsed&&this.automaticallyCollapsed&&!this.viewDiffsFileByFile},showContent(){return!this.isCollapsed&&!this.isFileTooLarge},showLocalFileReviews(){const e=Boolean(gon.current_user_id),t=this.glFeatures.localFileReviews;return e&&t},codequalityDiffForFile(){var e,t;return(null===(e=this.codequalityDiff)||void 0===e?void 0:null===(t=e.files)||void 0===t?void 0:t[this.file.file_path])||[]}}),watch:{"file.id":{handler:function(){this.manageViewedEffects()}},"file.file_hash":{handler:function(e,t){this.isCollapsed=Object(Qe.c)(this.file),e&&t&&!this.hasDiff&&this.requestDiff()},immediate:!0},"file.viewer.automaticallyCollapsed":{handler:function(e){Object(Qe.a)(this.file)!==b.s&&(this.isCollapsed=!this.viewDiffsFileByFile&&e)},immediate:!0},"file.viewer.manuallyCollapsed":{handler:function(e){null!==e&&(this.isCollapsed=e)},immediate:!0}},created(){z.a.$on("loadCollapsedDiff/".concat(this.file.file_hash),this.requestDiff),ce.a.$on(b.A,this.expandAllListener)},mounted(){this.hasDiff&&this.postRender(),this.manageViewedEffects()},beforeDestroy(){ce.a.$off(b.A,this.expandAllListener)},methods:Zn(Zn({},Object(f.c)("diffs",["loadCollapsedDiff","assignDiscussionsToDiff","setRenderIt","setFileCollapsedByUser"])),{},{manageViewedEffects(){this.reviewed&&!this.isCollapsed&&this.showLocalFileReviews&&this.handleToggle()},expandAllListener(){this.isCollapsed&&this.handleToggle()},async postRender(){const e=[];this.isFirstFile&&e.push(b.F),this.isLastFile&&e.push(b.B),await this.$nextTick(),e.forEach((function(e){ce.a.$emit(e)}))},handleToggle(){let{viaUserInteraction:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=!this.isCollapsed,n=this.$el.querySelector("#diff-content-".concat(this.file.file_hash));this.setFileCollapsedByUser({filePath:this.file.file_path,collapsed:t}),t&&e&&n&&Object(G.Q)(n,{duration:1}),this.hasDiff||t||this.requestDiff()},requestDiff(){var e=this;this.isLoadingCollapsedDiff=!0,this.loadCollapsedDiff(this.file).then((function(){e.isLoadingCollapsedDiff=!1,e.setRenderIt(e.file)})).then((function(){requestIdleCallback((function(){e.postRender(),e.assignDiscussionsToDiff(e.getDiffFileDiscussions(e.file))}),{timeout:1e3})})).catch((function(){e.isLoadingCollapsedDiff=!1,Object(te.c)(e.$options.i18n.genericError)}))},showForkMessage(){this.forkMessageVisible=!0},hideForkMessage(){this.forkMessageVisible=!1}})},ni=(n("fm5U"),Object(C.a)(ti,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file file-holder gl-border-none",class:{"is-active":e.currentDiffFileId===e.file.file_hash,"comments-disabled":Boolean(e.file.brokenSymlink),"has-body":e.showBody,"is-virtual-scrolling":e.isVirtualScrollingEnabled},attrs:{id:e.file.file_hash,"data-path":e.file.new_path}},[n("diff-file-header",{staticClass:"js-file-title file-title gl-border-1 gl-border-solid gl-border-gray-100",class:e.hasBodyClasses.header,attrs:{"can-current-user-fork":e.canCurrentUserFork,"diff-file":e.file,collapsible:!0,reviewed:e.reviewed,expanded:!e.isCollapsed,"add-merge-request-buttons":!0,"view-diffs-file-by-file":e.viewDiffsFileByFile,"show-local-file-reviews":e.showLocalFileReviews,"codequality-diff":e.codequalityDiffForFile},on:{toggleFile:function(t){return e.handleToggle({viaUserInteraction:!0})},showForkMessage:e.showForkMessage}}),e._v(" "),e.forkMessageVisible?n("div",{staticClass:"js-file-fork-suggestion-section file-fork-suggestion"},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.forkMessage,expression:"forkMessage"}],staticClass:"file-fork-suggestion-note"}),e._v(" "),n("a",{staticClass:"js-fork-suggestion-button btn btn-grouped btn-inverted btn-success",attrs:{href:e.file.fork_path}},[e._v(e._s(e.$options.i18n.fork))]),e._v(" "),n("button",{staticClass:"js-cancel-fork-suggestion-button btn btn-grouped",attrs:{type:"button"},on:{click:e.hideForkMessage}},[e._v("\n      "+e._s(e.$options.i18n.cancel)+"\n    ")])]):[n("div",{class:e.hasBodyClasses.contentByHash,attrs:{id:"diff-content-"+e.file.file_hash,"data-testid":"content-area"}},[e.showLoadingIcon?n("gl-loading-icon",{staticClass:"diff-content loading gl-my-0 gl-pt-3",attrs:{"data-testid":"loader-icon"}}):e.errorMessage?n("div",{staticClass:"diff-viewer"},[e.isFileTooLarge?n("div",{staticClass:"collapsed-file-warning gl-p-7 gl-bg-orange-50 gl-text-center gl-rounded-bottom-left-base gl-rounded-bottom-right-base"},[n("p",{staticClass:"gl-mb-5"},[e._v("\n            "+e._s(e.$options.i18n.tooLarge)+"\n          ")]),e._v(" "),n("gl-button",{attrs:{"data-testid":"blob-button",category:"secondary",href:e.viewBlobHref}},[n("gl-sprintf",{attrs:{message:e.$options.i18n.blobView},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}],null,!1,1992810099)})],1)],1):n("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.errorMessage,expression:"errorMessage"}],staticClass:"nothing-here-block"})]):[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showWarning,expression:"showWarning"}],staticClass:"collapsed-file-warning gl-p-7 gl-bg-orange-50 gl-text-center gl-rounded-bottom-left-base gl-rounded-bottom-right-base"},[n("p",{staticClass:"gl-mb-5"},[e._v("\n            "+e._s(e.$options.i18n.autoCollapsed)+"\n          ")]),e._v(" "),n("gl-button",{attrs:{"data-testid":"expand-button",category:"secondary",variant:"warning"},on:{click:function(t){return t.preventDefault(),e.handleToggle(t)}}},[e._v("\n            "+e._s(e.$options.i18n.expand)+"\n          ")])],1),e._v(" "),n("diff-content",{directives:[{name:"show",rawName:"v-show",value:e.showContent,expression:"showContent"}],class:e.hasBodyClasses.content,attrs:{"diff-file":e.file,"help-page-path":e.helpPagePath}})]],2)]],2)}),[],!1,null,null,null).exports),ii={props:{total:{type:String,required:!0},visible:{type:Number,required:!0},plainDiffPath:{type:String,required:!0},emailPatchPath:{type:String,required:!0}}},ri=Object(C.a)(ii,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"alert alert-warning"},[n("h4",[e._v("\n    "+e._s(e.__("Too many changes to show."))+"\n    "),n("div",{staticClass:"float-right"},[n("a",{staticClass:"btn btn-sm",attrs:{href:e.plainDiffPath}},[e._v(" "+e._s(e.__("Plain diff"))+" ")]),e._v(" "),n("a",{staticClass:"btn btn-sm",attrs:{href:e.emailPatchPath}},[e._v(" "+e._s(e.__("Email patch"))+" ")])])]),e._v(" "),n("p",[e._v("\n    To preserve performance only "),n("strong",[e._v(" "+e._s(e.visible)+" of "+e._s(e.total)+" ")]),e._v(" files are\n    displayed.\n  ")])])}),[],!1,null,null,null).exports,si=n("XqDB"),ai={components:{GlAlert:ve.a,GlButton:be.a},directives:{GlModalDirective:si.a},props:{limited:{type:Boolean,required:!0},mergeable:{type:Boolean,required:!0},resolutionPath:{type:String,required:!0}},computed:{containerClasses(){return{[b.d]:this.limited}}}},oi=Object(C.a)(ai,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.containerClasses},[n("gl-alert",{staticClass:"gl-mb-5",attrs:{dismissible:!1,title:e.__("There are merge conflicts"),variant:"warning"},scopedSlots:e._u([{key:"actions",fn:function(){return[e.resolutionPath?n("gl-button",{staticClass:"gl-mr-5 gl-alert-action",attrs:{href:e.resolutionPath,variant:"info"}},[e._v("\n        "+e._s(e.__("Resolve conflicts"))+"\n      ")]):e._e(),e._v(" "),e.mergeable?n("gl-button",{directives:[{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"modal-merge-info",expression:"'modal-merge-info'"}],staticClass:"gl-alert-action"},[e._v("\n        "+e._s(e.__("Merge locally"))+"\n      ")]):e._e()]},proxy:!0}])},[n("p",{staticClass:"gl-mb-2"},[e._v("\n      "+e._s(e.__("The comparison view may be inaccurate due to merge conflicts."))+"\n    ")]),e._v(" "),n("p",{staticClass:"gl-mb-0"},[e._v("\n      "+e._s(e.__("Resolve these conflicts or ask someone with write access to this repository to merge it locally."))+"\n    ")])])],1)}),[],!1,null,null,null).exports;function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di={components:{GlButton:be.a,GlSprintf:v.a},props:{changesEmptyStateIllustration:{type:String,required:!0}},computed:ci(ci(ci({},Object(f.d)("diffs",["diffCompareDropdownTargetVersions","diffCompareDropdownSourceVersions"])),Object(f.d)(["getNoteableData"])),{},{selectedSourceVersion(){return this.diffCompareDropdownSourceVersions.find((function(e){return e.selected}))},sourceName(){return!this.selectedSourceVersion||this.selectedSourceVersion.isLatestVersion?this.getNoteableData.source_branch:this.selectedSourceVersion.versionName},selectedTargetVersion(){return this.diffCompareDropdownTargetVersions.find((function(e){return e.selected}))},targetName(){return!this.selectedTargetVersion||this.selectedTargetVersion.version_index<0?this.getNoteableData.target_branch:this.selectedTargetVersion.versionName||""}})},fi=Object(C.a)(di,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row empty-state"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"svg-content svg-250"},[n("img",{attrs:{src:e.changesEmptyStateIllustration}})])]),e._v(" "),n("div",{staticClass:"col-12"},[n("div",{staticClass:"text-content text-center"},[n("div",{attrs:{"data-testid":"no-changes-message"}},[n("gl-sprintf",{attrs:{message:e.__("No changes between %{source} and %{target}")},scopedSlots:e._u([{key:"source",fn:function(){return[n("span",{staticClass:"ref-name"},[e._v(e._s(e.sourceName))])]},proxy:!0},{key:"target",fn:function(){return[n("span",{staticClass:"ref-name"},[e._v(e._s(e.targetName))])]},proxy:!0}])})],1),e._v(" "),n("div",{staticClass:"text-center"},[n("gl-button",{attrs:{href:e.getNoteableData.new_blob_path,variant:"success",category:"primary"}},[e._v(e._s(e.__("Create commit")))])],1)])])])}),[],!1,null,null,null).exports,hi=(n("TZoF"),n("+xeR"),n("wryt")),pi=n("rOrh"),mi=n("OIsX"),gi={props:{file:{type:Object,required:!0}}},vi=(n("NSOW"),Object(C.a)(gi,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"file-row-stats"},[t("span",{staticClass:"cgreen"},[this._v(" +"+this._s(this.file.addedLines)+" ")]),this._v(" "),t("span",{staticClass:"cred"},[this._v(" -"+this._s(this.file.removedLines)+" ")])])}],!1,null,null,null).exports),bi={name:"DiffFileRow",components:{FileRow:mi.a,FileRowStats:vi,ChangedFileIcon:pi.a},mixins:[Object(We.a)()],props:{file:{type:Object,required:!0},hideFileStats:{type:Boolean,required:!0},currentDiffFileId:{type:String,required:!1,default:null},viewedFiles:{type:Object,required:!1,default:function(){return{}}}},computed:{showFileRowStats(){return!this.hideFileStats&&"blob"===this.file.type},fileClasses(){return"blob"!==this.file.type||this.viewedFiles[this.file.fileHash]?"":"gl-font-weight-bold"},isActive(){return this.currentDiffFileId===this.file.fileHash}}},yi=Object(C.a)(bi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("file-row",e._g(e._b({staticClass:"diff-file-row",class:{"is-active":e.isActive},attrs:{file:e.file,"truncate-middle":"","file-classes":e.fileClasses}},"file-row",e.$attrs,!1),e.$listeners),[e.showFileRowStats?n("file-row-stats",{staticClass:"mr-1",attrs:{file:e.file}}):e._e(),e._v(" "),n("changed-file-icon",{attrs:{file:e.file,size:16,"show-tooltip":!0}})],1)}),[],!1,null,null,null).exports;function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){Oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ki={directives:{GlTooltip:je.a},components:{GlIcon:g.a,FileTree:hi.a},props:{hideFileStats:{type:Boolean,required:!0}},data:()=>({search:""}),computed:wi(wi(wi({},Object(f.f)("diffs",["tree","renderTreeList","currentDiffFileId","viewedDiffFileIds"])),Object(f.d)("diffs",["allBlobs"])),{},{filteredTreeList(){const e=this.search.toLowerCase().trim();return""===e?this.renderTreeList?this.tree:this.allBlobs:this.allBlobs.reduce((function(t,n){const i=n.tree.filter((function(t){return t.path.toLowerCase().indexOf(e)>=0}));return i.length?t.concat(wi(wi({},n),{},{tree:i})):t}),[])}}),methods:wi(wi({},Object(f.c)("diffs",["toggleTreeOpen","scrollToFile"])),{},{clearSearch(){this.search=""}}),searchPlaceholder:Object(y.f)(Object(y.e)("MergeRequest|Search files (%{modifier_key}P)"),{modifier_key:/Mac/i.test(navigator.userAgent)?"":"Ctrl+"}),DiffFileRow:yi};n("Kfmh");function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach((function(t){Ci(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xi={name:"DiffsApp",components:{CompareVersions:Ve,DiffFile:ni,NoChanges:fi,HiddenFilesWarning:ri,MergeConflictWarning:oi,CollapsedFilesWarning:_e,CommitWidget:Oe,TreeList:Object(C.a)(ki,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-list-holder d-flex flex-column"},[n("div",{staticClass:"gl-mb-3 position-relative tree-list-search d-flex"},[n("div",{staticClass:"flex-fill d-flex"},[n("gl-icon",{staticClass:"position-absolute tree-list-icon",attrs:{name:"search"}}),e._v(" "),n("label",{staticClass:"sr-only",attrs:{for:"diff-tree-search"}},[e._v(e._s(e.$options.searchPlaceholder))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{id:"diff-tree-search",placeholder:e.$options.searchPlaceholder,type:"search",name:"diff-tree-search"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:e.search,expression:"search"}],staticClass:"position-absolute bg-transparent tree-list-icon tree-list-clear-icon border-0 p-0",attrs:{"aria-label":e.__("Clear search"),type:"button"},on:{click:e.clearSearch}},[n("gl-icon",{attrs:{name:"close"}})],1)],1)]),e._v(" "),n("div",{staticClass:"tree-list-scroll",class:{"pt-0 tree-list-blobs":!e.renderTreeList}},[e.filteredTreeList.length?e._l(e.filteredTreeList,(function(t){return n("file-tree",{key:t.key,attrs:{file:t,level:0,"viewed-files":e.viewedDiffFileIds,"hide-file-stats":e.hideFileStats,"file-row-component":e.$options.DiffFileRow,"current-diff-file-id":e.currentDiffFileId},on:{toggleTreeOpen:e.toggleTreeOpen,clickFile:e.scrollToFile}})})):n("p",{staticClass:"prepend-top-20 append-bottom-20 text-center"},[e._v("\n      "+e._s(e.s__("MergeRequest|No files found"))+"\n    ")])],2)])}),[],!1,null,null,null).exports,GlLoadingIcon:W.a,PanelResizer:se.a,GlPagination:Q.a,GlSprintf:v.a,DynamicScroller:J.a,DynamicScrollerItem:J.b},alerts:{ALERT_OVERFLOW_HIDDEN:b.c,ALERT_MERGE_CONFLICT:b.b,ALERT_COLLAPSED_FILES:b.a},props:{endpoint:{type:String,required:!0},endpointMetadata:{type:String,required:!0},endpointBatch:{type:String,required:!0},endpointCoverage:{type:String,required:!1,default:""},endpointCodequality:{type:String,required:!1,default:""},endpointUpdateUser:{type:String,required:!1,default:""},projectPath:{type:String,required:!0},shouldShow:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},helpPagePath:{type:String,required:!1,default:""},changesEmptyStateIllustration:{type:String,required:!1,default:""},isFluidLayout:{type:Boolean,required:!1,default:!1},dismissEndpoint:{type:String,required:!1,default:""},showSuggestPopover:{type:Boolean,required:!1,default:!1},fileByFileUserPreference:{type:Boolean,required:!1,default:!1},defaultSuggestionCommitMessage:{type:String,required:!1,default:""},rehydratedMrReviews:{type:Object,required:!1,default:function(){return{}}}},data:()=>({treeWidth:parseInt(localStorage.getItem(b.Eb),10)||b.H,diffFilesLength:0}),computed:ji(ji(ji(ji(ji(ji({},Object(f.f)({isLoading:function(e){return e.diffs.isLoading},isBatchLoading:function(e){return e.diffs.isBatchLoading},diffFiles:function(e){return e.diffs.diffFiles},diffViewType:function(e){return e.diffs.diffViewType},commit:function(e){return e.diffs.commit},renderOverflowWarning:function(e){return e.diffs.renderOverflowWarning},numTotalFiles:function(e){return e.diffs.realSize},numVisibleFiles:function(e){return e.diffs.size},plainDiffPath:function(e){return e.diffs.plainDiffPath},emailPatchPath:function(e){return e.diffs.emailPatchPath},retrievingBatches:function(e){return e.diffs.retrievingBatches},codequalityDiff:function(e){return e.diffs.codequalityDiff}})),Object(f.f)("diffs",["showTreeList","isLoading","startVersion","currentDiffFileId","isTreeLoaded","conflictResolutionPath","canMerge","hasConflicts","viewDiffsFileByFile","mrReviews","renderTreeList","showWhitespace"])),Object(f.d)("diffs",["whichCollapsedTypes","isParallelView","currentDiffIndex","isVirtualScrollingEnabled"])),Object(f.d)("batchComments",["draftsCount"])),Object(f.d)(["isNotesFetched","getNoteableData"])),{},{diffs(){var e=this;return this.viewDiffsFileByFile?this.diffFiles.filter((function(t,n){return t.file_hash===e.currentDiffFileId||0===n&&!e.currentDiffFileId})):this.diffFiles},canCurrentUserFork(){return!0===this.currentUser.can_fork&&this.currentUser.can_create_merge_request},renderDiffFiles(){return this.diffFiles.length>0},renderFileTree(){return this.renderDiffFiles&&this.showTreeList},hideFileStats(){return this.treeWidth<=b.Cb},isLimitedContainer(){return!this.renderFileTree&&!this.isParallelView&&!this.isFluidLayout},isDiffHead:()=>Object(G.K)(Object(G.p)("diff_head")),showFileByFileNavigation(){return this.diffFiles.length>1&&this.viewDiffsFileByFile},currentFileNumber(){return this.currentDiffIndex+1},previousFileNumber(){const{currentDiffIndex:e}=this;return e>=1?e:null},nextFileNumber(){const{currentFileNumber:e,diffFiles:t}=this;return e<t.length?e+1:null},visibleWarning(){let e=!1;return this.renderOverflowWarning?e=this.$options.alerts.ALERT_OVERFLOW_HIDDEN:this.isDiffHead&&this.hasConflicts?e=this.$options.alerts.ALERT_MERGE_CONFLICT:this.whichCollapsedTypes.automatic&&!this.viewDiffsFileByFile&&(e=this.$options.alerts.ALERT_COLLAPSED_FILES),e},fileReviews(){return Object(ae.c)(this.diffFiles,this.mrReviews)}}),watch:{commit(e,t){var n;const i=e&&!this.isLoading,r=t&&e.id!==t.id,s=(null===(n=window)||void 0===n?void 0:n.location)?String(window.location):"";i&&r&&(Object(re.A)({title:document.title,url:s.replace(t.id,e.id)}),this.refetchDiffData(),this.adjustView())},diffViewType(){this.adjustView()},shouldShow(){this.isLoading&&this.fetchData(),this.adjustView()},isLoading:"adjustView",renderFileTree:"adjustView"},mounted(){var e,t,n,i;this.setBaseConfig({endpoint:this.endpoint,endpointMetadata:this.endpointMetadata,endpointBatch:this.endpointBatch,endpointCoverage:this.endpointCoverage,endpointUpdateUser:this.endpointUpdateUser,projectPath:this.projectPath,dismissEndpoint:this.dismissEndpoint,showSuggestPopover:this.showSuggestPopover,viewDiffsFileByFile:Object(ge.a)(this.fileByFileUserPreference),defaultSuggestionCommitMessage:this.defaultSuggestionCommitMessage,mrReviews:this.rehydratedMrReviews}),this.endpointCodequality&&this.setCodequalityEndpoint(this.endpointCodequality),this.shouldShow&&this.fetchData();const r=null===(e=window)||void 0===e?void 0:null===(t=e.location)||void 0===t?void 0:t.hash;r&&0!==r.indexOf("#note")&&this.setHighlightedRow(r.split("diff-content").pop().slice(1)),(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.diffSettingsUsageData)&&(this.renderTreeList?Z.a.trackRedisHllUserEvent(b.tb):Z.a.trackRedisHllUserEvent(b.sb),this.diffViewType===b.J?Z.a.trackRedisHllUserEvent(b.qb):Z.a.trackRedisHllUserEvent(b.rb),this.showWhitespace?Z.a.trackRedisHllUserEvent(b.xb):Z.a.trackRedisHllUserEvent(b.wb),this.viewDiffsFileByFile?Z.a.trackRedisHllUserEvent(b.vb):Z.a.trackRedisHllUserEvent(b.ub))},beforeCreate(){me.instrument()},created(){var e=this;this.adjustView(),this.subscribeToEvents(),this.CENTERED_LIMITED_CONTAINER_CLASSES=b.d,this.unwatchDiscussions=this.$watch((function(){return"".concat(e.diffFiles.length,":").concat(e.$store.state.notes.discussions.length)}),(function(){return e.setDiscussions()})),this.unwatchRetrievingBatches=this.$watch((function(){return"".concat(e.retrievingBatches,":").concat(e.$store.state.notes.discussions.length)}),(function(){!e.retrievingBatches&&e.$store.state.notes.discussions.length&&(e.unwatchDiscussions(),e.unwatchRetrievingBatches())}))},beforeDestroy(){me.deinstrument(),this.unsubscribeFromEvents(),this.removeEventListeners()},methods:ji(ji(ji({},Object(f.c)(["startTaskList"])),Object(f.c)("diffs",["moveToNeighboringCommit","setBaseConfig","setCodequalityEndpoint","fetchDiffFilesMeta","fetchDiffFilesBatch","fetchCoverageFiles","fetchCodequality","startRenderDiffsQueue","assignDiscussionsToDiff","setHighlightedRow","cacheTreeListWidth","scrollToFile","setShowTreeList","navigateToDiffFileIndex","setFileByFile"])),{},{subscribeToEvents(){z.a.$once("fetchDiffData",this.fetchData),z.a.$on("refetchDiffData",this.refetchDiffData)},unsubscribeFromEvents(){z.a.$off("refetchDiffData",this.refetchDiffData),z.a.$off("fetchDiffData",this.fetchData)},navigateToDiffFileNumber(e){this.navigateToDiffFileIndex(e-1)},refetchDiffData(){this.fetchData(!1)},needsReload(){return this.diffFiles.length&&(!ie(e=this.diffFiles[0])||!ne(e));var e},needsFirstLoad(){return!this.diffFiles.length},fetchData(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.fetchDiffFilesMeta().then((function(n){let{real_size:i}=n;e.diffFilesLength=parseInt(i,10),t&&e.setTreeDisplay()})).catch((function(){Object(te.c)(Object(y.a)("Something went wrong on our end. Please try again!"))})),this.fetchDiffFilesBatch().then((function(){t&&e.setTreeDisplay(),e.setDiscussions()})).catch((function(){Object(te.c)(Object(y.a)("Something went wrong on our end. Please try again!"))})),this.endpointCoverage&&this.fetchCoverageFiles(),this.endpointCodequality&&this.fetchCodequality(),this.isNotesFetched||z.a.$emit("fetchNotesData")},setDiscussions(){var e=this;requestIdleCallback((function(){return e.assignDiscussionsToDiff().then(e.$nextTick).then(e.startTaskList)}),{timeout:1e3})},adjustView(){var e=this;this.shouldShow?this.$nextTick((function(){e.setEventListeners()})):this.removeEventListeners()},setEventListeners(){var e=this;X.a.bind(Object(ee.mb)(ee.S),(function(){return e.jumpToFile(-1)})),X.a.bind(Object(ee.mb)(ee.Q),(function(){return e.jumpToFile(1)})),this.commit&&(X.a.bind(Object(ee.mb)(ee.M),(function(){return e.moveToNeighboringCommit({direction:"next"})})),X.a.bind(Object(ee.mb)(ee.N),(function(){return e.moveToNeighboringCommit({direction:"previous"})})))},removeEventListeners(){X.a.unbind(Object(ee.mb)(ee.S)),X.a.unbind(Object(ee.mb)(ee.Q)),X.a.unbind(Object(ee.mb)(ee.M)),X.a.unbind(Object(ee.mb)(ee.N))},jumpToFile(e){const t=this.currentDiffIndex+e;t>=0&&t<this.diffFiles.length&&this.scrollToFile(this.diffFiles[t].file_path)},setTreeDisplay(){const e=localStorage.getItem(b.W);let t=!0;return null!==e?t=Object(G.K)(e):(!K.b.isDesktop()||!this.isBatchLoading&&this.diffFiles.length<=1)&&(t=!1),this.setShowTreeList({showTreeList:t,saving:!1})}}),minTreeWidth:b.V,maxTreeWidth:b.T},Ei=Object(C.a)(xi,(function(){var e,t=this,n=t.$createElement,i=t._self._c||n;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow,expression:"shouldShow"}]},[t.isLoading||!t.isTreeLoaded?i("div",{staticClass:"loading"},[i("gl-loading-icon",{attrs:{size:"lg"}})],1):i("div",{staticClass:"diffs tab-pane",class:{active:t.shouldShow},attrs:{id:"diffs"}},[i("compare-versions",{attrs:{"is-limited-container":t.isLimitedContainer,"diff-files-count-text":t.numTotalFiles}}),t._v(" "),t.visibleWarning==t.$options.alerts.ALERT_OVERFLOW_HIDDEN?i("hidden-files-warning",{attrs:{visible:t.numVisibleFiles,total:t.numTotalFiles,"plain-diff-path":t.plainDiffPath,"email-patch-path":t.emailPatchPath}}):t._e(),t._v(" "),t.visibleWarning==t.$options.alerts.ALERT_MERGE_CONFLICT?i("merge-conflict-warning",{attrs:{limited:t.isLimitedContainer,"resolution-path":t.conflictResolutionPath,mergeable:t.canMerge}}):t._e(),t._v(" "),t.visibleWarning==t.$options.alerts.ALERT_COLLAPSED_FILES?i("collapsed-files-warning",{attrs:{limited:t.isLimitedContainer}}):t._e(),t._v(" "),i("div",{staticClass:"files d-flex gl-mt-2",attrs:{"data-can-create-note":t.getNoteableData.current_user.can_create_note}},[t.renderFileTree?i("div",{staticClass:"diff-tree-list js-diff-tree-list px-3 pr-md-0",class:{"review-bar-visible":t.draftsCount>0},style:{width:t.treeWidth+"px"}},[i("panel-resizer",{attrs:{size:t.treeWidth,"start-size":t.treeWidth,"min-size":t.$options.minTreeWidth,"max-size":t.$options.maxTreeWidth,side:"right"},on:{"update:size":function(e){t.treeWidth=e},"resize-end":t.cacheTreeListWidth}}),t._v(" "),i("tree-list",{attrs:{"hide-file-stats":t.hideFileStats}})],1):t._e(),t._v(" "),i("div",{staticClass:"col-12 col-md-auto diff-files-holder",class:(e={},e[t.CENTERED_LIMITED_CONTAINER_CLASSES]=t.isLimitedContainer,e)},[t.commit?i("commit-widget",{attrs:{commit:t.commit,collapsible:!1}}):t._e(),t._v(" "),t.isBatchLoading?i("div",{staticClass:"loading"},[i("gl-loading-icon",{attrs:{size:"lg"}})],1):t.renderDiffFiles?[t.isVirtualScrollingEnabled?i("dynamic-scroller",{attrs:{items:t.diffs,"min-item-size":70,buffer:1e3,"use-transform":!1,"page-mode":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.item,r=e.index,s=e.active;return[i("dynamic-scroller-item",{attrs:{item:n,active:s}},[i("diff-file",{attrs:{file:n,reviewed:t.fileReviews[n.id],"is-first-file":0===r,"is-last-file":r===t.diffFilesLength-1,"help-page-path":t.helpPagePath,"can-current-user-fork":t.canCurrentUserFork,"view-diffs-file-by-file":t.viewDiffsFileByFile}})],1)]}}],null,!1,3640065292)}):t._l(t.diffs,(function(e,n){return i("diff-file",{key:e.new_path,attrs:{file:e,reviewed:t.fileReviews[e.id],"is-first-file":0===n,"is-last-file":n===t.diffFilesLength-1,"help-page-path":t.helpPagePath,"can-current-user-fork":t.canCurrentUserFork,"view-diffs-file-by-file":t.viewDiffsFileByFile}})})),t._v(" "),t.showFileByFileNavigation?i("div",{staticClass:"gl-display-grid gl-text-center",attrs:{"data-testid":"file-by-file-navigation"}},[i("gl-pagination",{staticClass:"gl-mx-auto",attrs:{value:t.currentFileNumber,"prev-page":t.previousFileNumber,"next-page":t.nextFileNumber},on:{input:t.navigateToDiffFileNumber}}),t._v(" "),i("gl-sprintf",{attrs:{message:t.__("File %{current} of %{total}")},scopedSlots:t._u([{key:"current",fn:function(){return[t._v(t._s(t.currentFileNumber))]},proxy:!0},{key:"total",fn:function(){return[t._v(t._s(t.diffFiles.length))]},proxy:!0}],null,!1,1339427716)})],1):t.retrievingBatches?i("gl-loading-icon",{attrs:{size:"lg"}}):t._e()]:i("no-changes",{attrs:{"changes-empty-state-illustration":t.changesEmptyStateIllustration}})],2)])],1)])}),[],!1,null,null,null).exports,Di=n("LlB7");function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ti(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){Ni(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ni(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ii=n("53mm"),Li=n("1pLT");function Ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ri(Object(n),!0).forEach((function(t){Fi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qi(e){let{withoutContext:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.querySelector(e),i=t?G.Q:G.R;return!!n&&(i(n),!0)}function Mi(e,t){let{expandDiscussion:n}=e;const i='div.discussion[data-discussion-id="'.concat(t,'"]');return n({discussionId:t}),qi(i,{withoutContext:!0})}function Bi(e,t){const{id:n,diff_discussion:i}=t;if(n){const t=window.mrTabs.currentAction;"diffs"===t&&i?function(e,t){let{expandDiscussion:n}=e;const i='ul.notes[data-discussion-id="'.concat(t,'"]');z.a.$once("scrollToDiscussion",(function(){return qi(i)})),n({discussionId:t})}(e,n):"show"===t?Mi(e,n):function(e,t){window.mrTabs.eventHub.$once("MergeRequestTabChange",(function(){setTimeout((function(){return Mi(e,t)}),0)})),window.mrTabs.tabShown("show")}(e,n)}}function $i(e,t){var n;const i=t(arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.currentDiscussionId,"diffs"===window.mrTabs.currentAction),r=e.getDiscussion(i),s=null==r?void 0:null===(n=r.diff_file)||void 0===n?void 0:n.file_path;s&&e.scrollToFile(s),e.$nextTick((function(){Bi(e,r),e.setCurrentDiscussionId(i)}))}var Vi={computed:Ai(Ai({},Object(f.d)(["nextUnresolvedDiscussionId","previousUnresolvedDiscussionId","getDiscussion"])),Object(f.f)({currentDiscussionId:function(e){return e.notes.currentDiscussionId}})),methods:Ai(Ai(Ai({},Object(f.c)(["expandDiscussion","setCurrentDiscussionId"])),Object(f.c)("diffs",["scrollToFile"])),{},{jumpToNextDiscussion(){$i(this,this.nextUnresolvedDiscussionId)},jumpToPreviousDiscussion(){$i(this,this.previousUnresolvedDiscussionId)},jumpToFirstUnresolvedDiscussion(){var e=this;this.setCurrentDiscussionId(null).then((function(){e.jumpToNextDiscussion()})).catch((function(){}))},jumpToNextRelativeDiscussion(e){$i(this,this.nextUnresolvedDiscussionId,e)}})};function Ui(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(n),!0).forEach((function(t){Hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ui(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zi={directives:{GlTooltip:je.a},components:{GlIcon:g.a,GlButton:be.a,GlButtonGroup:Se.a},mixins:[Vi],computed:Gi(Gi({},Object(f.d)(["getUserData","getNoteableData","resolvableDiscussionsCount","unresolvedDiscussionsCount","discussions"])),{},{isLoggedIn(){return this.getUserData.id},allResolved(){return 0===this.unresolvedDiscussionsCount},resolveAllDiscussionsIssuePath(){return this.getNoteableData.create_issue_to_resolve_discussions_path},toggeableDiscussions(){return this.discussions.filter((function(e){return!e.individual_note}))},allExpanded(){return this.toggeableDiscussions.every((function(e){return e.expanded}))},lineResolveClass(){return this.allResolved?"line-resolve-btn is-active":"line-resolve-text"},toggleThreadsLabel(){return this.allExpanded?Object(y.a)("Collapse all threads"):Object(y.a)("Expand all threads")}}),methods:Gi(Gi({},Object(f.c)(["setExpandDiscussions"])),{},{handleExpandDiscussions(){this.setExpandDiscussions({discussionIds:this.toggeableDiscussions.map((function(e){return e.id})),expanded:!this.allExpanded})}})},Wi=Object(C.a)(zi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.resolvableDiscussionsCount>0?n("div",{ref:"discussionCounter",staticClass:"line-resolve-all-container full-width-mobile gl-display-flex d-sm-flex"},[n("div",{staticClass:"line-resolve-all"},[n("span",{class:e.lineResolveClass},[e.allResolved?[n("gl-icon",{attrs:{name:"check-circle-filled"}}),e._v("\n        "+e._s(e.__("All threads resolved"))+"\n      ")]:[e._v("\n        "+e._s(e.n__("%d unresolved thread","%d unresolved threads",e.unresolvedDiscussionsCount))+"\n      ")]],2)]),e._v(" "),n("gl-button-group",[e.resolveAllDiscussionsIssuePath&&!e.allResolved?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"new-issue-for-discussion discussion-create-issue-btn",attrs:{href:e.resolveAllDiscussionsIssuePath,title:e.s__("Resolve all threads in new issue"),"aria-label":e.s__("Resolve all threads in new issue"),icon:"issue-new"}}):e._e(),e._v(" "),e.isLoggedIn&&!e.allResolved?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"discussion-next-btn",attrs:{title:e.__("Jump to next unresolved thread"),"aria-label":e.__("Jump to next unresolved thread"),"data-track-event":"click_button","data-track-label":"mr_next_unresolved_thread","data-track-property":"click_next_unresolved_thread_top",icon:"comment-next"},on:{click:e.jumpToNextDiscussion}}):e._e(),e._v(" "),n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"toggle-all-discussions-btn",attrs:{title:e.toggleThreadsLabel,"aria-label":e.toggleThreadsLabel,icon:e.allExpanded?"angle-up":"angle-down"},on:{click:e.handleExpandDiscussions}})],1)],1):e._e()}),[],!1,null,null,null).exports,Qi=n("TUEX"),Ki=n("/uU4"),Yi={mixins:[Vi],created(){z.a.$on("jumpToFirstUnresolvedDiscussion",this.jumpToFirstUnresolvedDiscussion)},mounted(){Mousetrap.bind(Object(ee.mb)(ee.R),this.jumpToNextDiscussion),Mousetrap.bind(Object(ee.mb)(ee.T),this.jumpToPreviousDiscussion)},beforeDestroy(){Mousetrap.unbind(Object(ee.mb)(ee.R)),Mousetrap.unbind(Object(ee.mb)(ee.T)),z.a.$off("jumpToFirstUnresolvedDiscussion",this.jumpToFirstUnresolvedDiscussion)},render(){return this.$slots.default}},Xi=Object(C.a)(Yi,void 0,void 0,!1,null,null,null).exports,Ji=n("cyZB"),Zi=n("GiFX"),er=n("Q33P"),tr=n.n(er),nr=n("SqD0"),ir={methods:{clearError(){this.$emit("clearError"),this.hasApprovalAuthError=!1;const e=document.querySelector(".flash-alert");e&&Object(te.d)(e)},refreshApprovals(){var e=this;return this.service.fetchApprovals().then((function(t){e.mr.setApprovals(t)}))}}},rr=Object(C.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-heading"},[t("div",{staticClass:"mr-widget-content"},[this._t("default")],2),this._v(" "),this._t("footer")],2)}),[],!1,null,null,null).exports,sr={components:{GlIcon:g.a},props:{name:{type:String,required:!0}}},ar=Object(C.a)(sr,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"circle-icon-container gl-mr-3 align-self-start align-self-lg-center"},[t("gl-icon",{attrs:{name:this.name,size:24}})],1)}),[],!1,null,null,null).exports,or=n("PFaH");const lr=Object(y.a)("Checking approval status"),cr=Object(y.e)("mrWidget|An error occurred while retrieving approval data for this merge request."),ur=Object(y.e)("mrWidget|An error occurred while submitting your approval."),dr=Object(y.e)("mrWidget|An error occurred while removing your approval."),fr=Object(y.e)("mrWidget|Merge request approved.");var hr={components:{UserAvatarLink:dt.a,GlButton:be.a},props:{items:{type:Array,required:!0},breakpoint:{type:Number,required:!1,default:10},imgSize:{type:Number,required:!1,default:20},emptyText:{type:String,required:!1,default:Object(y.a)("None")}},data:()=>({isExpanded:!1}),computed:{visibleItems(){return this.hasHiddenItems?this.items.slice(0,this.breakpoint):this.items},hasHiddenItems(){return this.hasBreakpoint&&!this.isExpanded&&this.items.length>this.breakpoint},hasBreakpoint(){return this.breakpoint>0&&this.items.length>this.breakpoint},expandText(){if(!this.hasHiddenItems)return"";const e=this.items.length-this.breakpoint;return Object(y.f)(Object(y.a)("%{count} more"),{count:e})}},methods:{expand(){this.isExpanded=!0},collapse(){this.isExpanded=!1}}},pr={components:{UserAvatarList:Object(C.a)(hr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.items.length?n("div",[e._l(e.visibleItems,(function(t){return n("user-avatar-link",{key:t.id,attrs:{"link-href":t.web_url,"img-src":t.avatar_url,"img-alt":t.name,"tooltip-text":t.name,"img-size":e.imgSize}})})),e._v(" "),e.hasBreakpoint?[e.hasHiddenItems?n("gl-button",{attrs:{variant:"link"},on:{click:e.expand}},[e._v("\n      "+e._s(e.expandText)+"\n    ")]):n("gl-button",{attrs:{variant:"link"},on:{click:e.collapse}},[e._v("\n      "+e._s(e.__("show less"))+"\n    ")])]:e._e()],2):n("div",[e._v(e._s(e.emptyText))])}),[],!1,null,null,null).exports},props:{approved:{type:Boolean,required:!0},approvalsLeft:{type:Number,required:!0},rulesLeft:{type:Array,required:!1,default:function(){return[]}},approvers:{type:Array,required:!1,default:function(){return[]}}},computed:{message(){return this.approved?fr:this.rulesLeft.length?Object(y.f)(Object(y.d)("Requires approval from %{names}.","Requires %{count} more approvals from %{names}.",this.approvalsLeft),{names:Object(or.a)(this.rulesLeft),count:this.approvalsLeft},!1):Object(y.d)("Requires approval.","Requires %d more approvals.",this.approvalsLeft)},hasApprovers(){return Boolean(this.approvers.length)}},APPROVED_MESSAGE:fr},mr=Object(C.a)(pr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-qa-selector":"approvals_summary_content"}},[n("strong",[e._v(e._s(e.message))]),e._v(" "),e.hasApprovers?[n("span",[e._v(e._s(e.s__("mrWidget|Approved by")))]),e._v(" "),n("user-avatar-list",{staticClass:"d-inline-block align-middle",attrs:{items:e.approvers}})]:e._e()],2)}),[],!1,null,null,null).exports,gr={components:{GlLink:ke.a,GlIcon:g.a},directives:{GlTooltip:je.a},props:{canApprove:{type:Boolean,required:!0},helpPath:{type:String,required:!1,default:""}}},vr={name:"MRWidgetApprovals",components:{MrWidgetContainer:rr,MrWidgetIcon:ar,ApprovalsSummary:mr,ApprovalsSummaryOptional:Object(C.a)(gr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"text-muted"},[e._v(e._s(e.s__("mrWidget|Approval is optional")))]),e._v(" "),e.canApprove&&e.helpPath?n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"d-flex-center pl-1",attrs:{href:e.helpPath,title:e.__("About this feature"),target:"_blank"}},[n("gl-icon",{attrs:{name:"question"}})],1):e._e()],1)}),[],!1,null,null,null).exports,GlButton:be.a},mixins:[ir],props:{mr:{type:Object,required:!0},service:{type:Object,required:!0},isOptionalDefault:{type:Boolean,required:!1,default:null},approveDefault:{type:Function,required:!1,default:null},modalId:{type:String,required:!1,default:null},requirePasswordToApprove:{type:Boolean,required:!1,default:!1}},data:()=>({fetchingApprovals:!0,hasApprovalAuthError:!1,isApproving:!1}),computed:{isBasic(){return"base"===this.mr.approvalsWidgetType},isApproved(){return Boolean(this.approvals.approved)},isOptional(){return null!==this.isOptionalDefault?this.isOptionalDefault:!this.approvedBy.length},hasAction(){return Boolean(this.action)},approvals(){return this.mr.approvals||{}},approvedBy(){return this.approvals.approved_by?this.approvals.approved_by.map((function(e){return e.user})):[]},userHasApproved(){return Boolean(this.approvals.user_has_approved)},userCanApprove(){return Boolean(this.approvals.user_can_approve)},showApprove(){return!this.userHasApproved&&this.userCanApprove&&this.mr.isOpen},showUnapprove(){return this.userHasApproved&&!this.userCanApprove&&"merged"!==this.mr.state},approvalText(){return this.isApproved&&this.approvedBy.length>0?Object(y.e)("mrWidget|Approve additionally"):Object(y.e)("mrWidget|Approve")},action(){var e=this;return this.showApprove?{text:this.approvalText,category:this.isApproved?"secondary":"primary",variant:"info",action:function(){return e.approve()}}:this.showUnapprove?{text:Object(y.e)("mrWidget|Revoke approval"),variant:"warning",category:"secondary",action:function(){return e.unapprove()}}:null}},created(){var e=this;this.refreshApprovals().then((function(){e.fetchingApprovals=!1})).catch((function(){return Object(te.c)(cr)}))},methods:{approve(){var e=this;this.requirePasswordToApprove?this.$root.$emit(sn.c,this.modalId):this.updateApproval((function(){return e.service.approveMergeRequest()}),(function(){return Object(te.c)(ur)}))},approveWithAuth(e){var t=this;this.updateApproval((function(){return t.service.approveMergeRequestWithAuth(e)}),(function(e){e&&e.response&&401===e.response.status?t.hasApprovalAuthError=!0:Object(te.c)(ur)}))},unapprove(){var e=this;this.updateApproval((function(){return e.service.unapproveMergeRequest()}),(function(){return Object(te.c)(dr)}))},updateApproval(e,t){var n=this;return this.isApproving=!0,this.clearError(),e().then((function(e){n.mr.setApprovals(e),nr.a.$emit("MRWidgetUpdateRequested"),nr.a.$emit("ApprovalUpdated"),n.$emit("updated")})).catch(t).then((function(){n.isApproving=!1}))}},FETCH_LOADING:lr},br=Object(C.a)(vr,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mr-widget-container",{scopedSlots:e._u([{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[n("div",{staticClass:"js-mr-approvals d-flex align-items-start align-items-md-center"},[n("mr-widget-icon",{attrs:{name:"approval"}}),e._v(" "),e.fetchingApprovals?n("div",[e._v(e._s(e.$options.FETCH_LOADING))]):[e.action?n("gl-button",{staticClass:"mr-3",attrs:{variant:e.action.variant,category:e.action.category,loading:e.isApproving,"data-qa-selector":"approve_button"},on:{click:e.action.action}},[e._v("\n        "+e._s(e.action.text)+"\n      ")]):e._e(),e._v(" "),e.isOptional?n("approvals-summary-optional",{attrs:{"can-approve":e.hasAction,"help-path":e.mr.approvalsHelpPath}}):n("approvals-summary",{attrs:{approved:e.isApproved,"approvals-left":e.approvals.approvals_left||0,"rules-left":e.approvals.approvalRuleNamesLeft,approvers:e.approvedBy}}),e._v(" "),e._t("default",null,{isApproving:e.isApproving,approveWithAuth:e.approveWithAuth,hasApprovalAuthError:e.hasApprovalAuthError})]],2)])}),[],!1,null,null,null).exports,yr=n("dxmq"),_r=n("84rB");const wr={archived:"archived",missingBranch:"missingBranch",nothingToMerge:"nothingToMerge",checking:"checking",conflicts:"conflicts",workInProgress:"workInProgress",pipelineFailed:"pipelineFailed",unresolvedDiscussions:"unresolvedDiscussions",pipelineBlocked:"pipelineBlocked",shaMismatch:"shaMismatch",autoMergeFailed:"autoMergeFailed",autoMergeEnabled:"autoMergeEnabled",notAllowedToMerge:"notAllowedToMerge",readyToMerge:"readyToMerge",rebase:"rebase",merged:"merged"};var Or={stateToComponentMap:{merged:"mr-widget-merged",closed:"mr-widget-closed",merging:"mr-widget-merging",conflicts:"mr-widget-conflicts",missingBranch:"mr-widget-missing-branch",workInProgress:"mr-widget-wip",readyToMerge:"mr-widget-ready-to-merge",nothingToMerge:"mr-widget-nothing-to-merge",notAllowedToMerge:"mr-widget-not-allowed",archived:"mr-widget-archived",checking:"mr-widget-checking",unresolvedDiscussions:"mr-widget-unresolved-discussions",pipelineBlocked:"mr-widget-pipeline-blocked",pipelineFailed:"mr-widget-pipeline-failed",autoMergeEnabled:"mr-widget-auto-merge-enabled",failedToMerge:"mr-widget-failed-to-merge",autoMergeFailed:"mr-widget-auto-merge-failed",shaMismatch:"sha-mismatch",rebase:"mr-widget-rebase"},statesToShowHelpWidget:["merging","conflicts","workInProgress","readyToMerge","checking","unresolvedDiscussions","pipelineFailed","pipelineBlocked","autoMergeFailed","rebase"]};function kr(){return this.projectArchived?wr.archived:this.branchMissing?wr.missingBranch:this.commitsCount?"unchecked"===this.mergeStatus||"checking"===this.mergeStatus?wr.checking:this.hasConflicts?wr.conflicts:this.shouldBeRebased?wr.rebase:this.onlyAllowMergeIfPipelineSucceeds&&this.isPipelineFailed?wr.pipelineFailed:this.workInProgress?wr.workInProgress:this.hasMergeableDiscussionsState&&!this.autoMergeEnabled?wr.unresolvedDiscussions:this.isPipelineBlocked?wr.pipelineBlocked:this.canMerge&&this.isSHAMismatch?wr.shaMismatch:this.autoMergeEnabled?this.mergeError?wr.autoMergeFailed:wr.autoMergeEnabled:this.canMerge?this.canBeMerged?wr.readyToMerge:null:wr.notAllowedToMerge:wr.nothingToMerge}var Sr=n("JGUf"),jr=n("bOix");const Cr="warning",xr="danger",Er="merge_when_pipeline_succeeds",Dr="add_to_merge_train_when_pipeline_succeeds",Pr="merge_train",Tr=[Er,Dr,Pr],Nr=Object(y.e)("mrWidget|Use %{linkStart}CI pipelines to test your code%{linkEnd} by simply adding a GitLab CI configuration file to your project. It only takes a minute to make your code more secure and robust."),Ir=[{message:Object(y.e)("mrWidget|Merging! Drum roll, please"),emoji:"drum"},{message:Object(y.e)("mrWidget|Merging! We're almost there"),emoji:"sparkles"},{message:Object(y.e)("mrWidget|Merging! Changes will land soon"),emoji:"airplane_arriving"},{message:Object(y.e)("mrWidget|Merging! Changes are being shipped"),emoji:"ship"},{message:Object(y.e)("mrWidget|Merging! Everything's good"),emoji:"relieved"},{message:Object(y.e)("mrWidget|Merging! This is going to be great"),emoji:"heart_eyes"}];class Lr{constructor(e){this.sha=e.diff_head_sha,this.gitlabLogo=e.gitlabLogo,this.apiApprovalsPath=e.api_approvals_path,this.apiApprovePath=e.api_approve_path,this.apiUnapprovePath=e.api_unapprove_path,this.hasApprovalsAvailable=e.has_approvals_available,this.setPaths(e),this.setData(e)}setData(e,t){var n,i;this.initApprovals(),this.updateStatusState(e.state),t&&(this.sha=e.diff_head_sha);const r=e.pipeline?e.pipeline.details.status:null;if(this.squash=e.squash,this.squashIsEnabledByDefault=e.squash_enabled_by_default,this.squashIsReadonly=e.squash_readonly,this.enableSquashBeforeMerge=this.enableSquashBeforeMerge||!0,this.squashIsSelected=e.squash_readonly?e.squash_on_merge:e.squash,this.iid=e.iid,this.title=e.title,this.targetBranch=e.target_branch,this.targetBranchSha=e.target_branch_sha,this.sourceBranch=e.source_branch,this.sourceBranchProtected=e.source_branch_protected,this.conflictsDocsPath=e.conflicts_docs_path,this.mergeRequestPipelinesHelpPath=e.merge_request_pipelines_docs_path,this.mergeTrainWhenPipelineSucceedsDocsPath=e.merge_train_when_pipeline_succeeds_docs_path,this.commitMessage=e.default_merge_commit_message,this.shortMergeCommitSha=e.short_merged_commit_sha,this.mergeCommitSha=e.merged_commit_sha,this.commitMessageWithDescription=e.default_merge_commit_message_with_description,this.divergedCommitsCount=e.diverged_commits_count,this.pipeline=e.pipeline||{},this.pipelineCoverageDelta=e.pipeline_coverage_delta,this.buildsWithCoverage=e.builds_with_coverage,this.mergePipeline=e.merge_pipeline||{},this.deployments=this.deployments||e.deployments||[],this.postMergeDeployments=this.postMergeDeployments||[],this.commits=e.commits_without_merge_commits||[],this.squashCommitMessage=e.default_squash_commit_message,this.rebaseInProgress=e.rebase_in_progress,this.mergeRequestDiffsPath=e.diffs_path,this.approvalsWidgetType=e.approvals_widget_type,this.mergeRequestWidgetPath=e.merge_request_widget_path,e.issues_links){const t=e.issues_links,{closing:n}=t,i=t.mentioned_but_not_closing,r=t.assign_to_closing;(n||i||r)&&(this.relatedLinks={closing:n,mentioned:i,assignToMe:r})}this.updatedAt=e.updated_at,this.metrics=Lr.buildMetrics(e.metrics),this.setToAutoMergeBy=Lr.formatUserObject(e.merge_user||{}),this.mergeUserId=e.merge_user_id,this.currentUserId=gon.current_user_id,this.sourceBranchRemoved=!e.source_branch_exists,this.shouldRemoveSourceBranch=e.remove_source_branch||!1,this.autoMergeStrategy=e.auto_merge_strategy,this.availableAutoMergeStrategies=e.available_auto_merge_strategies,this.preferredAutoMergeStrategy=Lr.getPreferredAutoMergeStrategy(this.availableAutoMergeStrategies),this.ffOnlyEnabled=e.ff_only_enabled,this.isRemovingSourceBranch=this.isRemovingSourceBranch||!1,this.mergeRequestState=e.state,this.isOpen="opened"===this.mergeRequestState,this.latestSHA=e.diff_head_sha,this.isMergeAllowed=e.mergeable||!1,this.mergeOngoing=e.merge_ongoing,this.allowCollaboration=e.allow_collaboration,this.sourceProjectId=e.source_project_id,this.targetProjectId=e.target_project_id,this.hasCI=e.has_ci,this.ciStatus=e.ci_status,this.isPipelinePassing="success"===this.ciStatus||"success-with-warnings"===this.ciStatus,this.isPipelineSkipped="skipped"===this.ciStatus,this.pipelineDetailedStatus=r,this.isPipelineActive=!!e.pipeline&&e.pipeline.active,this.isPipelineBlocked=e.only_allow_merge_if_pipeline_succeeds&&"manual"===(null==r?void 0:r.group),this.ciStatusFaviconPath=r?r.favicon:null,this.terraformReportsPath=e.terraform_reports_path,this.testResultsPath=e.test_reports_path,this.accessibilityReportPath=e.accessibility_report_path,this.exposedArtifactsPath=e.exposed_artifacts_path,this.cancelAutoMergePath=e.cancel_auto_merge_path,this.canCancelAutomaticMerge=Boolean(e.cancel_auto_merge_path),this.newBlobPath=e.new_blob_path,this.sourceBranchPath=e.source_branch_path,this.sourceBranchLink=e.source_branch_with_namespace_link,this.rebasePath=e.rebase_path,this.targetBranchPath=e.target_branch_commits_path,this.targetBranchTreePath=e.target_branch_tree_path,this.conflictResolutionPath=e.conflict_resolution_path,this.removeWIPPath=e.remove_wip_path,this.createIssueToResolveDiscussionsPath=e.create_issue_to_resolve_discussions_path,this.mergePath=e.merge_path,this.mergeCommitPath=e.merged_commit_path,this.canPushToSourceBranch=e.can_push_to_source_branch,(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.mergeRequestWidgetGraphql)||(this.autoMergeEnabled=Boolean(e.auto_merge_enabled),this.canBeMerged=e.can_be_merged||!1,this.canMerge=Boolean(e.merge_path),this.commitsCount=e.commits_count,this.branchMissing=e.branch_missing,this.hasConflicts=e.has_conflicts,this.hasMergeableDiscussionsState=!1===e.mergeable_discussions_state,this.isPipelineFailed="failed"===this.ciStatus||"canceled"===this.ciStatus,this.mergeError=e.merge_error,this.mergeStatus=e.merge_status,this.onlyAllowMergeIfPipelineSucceeds=e.only_allow_merge_if_pipeline_succeeds||!1,this.projectArchived=e.project_archived,this.isSHAMismatch=this.sha!==e.diff_head_sha,this.shouldBeRebased=Boolean(e.should_be_rebased),this.workInProgress=e.work_in_progress);const s=e.current_user;this.cherryPickInForkPath=s.cherry_pick_in_fork_path,this.revertInForkPath=s.revert_in_fork_path,this.canRemoveSourceBranch=s.can_remove_source_branch||!1,this.canCreateIssue=s.can_create_issue||!1,this.canCherryPickInCurrentMR=s.can_cherry_pick_on_current_merge_request||!1,this.canRevertInCurrentMR=s.can_revert_on_current_merge_request||!1,this.setState()}setGraphqlData(e){const{mergeRequest:t}=e,n=t.headPipeline;this.updateStatusState(t.state),this.projectArchived=e.archived,this.onlyAllowMergeIfPipelineSucceeds=e.onlyAllowMergeIfPipelineSucceeds,this.autoMergeEnabled=t.autoMergeEnabled,this.canBeMerged="can_be_merged"===t.mergeStatus,this.canMerge=t.userPermissions.canMerge,this.ciStatus=null==n?void 0:n.status.toLowerCase(),(null==n?void 0:n.warnings)&&"success"===this.ciStatus&&(this.ciStatus="".concat(this.ciStatus,"-with-warnings")),this.commitsCount=t.commitCount,this.branchMissing=!t.sourceBranchExists||!t.targetBranchExists,this.hasConflicts=t.conflicts,this.hasMergeableDiscussionsState=!1===t.mergeableDiscussionsState,this.mergeError=t.mergeError,this.mergeStatus=t.mergeStatus,this.isPipelineFailed="failed"===this.ciStatus||"canceled"===this.ciStatus,this.isSHAMismatch=this.sha!==t.diffHeadSha,this.shouldBeRebased=t.shouldBeRebased,this.workInProgress=t.workInProgress,this.mergeRequestState=t.state,this.setState()}updateStatusState(e){this.mergeRequestState!==e&&Sr.b.updateStatus&&Sr.b.updateStatus()}setState(){if(this.mergeOngoing)this.state="merging";else if(this.isOpen)this.state=kr.call(this);else switch(this.mergeRequestState){case"merged":this.state="merged";break;case"closed":this.state="closed";break;default:this.state=null}}setPaths(e){this.squashBeforeMergeHelpPath=e.squash_before_merge_help_path,this.mrTroubleshootingDocsPath=e.mr_troubleshooting_docs_path,this.ciTroubleshootingDocsPath=e.ci_troubleshooting_docs_path,this.pipelineMustSucceedDocsPath=e.pipeline_must_succeed_docs_path,this.mergeRequestBasicPath=e.merge_request_basic_path,this.mergeRequestWidgetPath=e.merge_request_widget_path,this.mergeRequestCachedWidgetPath=e.merge_request_cached_widget_path,this.emailPatchesPath=e.email_patches_path,this.plainDiffPath=e.plain_diff_path,this.mergeCheckPath=e.merge_check_path,this.mergeActionsContentPath=e.commit_change_content_path,this.targetProjectFullPath=e.target_project_full_path,this.sourceProjectFullPath=e.source_project_full_path,this.mergeRequestPipelinesHelpPath=e.merge_request_pipelines_docs_path,this.conflictsDocsPath=e.conflicts_docs_path,this.reviewingDocsPath=e.reviewing_and_managing_merge_requests_docs_path,this.ciEnvironmentsStatusPath=e.ci_environments_status_path,this.securityApprovalsHelpPagePath=e.security_approvals_help_page_path,this.licenseComplianceDocsPath=e.license_compliance_docs_path,this.eligibleApproversDocsPath=e.eligible_approvers_docs_path,this.mergeImmediatelyDocsPath=e.merge_immediately_docs_path,this.approvalsHelpPath=e.approvals_help_path,this.mergeRequestAddCiConfigPath=e.merge_request_add_ci_config_path,this.pipelinesEmptySvgPath=e.pipelines_empty_svg_path,this.humanAccess=e.human_access,this.newPipelinePath=e.new_project_pipeline_path,this.sourceProjectDefaultUrl=e.source_project_default_url,this.userCalloutsPath=e.user_callouts_path,this.suggestPipelineFeatureId=e.suggest_pipeline_feature_id,this.isDismissedSuggestPipeline=e.is_dismissed_suggest_pipeline,this.securityReportsDocsPath=e.security_reports_docs_path;const t=e.blob_path||{};this.headBlobPath=t.head_path||"",this.baseBlobPath=t.base_path||"",this.codequalityReportsPath=e.codequality_reports_path,this.codequalityHelpPath=e.codequality_help_path,this.codeclimate=e.codeclimate,this.sastComparisonPath=e.sast_comparison_path,this.secretScanningComparisonPath=e.secret_scanning_comparison_path}get isNothingToMergeState(){return this.state===wr.nothingToMerge}get isMergedState(){return this.state===wr.merged}static buildMetrics(e){return e?{mergedBy:Lr.formatUserObject(e.merged_by),closedBy:Lr.formatUserObject(e.closed_by),mergedAt:Object(jr.h)(e.merged_at),closedAt:Object(jr.h)(e.closed_at),readableMergedAt:Lr.getReadableDate(e.merged_at),readableClosedAt:Lr.getReadableDate(e.closed_at)}:{}}static formatUserObject(e){return e?{name:e.name||"",username:e.username||"",webUrl:e.web_url||"",avatarUrl:e.avatar_url||""}:{}}static getReadableDate(e){return e?Object(_r.format)(e):""}static getPreferredAutoMergeStrategy(e){if(void 0!==e)return e.includes(Dr)?Dr:e.includes(Pr)?Pr:e.includes(Er)?Er:void 0}initApprovals(){this.isApproved=this.isApproved||!1,this.approvals=this.approvals||null}setApprovals(e){this.approvals=e,this.isApproved=e.approved||!1}}function Rr(e,t,n){const i=new Notification(e,t);return setTimeout((function(){return i.close()}),8e3),i.onclick=n||i.close}var Ar={notificationGranted:Rr,notifyPermissions:function(){if("Notification"in window)return Notification.requestPermission()},notifyMe:function(e,t,n,i){const r={body:t,icon:n};if("Notification"in window){if("granted"===Notification.permission)return Rr(e,r,i);if("denied"!==Notification.permission)return Notification.requestPermission((function(t){if("granted"===t)return Rr(e,r,i)}))}else;}},Fr=n("ZeWX"),qr=n("Kq6u"),Mr=n("SQid"),Br=n("D2I9"),$r=n("DfSJ"),Vr=n("xSH3"),Ur=n("99pJ"),Gr=n.n(Ur),Hr=n("2ibD"),zr=n("QwBj"),Wr=n("hqF9");let Qr;const Kr=function(){Qr=null},Yr=function(){Qr&&Qr.stop()},Xr=function(){Qr&&Qr.restart()},Jr=function(e,t){let{commit:n}=e;return n("SET_ENDPOINT",t)},Zr=function(e){let{state:t,dispatch:n,commit:i}=e;i("REQUEST_REPORT"),Qr=new Wr.a({resource:{getReport:e=>Hr.a.get(e)},data:t.endpoint,method:"getReport",successCallback:function(e){let{status:t,data:i}=e;return n("receiveReportSuccess",{status:t,data:i})},errorCallback:function(){return n("receiveReportError")}}),Gr.a.hidden()?Hr.a.get(t.endpoint).then((function(e){let{status:t,data:i}=e;return n("receiveReportSuccess",{status:t,data:i})})).catch((function(){return n("receiveReportError")})):Qr.makeRequest(),Gr.a.change((function(){!Gr.a.hidden()&&t.isLoading?n("restartPolling"):n("stopPolling")}))},es=function(e,t){let{commit:n,dispatch:i}=e,{status:r,data:s}=t;r===zr.a.OK&&(n("RECEIVE_REPORT_SUCCESS",s),i("stopPolling"))},ts=function(e){let{commit:t,dispatch:n}=e;t("RECEIVE_REPORT_ERROR"),n("stopPolling")};var ns=n("Zpbh");const is=function(e){var t,n;if(e.isLoading)return Object(y.e)("Reports|Accessibility scanning results are being parsed");if(e.hasError)return Object(y.e)("Reports|Accessibility scanning failed loading results");const i=(null===(t=e.report)||void 0===t?void 0:null===(n=t.summary)||void 0===n?void 0:n.errored)||0;return 0===i?Object(y.e)("Reports|Accessibility scanning detected no issues for the source branch only"):Object(y.d)("Reports|Accessibility scanning detected %d issue for the source branch only","Reports|Accessibility scanning detected %d issues for the source branch only",i)},rs=function(e){return e.isLoading?ns.e:e.hasError||e.status===ns.i?ns.a:ns.l},ss=function(e){return Object.values(e.report).some((function(e){return Array.isArray(e)&&e.length>0}))},as=function(e){return e.report.existing_errors},os=function(e){return e.report.resolved_errors},ls=function(e){return e.report.new_errors};var cs={SET_ENDPOINT(e,t){e.endpoint=t},REQUEST_REPORT(e){e.isLoading=!0},RECEIVE_REPORT_SUCCESS(e,t){e.hasError=!1,e.isLoading=!1,e.report=t},RECEIVE_REPORT_ERROR(e){e.isLoading=!1,e.hasError=!0,e.report={}}},us=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{endpoint:e.endpoint||"",isLoading:e.isLoading||!1,hasError:e.hasError||!1,report:e.report||{}}};d.default.use(f.b);function ds(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ds(Object(n),!0).forEach((function(t){hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ds(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ps,ms={name:"GroupedAccessibilityReportsApp",store:new f.b.Store(function(e){return{actions:i,getters:r,mutations:cs,state:us(e)}}(ps)),components:{ReportSection:Vr.a,IssuesList:$r.a},props:{endpoint:{type:String,required:!0}},componentNames:Br.a,computed:fs({},Object(f.d)(["summaryStatus","groupedSummaryText","shouldRenderIssuesList","unresolvedIssues","resolvedIssues","newIssues"])),created(){this.setEndpoint(this.endpoint),this.fetchReport()},methods:fs({},Object(f.c)(["fetchReport","setEndpoint"]))},gs=Object(C.a)(ms,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("report-section",{staticClass:"mr-widget-section grouped-security-reports mr-report",attrs:{status:e.summaryStatus,"success-text":e.groupedSummaryText,"loading-text":e.groupedSummaryText,"error-text":e.groupedSummaryText,"has-issues":e.shouldRenderIssuesList,"track-action":"users_expanding_testing_accessibility_report"},scopedSlots:e._u([{key:"body",fn:function(){return[n("div",{staticClass:"mr-widget-grouped-section report-block"},[e.shouldRenderIssuesList?n("issues-list",{staticClass:"report-block-group-list",attrs:{"unresolved-issues":e.unresolvedIssues,"new-issues":e.newIssues,"resolved-issues":e.resolvedIssues,component:e.$options.componentNames.AccessibilityIssueBody}}):e._e()],1)]},proxy:!0}])})}),[],!1,null,null,null).exports;n("z4I3");function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){ys(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.map((function(e){var n;const i=bs({name:e.description,path:e.file_path,urlPath:"".concat(t,"/").concat(e.file_path,"#L").concat(e.line)},e);if(null==e?void 0:null===(n=e.location)||void 0===n?void 0:n.path){var r,s,a,o,l;let n="".concat(t,"/").concat(e.location.path);i.path=e.location.path,(null==e?void 0:null===(r=e.location)||void 0===r?void 0:null===(s=r.lines)||void 0===s?void 0:s.begin)?(i.line=e.location.lines.begin,n+="#L".concat(e.location.lines.begin)):(null==e?void 0:null===(a=e.location)||void 0===a?void 0:null===(o=a.positions)||void 0===o?void 0:null===(l=o.begin)||void 0===l?void 0:l.line)&&(i.line=e.location.positions.begin.line,n+="#L".concat(e.location.positions.begin.line)),i.urlPath=n}return i}))},ws=function(e,t){let{commit:n}=e;return n("SET_PATHS",t)},Os=function(e){let{state:t,dispatch:n,commit:i}=e;return i("REQUEST_REPORTS"),t.basePath?Hr.a.get(t.reportsPath).then((function(e){let{data:i}=e;return n("receiveReportsSuccess",{newIssues:_s(i.new_errors,t.headBlobPath),resolvedIssues:_s(i.resolved_errors,t.baseBlobPath)})})).catch((function(e){return n("receiveReportsError",e)})):n("receiveReportsError")},ks=function(e,t){let{commit:n}=e;n("RECEIVE_REPORTS_SUCCESS",t)},Ss=function(e,t){let{commit:n}=e;n("RECEIVE_REPORTS_ERROR",t)},js=function(e){var t,n;return Boolean((null===(t=e.newIssues)||void 0===t?void 0:t.length)||(null===(n=e.resolvedIssues)||void 0===n?void 0:n.length))},Cs=function(e){return e.isLoading?ns.e:e.hasError?ns.a:ns.l},xs=function(e){const{newIssues:t,resolvedIssues:n}=e,i=[];return t.length||n.length?(i.push(Object(y.e)("ciReport|Code quality")),n.length&&i.push(Object(y.d)(" improved on %d point"," improved on %d points",n.length)),t.length&&n.length&&i.push(Object(y.a)(" and")),t.length&&i.push(Object(y.d)(" degraded on %d point"," degraded on %d points",t.length))):i.push(Object(y.e)("ciReport|No changes to code quality")),i.join("")},Es=function(e){return e.headPath&&!e.basePath?{title:Object(y.e)("ciReport|Base pipeline codequality artifact not found"),content:Object(y.f)(Object(y.e)("ciReport|%{linkStartTag}Learn more about codequality reports %{linkEndTag}"),{linkStartTag:'<a href="'.concat(e.helpPath,'" target="_blank" rel="noopener noreferrer">'),linkEndTag:"".concat(Object(G.T)("external-link","s16"),"</a>")},!1)}:{}};var Ds={SET_PATHS(e,t){e.basePath=t.basePath,e.reportsPath=t.reportsPath,e.helpPath=t.helpPath},REQUEST_REPORTS(e){e.isLoading=!0},RECEIVE_REPORTS_SUCCESS(e,t){e.hasError=!1,e.statusReason="",e.isLoading=!1,e.newIssues=t.newIssues,e.resolvedIssues=t.resolvedIssues},RECEIVE_REPORTS_ERROR(e,t){var n,i;e.isLoading=!1,e.hasError=!0,e.statusReason=null==t?void 0:null===(n=t.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.status_reason}};d.default.use(f.b);function Ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ps(Object(n),!0).forEach((function(t){Ns(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Is={name:"GroupedCodequalityReportsApp",store:new f.b.Store({actions:s,getters:a,mutations:Ds,state:{basePath:null,headPath:null,reportsPath:null,baseBlobPath:null,headBlobPath:null,isLoading:!1,hasError:!1,statusReason:"",newIssues:[],resolvedIssues:[],helpPath:null}}),components:{ReportSection:Vr.a},props:{basePath:{type:String,required:!1,default:null},codequalityReportsPath:{type:String,required:!1,default:""},codequalityHelpPath:{type:String,required:!0}},componentNames:Br.a,computed:Ts(Ts({},Object(f.f)(["newIssues","resolvedIssues","hasError","statusReason"])),Object(f.d)(["hasCodequalityIssues","codequalityStatus","codequalityText","codequalityPopover"])),created(){this.setPaths({basePath:this.basePath,reportsPath:this.codequalityReportsPath,helpPath:this.codequalityHelpPath}),this.fetchReports()},methods:Ts({},Object(f.c)(["fetchReports","setPaths"])),loadingText:Object(y.f)(Object(y.e)("ciReport|Loading %{reportName} report"),{reportName:"codeclimate"}),errorText:Object(y.f)(Object(y.e)("ciReport|Failed to load %{reportName} report"),{reportName:"codeclimate"})},Ls=Object(C.a)(Is,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("report-section",{staticClass:"js-codequality-widget mr-widget-border-top mr-report",attrs:{status:e.codequalityStatus,"loading-text":e.$options.loadingText,"error-text":e.$options.errorText,"success-text":e.codequalityText,"unresolved-issues":e.newIssues,"resolved-issues":e.resolvedIssues,"has-issues":e.hasCodequalityIssues,component:e.$options.componentNames.CodequalityIssueBody,"popover-options":e.codequalityPopover,"show-report-section-status-icon":!1,"track-action":"users_expanding_testing_code_quality_report"},scopedSlots:e._u([e.hasError?{key:"sub-heading",fn:function(){return[e._v(e._s(e.statusReason))]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null).exports,Rs=n("Z9h7"),As=n("5/PK"),Fs={components:{ReportItem:Rs.a,SmartVirtualList:As.a},props:{component:{type:String,required:!1,default:""},nestedLevel:{type:Number,required:!1,default:0,validator:function(e){return[0,1,2].includes(e)}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedHeading:{type:String,required:!1,default:Object(y.e)("ciReport|Fixed")},unresolvedHeading:{type:String,required:!1,default:Object(y.e)("ciReport|New")}},groups:["unresolved","resolved"],typicalReportItemHeight:32,maxShownReportItems:20,computed:{groups(){var e=this;return this.$options.groups.map((function(t){return{name:t,issues:e["".concat(t,"Issues")],heading:e["".concat(t,"Heading")]}})).filter((function(e){let{issues:t}=e;return t.length>0}))},listLength(){return this.groups.length+this.groups.reduce((function(e,t){let{issues:n}=t;return e+n.length}),0)},listClasses(){return{"gl-pl-9":1===this.nestedLevel,"gl-pl-11-5":2===this.nestedLevel}}}},qs=Object(C.a)(Fs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("smart-virtual-list",{staticClass:"report-block-container",class:e.listClasses,attrs:{length:e.listLength,remain:e.$options.maxShownReportItems,size:e.$options.typicalReportItemHeight,wtag:"ul",wclass:"report-block-list"}},[e._l(e.groups,(function(t,i){return[n("h2",{key:t.name,staticClass:"h5 mb-1",class:[i>0?"mt-2":"mt-0"],attrs:{"data-testid":t.name+"Heading"}},[e._v("\n      "+e._s(t.heading)+"\n    ")]),e._v(" "),e._l(t.issues,(function(i,r){return n("report-item",{key:t.name+"-"+i.name+"-"+t.name+"-"+r,attrs:{issue:i,"show-report-section-status-icon":!1,component:e.component,status:"none"}})}))]}))],2)}),[],!1,null,null,null).exports,Ms=n("8zNS"),Bs=n("HOYf"),$s={name:"ReportSummaryRow",components:{CiIcon:Ms.a,Popover:Bs.a,GlLoadingIcon:W.a},props:{nestedSummary:{type:Boolean,required:!1,default:!1},summary:{type:String,required:!1,default:""},statusIcon:{type:String,required:!0},popoverOptions:{type:Object,required:!1,default:null}},computed:{iconStatus(){return{group:this.statusIcon,icon:"status_".concat(this.statusIcon)}},rowClasses(){return this.nestedSummary?["gl-pl-9","gl-pr-5",{"gl-bg-gray-10":this.statusIcon===ns.d}]:["gl-px-5"]},statusIconSize(){return this.nestedSummary?16:24}}},Vs=Object(C.a)($s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-border-t-solid gl-border-t-gray-100 gl-border-t-1 gl-py-3 gl-display-flex gl-align-items-center",class:e.rowClasses},[n("div",{staticClass:"gl-mr-3"},["loading"===e.statusIcon?n("gl-loading-icon",{attrs:{"css-class":"report-block-list-loading-icon",size:"md"}}):n("ci-icon",{attrs:{status:e.iconStatus,size:e.statusIconSize,"data-testid":"summary-row-icon"}})],1),e._v(" "),n("div",{staticClass:"report-block-list-issue-description"},[n("div",{staticClass:"report-block-list-issue-description-text",attrs:{"data-testid":"summary-row-description"}},[e._t("summary",[e._v(e._s(e.summary))]),e.popoverOptions?n("span",{staticClass:"text-nowrap"},[e._v(""),e.popoverOptions?n("popover",{staticClass:"align-top",attrs:{options:e.popoverOptions}}):e._e()],1):e._e()],2)]),e._v(" "),e.$slots.default?n("div",{staticClass:"text-right flex-fill d-flex justify-content-end flex-column flex-sm-row"},[e._t("default")],2):e._e()])}),[],!1,null,null,null).exports,Us=(n("gNBD"),n("1cpz")),Gs={components:{CodeBlock:n("OgoU").a,GlModal:Us.a,GlLink:ke.a,GlSprintf:v.a},props:{visible:{type:Boolean,required:!0},title:{type:String,required:!0},modalData:{type:Object,required:!0}},computed:{filteredModalData(){return Object.fromEntries(Object.entries(this.modalData).filter((function(e){return Boolean(e[1].value)})))}},fieldTypes:ns.m},Hs=Object(C.a)(Gs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{visible:e.visible,"modal-id":"modal-mrwidget-reports",title:e.title,"hide-footer":!0},on:{hide:function(t){return e.$emit("hide")}}},e._l(e.filteredModalData,(function(t,i,r){return n("div",{key:r,staticClass:"row gl-mt-3 gl-mb-3"},[n("strong",{staticClass:"col-sm-3 text-right"},[e._v(" "+e._s(t.text)+": ")]),e._v(" "),n("div",{staticClass:"col-sm-9 text-secondary"},[t.type===e.$options.fieldTypes.codeBlock?n("code-block",{attrs:{code:t.value}}):t.type===e.$options.fieldTypes.link?n("gl-link",{attrs:{href:t.value.path,target:"_blank"}},[e._v("\n        "+e._s(t.value.text)+"\n      ")]):t.type===e.$options.fieldTypes.seconds?n("gl-sprintf",{attrs:{message:e.__("%{value} s")},scopedSlots:e._u([{key:"value",fn:function(){return[e._v(e._s(t.value))]},proxy:!0}],null,!0)}):t.type===e.$options.fieldTypes.text?[e._v("\n        "+e._s(t.value)+"\n      ")]:e._e()],2)])})),0)}),[],!1,null,null,null).exports;const zs=function(e,t){let{commit:n}=e;return n("SET_PATHS",t)},Ws=function(e){let{commit:t}=e;return t("REQUEST_REPORTS")};let Qs;const Ks=function(){Qs=null},Ys=function(){Qs&&Qs.stop()},Xs=function(){Qs&&Qs.restart()},Js=function(e){let{state:t,dispatch:n}=e;n("requestReports"),Qs=new Wr.a({resource:{getReports:e=>Hr.a.get(e)},data:t.endpoint,method:"getReports",successCallback:function(e){let{data:t,status:i}=e;return n("receiveReportsSuccess",{data:t,status:i})},errorCallback:function(){return n("receiveReportsError")}}),Gr.a.hidden()?Hr.a.get(t.endpoint).then((function(e){let{data:t,status:i}=e;return n("receiveReportsSuccess",{data:t,status:i})})).catch((function(){return n("receiveReportsError")})):Qs.makeRequest(),Gr.a.change((function(){Gr.a.hidden()?n("stopPolling"):n("restartPolling")}))},Zs=function(e,t){let{commit:n}=e;t.status===zr.a.OK&&n("RECEIVE_REPORTS_SUCCESS",t.data)},ea=function(e){let{commit:t}=e;return t("RECEIVE_REPORTS_ERROR")},ta=function(e,t){let{commit:n}=e;return n("SET_ISSUE_MODAL_DATA",t)},na=function(e,t){let{commit:n}=e;return n("RESET_ISSUE_MODAL_DATA",t)},ia=function(e){return e.isLoading?ns.e:e.hasError||e.status===ns.i?ns.a:ns.l},ra=function(e){const{failed:t,errored:n,resolved:i,total:r}=e,s=(t||0)+(n||0),a=t?Object(y.d)("%d failed","%d failed",t):null,o=n?Object(y.d)("%d error","%d errors",n):null,l=t&&n?"".concat(a,", ").concat(o):a||o,c=i?Object(y.d)("%d fixed test result","%d fixed test results",i):null,u=r?Object(y.d)("out of %d total test","out of %d total tests",r):null;let d=Object(y.e)("Reports|no changed test results");return s?d=i?Object(y.f)(Object(y.e)("Reports|%{combinedString} and %{resolvedString}"),{combinedString:l,resolvedString:c}):l:i&&(d=c),"".concat(d," ").concat(u)},sa=function(e){return(e.length?e:[e]).map((function(e){return[e.new_failures,e.existing_failures,e.resolved_failures].map((function(e){return e.filter((function(e){var t;return(null===(t=e.recent_failures)||void 0===t?void 0:t.count)>1})).length})).reduce((function(e,t){return e+t}),0)})).reduce((function(e,t){return e+t}),0)};function aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){la(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function la(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ca={SET_PATHS(e,t){let{endpoint:n,headBlobPath:i}=t;e.endpoint=n,e.headBlobPath=i},REQUEST_REPORTS(e){e.isLoading=!0},RECEIVE_REPORTS_SUCCESS(e,t){e.hasError=t.suites.some((function(e){return"error"===e.status})),e.isLoading=!1,e.summary.total=t.summary.total,e.summary.resolved=t.summary.resolved,e.summary.failed=t.summary.failed,e.summary.errored=t.summary.errored,e.summary.recentlyFailed=sa(t.suites),e.status=t.status,e.reports=t.suites,e.reports.forEach((function(t,n){e.reports[n].summary&&(e.reports[n].summary.recentlyFailed=sa(t))}))},RECEIVE_REPORTS_ERROR(e){e.isLoading=!1,e.hasError=!0,e.reports=[],e.summary={total:0,resolved:0,failed:0,errored:0,recentlyFailed:0},e.status=null},SET_ISSUE_MODAL_DATA(e,t){const{issue:n}=t;var i;e.modal.title=n.name,Object.keys(n).forEach((function(t){Object.prototype.hasOwnProperty.call(e.modal.data,t)&&(e.modal.data[t]=oa(oa({},e.modal.data[t]),{},{value:n[t]}))})),n.file&&(e.modal.data.filename.value={text:n.file,path:"".concat(e.headBlobPath,"/").concat((i=n.file,i.replace(/^\.?\/*/,"")))}),e.modal.open=!0},RESET_ISSUE_MODAL_DATA(e){e.modal.open=!1,e.modal.title=null,Object.keys(e.modal.data).forEach((function(t){e.modal.data[t]=oa(oa({},e.modal.data[t]),{},{value:null})}))}};d.default.use(f.b);function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach((function(t){fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ha={name:"GroupedTestReportsApp",store:new f.b.Store({actions:o,mutations:ca,getters:l,state:{endpoint:null,isLoading:!1,hasError:!1,status:null,summary:{total:0,resolved:0,failed:0,errored:0},reports:[],modal:{title:null,open:!1,data:{classname:{value:null,text:Object(y.e)("Reports|Classname"),type:ns.m.text},filename:{value:null,text:Object(y.e)("Reports|Filename"),type:ns.m.link},execution_time:{value:null,text:Object(y.e)("Reports|Execution time"),type:ns.m.seconds},failure:{value:null,text:Object(y.e)("Reports|Failure"),type:ns.m.codeBlock},system_output:{value:null,text:Object(y.e)("Reports|System output"),type:ns.m.codeBlock}}}}}),components:{ReportSection:Vr.a,SummaryRow:Vs,GroupedIssuesList:qs,Modal:Hs,GlButton:be.a,GlIcon:g.a},mixins:[Object(We.a)()],props:{endpoint:{type:String,required:!0},pipelinePath:{type:String,required:!1,default:""},headBlobPath:{type:String,required:!0}},componentNames:Br.a,computed:da(da(da(da({},Object(f.f)(["reports","isLoading","hasError","summary"])),Object(f.f)({modalTitle:function(e){return e.modal.title||""},modalData:function(e){return e.modal.data||{}},modalOpen:function(e){return e.modal.open||!1}})),Object(f.d)(["summaryStatus"])),{},{groupedSummaryText(){return this.isLoading?Object(y.e)("Reports|Test summary results are being parsed"):this.hasError?Object(y.e)("Reports|Test summary failed loading results"):function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ra(t);return Object(y.f)(Object(y.a)("%{name} contained %{resultsString}"),{name:e,resultsString:n})}(Object(y.e)("Reports|Test summary"),this.summary)},testTabURL(){return"".concat(this.pipelinePath,"/test_report")},showViewFullReport(){return this.pipelinePath.length}}),created(){this.setPaths({endpoint:this.endpoint,headBlobPath:this.headBlobPath}),this.fetchReports()},methods:da(da({},Object(f.c)(["setPaths","fetchReports","closeModal"])),{},{handleToggleEvent(){this.glFeatures.usageDataITestingSummaryWidgetTotal&&Z.a.trackRedisHllUserEvent(this.$options.expandEvent)},reportText(e){const{name:t,summary:n}=e||{};return"error"===e.status?Object(y.f)(Object(y.e)("Reports|An error occurred while loading %{name} results"),{name:t}):e.name?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=ra(t);return Object(y.f)(Object(y.a)("%{name} found %{resultsString}"),{name:e,resultsString:n})}(t,n):Object(y.e)("Reports|An error occurred while loading report")},hasRecentFailures:e=>(null==e?void 0:e.recentlyFailed)>0,recentFailuresText:e=>(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{failed:t,recentlyFailed:n}=e;return t&&n?t<2?Object(y.f)(Object(y.e)("Reports|%{recentlyFailed} out of %{failed} failed test has failed more than once in the last 14 days"),{recentlyFailed:n,failed:t}):Object(y.f)(Object(y.d)("Reports|%{recentlyFailed} out of %{failed} failed tests has failed more than once in the last 14 days","Reports|%{recentlyFailed} out of %{failed} failed tests have failed more than once in the last 14 days",n),{recentlyFailed:n,failed:t}):""})(e),getReportIcon(e){return(t=e.status)===ns.i?ns.d:t===ns.k?ns.c:ns.b;var t},shouldRenderIssuesList:e=>e.existing_failures.length>0||e.new_failures.length>0||e.resolved_failures.length>0||e.existing_errors.length>0||e.new_errors.length>0||e.resolved_errors.length>0,unresolvedIssues:e=>[...e.new_failures,...e.new_errors,...e.existing_failures,...e.existing_errors],resolvedIssues:e=>e.resolved_failures.concat(e.resolved_errors)}),expandEvent:"i_testing_summary_widget_total"},pa=Object(C.a)(ha,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("report-section",{staticClass:"mr-widget-section grouped-security-reports mr-report",attrs:{status:e.summaryStatus,"success-text":e.groupedSummaryText,"loading-text":e.groupedSummaryText,"error-text":e.groupedSummaryText,"has-issues":e.reports.length>0,"should-emit-toggle-event":!0},on:{"~toggleEvent":function(t){return e.handleToggleEvent(t)}},scopedSlots:e._u([e.showViewFullReport?{key:"action-buttons",fn:function(){return[n("gl-button",{staticClass:"gl-mr-3",attrs:{href:e.testTabURL,target:"_blank",icon:"external-link","data-testid":"group-test-reports-full-link"}},[e._v("\n      "+e._s(e.s__("ciReport|View full report"))+"\n    ")])]},proxy:!0}:null,e.hasRecentFailures(e.summary)?{key:"sub-heading",fn:function(){return[e._v("\n    "+e._s(e.recentFailuresText(e.summary))+"\n  ")]},proxy:!0}:null,{key:"body",fn:function(){return[n("div",{staticClass:"mr-widget-grouped-section report-block"},[e._l(e.reports,(function(t,i){return[n("summary-row",{key:"summary-row-"+i,attrs:{"status-icon":e.getReportIcon(t),"nested-summary":""},scopedSlots:e._u([{key:"summary",fn:function(){return[n("div",{staticClass:"gl-display-inline-flex gl-flex-direction-column"},[n("div",[e._v(e._s(e.reportText(t)))]),e._v(" "),t.suite_errors?n("div",[t.suite_errors.head?n("div",[n("gl-icon",{staticClass:"gl-mx-2 gl-text-orange-500",attrs:{name:"warning"}}),e._v("\n                  "+e._s(e.s__("Reports|Head report parsing error:"))+"\n                  "+e._s(t.suite_errors.head)+"\n                ")],1):e._e(),e._v(" "),t.suite_errors.base?n("div",[n("gl-icon",{staticClass:"gl-mx-2 gl-text-orange-500",attrs:{name:"warning"}}),e._v("\n                  "+e._s(e.s__("Reports|Base report parsing error:"))+"\n                  "+e._s(t.suite_errors.base)+"\n                ")],1):e._e()]):e._e(),e._v(" "),e.hasRecentFailures(t.summary)?n("div",[e._v("\n                "+e._s(e.recentFailuresText(t.summary))+"\n              ")]):e._e()])]},proxy:!0}],null,!0)}),e._v(" "),e.shouldRenderIssuesList(t)?n("grouped-issues-list",{key:"issues-list-"+i,attrs:{"unresolved-issues":e.unresolvedIssues(t),"resolved-issues":e.resolvedIssues(t),component:e.$options.componentNames.TestIssueBody,"nested-level":2}}):e._e()]})),e._v(" "),n("modal",{attrs:{visible:e.modalOpen,title:e.modalTitle,"modal-data":e.modalData},on:{hide:e.closeModal}})],2)]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,ma=n("4+8U"),ga={components:{GlSkeletonLoader:ma.a}},va=Object(C.a)(ga,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-mt-3"},[t("div",{staticClass:"mr-widget-heading p-3"},[t("gl-skeleton-loader",{attrs:{width:577,height:12}},[t("rect",{attrs:{width:"86",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{x:"96",width:"300",height:"12",rx:"2"}})])],1),this._v(" "),t("div",{staticClass:"mr-widget-heading mr-widget-workflow p-3"},[t("gl-skeleton-loader",{attrs:{width:577,height:72}},[t("rect",{attrs:{width:"120",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"20",width:"300",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"40",width:"60",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"40",x:"68",width:"100",height:"12",rx:"2"}}),this._v(" "),t("rect",{attrs:{y:"60",width:"40",height:"12",rx:"2"}})])],1)])}),[],!1,null,null,null).exports,ba={name:"MrWidgetAlertMessage",components:{GlLink:ke.a,GlIcon:g.a},props:{type:{type:String,required:!1,default:xr,validator:function(e){return[Cr,xr].includes(e)}},helpPath:{type:String,required:!1,default:void 0}},computed:{messageClass(){return this.type===Cr?"warning_message":this.type===xr?"danger_message":""}}},ya=Object(C.a)(ba,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"gl-m-3 gl-ml-7",class:this.messageClass},[this._t("default"),this._v(" "),this.helpPath?t("gl-link",{attrs:{href:this.helpPath,target:"_blank"}},[t("gl-icon",{staticClass:"align-middle",attrs:{size:16,name:"question-o"}})],1):this._e()],2)}),[],!1,null,null,null).exports,_a=n("arQV"),wa=n("rK/1"),Oa=n("rX0p"),ka={i18n:{steps:{step1:{label:Object(y.a)("Step 1."),help:Object(y.a)("Fetch and check out the branch for this merge request")},step2:{label:Object(y.a)("Step 2."),help:Object(y.a)("Review the changes locally")},step3:{label:Object(y.a)("Step 3."),help:Object(y.a)("Merge the branch and fix any conflicts that come up")},step4:{label:Object(y.a)("Step 4."),help:Object(y.a)("Push the result of the merge to GitLab")}},copyCommands:Object(y.a)("Copy commands"),tip:Object(y.a)("%{strongStart}Tip:%{strongEnd} You can also checkout merge requests locally by %{linkStart}following these guidelines%{linkEnd}"),title:Object(y.a)("Check out, review, and merge locally")},components:{GlModal:Us.a,ClipboardButton:wa.a,GlLink:ke.a,GlSprintf:v.a},props:{canMerge:{type:Boolean,required:!1,default:!1},isFork:{type:Boolean,required:!1,default:!1},sourceBranch:{type:String,required:!1,default:""},sourceProjectPath:{type:String,required:!1,default:""},targetBranch:{type:String,required:!1,default:""},sourceProjectDefaultUrl:{type:String,required:!1,default:""},reviewingDocsPath:{type:String,required:!1,default:null}},computed:{mergeInfo1(){return this.isFork?'git fetch "'.concat(this.sourceProjectDefaultUrl,'" ').concat(this.sourceBranch,'\ngit checkout -b "').concat(this.sourceProjectPath,"-").concat(this.sourceBranch,'" FETCH_HEAD'):'git fetch origin\ngit checkout -b "'.concat(this.sourceBranch,'" "origin/').concat(this.sourceBranch,'"')},mergeInfo2(){return this.isFork?'git fetch origin\ngit checkout "'.concat(this.targetBranch,'"\ngit merge --no-ff "').concat(this.sourceProjectPath,"-").concat(this.sourceBranch,'"'):'git fetch origin\ngit checkout "'.concat(this.targetBranch,'"\ngit merge --no-ff "').concat(this.sourceBranch,'"')},mergeInfo3(){return this.canMerge?'git push origin "'.concat(this.targetBranch,'"'):Object(y.a)("Note that pushing to GitLab requires write access to this repository.")}}},Sa=Object(C.a)(ka,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-modal",{attrs:{"modal-id":"modal-merge-info","no-enforce-focus":!0,title:e.$options.i18n.title,"no-fade":"","hide-footer":""}},[n("p",[n("strong",[e._v("\n      "+e._s(e.$options.i18n.steps.step1.label)+"\n    ")]),e._v("\n    "+e._s(e.$options.i18n.steps.step1.help)+"\n  ")]),e._v(" "),n("div",{staticClass:"gl-display-flex"},[n("pre",{staticClass:"gl-w-full",attrs:{"data-testid":"how-to-merge-instructions"}},[e._v(e._s(e.mergeInfo1))]),e._v(" "),n("clipboard-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{text:e.mergeInfo1,title:e.$options.i18n.copyCommands}})],1),e._v(" "),n("p",[n("strong",[e._v("\n      "+e._s(e.$options.i18n.steps.step2.label)+"\n    ")]),e._v("\n    "+e._s(e.$options.i18n.steps.step2.help)+"\n  ")]),e._v(" "),n("p",[n("strong",[e._v("\n      "+e._s(e.$options.i18n.steps.step3.label)+"\n    ")]),e._v("\n    "+e._s(e.$options.i18n.steps.step3.help)+"\n  ")]),e._v(" "),n("div",{staticClass:"gl-display-flex"},[n("pre",{staticClass:"gl-w-full",attrs:{"data-testid":"how-to-merge-instructions"}},[e._v(e._s(e.mergeInfo2))]),e._v(" "),n("clipboard-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{text:e.mergeInfo2,title:e.$options.i18n.copyCommands}})],1),e._v(" "),n("p",[n("strong",[e._v("\n      "+e._s(e.$options.i18n.steps.step4.label)+"\n    ")]),e._v("\n    "+e._s(e.$options.i18n.steps.step4.help)+"\n  ")]),e._v(" "),n("div",{staticClass:"gl-display-flex"},[n("pre",{staticClass:"gl-w-full",attrs:{"data-testid":"how-to-merge-instructions"}},[e._v(e._s(e.mergeInfo3))]),e._v(" "),n("clipboard-button",{staticClass:"gl-shadow-none! gl-bg-transparent! gl-flex-shrink-0",attrs:{text:e.mergeInfo3,title:e.$options.i18n.copyCommands}})],1),e._v(" "),e.reviewingDocsPath?n("p",[n("gl-sprintf",{attrs:{message:e.$options.i18n.tip},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}},{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{staticClass:"gl-display-inline-block",attrs:{href:e.reviewingDocsPath,target:"_blank"}},[e._v(e._s(i))])]}}],null,!1,4207355480)})],1):e._e()])}),[],!1,null,null,null).exports,ja={name:"MRWidgetHeader",components:{clipboardButton:wa.a,TooltipOnTruncate:Oa.a,MrWidgetIcon:ar,MrWidgetHowToMergeModal:Sa,GlButton:be.a,GlDropdown:p.a,GlDropdownSectionHeader:_a.a,GlDropdownItem:m.a},directives:{GlTooltip:je.a,GlModalDirective:si.a},props:{mr:{type:Object,required:!0}},computed:{shouldShowCommitsBehindText(){return this.mr.divergedCommitsCount>0},commitsBehindText(){return Object(y.f)(Object(y.e)("mrWidget|The source branch is %{commitsBehindLinkStart}%{commitsBehind}%{commitsBehindLinkEnd} the target branch"),{commitsBehindLinkStart:'<a href="'.concat(Ge()(this.mr.targetBranchPath),'">'),commitsBehind:Object(y.d)("%d commit behind","%d commits behind",this.mr.divergedCommitsCount),commitsBehindLinkEnd:"</a>"},!1)},branchNameClipboardData(){return JSON.stringify({text:this.mr.sourceBranch,gfm:"`".concat(this.mr.sourceBranch,"`")})},webIdePath(){return this.mr.canPushToSourceBranch?Object(re.q)({target_project:this.mr.sourceProjectFullPath!==this.mr.targetProjectFullPath?this.mr.targetProjectFullPath:""},Object(re.E)("/".concat(this.mr.sourceProjectFullPath,"/merge_requests/").concat(this.mr.iid))):null},ideButtonTitle(){return this.mr.canPushToSourceBranch?"":Object(y.e)("mrWidget|You are not allowed to edit this project directly. Please fork to make changes.")},isFork(){return this.mr.sourceProjectFullPath!==this.mr.targetProjectFullPath}}},Ca=Object(C.a)(ja,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex mr-source-target gl-mb-3"},[n("mr-widget-icon",{attrs:{name:"git-merge"}}),e._v(" "),n("div",{staticClass:"git-merge-container d-flex"},[n("div",{staticClass:"normal"},[n("strong",[e._v("\n        "+e._s(e.s__("mrWidget|Request to merge"))+"\n        "),n("tooltip-on-truncate",{staticClass:"label-branch label-truncate js-source-branch",attrs:{title:e.mr.sourceBranch,"truncate-target":"child"},domProps:{innerHTML:e._s(e.mr.sourceBranchLink)}}),n("clipboard-button",{attrs:{"data-testid":"mr-widget-copy-clipboard",text:e.branchNameClipboardData,title:e.__("Copy branch name"),category:"tertiary"}}),e._v("\n        "+e._s(e.s__("mrWidget|into"))+"\n        "),n("tooltip-on-truncate",{staticClass:"label-branch label-truncate",attrs:{title:e.mr.targetBranch,"truncate-target":"child"}},[n("a",{staticClass:"js-target-branch",attrs:{href:e.mr.targetBranchTreePath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])],1),e._v(" "),e.shouldShowCommitsBehindText?n("div",{staticClass:"diverged-commits-count",domProps:{innerHTML:e._s(e.commitsBehindText)}}):e._e()]),e._v(" "),n("div",{staticClass:"branch-actions d-flex"},[e.mr.isOpen?[e.mr.sourceBranchRemoved?e._e():n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-display-none d-md-inline-block gl-mr-3",attrs:{title:e.ideButtonTitle,tabindex:e.ideButtonTitle?0:null}},[n("gl-button",{staticClass:"js-web-ide",attrs:{href:e.webIdePath,disabled:!e.mr.canPushToSourceBranch,"data-qa-selector":"open_in_web_ide_button"}},[e._v("\n            "+e._s(e.s__("mrWidget|Open in Web IDE"))+"\n          ")])],1),e._v(" "),n("gl-button",{directives:[{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"modal-merge-info",expression:"'modal-merge-info'"}],staticClass:"js-check-out-branch gl-mr-3",attrs:{disabled:e.mr.sourceBranchRemoved}},[e._v("\n          "+e._s(e.s__("mrWidget|Check out branch"))+"\n        ")]),e._v(" "),n("mr-widget-how-to-merge-modal",{attrs:{"is-fork":e.isFork,"can-merge":e.mr.canMerge,"source-branch":e.mr.sourceBranch,"source-project":e.mr.sourceProject,"source-project-path":e.mr.sourceProjectFullPath,"target-branch":e.mr.targetBranch,"source-project-default-url":e.mr.sourceProjectDefaultUrl,"reviewing-docs-path":e.mr.reviewingDocsPath}})]:e._e(),e._v(" "),n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.__("Download as"),"aria-label":e.__("Download as"),icon:"download",right:"","data-qa-selector":"download_dropdown"}},[n("gl-dropdown-section-header",[e._v(e._s(e.s__("Download as")))]),e._v(" "),n("gl-dropdown-item",{staticClass:"js-download-email-patches",attrs:{href:e.mr.emailPatchesPath,download:"","data-qa-selector":"download_email_patches_menu_item"}},[e._v("\n          "+e._s(e.s__("mrWidget|Email patches"))+"\n        ")]),e._v(" "),n("gl-dropdown-item",{staticClass:"js-download-plain-diff",attrs:{href:e.mr.plainDiffPath,download:"","data-qa-selector":"download_plain_diff_menu_item"}},[e._v("\n          "+e._s(e.s__("mrWidget|Plain diff"))+"\n        ")])],1)],2)])],1)}),[],!1,null,null,null).exports,xa=n("6npM"),Ea=n.n(xa),Da=n("D+x4");const Pa=function(e,t){let{commit:n}=e;return n("SET_ENDPOINT",t)},Ta=function(e){let{commit:t}=e;return t("REQUEST_ARTIFACTS")};let Na;const Ia=function(){Na=null},La=function(){Na&&Na.stop()},Ra=function(){Na&&Na.restart()},Aa=function(e){let{state:t,dispatch:n}=e;n("requestArtifacts"),Na=new Wr.a({resource:{getArtifacts:e=>Hr.a.get(e)},data:t.endpoint,method:"getArtifacts",successCallback:function(e){let{data:t,status:i}=e;n("receiveArtifactsSuccess",{data:t,status:i})},errorCallback:function(){return n("receiveArtifactsError")}}),Gr.a.hidden()?Hr.a.get(t.endpoint).then((function(e){let{data:t,status:i}=e;return n("receiveArtifactsSuccess",{data:t,status:i})})).catch((function(){return n("receiveArtifactsError")})):Na.makeRequest(),Gr.a.change((function(){Gr.a.hidden()?n("stopPolling"):n("restartPolling")}))},Fa=function(e,t){let{commit:n}=e;t.status===zr.a.OK&&n("RECEIVE_ARTIFACTS_SUCCESS",t.data)},qa=function(e){let{commit:t}=e;return t("RECEIVE_ARTIFACTS_ERROR")},Ma=function(e){return e.isLoading?Object(y.e)("BuildArtifacts|Loading artifacts"):e.hasError?Object(y.e)("BuildArtifacts|An error occurred while fetching the artifacts"):Object(y.d)("View exposed artifact","View %d exposed artifacts",e.artifacts.length)};var Ba={SET_ENDPOINT(e,t){e.endpoint=t},REQUEST_ARTIFACTS(e){e.isLoading=!0},RECEIVE_ARTIFACTS_SUCCESS(e,t){e.hasError=!1,e.isLoading=!1,e.artifacts=t},RECEIVE_ARTIFACTS_ERROR(e){e.isLoading=!1,e.hasError=!0,e.artifacts=[]}};d.default.use(f.b);var $a={components:{GlLink:ke.a},props:{artifacts:{type:Array,required:!0}}},Va=Object(C.a)($a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"table m-0"},[n("thead",{staticClass:"thead-white text-nowrap"},[n("tr",{staticClass:"d-none d-sm-table-row"},[n("th",{staticClass:"w-0"}),e._v(" "),n("th",[e._v(e._s(e.__("Artifact")))]),e._v(" "),n("th",{staticClass:"w-50"}),e._v(" "),n("th",[e._v(e._s(e.__("Job")))])])]),e._v(" "),n("tbody",e._l(e.artifacts,(function(t){return n("tr",{key:t.text},[n("td",{staticClass:"w-0"}),e._v(" "),n("td",[n("gl-link",{attrs:{href:t.url,target:"_blank"}},[e._v(e._s(t.text))])],1),e._v(" "),n("td",{staticClass:"w-0"}),e._v(" "),n("td",[n("gl-link",{attrs:{href:t.job_path}},[e._v(e._s(t.job_name))])],1)])})),0)])}),[],!1,null,null,null).exports,Ua={components:{GlButton:be.a,GlLoadingIcon:W.a,GlIcon:g.a},props:{title:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},hasError:{type:Boolean,required:!1,default:!1}},data:()=>({isCollapsed:!0}),computed:{arrowIconName(){return this.isCollapsed?"angle-right":"angle-down"},ariaLabel(){return this.isCollapsed?Object(y.a)("Expand"):Object(y.a)("Collapse")}},methods:{toggleCollapsed(){this.isCollapsed=!this.isCollapsed}}},Ga=Object(C.a)(Ua,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mr-widget-extension d-flex align-items-center pl-3"},[e.hasError?n("div",{staticClass:"ci-widget media"},[n("div",{staticClass:"media-body"},[n("span",{staticClass:"gl-font-sm mr-widget-margin-left gl-line-height-24 js-error-state"},[e._v("\n          "+e._s(e.title)+"\n        ")])])]):[n("button",{staticClass:"btn-blank btn s32 square gl-mr-3",attrs:{type:"button","aria-label":e.ariaLabel,disabled:e.isLoading},on:{click:e.toggleCollapsed}},[e.isLoading?n("gl-loading-icon"):n("gl-icon",{staticClass:"js-icon",attrs:{name:e.arrowIconName}})],1),e._v(" "),e.isCollapsed?[e._t("header"),e._v(" "),n("gl-button",{class:{"border-0":e.isLoading},attrs:{variant:"link","data-testid":"mr-collapsible-title",disabled:e.isLoading},on:{click:e.toggleCollapsed}},[e._v("\n          "+e._s(e.title)+"\n        ")])]:n("gl-button",{class:{"border-0":e.isLoading},attrs:{variant:"link","data-testid":"mr-collapsible-title",disabled:e.isLoading},on:{click:e.toggleCollapsed}},[e._v(e._s(e.__("Collapse")))])]],2),e._v(" "),e.isCollapsed?e._e():n("div",{staticClass:"border-top js-slot-container"},[e._t("default")],2)])}),[],!1,null,null,null).exports;function Ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ha(Object(n),!0).forEach((function(t){Wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qa={store:new f.b.Store({actions:c,mutations:Ba,getters:u,state:{endpoint:null,isLoading:!1,hasError:!1,artifacts:[]}}),components:{ArtifactsList:Va,MrCollapsibleExtension:Ga},props:{endpoint:{type:String,required:!0}},computed:za(za({},Object(f.f)(["artifacts","isLoading","hasError"])),Object(f.d)(["title"])),created(){this.setEndpoint(this.endpoint),this.fetchArtifacts()},methods:za({},Object(f.c)(["setEndpoint","fetchArtifacts"]))},Ka=Object(C.a)(Qa,(function(){var e=this.$createElement,t=this._self._c||e;return t("mr-collapsible-extension",{attrs:{title:this.title,"is-loading":this.isLoading,"has-error":this.hasError}},[t("artifacts-list",{attrs:{artifacts:this.artifacts}})],1)}),[],!1,null,null,null).exports,Ya={components:{Deployment:function(){return Promise.all([n.e(23),n.e(98),n.e(454),n.e(469)]).then(n.bind(null,"7uFw"))},GlSprintf:v.a,MrCollapsibleExtension:Ga},props:{deployments:{type:Array,required:!0},deploymentClass:{type:String,required:!0},hasDeploymentMetrics:{type:Boolean,required:!0},visualReviewAppMeta:{type:Object,required:!1,default:function(){return{sourceProjectId:"",sourceProjectPath:"",mergeRequestId:"",appUrl:""}}},showVisualReviewAppLink:{type:Boolean,required:!1,default:!1}},computed:{showCollapsedDeployments(){return this.deployments.length>3},multipleDeploymentsTitle(){return Object(y.d)("Deployments|%{deployments} environment impacted.","Deployments|%{deployments} environments impacted.",this.deployments.length)}}},Xa=Object(C.a)(Ya,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showCollapsedDeployments?n("mr-collapsible-extension",{attrs:{title:e.__("View all environments."),"data-testid":"mr-collapsed-deployments"},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"gl-mr-3 gl-line-height-normal"},[n("gl-sprintf",{attrs:{message:e.multipleDeploymentsTitle},scopedSlots:e._u([{key:"deployments",fn:function(){return[n("span",{staticClass:"gl-font-weight-bold gl-mr-2"},[e._v(e._s(e.deployments.length))])]},proxy:!0}],null,!1,3455094729)})],1)]},proxy:!0}],null,!1,2994646238)},[e._v(" "),e._l(e.deployments,(function(t){return n("deployment",{key:t.id,staticClass:"gl-bg-gray-50",class:e.deploymentClass,attrs:{deployment:t,"show-metrics":e.hasDeploymentMetrics,"show-visual-review-app":e.showVisualReviewAppLink,"visual-review-app-meta":e.visualReviewAppMeta}})}))],2):n("div",{staticClass:"mr-widget-extension"},e._l(e.deployments,(function(t){return n("deployment",{key:t.id,class:e.deploymentClass,attrs:{deployment:t,"show-metrics":e.hasDeploymentMetrics,"show-visual-review-app":e.showVisualReviewAppLink,"visual-review-app-meta":e.visualReviewAppMeta}})})),1)}),[],!1,null,null,null).exports,Ja=(n("jslJ"),n("DZUU")),Za={computed:{triggered:()=>[],triggeredBy:()=>[]}},eo=n("K3k0");n("KcQl");var to={i18n:{artifacts:Object(y.a)("Artifacts"),downloadArtifact:Object(y.a)("Download %{name} artifact"),artifactSectionHeader:Object(y.a)("Download artifacts"),artifactsFetchErrorMessage:Object(y.e)("Pipelines|Could not load artifacts."),noArtifacts:Object(y.e)("Pipelines|No artifacts available")},directives:{GlTooltip:je.a},components:{GlAlert:ve.a,GlDropdown:p.a,GlDropdownItem:m.a,GlLoadingIcon:W.a,GlSprintf:v.a},inject:{artifactsEndpoint:{default:""},artifactsEndpointPlaceholder:{default:""}},props:{pipelineId:{type:Number,required:!0}},data:()=>({artifacts:[],hasError:!1,isLoading:!1}),computed:{hasArtifacts(){return Boolean(this.artifacts.length)}},methods:{fetchArtifacts(){var e=this;this.isLoading=!0;const t=this.artifactsEndpoint.replace(this.artifactsEndpointPlaceholder,this.pipelineId);return Hr.a.get(t).then((function(t){let{data:n}=t;e.artifacts=n.artifacts})).catch((function(){e.hasError=!0})).finally((function(){e.isLoading=!1}))}}},no=Object(C.a)(to,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"build-artifacts js-pipeline-dropdown-download",attrs:{title:e.$options.i18n.artifacts,text:e.$options.i18n.artifacts,"aria-label":e.$options.i18n.artifacts,icon:"download",right:"",lazy:"","text-sr-only":""},on:{"~show":function(t){return e.fetchArtifacts(t)}}},[e.hasError?n("gl-alert",{attrs:{variant:"danger",dismissible:!1}},[e._v("\n    "+e._s(e.$options.i18n.artifactsFetchErrorMessage)+"\n  ")]):e._e(),e._v(" "),e.isLoading?n("gl-loading-icon"):e.hasArtifacts?e._e():n("gl-alert",{attrs:{variant:"info",dismissible:!1}},[e._v("\n    "+e._s(e.$options.i18n.noArtifacts)+"\n  ")]),e._v(" "),e._l(e.artifacts,(function(t,i){return n("gl-dropdown-item",{key:i,attrs:{href:t.path,rel:"nofollow",download:""}},[n("gl-sprintf",{attrs:{message:e.$options.i18n.downloadArtifact},scopedSlots:e._u([{key:"name",fn:function(){return[e._v(e._s(t.name))]},proxy:!0}],null,!0)})],1)}))],2)}),[],!1,null,null,null).exports,io={name:"MRWidgetPipeline",components:{CiIcon:Ms.a,GlLink:ke.a,GlLoadingIcon:W.a,GlIcon:g.a,GlSprintf:v.a,GlTooltip:Ja.a,PipelineArtifacts:no,PipelineMiniGraph:eo.default,TimeAgoTooltip:xe.a,TooltipOnTruncate:Oa.a,LinkedPipelinesMiniList:function(){return n.e(8).then(n.bind(null,"4b03"))}},directives:{GlTooltip:je.a,SafeHtml:He.a},mixins:[Za],props:{pipeline:{type:Object,required:!0},pipelineCoverageDelta:{type:String,required:!1},buildsWithCoverage:{type:Array,required:!1,default:function(){return[]}},hasCi:{type:Boolean,required:!1},ciStatus:{type:String,required:!1},pipelineMustSucceed:{type:Boolean,required:!1},sourceBranchLink:{type:String,required:!1},sourceBranch:{type:String,required:!1},mrTroubleshootingDocsPath:{type:String,required:!0},ciTroubleshootingDocsPath:{type:String,required:!0},mergeStrategy:{type:String,required:!1,default:""}},computed:{hasPipeline(){return this.pipeline&&Object.keys(this.pipeline).length>0},hasCIError(){return this.hasPipeline&&!this.ciStatus},status(){return this.pipeline.details&&this.pipeline.details.status?this.pipeline.details.status:{}},hasStages(){var e,t,n;return(null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:null===(n=t.stages)||void 0===n?void 0:n.length)>0},hasCommitInfo(){return this.pipeline.commit&&Object.keys(this.pipeline.commit).length>0},isMergeRequestPipeline(){return Boolean(this.pipeline.flags&&this.pipeline.flags.merge_request_pipeline)},showSourceBranch(){return Boolean(this.pipeline.ref.branch)},finishedAt(){var e,t;return null===(e=this.pipeline)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.finished_at},coverageDeltaClass(){const e=this.pipelineCoverageDelta;return e&&parseFloat(e)>0?"text-success":e&&parseFloat(e)<0?"text-danger":""},pipelineCoverageJobNumberText(){return Object(y.d)("from %d job","from %d jobs",this.buildsWithCoverage.length)},pipelineCoverageTooltipDeltaDescription(){const e=parseFloat(this.pipelineCoverageDelta)||0;return e>0?Object(y.e)("Pipeline|This change will increase the overall test coverage if merged."):e<0?Object(y.e)("Pipeline|This change will decrease the overall test coverage if merged."):Object(y.e)("Pipeline|This change will not change the overall test coverage if merged.")},pipelineCoverageTooltipDescription(){return Object(y.d)("Test coverage value for this pipeline was calculated by the coverage value of %d job.","Test coverage value for this pipeline was calculated by averaging the resulting coverage values of %d jobs.",this.buildsWithCoverage.length)},isMergeTrain(){return this.mergeStrategy===Pr}},errorText:Object(y.e)("Pipeline|Could not retrieve the pipeline status. For troubleshooting steps, read the %{linkStart}documentation%{linkEnd}."),monitoringPipelineText:Object(y.e)("Pipeline|Checking pipeline status.")},ro={name:"MrWidgetPipelineContainer",components:{ArtifactsApp:Ka,DeploymentList:Xa,MrWidgetContainer:rr,MrWidgetPipeline:Object(C.a)(io,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ci-widget media"},[e.hasCIError?[n("gl-icon",{staticClass:"gl-text-red-500",attrs:{name:"status_failed",size:24}}),e._v(" "),n("p",{staticClass:"gl-flex-fill-1 gl-ml-5 gl-mb-0",attrs:{"data-testid":"ci-error-message"}},[n("gl-sprintf",{attrs:{message:e.$options.errorText},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.mrTroubleshootingDocsPath}},[e._v(e._s(i))])]}}],null,!1,1359385839)})],1)]:e.hasPipeline?e.hasPipeline?[n("a",{staticClass:"align-self-start gl-mr-3",attrs:{href:e.status.details_path}},[n("ci-icon",{attrs:{status:e.status,size:24}})],1),e._v(" "),n("div",{staticClass:"ci-widget-container d-flex"},[n("div",{staticClass:"ci-widget-content"},[n("div",{staticClass:"media-body"},[n("div",{staticClass:"gl-font-weight-bold",attrs:{"data-testid":"pipeline-info-container","data-qa-selector":"merge_request_pipeline_info_content"}},[e._v("\n            "+e._s(e.pipeline.details.name)+"\n            "),n("gl-link",{staticClass:"pipeline-id gl-font-weight-normal pipeline-number",attrs:{href:e.pipeline.path,"data-testid":"pipeline-id","data-qa-selector":"pipeline_link"}},[e._v("#"+e._s(e.pipeline.id))]),e._v("\n            "+e._s(e.pipeline.details.status.label)+"\n            "),e.hasCommitInfo?[e._v("\n              "+e._s(e.s__("Pipeline|for"))+"\n              "),n("gl-link",{staticClass:"commit-sha gl-font-weight-normal",attrs:{href:e.pipeline.commit.commit_path,"data-testid":"commit-link"}},[e._v(e._s(e.pipeline.commit.short_id))])]:e._e(),e._v(" "),e.showSourceBranch?[e._v("\n              "+e._s(e.s__("Pipeline|on"))+"\n              "),n("tooltip-on-truncate",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.sourceBranchLink,expression:"sourceBranchLink"}],staticClass:"label-branch label-truncate gl-font-weight-normal",attrs:{title:e.sourceBranch,"truncate-target":"child"}})]:e._e(),e._v(" "),e.finishedAt?[n("time-ago-tooltip",{attrs:{time:e.finishedAt,"tooltip-placement":"bottom","data-testid":"finished-at"}})]:e._e()],2),e._v(" "),e.pipeline.coverage?n("div",{staticClass:"coverage",attrs:{"data-testid":"pipeline-coverage"}},[e._v("\n            "+e._s(e.s__("Pipeline|Test coverage"))+" "+e._s(e.pipeline.coverage)+"%\n            "),e.pipelineCoverageDelta?n("span",{ref:"pipelineCoverageDelta",class:e.coverageDeltaClass,attrs:{"data-testid":"pipeline-coverage-delta"}},[e._v("\n              ("+e._s(e.pipelineCoverageDelta)+"%)\n            ")]):e._e(),e._v("\n            "+e._s(e.pipelineCoverageJobNumberText)+"\n            "),n("span",{ref:"pipelineCoverageQuestion"},[n("gl-icon",{attrs:{name:"question",size:12}})],1),e._v(" "),n("gl-tooltip",{attrs:{target:function(){return e.$refs.pipelineCoverageQuestion},"data-testid":"pipeline-coverage-tooltip"}},[e._v("\n              "+e._s(e.pipelineCoverageTooltipDescription)+"\n              "),e._l(e.buildsWithCoverage,(function(t,i){return n("div",{key:t.name+"-"+i,staticClass:"gl-mt-3 gl-text-left gl-px-4"},[e._v("\n                "+e._s(t.name)+" ("+e._s(t.coverage)+"%)\n              ")])}))],2),e._v(" "),n("gl-tooltip",{attrs:{target:function(){return e.$refs.pipelineCoverageDelta},"data-testid":"pipeline-coverage-delta-tooltip"}},[e._v("\n              "+e._s(e.pipelineCoverageTooltipDeltaDescription)+"\n            ")])],1):e._e()])]),e._v(" "),n("div",[n("span",{staticClass:"mr-widget-pipeline-graph"},[n("span",{staticClass:"stage-cell"},[e.triggeredBy.length?n("linked-pipelines-mini-list",{attrs:{"triggered-by":e.triggeredBy}}):e._e(),e._v(" "),e.hasStages?n("pipeline-mini-graph",{staticClass:"gl-display-inline-block",attrs:{"stages-class":"mr-widget-pipeline-stages",stages:e.pipeline.details.stages,"is-merge-train":e.isMergeTrain}}):e._e()],1),e._v(" "),e.triggered.length?n("linked-pipelines-mini-list",{attrs:{triggered:e.triggered}}):e._e(),e._v(" "),n("pipeline-artifacts",{staticClass:"gl-ml-3",attrs:{"pipeline-id":e.pipeline.id}})],1)])])]:e._e():[n("gl-loading-icon",{attrs:{size:"md"}}),e._v(" "),n("p",{staticClass:"gl-flex-fill-1 gl-display-flex gl-ml-5 gl-mb-0",attrs:{"data-testid":"monitoring-pipeline-message"}},[e._v("\n      "+e._s(e.$options.monitoringPipelineText)+"\n      "),n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-display-flex gl-align-items-center gl-ml-2",attrs:{href:e.ciTroubleshootingDocsPath,target:"_blank",title:e.__("About this feature")}},[n("gl-icon",{attrs:{name:"question","aria-label":e.__("Link to go to GitLab pipeline documentation")}})],1)],1)]],2)}),[],!1,null,null,null).exports,MergeTrainPositionIndicator:function(){return n.e(8).then(n.bind(null,"4b03"))}},mixins:[Object(We.a)()],props:{mr:{type:Object,required:!0},isPostMerge:{type:Boolean,required:!1,default:!1}},computed:{branch(){return this.isPostMerge?this.mr.targetBranch:this.mr.sourceBranch},branchLink(){return this.isPostMerge?Object(Da.a)(this.mr.targetBranch):this.mr.sourceBranchLink},deployments(){return this.isPostMerge?this.mr.postMergeDeployments:this.mr.deployments},deploymentClass(){return this.isPostMerge?"js-post-deployment":"js-pre-deployment"},hasDeploymentMetrics(){return this.isPostMerge},visualReviewAppMeta(){return{appUrl:this.mr.appUrl,mergeRequestId:this.mr.iid,sourceProjectId:this.mr.sourceProjectId,sourceProjectPath:this.mr.sourceProjectFullPath}},pipeline(){return this.isPostMerge?this.mr.mergePipeline:this.mr.pipeline},showVisualReviewAppLink(){return Boolean(this.mr.visualReviewAppAvailable&&this.glFeatures.anonymousVisualReviewFeedback)},showMergeTrainPositionIndicator(){return Ea()(this.mr.mergeTrainIndex)},showCollapsedDeployments(){return this.deployments.length>3},multipleDeploymentsTitle(){return Object(y.d)("Deployments|%{deployments} environment impacted.","Deployments|%{deployments} environments impacted.",this.deployments.length)},preferredAutoMergeStrategy(){return this.glFeatures.mergeRequestWidgetGraphql?Lr.getPreferredAutoMergeStrategy(this.mr.availableAutoMergeStrategies):this.mr.preferredAutoMergeStrategy}}},so=Object(C.a)(ro,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mr-widget-container",{scopedSlots:e._u([{key:"footer",fn:function(){return[e.mr.exposedArtifactsPath?n("div",{staticClass:"js-exposed-artifacts"},[n("artifacts-app",{attrs:{endpoint:e.mr.exposedArtifactsPath}})],1):e._e(),e._v(" "),e.deployments.length?n("deployment-list",{attrs:{deployments:e.deployments,"deployment-class":e.deploymentClass,"has-deployment-metrics":e.hasDeploymentMetrics,"visual-review-app-meta":e.visualReviewAppMeta,"show-visual-review-app-link":e.showVisualReviewAppLink}}):e._e(),e._v(" "),e.showMergeTrainPositionIndicator?n("merge-train-position-indicator",{staticClass:"mr-widget-extension",attrs:{"merge-train-index":e.mr.mergeTrainIndex}}):e._e()]},proxy:!0}])},[n("mr-widget-pipeline",{attrs:{pipeline:e.pipeline,"pipeline-coverage-delta":e.mr.pipelineCoverageDelta,"builds-with-coverage":e.mr.buildsWithCoverage,"ci-status":e.mr.ciStatus,"has-ci":e.mr.hasCI,"pipeline-must-succeed":e.mr.onlyAllowMergeIfPipelineSucceeds,"source-branch":e.branch,"source-branch-link":e.branchLink,"mr-troubleshooting-docs-path":e.mr.mrTroubleshootingDocsPath,"ci-troubleshooting-docs-path":e.mr.ciTroubleshootingDocsPath,"merge-strategy":e.preferredAutoMergeStrategy}})],1)}),[],!1,null,null,null).exports,ao={name:"MRWidgetRelatedLinks",props:{relatedLinks:{type:Object,required:!0,default:function(){return{}}},state:{type:String,required:!1,default:""}},computed:{closesText(){return"merged"===this.state?Object(y.e)("mrWidget|Closed"):"closed"===this.state?Object(y.e)("mrWidget|Did not close"):Object(y.e)("mrWidget|Closes")}}},oo=Object(C.a)(ao,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mr-info-list gl-ml-7 gl-pb-5"},[e.relatedLinks.closing?n("p",[e._v(e._s(e.closesText)+" "),n("span",{domProps:{innerHTML:e._s(e.relatedLinks.closing)}})]):e._e(),e._v(" "),e.relatedLinks.mentioned?n("p",[e._v("\n    "+e._s(e.s__("mrWidget|Mentions"))+" "),n("span",{domProps:{innerHTML:e._s(e.relatedLinks.mentioned)}})]):e._e(),e._v(" "),e.relatedLinks.assignToMe?n("p",[n("span",{domProps:{innerHTML:e._s(e.relatedLinks.assignToMe)}})]):e._e()])}),[],!1,null,null,null).exports,lo=n("4ZIW"),co={components:{GlIcon:g.a},props:{path:{type:String,required:!0},featureId:{type:String,required:!0}},methods:{dismiss(){Hr.a.post(this.path,{feature_name:this.featureId}).catch((function(e){console.error("Failed to dismiss message.",e)})),this.$emit("dismiss")}}},uo=Object(C.a)(co,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"gl-display-flex gl-align-items-center"},[this._t("title"),this._v(" "),t("div",{staticClass:"ml-auto"},[t("button",{staticClass:"btn-blank",attrs:{"aria-label":this.__("Close"),type:"button","data-testid":"close"},on:{click:this.dismiss}},[t("gl-icon",{staticClass:"gl-text-gray-500",attrs:{name:"close"}})],1)])],2),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports;const fo=lo.a.mixin();var ho={name:"MRWidgetSuggestPipeline",SP_ICON_NAME:"status_notfound",SP_TRACK_LABEL:"no_pipeline_noticed",SP_LINK_TRACK_EVENT:"click_link",SP_SHOW_TRACK_EVENT:"click_button",SP_LINK_TRACK_VALUE:30,SP_SHOW_TRACK_VALUE:10,SP_HELP_CONTENT:Nr,SP_HELP_URL:"https://about.gitlab.com/blog/2019/07/12/guide-to-ci-cd-pipelines/",components:{GlLink:ke.a,GlSprintf:v.a,GlButton:be.a,MrWidgetIcon:ar,DismissibleContainer:uo},mixins:[fo],props:{pipelinePath:{type:String,required:!0},pipelineSvgPath:{type:String,required:!0},humanAccess:{type:String,required:!0},userCalloutsPath:{type:String,required:!0},userCalloutFeatureId:{type:String,required:!0}},computed:{tracking(){return{label:"no_pipeline_noticed",property:this.humanAccess}}},mounted(){this.track()}},po=Object(C.a)(ho,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("dismissible-container",{staticClass:"mr-widget-body mr-pipeline-suggest gl-mb-3",attrs:{path:e.userCalloutsPath,"feature-id":e.userCalloutFeatureId},on:{dismiss:function(t){return e.$emit("dismiss")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("mr-widget-icon",{attrs:{name:e.$options.SP_ICON_NAME}}),e._v(" "),n("div",[n("gl-sprintf",{attrs:{message:e.s__("mrWidget|%{prefixToLinkStart}No pipeline%{prefixToLinkEnd}\n        %{addPipelineLinkStart}Add the .gitlab-ci.yml file%{addPipelineLinkEnd}\n        to create one.")},scopedSlots:e._u([{key:"prefixToLink",fn:function(t){var i=t.content;return[n("strong",[e._v("\n            "+e._s(i)+"\n          ")])]}},{key:"addPipelineLink",fn:function(t){var i=t.content;return[n("gl-link",{staticClass:"gl-ml-1",attrs:{href:e.pipelinePath,"data-testid":"add-pipeline-link","data-track-property":e.humanAccess,"data-track-value":e.$options.SP_LINK_TRACK_VALUE,"data-track-event":e.$options.SP_LINK_TRACK_EVENT,"data-track-label":e.$options.SP_TRACK_LABEL}},[e._v("\n            "+e._s(i)+"\n          ")])]}}])})],1)]},proxy:!0}])},[e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-5 order-md-last col-12 gl-mt-5 gl-mt-md-n2! gl-pt-md-2 svg-content svg-225"},[n("img",{attrs:{"data-testid":"pipeline-image",src:e.pipelineSvgPath}})]),e._v(" "),n("div",{staticClass:"col-md-7 order-md-first col-12"},[n("div",{staticClass:"ml-6 gl-pt-5"},[n("strong",[e._v("\n          "+e._s(e.s__("mrWidget|Are you adding technical debt or code vulnerabilities?"))+"\n        ")]),e._v(" "),n("p",{staticClass:"gl-mt-2"},[n("gl-sprintf",{attrs:{message:e.$options.SP_HELP_CONTENT},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{staticClass:"font-size-inherit",attrs:{"data-testid":"help",href:e.$options.SP_HELP_URL,target:"_blank"}},[e._v(e._s(i)+"\n              ")])]}}])})],1),e._v(" "),n("gl-button",{staticClass:"gl-mt-2",attrs:{"data-testid":"ok",category:"primary",variant:"info",href:e.pipelinePath,"data-track-property":e.humanAccess,"data-track-value":e.$options.SP_SHOW_TRACK_VALUE,"data-track-event":e.$options.SP_SHOW_TRACK_EVENT,"data-track-label":e.$options.SP_TRACK_LABEL}},[e._v("\n          "+e._s(e.__("Show me how to add a pipeline"))+"\n        ")])],1)])])])}),[],!1,null,null,null).exports,mo={i18n:{removesBranchText:Object(y.a)("%{strongStart}Deletes%{strongEnd} source branch"),tooltipTitle:Object(y.a)("A user with write access to the source branch selected this option")},components:{GlIcon:g.a,GlSprintf:v.a},directives:{GlTooltip:je.a}},go=Object(C.a)(mo,(function(){var e=this.$createElement;this._self._c;return this._m(0)}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"mr-info-list gl-ml-7 gl-pb-5 gl-mb-0"},[n("span",{staticClass:"status-text"},[n("gl-sprintf",{attrs:{message:e.$options.i18n.removesBranchText},scopedSlots:e._u([{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}}])})],1),e._v(" "),n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.$options.i18n.tooltipTitle,"aria-label":e.$options.i18n.tooltipTitle,name:"question-o"}})],1)}],!1,null,null,null).exports,vo=n("tpMy"),bo={name:"MRWidgetArchived",components:{GlButton:be.a,statusIcon:vo.a}},yo=Object(C.a)(bo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("div",{staticClass:"space-children"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("gl-button",{attrs:{category:"secondary",variant:"success",disabled:!0}},[e._v("\n      "+e._s(e.s__("mrWidget|Merge"))+"\n    ")])],1),e._v(" "),n("div",{staticClass:"media-body"},[n("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|This project is archived, write access has been disabled"))+"\n    ")])])])}),[],!1,null,null,null).exports,_o={computed:{statusTextBeforeAuthor:()=>Object(y.e)("mrWidget|Set by"),statusTextAfterAuthor:()=>Object(y.e)("mrWidget|to be merged automatically when the pipeline succeeds"),cancelButtonText:()=>Object(y.e)("mrWidget|Cancel")}},wo=n("7pSU"),Oo=n.n(wo),ko=n("FxFN"),So={computed:{mergeRequestQueryVariables(){return{projectPath:this.mr.targetProjectFullPath,iid:"".concat(this.mr.iid)}}}},jo={name:"MrWidgetAuthor",directives:{GlTooltip:je.a},props:{author:{type:Object,required:!0},showAuthorName:{type:Boolean,required:!1,default:!0}},computed:{authorUrl(){return this.author.webUrl||this.author.web_url},avatarUrl(){return this.author.avatarUrl||this.author.avatar_url||gl.mrWidgetData.defaultAvatarUrl}}},Co=Object(C.a)(jo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"author-link inline",attrs:{href:e.authorUrl,title:e.author.name}},[n("img",{staticClass:"avatar avatar-inline s16",attrs:{src:e.avatarUrl}}),e._v(" "),e.showAuthorName?n("span",{staticClass:"author"},[e._v(e._s(e.author.name))]):e._e()])}),[],!1,null,null,null).exports,xo={name:"MRWidgetAutoMergeEnabled",apollo:{state:{query:Oo.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){var t;return null===(t=e.project)||void 0===t?void 0:t.mergeRequest}}},components:{MrWidgetAuthor:Co,statusIcon:vo.a,GlLoadingIcon:W.a,GlSkeletonLoader:ma.a},mixins:[_o,Object(We.a)(),So],props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:()=>({state:{},isCancellingAutoMerge:!1,isRemovingSourceBranch:!1}),computed:{loading(){return this.glFeatures.mergeRequestWidgetGraphql&&this.$apollo.queries.state.loading&&0===Object.keys(this.state).length},mergeUser(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.mergeUser:this.mr.setToAutoMergeBy},targetBranch(){return(this.glFeatures.mergeRequestWidgetGraphql?this.state:this.mr).targetBranch},shouldRemoveSourceBranch(){return this.glFeatures.mergeRequestWidgetGraphql?!!this.state.shouldRemoveSourceBranch&&(this.state.shouldRemoveSourceBranch||this.state.forceRemoveSourceBranch):this.mr.shouldRemoveSourceBranch},autoMergeStrategy(){return(this.glFeatures.mergeRequestWidgetGraphql?this.state:this.mr).autoMergeStrategy},canRemoveSourceBranch(){var e;const{currentUserId:t}=this.mr,n=this.glFeatures.mergeRequestWidgetGraphql?Object(ko.e)(null===(e=this.state.mergeUser)||void 0===e?void 0:e.id):this.mr.mergeUserId,i=this.glFeatures.mergeRequestWidgetGraphql?this.state.userPermissions.removeSourceBranch:this.mr.canRemoveSourceBranch;return!this.shouldRemoveSourceBranch&&i&&n===t}},methods:{cancelAutomaticMerge(){var e=this;this.isCancellingAutoMerge=!0,this.service.cancelAutomaticMerge().then((function(e){return e.data})).then((function(t){e.glFeatures.mergeRequestWidgetGraphql?nr.a.$emit("MRWidgetUpdateRequested"):nr.a.$emit("UpdateWidgetData",t)})).catch((function(){e.isCancellingAutoMerge=!1,Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))},removeSourceBranch(){var e=this;const t={sha:this.mr.sha,auto_merge_strategy:this.autoMergeStrategy,should_remove_source_branch:!0};this.isRemovingSourceBranch=!0,this.service.merge(t).then((function(e){return e.data})).then((function(e){Tr.includes(e.status)&&nr.a.$emit("MRWidgetUpdateRequested")})).then((function(){e.glFeatures.mergeRequestWidgetGraphql&&e.$apollo.queries.state.refetch()})).catch((function(){e.isRemovingSourceBranch=!1,Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))}}},Eo=Object(C.a)(xo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[e.loading?n("div",{staticClass:"gl-w-full mr-conflict-loader"},[n("gl-skeleton-loader",{attrs:{width:334,height:30}},[n("rect",{attrs:{x:"0",y:"3",width:"24",height:"24",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"32",y:"7",width:"150",height:"16",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"190",y:"7",width:"144",height:"16",rx:"4"}})])],1):[n("status-icon",{attrs:{status:"success"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("h4",{staticClass:"gl-display-flex"},[n("span",{staticClass:"gl-mr-3"},[n("span",{staticClass:"js-status-text-before-author",attrs:{"data-testid":"beforeStatusText"}},[e._v(e._s(e.statusTextBeforeAuthor))]),e._v(" "),n("mr-widget-author",{attrs:{author:e.mergeUser}}),e._v(" "),n("span",{staticClass:"js-status-text-after-author",attrs:{"data-testid":"afterStatusText"}},[e._v(e._s(e.statusTextAfterAuthor))])],1),e._v(" "),e.mr.canCancelAutomaticMerge?n("a",{staticClass:"btn btn-sm btn-default js-cancel-auto-merge",attrs:{disabled:e.isCancellingAutoMerge,role:"button",href:"#","data-qa-selector":"cancel_auto_merge_button","data-testid":"cancelAutomaticMergeButton"},on:{click:function(t){return t.preventDefault(),e.cancelAutomaticMerge(t)}}},[e.isCancellingAutoMerge?n("gl-loading-icon",{staticClass:"gl-mr-1",attrs:{inline:""}}):e._e(),e._v("\n          "+e._s(e.cancelButtonText)+"\n        ")],1):e._e()]),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n          "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n          "),n("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.targetBranch))])]),e._v(" "),e.shouldRemoveSourceBranch?n("p",[e._v("\n          "+e._s(e.s__("mrWidget|The source branch will be deleted"))+"\n        ")]):n("p",{staticClass:"gl-display-flex"},[n("span",{staticClass:"gl-mr-3"},[e._v(e._s(e.s__("mrWidget|The source branch will not be deleted")))]),e._v(" "),e.canRemoveSourceBranch?n("a",{staticClass:"btn btn-sm btn-default js-remove-source-branch",attrs:{disabled:e.isRemovingSourceBranch,role:"button",href:"#","data-testid":"removeSourceBranchButton"},on:{click:function(t){return t.preventDefault(),e.removeSourceBranch(t)}}},[e.isRemovingSourceBranch?n("gl-loading-icon",{staticClass:"gl-mr-1",attrs:{inline:""}}):e._e(),e._v("\n            "+e._s(e.s__("mrWidget|Delete source branch"))+"\n          ")],1):e._e()])])])]],2)}),[],!1,null,null,null).exports,Do=n("rfNX"),Po=n.n(Do),To={name:"MRWidgetAutoMergeFailed",components:{statusIcon:vo.a,GlLoadingIcon:W.a,GlButton:be.a},mixins:[Object(We.a)(),So],apollo:{mergeError:{query:Po.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){var t,n;return null===(t=e.project)||void 0===t?void 0:null===(n=t.mergeRequest)||void 0===n?void 0:n.mergeError}}},props:{mr:{type:Object,required:!0}},data(){return{mergeError:this.glFeatures.mergeRequestWidgetGraphql?null:this.mr.mergeError,isRefreshing:!1}},methods:{refreshWidget(){var e=this;this.isRefreshing=!0,nr.a.$emit("MRWidgetUpdateRequested",(function(){e.isRefreshing=!1}))}}},No=Object(C.a)(To,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children gl-display-flex gl-flex-wrap gl-align-items-center"},[n("span",{staticClass:"bold"},[e.mergeError?[e._v(e._s(e.mergeError))]:e._e(),e._v("\n      "+e._s(e.s__("mrWidget|This merge request failed to be merged automatically"))+"\n    ")],2),e._v(" "),n("gl-button",{attrs:{disabled:e.isRefreshing,category:"secondary",variant:"default",size:"small"},on:{click:e.refreshWidget}},[e.isRefreshing?n("gl-loading-icon",{attrs:{inline:!0}}):e._e(),e._v("\n      "+e._s(e.s__("mrWidget|Refresh"))+"\n    ")],1)],1)],1)}),[],!1,null,null,null).exports,Io={name:"MRWidgetChecking",components:{statusIcon:vo.a}},Lo=Object(C.a)(Io,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"loading"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v(" "+this._s(this.s__("mrWidget|Checking if merge request can be merged"))+" ")])])],1)}),[],!1,null,null,null).exports,Ro={name:"MrWidgetAuthorTime",components:{MrWidgetAuthor:Co},directives:{GlTooltip:je.a},props:{actionText:{type:String,required:!0},author:{type:Object,required:!0},dateTitle:{type:String,required:!0},dateReadable:{type:String,required:!0}}},Ao=Object(C.a)(Ro,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",{staticClass:"js-mr-widget-author"},[e._v("\n  "+e._s(e.actionText)+"\n  "),n("mr-widget-author",{attrs:{author:e.author}}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.dateReadable)+" ("+e._s(e.dateTitle)+")")]),e._v(" "),n("time",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{"aria-hidden":"",title:e.dateTitle}},[e._v(" "+e._s(e.dateReadable)+" ")])],1)}),[],!1,null,null,null).exports,Fo={name:"MRWidgetClosed",components:{MrWidgetAuthorTime:Ao,statusIcon:vo.a},props:{mr:{type:Object,required:!0,default:function(){return{}}}}},qo=Object(C.a)(Fo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Closed by"),author:e.mr.metrics.closedBy,"date-title":e.mr.metrics.closedAt,"date-readable":e.mr.metrics.readableClosedAt}}),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were not merged into"))+"\n        "),n("a",{staticClass:"label-branch",attrs:{href:e.mr.targetBranchPath}},[e._v(" "+e._s(e.mr.targetBranch)+" ")])])])],1)],1)}),[],!1,null,null,null).exports,Mo=n("HDDM"),Bo=n.n(Mo),$o=n("0r/n"),Vo=n.n($o),Uo={name:"MRWidgetConflicts",components:{GlSkeletonLoader:ma.a,StatusIcon:vo.a,GlButton:be.a},directives:{GlModalDirective:si.a},mixins:[Object(We.a)(),So],apollo:{userPermissions:{query:Bo.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){return e.project.mergeRequest.userPermissions}},stateData:{query:Vo.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){return e.project.mergeRequest}}},props:{mr:{type:Object,required:!0,default:function(){return{}}}},data:()=>({userPermissions:{},stateData:{}}),computed:{isLoading(){return this.glFeatures.mergeRequestWidgetGraphql&&this.$apollo.queries.userPermissions.loading&&this.$apollo.queries.stateData.loading},canPushToSourceBranch(){return this.glFeatures.mergeRequestWidgetGraphql?this.userPermissions.pushToSourceBranch:this.mr.canPushToSourceBranch},canMerge(){return this.glFeatures.mergeRequestWidgetGraphql?this.userPermissions.canMerge:this.mr.canMerge},shouldBeRebased(){return this.glFeatures.mergeRequestWidgetGraphql?this.stateData.shouldBeRebased:this.mr.shouldBeRebased},sourceBranchProtected(){return this.glFeatures.mergeRequestWidgetGraphql?this.stateData.sourceBranchProtected:this.mr.sourceBranchProtected},showResolveButton(){return this.mr.conflictResolutionPath&&this.canPushToSourceBranch&&!this.sourceBranchProtected}}},Go=Object(C.a)(Uo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),e.isLoading?n("div",{staticClass:"gl-ml-4 gl-w-full mr-conflict-loader"},[n("gl-skeleton-loader",{attrs:{width:334,height:30}},[n("rect",{attrs:{x:"0",y:"7",width:"150",height:"16",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"158",y:"7",width:"84",height:"16",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"250",y:"7",width:"84",height:"16",rx:"4"}})])],1):n("div",{staticClass:"media-body space-children gl-display-flex gl-align-items-center"},[e.shouldBeRebased?n("span",{staticClass:"bold"},[e._v("\n      "+e._s(e.s__("mrWidget|Fast-forward merge is not possible.\nTo merge this request, first rebase locally."))+"\n    ")]):[n("span",{staticClass:"bold"},[e._v("\n        "+e._s(e.s__("mrWidget|There are merge conflicts"))),e.canMerge?e._e():n("span",[e._v(".")]),e._v(" "),e.canMerge?e._e():n("span",[e._v("\n          "+e._s(e.s__("mrWidget|Resolve these conflicts or ask someone\n            with write access to this repository to merge it locally"))+"\n        ")])]),e._v(" "),e.showResolveButton?n("gl-button",{attrs:{href:e.mr.conflictResolutionPath,"data-testid":"resolve-conflicts-button"}},[e._v("\n        "+e._s(e.s__("mrWidget|Resolve conflicts"))+"\n      ")]):e._e(),e._v(" "),e.canMerge?n("gl-button",{directives:[{name:"gl-modal-directive",rawName:"v-gl-modal-directive",value:"modal-merge-info",expression:"'modal-merge-info'"}],attrs:{"data-testid":"merge-locally-button"}},[e._v("\n        "+e._s(e.s__("mrWidget|Merge locally"))+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null).exports,Ho={name:"MRWidgetFailedToMerge",components:{GlButton:be.a,statusIcon:vo.a},props:{mr:{type:Object,required:!0,default:function(){return{}}}},data:()=>({timer:10,isRefreshing:!1,intervalId:null}),computed:{mergeError(){const e=this.mr.mergeError?Object(hn.q)(this.mr.mergeError," ").trim():"";return Object(y.f)(Object(y.e)("mrWidget|%{mergeError}."),{mergeError:e},!1)},timerText(){return Object(y.d)("Refreshing in a second to show the updated status...","Refreshing in %d seconds to show the updated status...",this.timer)}},mounted(){this.intervalId=setInterval(this.updateTimer,1e3)},created(){nr.a.$emit("DisablePolling")},beforeDestroy(){this.intervalId&&clearInterval(this.intervalId)},methods:{refresh(){this.isRefreshing=!0,nr.a.$emit("MRWidgetUpdateRequested"),nr.a.$emit("EnablePolling")},updateTimer(){this.timer-=1,0===this.timer&&this.refresh()}}},zo=Object(C.a)(Ho,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[e.isRefreshing?[n("status-icon",{attrs:{status:"loading"}}),e._v(" "),n("span",{staticClass:"media-body bold js-refresh-label"},[e._v(" "+e._s(e.s__("mrWidget|Refreshing now"))+" ")])]:[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[e.mr.mergeError?n("span",{staticClass:"has-error-message"},[e._v(" "+e._s(e.mergeError)+" ")]):n("span",[e._v(" "+e._s(e.s__("mrWidget|Merge failed."))+" ")]),e._v(" "),n("span",{class:{"has-custom-error":e.mr.mergeError}},[e._v(" "+e._s(e.timerText)+" ")])]),e._v(" "),n("gl-button",{attrs:{size:"small","data-testid":"merge-request-failed-refresh-button","data-qa-selector":"merge_request_error_content"},on:{click:e.refresh}},[e._v("\n        "+e._s(e.s__("mrWidget|Refresh now"))+"\n      ")])],1)]],2)}),[],!1,null,null,null).exports,Wo=n("FyMq"),Qo=n("4eas"),Ko={name:"MRWidgetMerged",directives:{GlTooltip:je.a},components:{MrWidgetAuthorTime:Ao,statusIcon:vo.a,ClipboardButton:wa.a,GlLoadingIcon:W.a,GlButton:be.a},props:{mr:{type:Object,required:!0,default:function(){return{}}},service:{type:Object,required:!0,default:function(){return{}}}},data:()=>({isMakingRequest:!1}),computed:{shouldShowRemoveSourceBranch(){const{sourceBranchRemoved:e,isRemovingSourceBranch:t,canRemoveSourceBranch:n}=this.mr;return!e&&n&&!this.isMakingRequest&&!t},shouldShowSourceBranchRemoving(){const{sourceBranchRemoved:e,isRemovingSourceBranch:t}=this.mr;return!e&&(t||this.isMakingRequest)},shouldShowMergedButtons(){const{canRevertInCurrentMR:e,canCherryPickInCurrentMR:t,revertInForkPath:n,cherryPickInForkPath:i}=this.mr;return e||t||n||i},revertTitle:()=>Object(y.e)("mrWidget|Revert this merge request in a new merge request"),cherryPickTitle:()=>Object(y.e)("mrWidget|Cherry-pick this merge request in a new merge request"),revertLabel:()=>Object(y.e)("mrWidget|Revert"),cherryPickLabel:()=>Object(y.e)("mrWidget|Cherry-pick")},mounted(){document.dispatchEvent(new CustomEvent("merged:UpdateActions"))},methods:{removeSourceBranch(){var e=this;this.isMakingRequest=!0,this.service.removeSourceBranch().then((function(e){return e.data})).then((function(t){"Branch was deleted"===t.message&&nr.a.$emit("MRWidgetUpdateRequested",(function(){e.isMakingRequest=!1}))})).catch((function(){e.isMakingRequest=!1,Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))},openRevertModal(){Qo.a.$emit(Wo.k)},openCherryPickModal(){Qo.a.$emit(Wo.j)}}},Yo=Object(C.a)(Ko,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{status:"success"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"space-children"},[n("mr-widget-author-time",{attrs:{"action-text":e.s__("mrWidget|Merged by"),author:e.mr.metrics.mergedBy,"date-title":e.mr.metrics.mergedAt,"date-readable":e.mr.metrics.readableMergedAt}}),e._v(" "),e.mr.canRevertInCurrentMR?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.revertTitle,size:"small",category:"secondary",variant:"warning","data-qa-selector":"revert_button"},on:{click:e.openRevertModal}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e.mr.revertInForkPath?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.mr.revertInForkPath,title:e.revertTitle,size:"small",category:"secondary",variant:"warning","data-method":"post"}},[e._v("\n        "+e._s(e.revertLabel)+"\n      ")]):e._e(),e._v(" "),e.mr.canCherryPickInCurrentMR?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:e.cherryPickTitle,size:"small","data-qa-selector":"cherry_pick_button"},on:{click:e.openCherryPickModal}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e.mr.cherryPickInForkPath?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover",modifiers:{hover:!0}}],attrs:{href:e.mr.cherryPickInForkPath,title:e.cherryPickTitle,size:"small","data-method":"post"}},[e._v("\n        "+e._s(e.cherryPickLabel)+"\n      ")]):e._e()],1),e._v(" "),n("section",{staticClass:"mr-info-list",attrs:{"data-qa-selector":"merged_status_content"}},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes were merged into"))+"\n        "),n("span",{staticClass:"label-branch"},[n("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])]),e._v(" "),e.mr.mergeCommitSha?[e._v("\n          with\n          "),n("a",{staticClass:"commit-sha js-mr-merged-commit-sha",attrs:{href:e.mr.mergeCommitPath},domProps:{textContent:e._s(e.mr.shortMergeCommitSha)}}),e._v(" "),n("clipboard-button",{attrs:{title:e.__("Copy commit SHA"),text:e.mr.mergeCommitSha,"css-class":"js-mr-merged-copy-sha",category:"tertiary",size:"small"}})]:e._e()],2),e._v(" "),e.mr.sourceBranchRemoved?n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The source branch has been deleted"))+"\n      ")]):e._e(),e._v(" "),e.shouldShowRemoveSourceBranch?n("p",{staticClass:"space-children"},[n("span",[e._v(e._s(e.s__("mrWidget|You can delete the source branch now")))]),e._v(" "),n("gl-button",{staticClass:"js-remove-branch-button",attrs:{disabled:e.isMakingRequest,size:"small"},on:{click:e.removeSourceBranch}},[e._v("\n          "+e._s(e.s__("mrWidget|Delete source branch"))+"\n        ")])],1):e._e(),e._v(" "),e.shouldShowSourceBranchRemoving?n("p",[n("gl-loading-icon",{attrs:{inline:!0}}),e._v(" "),n("span",[e._v(" "+e._s(e.s__("mrWidget|The source branch is being deleted"))+" ")])],1):e._e()])])],1)}),[],!1,null,null,null).exports,Xo={name:"MRWidgetMerging",components:{statusIcon:vo.a},props:{mr:{type:Object,required:!0,default:function(){return{}}}},data(){const e=Ir.length;return{mergeStatus:Ir[Math.floor(Math.random()*e)]}}},Jo=Object(C.a)(Xo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body mr-state-locked media"},[n("status-icon",{attrs:{status:"loading"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("h4",[e._v("\n      "+e._s(e.mergeStatus.message)+"\n      "),n("gl-emoji",{attrs:{"data-name":e.mergeStatus.emoji}})],1),e._v(" "),n("section",{staticClass:"mr-info-list"},[n("p",[e._v("\n        "+e._s(e.s__("mrWidget|The changes will be merged into"))+"\n        "),n("span",{staticClass:"label-branch"},[n("a",{attrs:{href:e.mr.targetBranchPath}},[e._v(e._s(e.mr.targetBranch))])])])])])],1)}),[],!1,null,null,null).exports,Zo=n("epSX"),el=n.n(Zo),tl={name:"MRWidgetMissingBranch",directives:{GlTooltip:je.a},components:{GlIcon:g.a,statusIcon:vo.a},mixins:[Object(We.a)(),So],apollo:{state:{query:el.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){return e.project.mergeRequest}}},props:{mr:{type:Object,required:!0}},data:()=>({state:{}}),computed:{sourceBranchRemoved(){return this.glFeatures.mergeRequestWidgetGraphql?!this.state.sourceBranchExists:this.mr.sourceBranchRemoved},missingBranchName(){return this.sourceBranchRemoved?"source":"target"},missingBranchNameMessage(){return Object(y.f)(Object(y.e)("mrWidget| Please restore it or use a different %{missingBranchName} branch"),{missingBranchName:this.missingBranchName})},message(){return Object(y.f)(Object(y.e)("mrWidget|If the %{missingBranchName} branch exists in your local repository, you can merge this merge request manually using the command line"),{missingBranchName:this.missingBranchName})}}},nl=Object(C.a)(tl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold js-branch-text"},[n("span",{staticClass:"capitalize",attrs:{"data-testid":"missingBranchName"}},[e._v(" "+e._s(e.missingBranchName)+" ")]),e._v("\n      "+e._s(e.s__("mrWidget|branch does not exist."))+" "+e._s(e.missingBranchNameMessage)+"\n      "),n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:e.message,"aria-label":e.message,name:"question-o"}})],1)])],1)}),[],!1,null,null,null).exports,il={name:"MRWidgetNotAllowed",components:{StatusIcon:vo.a}},rl=Object(C.a)(il,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"success"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Ready to be merged automatically.\nAsk someone with write access to this repository to merge this request"))+"\n      ")])])],1)}),[],!1,null,null,null).exports,sl={name:"MRWidgetPipelineBlocked",components:{StatusIcon:vo.a}},al=Object(C.a)(sl,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"mr-widget-body media"},[t("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),this._v(" "),t("div",{staticClass:"media-body space-children"},[t("span",{staticClass:"bold"},[this._v("\n        "+this._s(this.s__("mrWidget|Pipeline blocked.\nThe pipeline for this merge request requires a manual action to proceed"))+"\n      ")])])],1)}),[],!1,null,null,null).exports,ol=function(e){let{interval:t=2e3,timeout:n=6e4}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Date.now();return new Promise((function(r,s){const a=function(e){return e instanceof Error?s(e):r(e)};e((function r(){0===n||Object(jr.e)(i)<n?setTimeout(e.bind(null,r,a),t):s(new Error("SIMPLE_POLL_TIMEOUT"))}),a)}))},ll=n("pk44"),cl={name:"MRWidgetRebase",apollo:{state:{query:n.n(ll).a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){return e.project.mergeRequest}}},components:{statusIcon:vo.a,GlButton:be.a,GlSkeletonLoader:ma.a},mixins:[Object(We.a)(),So],props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:()=>({state:{},isMakingRequest:!1,rebasingError:null}),computed:{isLoading(){return this.glFeatures.mergeRequestWidgetGraphql&&this.$apollo.queries.state.loading},rebaseInProgress(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.rebaseInProgress:this.mr.rebaseInProgress},canPushToSourceBranch(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.userPermissions.pushToSourceBranch:this.mr.canPushToSourceBranch},targetBranch(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.targetBranch:this.mr.targetBranch},status(){return this.rebaseInProgress||this.isMakingRequest?"loading":this.canPushToSourceBranch||this.rebaseInProgress?"success":"warning"},showDisabledButton(){return["failed","loading"].includes(this.status)},fastForwardMergeText(){return Object(y.f)(Object(y.a)("Fast-forward merge is not possible. Rebase the source branch onto %{targetBranch} to allow this merge request to be merged."),{targetBranch:'<span class="label-branch">'.concat(Ge()(this.targetBranch),"</span>")},!1)}},methods:{rebase(){var e=this;this.isMakingRequest=!0,this.rebasingError=null,this.service.rebase().then((function(){ol(e.checkRebaseStatus)})).catch((function(t){e.isMakingRequest=!1,t.response&&t.response.data&&t.response.data.merge_error?e.rebasingError=t.response.data.merge_error:Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))},checkRebaseStatus(e,t){var n=this;this.service.poll().then((function(e){return e.data})).then((function(i){i.rebase_in_progress?e():(n.isMakingRequest=!1,i.merge_error&&i.merge_error.length&&(n.rebasingError=i.merge_error,Object(te.c)(Object(y.a)("Something went wrong. Please try again."))),nr.a.$emit("MRWidgetRebaseSuccess"),t())})).catch((function(){n.isMakingRequest=!1,Object(te.c)(Object(y.a)("Something went wrong. Please try again.")),t()}))}}},ul=Object(C.a)(cl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[e.isLoading?n("div",{staticClass:"gl-w-full mr-conflict-loader"},[n("gl-skeleton-loader",{attrs:{width:334,height:30}},[n("rect",{attrs:{x:"0",y:"3",width:"24",height:"24",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"32",y:"5",width:"302",height:"20",rx:"4"}})])],1):[n("status-icon",{attrs:{status:e.status,"show-disabled-button":e.showDisabledButton}}),e._v(" "),n("div",{staticClass:"rebase-state-find-class-convention media media-body space-children"},[e.rebaseInProgress||e.isMakingRequest?n("span",{staticClass:"gl-font-weight-bold",attrs:{"data-testid":"rebase-message"}},[e._v(e._s(e.__("Rebase in progress")))]):e._e(),e._v(" "),e.rebaseInProgress||e.canPushToSourceBranch?e._e():n("span",{staticClass:"gl-font-weight-bold gl-ml-0!",attrs:{"data-testid":"rebase-message"},domProps:{innerHTML:e._s(e.fastForwardMergeText)}}),e._v(" "),e.rebaseInProgress||!e.canPushToSourceBranch||e.isMakingRequest?e._e():n("div",{staticClass:"accept-merge-holder clearfix js-toggle-container accept-action media space-children"},[n("gl-button",{attrs:{loading:e.isMakingRequest,variant:"confirm","data-qa-selector":"mr_rebase_button"},on:{click:e.rebase}},[e._v("\n          "+e._s(e.__("Rebase"))+"\n        ")]),e._v(" "),e.rebasingError?n("span",{staticClass:"gl-font-weight-bold danger",attrs:{"data-testid":"rebase-message"}},[e._v(e._s(e.rebasingError))]):n("span",{staticClass:"gl-font-weight-bold",attrs:{"data-testid":"rebase-message","data-qa-selector":"no_fast_forward_message_content"}},[e._v(e._s(e.__("Fast-forward merge is not possible. Rebase the source branch onto the target branch.")))])],1)])]],2)}),[],!1,null,null,null).exports,dl=n("qLpH"),fl={name:"MRWidgetNothingToMerge",components:{GlButton:be.a,GlSprintf:v.a,GlLink:ke.a},props:{mr:{type:Object,required:!0}},data:()=>({emptyStateSVG:'<svg width="256" height="146" viewBox="0 0 256 146" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>illustration</title><defs><rect id="a" width="178.714" height="115.389" rx="10"/><mask id="d" x="0" y="0" width="178.714" height="115.389" fill="#fff"><use xlink:href="#a"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="b"/><mask id="e" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#b"/></mask><path d="M8.796 31.515c.395.047.8.072 1.207.072h23.065c5.536 0 10.003-4.475 10.003-9.994v-11.6C43.07 4.476 38.594 0 33.07 0H10.003C4.467 0 0 4.475 0 9.994v11.6c0 1.248.23 2.444.65 3.547H0v7.414c0 4.094 2.394 5.113 5.342 2.28l3.454-3.32z" id="c"/><mask id="f" x="0" y="0" width="43.071" height="36.437" fill="#fff"><use xlink:href="#c"/></mask></defs><g fill="none" fill-rule="evenodd"><g transform="translate(0 3.868)" fill="#F9F9F9"><rect x="19.286" width="77.143" height="14.182" rx="7.091"/><rect y="28.364" width="84.857" height="14.182" rx="7.091"/><rect x="133.714" y="42.546" width="122.143" height="14.182" rx="7.091"/><rect x="82.929" y="126.992" width="101.571" height="14.182" rx="7.091"/><rect x="42.429" y="99.273" width="101.571" height="14.182" rx="7.091"/><rect x="19.929" y="70.909" width="225" height="14.182" rx="7.091"/><path d="M98.37 14.182H13.488h13.81a7.098 7.098 0 0 1 7.094 7.09 7.09 7.09 0 0 1-7.094 7.092h-13.81 84.88-23.452a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.096-7.092h23.452zm162 42.545h-75.238 23.452a7.098 7.098 0 0 1 7.095 7.09 7.09 7.09 0 0 1-7.096 7.092h-23.452 75.237-23.453a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.093h23.452zM103.512 85.09H28.275h23.452a7.098 7.098 0 0 1 7.095 7.092 7.09 7.09 0 0 1-7.095 7.09H28.275h75.237H80.06a7.098 7.098 0 0 1-7.095-7.09 7.09 7.09 0 0 1 7.095-7.09h23.452zm48.215 28.365H76.49 90.3a7.098 7.098 0 0 1 7.093 7.09 7.09 7.09 0 0 1-7.094 7.092H76.49h75.237-33.096a7.098 7.098 0 0 1-7.094-7.09 7.09 7.09 0 0 1 7.095-7.092h33.097z"/></g><g transform="translate(38.57 12.248)"><use stroke="#EEE" mask="url(#d)" stroke-width="8" fill="#FFF" xlink:href="#a"/><path fill="#EEE" d="M2.57 18.694h174.215v2.58H2.57z"/><g transform="translate(21.857 38.678)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 59.95)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#FC6D26" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(21.857 81.223)"><rect fill="#B5A7DD" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#FC6D26" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#FC6D26" opacity=".5" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#B5A7DD" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#B5A7DD" y="14.826" width="3.857" height="1.289" rx=".645"/></g><g transform="translate(100.93 38.033)"><rect fill="#FDE5D8" y=".645" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="34.071" y="7.091" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="30.857" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="9.643" y="14.182" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="18.643" y="7.091" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="21.857" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="7.091" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="7.736" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="14.826" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="21.917" width="3.857" height="1.289" rx=".645"/><rect fill="#EEE" x="9.643" y="21.273" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="37.286" y="14.182" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="25.071" y="35.455" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="28.364" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="30.857" y="21.273" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="35.455" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="21.273" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="30.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="39.857" y="28.364" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="49.5" y="14.182" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="29.008" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="36.099" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="43.19" width="3.857" height="1.289" rx=".645"/><rect fill="#6B4FBB" x="9.643" y="42.546" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="25.071" y="56.727" width="9.643" height="2.579" rx="1.289"/><rect fill="#6B4FBB" opacity=".5" x="34.071" y="49.636" width="9.643" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="56.727" width="12.857" height="2.579" rx="1.289"/><rect fill="#6B4FBB" x="18.643" y="49.636" width="12.857" height="2.579" rx="1.289"/><rect fill="#EEE" x="21.857" y="42.546" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="46.286" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#EEE" x="9.643" y="49.636" width="6.429" height="2.579" rx="1.289"/><rect fill="#FDE5D8" y="50.281" width="3.857" height="1.289" rx=".645"/><rect fill="#FDE5D8" y="57.372" width="3.857" height="1.289" rx=".645"/></g></g><g transform="translate(196.07)"><use stroke="#FDE5D8" mask="url(#e)" stroke-width="8" fill="#FFF" xlink:href="#b"/><rect fill="#FDB692" x="9" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="14.826" width="25.071" height="1.934" rx=".967"/><rect fill="#FDB692" x="9" y="20.628" width="18.643" height="1.934" rx=".967"/></g><g transform="translate(189 41.256)"><ellipse stroke="#FC6D26" stroke-width="3" fill="#FFF7F4" cx="10.286" cy="9.669" rx="9.643" ry="9.669"/><path d="M.023 9.002a8.352 8.352 0 0 0 7.94-4.308M9 .644c0-.21-.008-.416-.023-.62" stroke="#FC6D26" stroke-width="2"/><path d="M5.045 2.008A10.266 10.266 0 0 0 13.5 6.446c2.112 0 4.076-.638 5.71-1.733" stroke="#FC6D26" stroke-width="2"/><ellipse fill="#FC6D26" cx="6.75" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#FC6D26" cx="13.821" cy="11.281" rx=".964" ry=".967"/></g><g transform="translate(46.93 96.05)"><ellipse stroke="#6B4FBB" stroke-width="3" fill="#F4F1FA" cx="9.643" cy="10.314" rx="9.643" ry="9.669"/><path d="M12.86 4.51h-.005L11.25 2.58 9.645 4.51H9.64L8.036 2.58 6.43 4.51h-.002L4.82 2.58 3.215 4.512h-1.75A9.646 9.646 0 0 1 9.642 0c3.447 0 6.47 1.8 8.176 4.508h-1.75l-1.605-1.93L12.86 4.51z" fill="#6B4FBB"/><ellipse fill="#6B4FBB" cx="6.107" cy="11.281" rx=".964" ry=".967"/><ellipse fill="#6B4FBB" cx="13.179" cy="11.281" rx=".964" ry=".967"/></g><g transform="matrix(-1 0 0 1 56.57 54.794)"><use stroke="#E2DCF2" mask="url(#f)" stroke-width="8" fill="#FFF" xlink:href="#c"/><rect fill="#6B4FBB" opacity=".5" x="15.429" y="9.025" width="18.643" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="14.826" width="12.214" height="1.934" rx=".967"/><rect fill="#6B4FBB" opacity=".5" x="21.857" y="20.628" width="12.214" height="1.934" rx=".967"/></g></g></svg>\n'}),ciHelpPage:Object(dl.a)("/ci/quick_start/index.html")},hl=Object(C.a)(fl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body mr-widget-empty-state"},[n("div",{staticClass:"row"},[n("div",{staticClass:"artwork col-md-5 order-md-last col-12 text-center d-flex justify-content-center align-items-center"},[n("span",{domProps:{innerHTML:e._s(e.emptyStateSVG)}})]),e._v(" "),n("div",{staticClass:"text col-md-7 order-md-first col-12"},[n("p",{staticClass:"highlight"},[e._v("\n        "+e._s(e.s__("mrWidgetNothingToMerge|This merge request contains no changes."))+"\n      ")]),e._v(" "),n("p",[n("gl-sprintf",{attrs:{message:e.s__("mrWidgetNothingToMerge|Use merge requests to propose changes to your project and discuss them with your team. To make changes, push a commit or edit this merge request to use a different branch. With %{linkStart}CI/CD%{linkEnd}, automatically test your changes before merging.")},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.$options.ciHelpPage,target:"_blank"}},[e._v(e._s(i))])]}}])})],1),e._v(" "),n("div",[e.mr.newBlobPath?n("gl-button",{attrs:{href:e.mr.newBlobPath,category:"secondary",variant:"success","data-testid":"createFileButton"}},[e._v("\n          "+e._s(e.__("Create file"))+"\n        ")]):e._e()],1)])])])}),[],!1,null,null,null).exports,pl={name:"PipelineFailed",components:{GlLink:ke.a,GlSprintf:v.a,statusIcon:vo.a},computed:{troubleshootingDocsPath:()=>Object(dl.a)("ci/troubleshooting",{anchor:"merge-request-status-messages"})},i18n:{failedMessage:Object(y.e)("mrWidget|The pipeline for this merge request did not complete. Push a new commit to fix the failure, or check the %{linkStart}troubleshooting documentation%{linkEnd} to see other possible actions.")}},ml=Object(C.a)(pl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body space-children"},[n("span",{staticClass:"bold"},[n("gl-sprintf",{attrs:{message:e.$options.i18n.failedMessage},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.troubleshootingDocsPath,target:"_blank"}},[e._v("\n            "+e._s(i)+"\n          ")])]}}])})],1)])],1)}),[],!1,null,null,null).exports;const vl=Object(y.a)("You can only merge once the items above are resolved."),bl=Object(y.a)("A CI/CD pipeline must run and be successful before merge.");var yl={computed:{isMergeButtonDisabled(){const{commitMessage:e}=this;return Boolean(!e.length||!this.shouldShowMergeControls||this.isMakingRequest||this.mr.preventMerge)},mergeDisabledText:()=>vl,pipelineMustSucceedConflictText:()=>bl,autoMergeText:()=>Object(y.a)("Merge when pipeline succeeds"),shouldShowMergeImmediatelyDropdown(){return this.isPipelineActive&&!this.stateData.onlyAllowMergeIfPipelineSucceeds},isMergeImmediatelyDangerous:()=>!1,shouldRenderMergeTrainHelperText:()=>!1,pipelineId(){return this.pipeline.id}}},_l=n("6GPD"),wl=n.n(_l),Ol=n("s4z4"),kl={props:{value:{type:String,required:!0},label:{type:String,required:!0},inputId:{type:String,required:!0}}},Sl=Object(C.a)(kl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[n("div",{staticClass:"commit-message-editor"},[n("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-between"},[n("label",{staticClass:"col-form-label",attrs:{for:e.inputId}},[n("strong",[e._v(e._s(e.label))])]),e._v(" "),e._t("header")],2),e._v(" "),n("textarea",{staticClass:"form-control js-gfm-input gl-mb-3 commit-message-edit",attrs:{id:e.inputId,dir:"auto",required:"required",rows:"7"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e._v(" "),e._t("checkbox")],2)])}),[],!1,null,null,null).exports,jl={components:{GlDropdown:p.a,GlDropdownItem:m.a},props:{commits:{type:Array,required:!0,default:function(){return[]}}}},Cl=Object(C.a)(jl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("gl-dropdown",{staticClass:"mr-commit-dropdown",attrs:{right:"",text:"Use an existing commit message",variant:"link"}},e._l(e.commits,(function(t,i){return n("gl-dropdown-item",{key:i,staticClass:"text-nowrap text-truncate",on:{click:function(n){return e.$emit("input",t.message)}}},[n("span",{staticClass:"monospace mr-2"},[e._v(e._s(t.shortId||t.short_id))]),e._v("\n      "+e._s(t.title)+"\n    ")])})),1)],1)}),[],!1,null,null,null).exports,xl={components:{GlButton:be.a},props:{isSquashEnabled:{type:Boolean,required:!0},isFastForwardEnabled:{type:Boolean,required:!0},commitsCount:{type:Number,required:!1,default:0},targetBranch:{type:String,required:!0}},data:()=>({expanded:!1}),computed:{collapseIcon(){return this.expanded?"chevron-down":"chevron-right"},commitsCountMessage(){return Object(y.d)(Object(y.a)("%d commit"),Object(y.a)("%d commits"),this.isSquashEnabled?1:this.commitsCount)},modifyLinkMessage(){return this.isFastForwardEnabled?Object(y.a)("Modify commit message"):this.isSquashEnabled?Object(y.a)("Modify commit messages"):Object(y.a)("Modify merge commit")},ariaLabel(){return this.expanded?Object(y.a)("Collapse"):Object(y.a)("Expand")},message(){const e=this.isFastForwardEnabled?Object(y.e)("mrWidgetCommitsAdded|%{commitCount} will be added to %{targetBranch}."):Object(y.e)("mrWidgetCommitsAdded|%{commitCount} and %{mergeCommitCount} will be added to %{targetBranch}.");return Object(y.f)(e,{commitCount:'<strong class="commits-count-message">'.concat(this.commitsCountMessage,"</strong>"),mergeCommitCount:"<strong>".concat(Object(y.e)("mrWidgetCommitsAdded|1 merge commit"),"</strong>"),targetBranch:'<span class="label-branch">'.concat(Ge()(this.targetBranch),"</span>")},!1)}},methods:{toggle(){this.expanded=!this.expanded}}},El=Object(C.a)(xl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"js-mr-widget-commits-count mr-widget-extension clickable d-flex align-items-center px-3 py-2",on:{click:function(t){return e.toggle()}}},[n("gl-button",{staticClass:"commit-edit-toggle gl-mr-3",attrs:{"aria-label":e.ariaLabel,category:"tertiary",size:"small",icon:e.collapseIcon},on:{click:function(t){return t.stopPropagation(),e.toggle()}}}),e._v(" "),e.expanded?n("span",[e._v(e._s(e.__("Collapse")))]):n("span",[n("span",{staticClass:"vertical-align-middle",domProps:{innerHTML:e._s(e.message)}}),e._v(" "),n("gl-button",{staticClass:"modify-message-button",attrs:{variant:"link"}},[e._v("\n        "+e._s(e.modifyLinkMessage)+"\n      ")])],1)],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.expanded,expression:"expanded"}]},[e._t("default")],2)])}),[],!1,null,null,null).exports;const Dl={tooltipTitle:Object(y.a)("Required in this project."),checkboxLabel:Object(y.a)("Squash commits"),helpLabel:Object(y.a)("What is squashing?")};function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nl={components:{GlIcon:g.a,GlFormCheckbox:Te.a},directives:{GlTooltip:je.a},i18n:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pl(Object(n),!0).forEach((function(t){Tl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Dl),props:{value:{type:Boolean,required:!0},helpPath:{type:String,required:!1,default:""},isDisabled:{type:Boolean,required:!1,default:!1}},computed:{tooltipTitle(){return this.isDisabled?this.$options.i18n.tooltipTitle:null}}},Il=Object(C.a)(Nl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-align-items-center"},[n("gl-form-checkbox",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"js-squash-checkbox gl-mr-2 gl-display-flex gl-align-items-center",attrs:{checked:e.value,disabled:e.isDisabled,name:"squash","data-qa-selector":"squash_checkbox",title:e.tooltipTitle},on:{change:function(t){return e.$emit("input",t)}}},[e._v("\n    "+e._s(e.$options.i18n.checkboxLabel)+"\n  ")]),e._v(" "),e.helpPath?n("a",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{href:e.helpPath,title:e.$options.i18n.helpLabel,target:"_blank",rel:"noopener noreferrer nofollow"}},[n("gl-icon",{attrs:{name:"question"}}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("\n      "+e._s(e.$options.i18n.helpLabel)+"\n    ")])],1):e._e()],1)}),[],!1,null,null,null).exports;function Ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(n),!0).forEach((function(t){Al(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Al(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fl={name:"ReadyToMerge",apollo:{state:{query:wl.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},manual:!0,result(e){let{data:t}=e;0===Object.keys(this.state).length&&(this.removeSourceBranch=t.project.mergeRequest.shouldRemoveSourceBranch||t.project.mergeRequest.forceRemoveSourceBranch||!1,this.commitMessage=t.project.mergeRequest.defaultMergeCommitMessage,this.squashBeforeMerge=t.project.mergeRequest.squashOnMerge,this.isSquashReadOnly=t.project.squashReadOnly,this.squashCommitMessage=t.project.mergeRequest.defaultSquashCommitMessage),this.state=Rl(Rl({},t.project.mergeRequest),{},{mergeRequestsFfOnlyEnabled:t.project.mergeRequestsFfOnlyEnabled,onlyAllowMergeIfPipelineSucceeds:t.project.onlyAllowMergeIfPipelineSucceeds}),this.loading=!1,null!==this.state.mergeTrainsCount&&void 0!==this.state.mergeTrainsCount&&this.initPolling()}}},components:{statusIcon:vo.a,SquashBeforeMerge:Il,CommitsHeader:El,CommitEdit:Sl,CommitMessageDropdown:Cl,GlIcon:g.a,GlSprintf:v.a,GlLink:ke.a,GlButton:be.a,GlButtonGroup:Se.a,GlDropdown:p.a,GlDropdownItem:m.a,GlFormCheckbox:Te.a,GlSkeletonLoader:ma.a,MergeTrainHelperText:function(){return n.e(8).then(n.bind(null,"4b03"))},MergeImmediatelyConfirmationDialog:function(){return n.e(8).then(n.bind(null,"4b03"))}},directives:{GlTooltip:je.a},mixins:[yl,Object(We.a)(),So],props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data(){return{loading:this.glFeatures.mergeRequestWidgetGraphql,state:{},removeSourceBranch:this.mr.shouldRemoveSourceBranch,isMakingRequest:!1,isMergingImmediately:!1,commitMessage:this.mr.commitMessage,squashBeforeMerge:this.mr.squashIsSelected,isSquashReadOnly:this.mr.squashIsReadonly,squashCommitMessage:this.mr.squashCommitMessage}},computed:{stateData(){return this.glFeatures.mergeRequestWidgetGraphql?this.state:this.mr},hasCI(){return this.stateData.hasCI||this.stateData.hasCi},isAutoMergeAvailable(){return!tr()(this.stateData.availableAutoMergeStrategies)},pipeline(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.headPipeline:this.mr.pipeline},isPipelineFailed(){var e;return this.glFeatures.mergeRequestWidgetGraphql?-1!==["FAILED","CANCELED"].indexOf(null===(e=this.pipeline)||void 0===e?void 0:e.status):this.mr.isPipelineFailed},isMergeAllowed(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.mergeable||!1:this.mr.isMergeAllowed},canRemoveSourceBranch(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.userPermissions.removeSourceBranch:this.mr.canRemoveSourceBranch},commits(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.commitsWithoutMergeCommits.nodes:this.mr.commits},commitsCount(){return this.glFeatures.mergeRequestWidgetGraphql?this.state.commitCount||0:this.mr.commitsCount},preferredAutoMergeStrategy(){return this.glFeatures.mergeRequestWidgetGraphql?Lr.getPreferredAutoMergeStrategy(this.state.availableAutoMergeStrategies):this.mr.preferredAutoMergeStrategy},isSHAMismatch(){return this.glFeatures.mergeRequestWidgetGraphql?this.mr.sha!==this.state.diffHeadSha:this.mr.isSHAMismatch},squashIsSelected(){return this.glFeatures.mergeRequestWidgetGraphql?this.squashReadOnly?this.state.squashOnMerge:this.state.squash:this.mr.squashIsSelected},isPipelineActive(){var e;return this.glFeatures.mergeRequestWidgetGraphql?(null===(e=this.pipeline)||void 0===e?void 0:e.active)||!1:this.mr.isPipelineActive},status(){var e;const t=this.glFeatures.mergeRequestWidgetGraphql?null===(e=this.pipeline)||void 0===e?void 0:e.status.toLowerCase():this.mr.ciStatus;return this.hasCI&&!t||this.hasPipelineMustSucceedConflict?"failed":this.isAutoMergeAvailable?"pending":this.pipeline&&this.isPipelineFailed?"failed":"success"},mergeButtonVariant(){return"failed"===this.status?xr:"pending"===this.status?"info":"success"},iconClass(){return this.shouldRenderMergeTrainHelperText&&!this.mr.preventMerge?"running":"failed"!==this.status&&this.commitMessage.length&&this.isMergeAllowed&&!this.mr.preventMerge?"success":Cr},mergeButtonText(){return this.isMergingImmediately?Object(y.a)("Merge in progress"):this.isAutoMergeAvailable?this.autoMergeText:Object(y.a)("Merge")},hasPipelineMustSucceedConflict(){return!this.hasCI&&this.stateData.onlyAllowMergeIfPipelineSucceeds},isRemoveSourceBranchButtonDisabled(){return this.isMergeButtonDisabled},shouldShowSquashBeforeMerge(){const{enableSquashBeforeMerge:e}=this.mr;return!(this.isSquashReadOnly&&!this.squashIsSelected)&&(e&&this.commitsCount>1)},shouldShowMergeControls(){return this.isMergeAllowed||this.isAutoMergeAvailable},shouldShowSquashEdit(){return this.squashBeforeMerge&&this.shouldShowSquashBeforeMerge},shouldShowMergeEdit(){return this.glFeatures.mergeRequestWidgetGraphql?!this.state.mergeRequestsFfOnlyEnabled:!this.mr.ffOnlyEnabled},shaMismatchLink(){return this.mr.mergeRequestDiffsPath}},mounted(){this.glFeatures.mergeRequestWidgetGraphql&&nr.a.$on("ApprovalUpdated",this.updateGraphqlState)},beforeDestroy(){this.glFeatures.mergeRequestWidgetGraphql&&nr.a.$off("ApprovalUpdated",this.updateGraphqlState),this.pollingInterval&&this.pollingInterval.destroy()},methods:{initPolling(){var e=this;const t=Object(jr.D)(5);this.pollingInterval=new qr.a({callback:function(){return e.$apollo.queries.state.refetch()},startingInterval:t,maxInterval:t+Object(jr.D)(240),hiddenInterval:Object(jr.D)(360),incrementByFactorOf:2})},updateGraphqlState(){return this.$apollo.queries.state.refetch()},updateMergeCommitMessage(e){const t=this.glFeatures.mergeRequestWidgetGraphql?this.state.defaultMergeCommitMessage:this.mr.commitMessage,n=this.glFeatures.mergeRequestWidgetGraphql?this.state.defaultMergeCommitMessageWithDescription:this.mr.commitMessageWithDescription;this.commitMessage=e?n:t},handleMergeButtonClick(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this.isMergingImmediately=!0);const n={sha:(this.glFeatures.mergeRequestWidgetGraphql?this.state.diffHeadSha:this.mr.latestSHA)||this.mr.sha,commit_message:this.commitMessage,auto_merge_strategy:e?this.preferredAutoMergeStrategy:void 0,should_remove_source_branch:!0===this.removeSourceBranch,squash:this.squashBeforeMerge};this.shouldShowSquashBeforeMerge&&(n.squash_commit_message=this.squashCommitMessage),this.isMakingRequest=!0,this.service.merge(n).then((function(e){return e.data})).then((function(e){const n="failed"===e.status||"hook_validation_error"===e.status;Tr.includes(e.status)?nr.a.$emit("MRWidgetUpdateRequested"):"success"===e.status?t.initiateMergePolling():n&&nr.a.$emit("FailedToMerge",e.merge_error),t.glFeatures.mergeRequestWidgetGraphql&&t.updateGraphqlState()})).catch((function(){t.isMakingRequest=!1,Object(te.b)({message:Object(y.a)("Something went wrong. Please try again.")})}))},handleMergeImmediatelyButtonClick(){this.isMergeImmediatelyDangerous?this.$refs.confirmationDialog.show():this.handleMergeButtonClick(!1,!0)},onMergeImmediatelyConfirmation(){this.handleMergeButtonClick(!1,!0)},initiateMergePolling(){var e=this;ol((function(t,n){e.handleMergePolling(t,n)}),{timeout:0})},handleMergePolling(e,t){var n=this;this.service.poll().then((function(e){return e.data})).then((function(i){"merged"===i.state?(nr.a.$emit("MRWidgetUpdateRequested"),nr.a.$emit("FetchActionsContent"),Li.a.setStatusBoxToMerged(),Li.a.hideCloseButton(),Li.a.decreaseCounter(),t(),Object(Ol.b)(),n.removeSourceBranch&&i.source_branch_exists&&n.initiateRemoveSourceBranchPolling()):i.merge_error?(nr.a.$emit("FailedToMerge",i.merge_error),t()):e()})).catch((function(){Object(te.b)({message:Object(y.a)("Something went wrong while merging this merge request. Please try again.")}),t()}))},initiateRemoveSourceBranchPolling(){var e=this;nr.a.$emit("SetBranchRemoveFlag",[!0]),ol((function(t,n){e.handleRemoveBranchPolling(t,n)}))},handleRemoveBranchPolling(e,t){this.service.poll().then((function(e){return e.data})).then((function(n){n.source_branch_exists?e():(nr.a.$emit("MRWidgetUpdateRequested",(function(){nr.a.$emit("SetBranchRemoveFlag",[!1])})),t())})).catch((function(){Object(te.b)({message:Object(y.a)("Something went wrong while deleting the source branch. Please try again.")})}))}}},ql=Object(C.a)(Fl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loading?n("div",{staticClass:"mr-widget-body"},[n("div",{staticClass:"gl-w-full mr-ready-to-merge-loader"},[n("gl-skeleton-loader",{attrs:{width:418,height:30}},[n("rect",{attrs:{x:"0",y:"3",width:"24",height:"24",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"32",y:"0",width:"70",height:"30",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"110",y:"7",width:"150",height:"16",rx:"4"}}),e._v(" "),n("rect",{attrs:{x:"268",y:"7",width:"150",height:"16",rx:"4"}})])],1)]):[n("div",{staticClass:"mr-widget-body media",class:{"gl-pb-3":e.shouldRenderMergeTrainHelperText}},[n("status-icon",{attrs:{status:e.iconClass}}),e._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"mr-widget-body-controls gl-display-flex gl-align-items-center"},[n("gl-button-group",{staticClass:"gl-align-self-start"},[n("gl-button",{staticClass:"accept-merge-request",attrs:{size:"medium",category:"primary","data-testid":"merge-button",variant:e.mergeButtonVariant,disabled:e.isMergeButtonDisabled,loading:e.isMakingRequest,"data-qa-selector":"merge_button"},on:{click:function(t){return e.handleMergeButtonClick(e.isAutoMergeAvailable)}}},[e._v(e._s(e.mergeButtonText))]),e._v(" "),e.shouldShowMergeImmediatelyDropdown?n("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.focus",value:e.__("Select merge moment"),expression:"__('Select merge moment')",modifiers:{hover:!0,focus:!0}}],attrs:{disabled:e.isMergeButtonDisabled,variant:"info","data-qa-selector":"merge_moment_dropdown","toggle-class":"btn-icon js-merge-moment"},scopedSlots:e._u([{key:"button-content",fn:function(){return[n("gl-icon",{staticClass:"mr-0",attrs:{name:"chevron-down"}}),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.__("Select merge moment")))])]},proxy:!0}],null,!1,2364476067)},[e._v(" "),n("gl-dropdown-item",{attrs:{"icon-name":"warning","button-class":"accept-merge-request js-merge-immediately-button","data-qa-selector":"merge_immediately_menu_item"},on:{click:e.handleMergeImmediatelyButtonClick}},[e._v("\n                "+e._s(e.__("Merge immediately"))+"\n              ")]),e._v(" "),n("merge-immediately-confirmation-dialog",{ref:"confirmationDialog",attrs:{"docs-url":e.mr.mergeImmediatelyDocsPath},on:{mergeImmediately:e.onMergeImmediatelyConfirmation}})],1):e._e()],1),e._v(" "),e.shouldShowMergeControls?n("div",{staticClass:"gl-display-flex gl-align-items-center gl-flex-wrap"},[e.canRemoveSourceBranch?n("gl-form-checkbox",{staticClass:"js-remove-source-branch-checkbox gl-mx-3 gl-display-flex gl-align-items-center",attrs:{id:"remove-source-branch-input",disabled:e.isRemoveSourceBranchButtonDisabled},model:{value:e.removeSourceBranch,callback:function(t){e.removeSourceBranch=t},expression:"removeSourceBranch"}},[e._v("\n              "+e._s(e.__("Delete source branch"))+"\n            ")]):e._e(),e._v(" "),e.shouldShowSquashBeforeMerge?n("squash-before-merge",{staticClass:"gl-mx-3",attrs:{"help-path":e.mr.squashBeforeMergeHelpPath,"is-disabled":e.isSquashReadOnly},model:{value:e.squashBeforeMerge,callback:function(t){e.squashBeforeMerge=t},expression:"squashBeforeMerge"}}):e._e()],1):[n("div",{staticClass:"bold js-resolve-mr-widget-items-message gl-ml-3"},[e.hasPipelineMustSucceedConflict?n("div",{staticClass:"gl-display-flex gl-align-items-center",attrs:{"data-testid":"pipeline-succeed-conflict"}},[n("gl-sprintf",{attrs:{message:e.pipelineMustSucceedConflictText}}),e._v(" "),n("gl-link",{staticClass:"gl-display-flex gl-ml-2",attrs:{href:e.mr.pipelineMustSucceedDocsPath,target:"_blank"}},[n("gl-icon",{attrs:{name:"question"}})],1)],1):n("gl-sprintf",{attrs:{message:e.mergeDisabledText}})],1)]],2),e._v(" "),e.isSHAMismatch?n("div",{staticClass:"d-flex align-items-center mt-2 js-sha-mismatch"},[n("gl-icon",{staticClass:"text-warning mr-1",attrs:{name:"warning-solid"}}),e._v(" "),n("span",{staticClass:"text-warning"},[n("gl-sprintf",{attrs:{message:e.__("New changes were added. %{linkStart}Reload the page to review them%{linkEnd}")},scopedSlots:e._u([{key:"link",fn:function(t){var i=t.content;return[n("gl-link",{attrs:{href:e.mr.mergeRequestDiffsPath}},[e._v(e._s(i))])]}}],null,!1,689842709)})],1)],1):e._e()])],1),e._v(" "),e.shouldRenderMergeTrainHelperText?n("merge-train-helper-text",{attrs:{"pipeline-id":e.pipelineId,"pipeline-link":e.pipeline.path,"merge-train-length":e.stateData.mergeTrainsCount,"merge-train-when-pipeline-succeeds-docs-path":e.mr.mergeTrainWhenPipelineSucceedsDocsPath}}):e._e(),e._v(" "),e.shouldShowMergeControls?[e.shouldShowMergeEdit?e._e():n("div",{staticClass:"mr-fast-forward-message",attrs:{"data-qa-selector":"fast_forward_message_content"}},[e._v("\n        "+e._s(e.__("Fast-forward merge without a merge commit"))+"\n      ")]),e._v(" "),e.shouldShowSquashEdit||e.shouldShowMergeEdit?n("commits-header",{class:{"border-bottom":e.stateData.mergeError},attrs:{"is-squash-enabled":e.squashBeforeMerge,"commits-count":e.commitsCount,"target-branch":e.stateData.targetBranch,"is-fast-forward-enabled":!e.shouldShowMergeEdit}},[n("ul",{staticClass:"border-top content-list commits-list flex-list"},[e.shouldShowSquashEdit?n("commit-edit",{attrs:{label:e.__("Squash commit message"),"input-id":"squash-message-edit",squash:""},model:{value:e.squashCommitMessage,callback:function(t){e.squashCommitMessage=t},expression:"squashCommitMessage"}},[n("commit-message-dropdown",{attrs:{slot:"header",commits:e.commits},slot:"header",model:{value:e.squashCommitMessage,callback:function(t){e.squashCommitMessage=t},expression:"squashCommitMessage"}})],1):e._e(),e._v(" "),e.shouldShowMergeEdit?n("commit-edit",{attrs:{label:e.__("Merge commit message"),"input-id":"merge-message-edit"},model:{value:e.commitMessage,callback:function(t){e.commitMessage=t},expression:"commitMessage"}},[n("label",{attrs:{slot:"checkbox"},slot:"checkbox"},[n("input",{attrs:{id:"include-description",type:"checkbox"},on:{change:function(t){return e.updateMergeCommitMessage(t.target.checked)}}}),e._v("\n              "+e._s(e.__("Include merge request description"))+"\n            ")])]):e._e()],1)]):e._e()]:e._e()]],2)}),[],!1,null,null,null).exports,Ml={name:"UnresolvedDiscussions",components:{statusIcon:vo.a,GlButton:be.a},props:{mr:{type:Object,required:!0}},methods:{jumpToFirstUnresolvedDiscussion(){z.a.$emit("jumpToFirstUnresolvedDiscussion")}}},Bl=Object(C.a)(Ml,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media gl-flex-wrap"},[n("status-icon",{attrs:{"show-disabled-button":!0,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("span",{staticClass:"gl-ml-3 gl-font-weight-bold gl-display-block gl-w-100"},[e._v(e._s(e.s__("mrWidget|Merge blocked: all threads must be resolved.")))]),e._v(" "),n("gl-button",{staticClass:"gl-ml-3",attrs:{"data-testid":"jump-to-first",size:"small",icon:"comment-next"},on:{click:e.jumpToFirstUnresolvedDiscussion}},[e._v("\n      "+e._s(e.s__("mrWidget|Jump to first unresolved thread"))+"\n    ")]),e._v(" "),e.mr.createIssueToResolveDiscussionsPath?n("gl-button",{staticClass:"js-create-issue gl-ml-3",attrs:{href:e.mr.createIssueToResolveDiscussionsPath,size:"small",icon:"issue-new"}},[e._v("\n      "+e._s(e.s__("mrWidget|Resolve all threads in new issue"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,$l=n("b9Gi"),Vl=n("6VMN"),Ul=n.n(Vl),Gl=n("HXoF"),Hl=n.n(Gl),zl=n("1TVX"),Wl=n.n(zl);function Ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ql(Object(n),!0).forEach((function(t){Yl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xl={name:"WorkInProgress",components:{StatusIcon:vo.a,GlButton:be.a},mixins:[Object(We.a)(),So],apollo:{userPermissions:{query:Hl.a,skip(){return!this.glFeatures.mergeRequestWidgetGraphql},variables(){return this.mergeRequestQueryVariables},update:function(e){return e.project.mergeRequest.userPermissions}}},props:{mr:{type:Object,required:!0},service:{type:Object,required:!0}},data:()=>({userPermissions:{},isMakingRequest:!1}),computed:{canUpdate(){return this.glFeatures.mergeRequestWidgetGraphql?this.userPermissions.updateMergeRequest:Boolean(this.mr.removeWIPPath)}},methods:{removeWipMutation(){var e=this;const{mergeRequestQueryVariables:t}=this;this.isMakingRequest=!0,this.$apollo.mutate({mutation:Wl.a,variables:Kl(Kl({},t),{},{wip:!1}),update(e,n){let{data:{mergeRequestSetWip:{errors:i,mergeRequest:{mergeableDiscussionsState:r,workInProgress:s,title:a}}}}=n;if(null==i?void 0:i.length)return void Object(te.c)(Object(y.a)("Something went wrong. Please try again."));const o=e.readQuery({query:Ul.a,variables:t}),l=Object($l.b)(o,(function(e){e.project.mergeRequest.mergeableDiscussionsState=r,e.project.mergeRequest.workInProgress=s,e.project.mergeRequest.title=a}));e.writeQuery({query:Ul.a,data:l,variables:t})},optimisticResponse:{__typename:"Mutation",mergeRequestSetWip:{__typename:"MergeRequestSetWipPayload",errors:[],mergeRequest:{__typename:"MergeRequest",mergeableDiscussionsState:!0,title:this.mr.title,workInProgress:!1}}}}).then((function(e){let{data:{mergeRequestSetWip:{mergeRequest:{title:t}}}}=e;Object(te.c)(Object(y.a)("The merge request can now be merged."),"notice"),Fn()(".merge-request .detail-page-description .title").text(t)})).catch((function(){return Object(te.c)(Object(y.a)("Something went wrong. Please try again."))})).finally((function(){e.isMakingRequest=!1}))},handleRemoveWIP(){var e=this;this.glFeatures.mergeRequestWidgetGraphql?this.removeWipMutation():(this.isMakingRequest=!0,this.service.removeWIP().then((function(e){return e.data})).then((function(t){nr.a.$emit("UpdateWidgetData",t),Li.a.toggleDraftStatus(e.mr.title,!0)})).catch((function(){e.isMakingRequest=!1,Object(te.c)(Object(y.a)("Something went wrong. Please try again."))})))}}},Jl=Object(C.a)(Xl,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mr-widget-body media"},[n("status-icon",{attrs:{"show-disabled-button":e.canUpdate,status:"warning"}}),e._v(" "),n("div",{staticClass:"media-body"},[n("div",{staticClass:"gl-ml-3 float-left"},[n("span",{staticClass:"gl-font-weight-bold"},[e._v("\n        "+e._s(e.__("This merge request is still a draft."))+"\n      ")]),e._v(" "),n("span",{staticClass:"gl-display-block text-muted"},[e._v(e._s(e.__("Draft merge requests can't be merged.")))])]),e._v(" "),e.canUpdate?n("gl-button",{staticClass:"js-remove-wip gl-ml-3",attrs:{size:"small",disabled:e.isMakingRequest,loading:e.isMakingRequest},on:{click:e.handleRemoveWIP}},[e._v("\n      "+e._s(e.s__("mrWidget|Mark as ready"))+"\n    ")]):e._e()],1)],1)}),[],!1,null,null,null).exports,Zl=n("TBBL"),ec=n("aOF2"),tc={name:"MrWidgetExpanableSection",components:{GlButton:be.a,GlCollapse:ec.a,GlIcon:g.a},props:{iconName:{type:String,required:!1,default:"status_warning"}},data:()=>({contentIsVisible:!1}),computed:{collapseButtonText(){return this.contentIsVisible?Object(y.a)("Collapse"):Object(y.a)("Expand")}},methods:{updateContentVisibility(){this.contentIsVisible=!this.contentIsVisible}}},nc=Object(C.a)(tc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mr-widget-body gl-display-flex"},[n("span",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-mr-3 gl-align-self-start gl-mt-1"},[n("gl-icon",{attrs:{name:e.iconName,size:24}})],1),e._v(" "),n("div",{staticClass:"gl-display-flex gl-flex-fill-1 gl-flex-direction-column gl-md-flex-direction-row"},[e._t("header"),e._v(" "),n("div",[n("gl-button",{on:{click:e.updateContentVisibility}},[e._v("\n          "+e._s(e.collapseButtonText)+"\n        ")])],1)],2)]),e._v(" "),n("gl-collapse",{staticClass:"gl-bg-gray-10 gl-border-t-solid gl-border-gray-100 gl-border-1",attrs:{visible:e.contentIsVisible}},[e._t("content")],2)],1)}),[],!1,null,null,null).exports,ic={name:"TerraformPlan",components:{GlIcon:g.a,GlLink:ke.a,GlSprintf:v.a},props:{plan:{required:!0,type:Object}},i18n:{changes:Object(y.e)("Terraform|Reported Resource Changes: %{addNum} to add, %{changeNum} to change, %{deleteNum} to delete"),generationErrored:Object(y.e)("Terraform|Generating the report caused an error."),namedReportFailed:Object(y.e)("Terraform|The report %{name} failed to generate."),namedReportGenerated:Object(y.e)("Terraform|The report %{name} was generated in your pipelines."),reportFailed:Object(y.e)("Terraform|A report failed to generate."),reportGenerated:Object(y.e)("Terraform|A report was generated in your pipelines.")},computed:{addNum(){return Number(this.plan.create)},changeNum(){return Number(this.plan.update)},deleteNum(){return Number(this.plan.delete)},iconType(){return this.validPlanValues?"doc-changes":"warning"},reportChangeText(){return this.validPlanValues?this.$options.i18n.changes:this.$options.i18n.generationErrored},reportHeaderText(){return this.validPlanValues?this.plan.job_name?this.$options.i18n.namedReportGenerated:this.$options.i18n.reportGenerated:this.plan.job_name?this.$options.i18n.namedReportFailed:this.$options.i18n.reportFailed},validPlanValues(){return this.addNum+this.changeNum+this.deleteNum>=0}}},rc=Object(C.a)(ic,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-pb-3"},[n("span",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-center gl-align-self-start gl-px-2"},[n("gl-icon",{attrs:{name:e.iconType,size:16,"data-testid":"change-type-icon"}})],1),e._v(" "),n("div",{staticClass:"gl-display-flex gl-flex-fill-1 gl-flex-direction-column flex-md-row gl-pl-3"},[n("div",{staticClass:"gl-flex-fill-1 gl-display-flex gl-flex-direction-column gl-pr-3"},[n("p",{staticClass:"gl-mb-3 gl-line-height-normal"},[n("gl-sprintf",{attrs:{message:e.reportHeaderText},scopedSlots:e._u([{key:"name",fn:function(){return[n("strong",[e._v(e._s(e.plan.job_name))])]},proxy:!0}])})],1),e._v(" "),n("p",{staticClass:"gl-mb-3 gl-line-height-normal"},[n("gl-sprintf",{attrs:{message:e.reportChangeText},scopedSlots:e._u([{key:"addNum",fn:function(){return[n("strong",[e._v(e._s(e.addNum))])]},proxy:!0},{key:"changeNum",fn:function(){return[n("strong",[e._v(e._s(e.changeNum))])]},proxy:!0},{key:"deleteNum",fn:function(){return[n("strong",[e._v(e._s(e.deleteNum))])]},proxy:!0}])})],1)]),e._v(" "),n("div",[e.plan.job_path?n("gl-link",{staticClass:"btn btn-sm",attrs:{href:e.plan.job_path,target:"_blank","data-testid":"terraform-report-link","data-track-event":"click_terraform_mr_plan_button","data-track-label":"mr_widget_terraform_mr_plan_button","data-track-property":"terraform_mr_plan_button",rel:"noopener"}},[e._v("\n        "+e._s(e.__("View full log"))+"\n        "),n("gl-icon",{attrs:{name:"external-link"}})],1):e._e()],1)])])}),[],!1,null,null,null).exports,sc={name:"MRWidgetTerraformContainer",components:{GlSkeletonLoading:Zl.a,GlSprintf:v.a,MrWidgetExpanableSection:nc,TerraformPlan:rc},props:{endpoint:{type:String,required:!0}},data:()=>({loading:!0,plansObject:{},poll:null}),computed:{inValidPlanCountText(){return 0===this.numberOfInvalidPlans?null:Object(y.d)("Terraform|%{number} Terraform report failed to generate","Terraform|%{number} Terraform reports failed to generate",this.numberOfInvalidPlans)},numberOfInvalidPlans(){return Object.values(this.plansObject).filter((function(e){return e.tf_report_error})).length},numberOfPlans(){return Object.keys(this.plansObject).length},numberOfValidPlans(){return this.numberOfPlans-this.numberOfInvalidPlans},validPlanCountText(){return 0===this.numberOfValidPlans?null:Object(y.d)("Terraform|%{number} Terraform report was generated in your pipelines","Terraform|%{number} Terraform reports were generated in your pipelines",this.numberOfValidPlans)}},created(){this.fetchPlans()},beforeDestroy(){this.poll.stop()},methods:{fetchPlans(){var e=this;this.loading=!0,this.poll=new Wr.a({resource:{fetchPlans:function(){return Hr.a.get(e.endpoint)}},data:this.endpoint,method:"fetchPlans",successCallback:function(t){let{data:n}=t;e.plansObject=n,e.numberOfPlans>0&&(e.loading=!1,e.poll.stop())},errorCallback:function(){e.plansObject={bad_plan:{tf_report_error:"api_error"}},e.loading=!1,e.poll.stop()}}),this.poll.makeRequest()}}},ac=Object(C.a)(sc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"mr-widget-section"},[e.loading?n("div",{staticClass:"mr-widget-body"},[n("gl-skeleton-loading")],1):n("mr-widget-expanable-section",{scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"gl-flex-fill-1 gl-display-flex gl-flex-direction-column",attrs:{"data-testid":"terraform-header-text"}},[e.validPlanCountText?n("p",{staticClass:"gl-m-0"},[n("gl-sprintf",{attrs:{message:e.validPlanCountText},scopedSlots:e._u([{key:"number",fn:function(){return[n("strong",[e._v(e._s(e.numberOfValidPlans))])]},proxy:!0}],null,!1,3642873259)})],1):e._e(),e._v(" "),e.inValidPlanCountText?n("p",{staticClass:"gl-m-0"},[n("gl-sprintf",{attrs:{message:e.inValidPlanCountText},scopedSlots:e._u([{key:"number",fn:function(){return[n("strong",[e._v(e._s(e.numberOfInvalidPlans))])]},proxy:!0}],null,!1,2146615180)})],1):e._e()])]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"mr-widget-body gl-pb-1"},e._l(e.plansObject,(function(e,t){return n("terraform-plan",{key:t,attrs:{plan:e}})})),1)]},proxy:!0}])})],1)}),[],!1,null,null,null).exports;function oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oc(Object(n),!0).forEach((function(t){cc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uc={name:"MRWidget",directives:{SafeHtml:He.a},components:{Loading:va,"mr-widget-header":Ca,"mr-widget-suggest-pipeline":po,MrWidgetPipelineContainer:so,"mr-widget-related-links":oo,MrWidgetAlertMessage:ya,"mr-widget-merged":Yo,"mr-widget-closed":qo,"mr-widget-merging":Jo,"mr-widget-failed-to-merge":zo,"mr-widget-wip":Jl,"mr-widget-archived":yo,"mr-widget-conflicts":Go,"mr-widget-nothing-to-merge":hl,"mr-widget-not-allowed":rl,"mr-widget-missing-branch":nl,"mr-widget-ready-to-merge":ql,"sha-mismatch":ql,"mr-widget-checking":Lo,"mr-widget-unresolved-discussions":Bl,"mr-widget-pipeline-blocked":al,"mr-widget-pipeline-failed":ml,MrWidgetAutoMergeEnabled:Eo,"mr-widget-auto-merge-failed":No,"mr-widget-rebase":ul,SourceBranchRemovalStatus:go,GroupedCodequalityReportsApp:Ls,GroupedTestReportsApp:pa,TerraformPlan:ac,GroupedAccessibilityReportsApp:gs,MrWidgetApprovals:br,SecurityReportsApp:function(){return n.e(462).then(n.bind(null,"T5fK"))}},apollo:{state:{query:Ul.a,manual:!0,skip(){var e,t;return!this.mr||!(null===(e=window.gon)||void 0===e?void 0:null===(t=e.features)||void 0===t?void 0:t.mergeRequestWidgetGraphql)},variables(){return this.mergeRequestQueryVariables},result(e){let{data:{project:t}}=e;t&&(this.mr.setGraphqlData(t),this.loading=!1)}}},mixins:[So],props:{mrData:{type:Object,required:!1,default:null}},data(){const e=this.mrData&&new Lr(this.mrData);return{mr:e,state:e&&e.state,service:e&&this.createService(e),loading:!0}},computed:{isLoaded(){var e,t;return(null===(e=window.gon)||void 0===e?void 0:null===(t=e.features)||void 0===t?void 0:t.mergeRequestWidgetGraphql)?!this.loading:this.mr},shouldRenderApprovals(){return"nothingToMerge"!==this.mr.state},componentName(){return Or.stateToComponentMap[this.mr.state]},hasPipelineMustSucceedConflict(){return!this.mr.hasCI&&this.mr.onlyAllowMergeIfPipelineSucceeds},shouldRenderPipelines(){return this.mr.hasCI||this.hasPipelineMustSucceedConflict},shouldSuggestPipelines(){return!this.mr.hasCI&&this.mr.mergeRequestAddCiConfigPath&&!this.mr.isDismissedSuggestPipeline},shouldRenderCodeQuality(){var e,t;return null===(e=this.mr)||void 0===e?void 0:null===(t=e.codeclimate)||void 0===t?void 0:t.head_path},shouldRenderRelatedLinks(){return Boolean(this.mr.relatedLinks)&&!this.mr.isNothingToMergeState},shouldRenderSourceBranchRemovalStatus(){return!this.mr.canRemoveSourceBranch&&this.mr.shouldRemoveSourceBranch&&!this.mr.isNothingToMergeState&&!this.mr.isMergedState},shouldRenderCollaborationStatus(){return this.mr.allowCollaboration&&this.mr.isOpen},shouldRenderMergedPipeline(){return"merged"===this.mr.state&&!tr()(this.mr.mergePipeline)},showMergePipelineForkWarning(){return Boolean(this.mr.mergePipelinesEnabled&&this.mr.sourceProjectId!==this.mr.targetProjectId)},shouldRenderSecurityReport(){return Boolean(this.mr.pipeline.id)},mergeError(){let{mergeError:e}=this.mr;return e&&"."===e.slice(-1)&&(e=e.slice(0,-1)),Object(y.f)(Object(y.e)("mrWidget|%{mergeError}. Try again."),{mergeError:e},!1)},shouldShowAccessibilityReport(){return this.mr.accessibilityReportPath},formattedHumanAccess(){return(this.mr.humanAccess||"").toLowerCase()}},watch:{state(e,t){e!==t&&this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling()}},mounted(){var e=this;yr.a.fetchInitialData().then((function(t){let{data:n,headers:i}=t;e.startingPollInterval=Number(i["POLL-INTERVAL"]),e.initWidget(n)})).catch((function(){return Object(te.c)(Object(y.a)("Unable to load the merge request widget. Try reloading the page."))}))},beforeDestroy(){nr.a.$off("mr.discussion.updated",this.checkStatus),this.pollingInterval&&this.pollingInterval.destroy(),this.deploymentsInterval&&this.deploymentsInterval.destroy(),this.postMergeDeploymentsInterval&&this.postMergeDeploymentsInterval.destroy()},methods:{initWidget(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.mr?this.mr.setData(lc(lc({},window.gl.mrWidgetData),e)):this.mr=new Lr(lc(lc({},window.gl.mrWidgetData),e)),this.state||(this.state=this.mr.state),this.service||(this.service=this.createService(this.mr)),this.setFaviconHelper(),this.initDeploymentsPolling(),this.shouldRenderMergedPipeline&&this.initPostMergeDeploymentsPolling(),this.initPolling(),this.bindEventHubListeners(),nr.a.$on("mr.discussion.updated",this.checkStatus)},getServiceEndpoints:e=>({mergePath:e.mergePath,mergeCheckPath:e.mergeCheckPath,cancelAutoMergePath:e.cancelAutoMergePath,removeWIPPath:e.removeWIPPath,sourceBranchPath:e.sourceBranchPath,ciEnvironmentsStatusPath:e.ciEnvironmentsStatusPath,mergeRequestBasicPath:e.mergeRequestBasicPath,mergeRequestWidgetPath:e.mergeRequestWidgetPath,mergeRequestCachedWidgetPath:e.mergeRequestCachedWidgetPath,mergeActionsContentPath:e.mergeActionsContentPath,rebasePath:e.rebasePath,apiApprovalsPath:e.apiApprovalsPath,apiApprovePath:e.apiApprovePath,apiUnapprovePath:e.apiUnapprovePath}),createService(e){return new yr.a(this.getServiceEndpoints(e))},checkStatus(e,t){var n,i,r=this;return(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.mergeRequestWidgetGraphql)&&this.$apollo.queries.state.refetch(),this.service.checkStatus().then((function(n){let{data:i}=n;r.handleNotification(i),r.mr.setData(i,t),r.setFaviconHelper(),e&&e.call(null,i)})).catch((function(){return Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))},setFaviconHelper(){return this.mr.ciStatusFaviconPath?Object(Mr.b)(this.mr.ciStatusFaviconPath):Promise.resolve()},initPolling(){this.pollingInterval=new qr.a({callback:this.checkStatus,startingInterval:this.startingPollInterval,maxInterval:this.startingPollInterval+Object(jr.D)(240),hiddenInterval:Object(jr.D)(360),incrementByFactorOf:2})},initDeploymentsPolling(){this.deploymentsInterval=this.deploymentsPoll(this.fetchPreMergeDeployments)},initPostMergeDeploymentsPolling(){this.postMergeDeploymentsInterval=this.deploymentsPoll(this.fetchPostMergeDeployments)},deploymentsPoll:e=>new qr.a({callback:e,startingInterval:3e4,maxInterval:24e4,incrementByFactorOf:4,immediateExecution:!0}),fetchDeployments(e){return this.service.fetchDeployments(e)},fetchPreMergeDeployments(){var e=this;return this.fetchDeployments().then((function(t){let{data:n}=t;n.length&&(e.mr.deployments=n)})).catch((function(){return e.throwDeploymentsError()}))},fetchPostMergeDeployments(){var e=this;return this.fetchDeployments("merge_commit").then((function(t){let{data:n}=t;n.length&&(e.mr.postMergeDeployments=n)})).catch((function(){return e.throwDeploymentsError()}))},throwDeploymentsError(){Object(te.c)(Object(y.a)("Something went wrong while fetching the environments for this merge request. Please try again."))},fetchActionsContent(){this.service.fetchMergeActionsContent().then((function(e){if(e.data){const t=document.createElement("div");t.innerHTML=e.data,document.body.appendChild(t),document.dispatchEvent(new CustomEvent("merged:UpdateActions")),Fr.a.initRefSwitcher()}})).catch((function(){return Object(te.c)(Object(y.a)("Something went wrong. Please try again."))}))},handleNotification(e){if(e.ci_status===this.mr.ciStatus)return;if(!e.pipeline)return;const{label:t}=e.pipeline.details.status,n=Object(y.f)(Object(y.a)("Pipeline %{label}"),{label:t}),i=Object(y.f)(Object(y.a)('Pipeline %{label} for "%{dataTitle}"'),{dataTitle:e.title,label:t});Ar.notifyMe(n,i,this.mr.gitlabLogo)},resumePolling(){this.pollingInterval.resume()},stopPolling(){this.pollingInterval.stopTimer()},bindEventHubListeners(){var e=this;nr.a.$on("MRWidgetUpdateRequested",(function(t){e.checkStatus(t)})),nr.a.$on("MRWidgetRebaseSuccess",(function(t){e.checkStatus(t,!0)})),nr.a.$on("SetBranchRemoveFlag",(function(t){[e.mr.isRemovingSourceBranch]=t})),nr.a.$on("FailedToMerge",(function(t){e.mr.state="failedToMerge",e.mr.mergeError=t})),nr.a.$on("UpdateWidgetData",(function(t){e.mr.setData(t)})),nr.a.$on("FetchActionsContent",(function(){e.fetchActionsContent()})),nr.a.$on("EnablePolling",(function(){e.resumePolling()})),nr.a.$on("DisablePolling",(function(){e.stopPolling()}))},dismissSuggestPipelines(){this.mr.isDismissedSuggestPipeline=!0}}},dc=Object(C.a)(uc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isLoaded?n("div",{staticClass:"mr-state-widget gl-mt-3"},[n("mr-widget-header",{attrs:{mr:e.mr}}),e._v(" "),e.shouldSuggestPipelines?n("mr-widget-suggest-pipeline",{staticClass:"mr-widget-workflow",attrs:{"data-testid":"mr-suggest-pipeline","pipeline-path":e.mr.mergeRequestAddCiConfigPath,"pipeline-svg-path":e.mr.pipelinesEmptySvgPath,"human-access":e.formattedHumanAccess,"user-callouts-path":e.mr.userCalloutsPath,"user-callout-feature-id":e.mr.suggestPipelineFeatureId},on:{dismiss:e.dismissSuggestPipelines}}):e._e(),e._v(" "),e.shouldRenderPipelines?n("mr-widget-pipeline-container",{staticClass:"mr-widget-workflow",attrs:{mr:e.mr}}):e._e(),e._v(" "),e.shouldRenderApprovals?n("mr-widget-approvals",{staticClass:"mr-widget-workflow",attrs:{mr:e.mr,service:e.service}}):e._e(),e._v(" "),n("div",{staticClass:"mr-section-container mr-widget-workflow"},[e.shouldRenderCodeQuality?n("grouped-codequality-reports-app",{attrs:{"base-path":e.mr.codeclimate.base_path,"codequality-reports-path":e.mr.codequalityReportsPath,"codequality-help-path":e.mr.codequalityHelpPath}}):e._e(),e._v(" "),e.shouldRenderSecurityReport?n("security-reports-app",{attrs:{"pipeline-id":e.mr.pipeline.id,"project-id":e.mr.sourceProjectId,"security-reports-docs-path":e.mr.securityReportsDocsPath,"target-project-full-path":e.mr.targetProjectFullPath,"mr-iid":e.mr.iid}}):e._e(),e._v(" "),e.mr.testResultsPath?n("grouped-test-reports-app",{staticClass:"js-reports-container",attrs:{endpoint:e.mr.testResultsPath,"head-blob-path":e.mr.headBlobPath,"pipeline-path":e.mr.pipeline.path}}):e._e(),e._v(" "),e.mr.terraformReportsPath?n("terraform-plan",{attrs:{endpoint:e.mr.terraformReportsPath}}):e._e(),e._v(" "),e.shouldShowAccessibilityReport?n("grouped-accessibility-reports-app",{attrs:{endpoint:e.mr.accessibilityReportPath}}):e._e(),e._v(" "),n("div",{staticClass:"mr-widget-section"},[n(e.componentName,{tag:"component",attrs:{mr:e.mr,service:e.service}}),e._v(" "),n("div",{staticClass:"mr-widget-info"},[e.shouldRenderCollaborationStatus?n("section",{staticClass:"mr-info-list mr-links"},[n("p",[e._v("\n            "+e._s(e.s__("mrWidget|Allows commits from members who can merge to the target branch"))+"\n          ")])]):e._e(),e._v(" "),e.shouldRenderRelatedLinks?n("mr-widget-related-links",{attrs:{state:e.mr.state,"related-links":e.mr.relatedLinks}}):e._e(),e._v(" "),e.showMergePipelineForkWarning?n("mr-widget-alert-message",{attrs:{type:"warning","help-path":e.mr.mergeRequestPipelinesHelpPath}},[e._v("\n          "+e._s(e.s__("mrWidget|If the last pipeline ran in the fork project, it may be inaccurate. Before merge, we advise running a pipeline in this project."))+"\n        ")]):e._e(),e._v(" "),e.mr.mergeError?n("mr-widget-alert-message",{attrs:{type:"danger"}},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.mergeError,expression:"mergeError"}]})]):e._e(),e._v(" "),e.shouldRenderSourceBranchRemovalStatus?n("source-branch-removal-status"):e._e()],1)],1)],1),e._v(" "),e.shouldRenderMergedPipeline?n("mr-widget-pipeline-container",{staticClass:"js-post-merge-pipeline mr-widget-workflow",attrs:{mr:e.mr,"is-post-merge":!0}}):e._e()],1):n("loading")}),[],!1,null,null,null).exports,fc=n("5v28"),hc=n("0KyK"),pc=n("Lzak");const mc="collapsedLoading",gc="collapsedError",vc="expandedLoading";var bc={components:{GlButton:be.a,GlLoadingIcon:W.a,GlIcon:g.a,GlLink:ke.a,GlBadge:pc.a,SmartVirtualList:As.a,StatusIcon:vo.a},directives:{SafeHtml:He.a},data:()=>({loadingState:mc,collapsedData:null,fullData:null,isCollapsed:!0}),computed:{isLoadingSummary(){return this.loadingState===mc},isLoadingExpanded(){return this.loadingState===vc},isCollapsible(){return!this.isLoadingSummary},statusIconName(){return this.isLoadingSummary?"loading":this.loadingState===gc?"warning":this.statusIcon(this.collapsedData)}},watch:{isCollapsed(e){e?this.loadingState=null:this.loadAllData()}},mounted(){var e=this;this.fetchCollapsedData(this.$props).then((function(t){e.collapsedData=t,e.loadingState=null})).catch((function(t){throw e.loadingState=gc,t}))},methods:{toggleCollapsed(){this.isCollapsed=!this.isCollapsed},loadAllData(){var e=this;this.fullData||(this.loadingState=vc,this.fetchFullData(this.$props).then((function(t){e.loadingState=null,e.fullData=t})).catch((function(t){throw e.loadingState=null,t})))}}},yc=Object(C.a)(bc,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"media-section mr-widget-border-top"},[n("div",{staticClass:"media gl-p-5"},[n("status-icon",{staticClass:"align-self-center",attrs:{status:e.statusIconName}}),e._v(" "),n("div",{staticClass:"media-body d-flex flex-align-self-center align-items-center"},[n("div",{staticClass:"code-text"},[e.isLoadingSummary?[e._v("\n          "+e._s(e.__("Loading..."))+"\n        ")]:n("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.summary(e.collapsedData),expression:"summary(collapsedData)"}]})],2),e._v(" "),e.isCollapsible?n("gl-button",{staticClass:"float-right align-self-center",attrs:{size:"small"},on:{click:e.toggleCollapsed}},[e._v("\n        "+e._s(e.isCollapsed?e.__("Expand"):e.__("Collapse"))+"\n      ")]):e._e()],1)],1),e._v(" "),e.isCollapsed?e._e():n("div",{staticClass:"mr-widget-grouped-section"},[e.isLoadingExpanded?n("div",{staticClass:"report-block-container"},[n("gl-loading-icon",{attrs:{inline:""}}),e._v(" "+e._s(e.__("Loading..."))+"\n    ")],1):e.fullData?n("smart-virtual-list",{staticClass:"report-block-container",attrs:{length:e.fullData.length,remain:20,size:32,wtag:"ul",wclass:"report-block-list"}},e._l(e.fullData,(function(t){return n("li",{key:t.id,staticClass:"d-flex align-items-center"},[t.icon?n("div",{staticClass:"d-flex",class:t.icon.class},[n("gl-icon",{attrs:{name:t.icon.name,size:24}})],1):e._e(),e._v(" "),n("div",{staticClass:"gl-mt-2 gl-mb-2 align-content-around align-items-start flex-wrap align-self-center d-flex"},[n("div",{staticClass:"gl-mr-4"},[e._v("\n            "+e._s(t.text)+"\n          ")]),e._v(" "),t.link?n("div",[n("gl-link",{attrs:{href:t.link.href}},[e._v(e._s(t.link.text))])],1):e._e(),e._v(" "),t.badge?n("gl-badge",{attrs:{variant:t.badge.variant||"info"}},[e._v("\n            "+e._s(t.badge.text)+"\n          ")]):e._e()],1)])})),0):e._e()],1)])}),[],!1,null,null,null).exports;function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function wc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach((function(t){Oc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kc=[];var Sc=n("3SQb"),jc=n.n(Sc),Cc=n("1Pjf"),xc=n.n(Cc),Ec={name:"WidgetIssues",props:["targetProjectFullPath"],computed:{summary:e=>"<strong>".concat(e,"</strong> open issue"),statusIcon:e=>e>0?"warning":"success"},methods:{fetchCollapsedData(e){let{targetProjectFullPath:t}=e;return this.$apollo.query({query:jc.a,variables:{projectPath:t}}).then((function(e){let{data:t}=e;return t.project.issues.count}))},fetchFullData(e){let{targetProjectFullPath:t}=e;return this.$apollo.query({query:xc.a,variables:{projectPath:t}}).then((function(e){let{data:t}=e;return t.project.issues.nodes.map((function(e){return{id:e.id,text:e.title,icon:{name:"closed"===e.state?"status_failed_borderless":"status_success_borderless",class:"closed"===e.state?"text-danger":"text-success"},badge:"closed"===e.state&&{text:"Closed"}}}))}))}}};function Dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}d.default.use(hc.a),d.default.use(Zi.default);const Nc=new Zi.default({defaultClient:Object(fc.default)({},{assumeImmutableResults:!0})});var Ic=function(){if(gl.mrWidget)return;var e;gl.mrWidgetData.gitlabLogo=gon.gitlab_logo,gl.mrWidgetData.defaultAvatarUrl=gon.default_avatar_url,e=Ec,kc.push({extends:yc,name:e.name,props:e.props,computed:wc({},Object.keys(e.computed).reduce((function(t,n){return wc(wc({},t),{},{[n]:()=>e.computed[n]})}),{})),methods:wc({},e.methods)});const t=new d.default(Pc(Pc({el:"#js-vue-mr-widget",provide:{artifactsEndpoint:gl.mrWidgetData.artifacts_endpoint,artifactsEndpointPlaceholder:gl.mrWidgetData.artifacts_endpoint_placeholder}},dc),{},{apolloProvider:Nc}));window.gl.mrWidget={checkStatus:t.checkStatus}};function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Rc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(n),!0).forEach((function(t){Ac(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ac(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fc=function(){new d.default({el:"#js-vue-mr-discussions",name:"MergeRequestDiscussions",components:{notesApp:Ji.a},store:h.default,data(){const e=document.getElementById("js-vue-mr-discussions").dataset,t=JSON.parse(e.noteableData);return t.noteableType=e.noteableType,t.targetType=e.targetType,t.discussion_locked=Object(G.K)(e.isLocked),{noteableData:t,endpoints:{metadata:e.endpointMetadata},currentUserData:JSON.parse(e.currentUserData),notesData:JSON.parse(e.notesData),helpPagePath:e.helpPagePath}},computed:Rc(Rc(Rc({},Object(f.d)(["discussionTabCounter"])),Object(f.f)({activeTab:function(e){return e.page.activeTab}})),{},{isShowTabActive(){return"show"===this.activeTab}}),watch:{discussionTabCounter(){this.updateDiscussionTabCounter()},isShowTabActive:{handler(e){e&&Ic()},immediate:!0}},created(){this.setActiveTab(window.mrTabs.getCurrentAction()),this.setEndpoints(this.endpoints),this.fetchMrMetadata()},mounted(){this.notesCountBadge=Fn()(".issuable-details").find(".notes-tab .badge"),Fn()(document).on("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$on("MergeRequestTabChange",this.setActiveTab)},beforeDestroy(){Fn()(document).off("visibilitychange",this.updateDiscussionTabCounter),window.mrTabs.eventHub.$off("MergeRequestTabChange",this.setActiveTab)},methods:Rc(Rc({},Object(f.c)(["setActiveTab","setEndpoints","fetchMrMetadata"])),{},{updateDiscussionTabCounter(){this.notesCountBadge.text(this.discussionTabCounter)}}),render(e){return e(Xi,[e("notes-app",{props:{noteableData:this.noteableData,notesData:this.notesData,userData:this.currentUserData,shouldShow:this.isShowTabActive,helpPagePath:this.helpPagePath}})])}})};var qc=n("Gn8k"),Mc=n("Pevy"),Bc=n("/ode"),$c=n("TD9T"),Vc=n("UtYG"),Uc=n("OK+K"),Gc=n("0hjN"),Hc=n("6fAW"),zc=n("U5ZW"),Wc=n("Ylta"),Qc=n("H6vW"),Kc=n.n(Qc);!function(){const e=document.getElementById("js-vue-awards-block");new Wc.a,Object(Uc.a)(),Object(Vc.a)(),new $c.a(!0),Object(G.t)(),Object(zc.a)(),e?n.e(143).then(n.bind(null,"04gX")).then((function(t){return t.default(e)})).catch((function(){})):Object(Bc.b)(),Object(Gc.a)(),Object(Hc.a)();const t=document.querySelector(".js-mr-status-box"),i=new Zi.default({defaultClient:Object(fc.default)()});new d.default({el:t,apolloProvider:i,provide:{query:Kc.a,projectPath:t.dataset.projectPath,iid:t.dataset.iid},render:e=>e(Sr.a,{props:{initialState:t.dataset.state}})})}(),Object(qc.a)(),function(){Object(Ii.a)();const e=document.querySelector(".merge-request");new Li.a({action:e.dataset.mrAction}),Fc(),document.addEventListener("merged:UpdateActions",(function(){Object($.a)(),Object(B.a)()})),new d.default({el:"#js-vue-discussion-counter",name:"DiscussionCounter",components:{discussionCounter:Wi},store:h.default,render:e=>e("discussion-counter")}),Object(Qi.a)(h.default),Object(Ki.a)(h.default),function(e){const t=document.getElementById("js-diff-file-finder");t&&new d.default({el:t,store:e,computed:Ti(Ti({},Object(f.f)("diffs",["fileFinderVisible","isLoading"])),Object(f.d)("diffs",["flatBlobsList"])),watch:{fileFinderVisible(e,t){!e||t||this.flatBlobsList.length||z.a.$emit("fetchDiffData")}},methods:Ti(Ti({},Object(f.c)("diffs",["toggleFileFinder","scrollToFile"])),{},{openFile(e){window.mrTabs.tabShown("diffs"),this.scrollToFile(e.path)}}),render(e){return e(H.default,{props:{files:this.flatBlobsList,visible:this.fileFinderVisible,loading:this.isLoading,showDiffStats:!0,clearSearchOnClose:!1},on:{toggle:this.toggleFileFinder,click:this.openFile},class:["diff-file-finder"],style:{display:this.fileFinderVisible?"":"none"}})}}),new d.default({el:"#js-diffs-app",name:"MergeRequestDiffs",components:{diffsApp:Ei},store:e,data(){const{dataset:e}=document.querySelector(this.$options.el);return{endpoint:e.endpoint,endpointMetadata:e.endpointMetadata||"",endpointBatch:e.endpointBatch||"",endpointCoverage:e.endpointCoverage||"",endpointCodequality:e.endpointCodequality||"",endpointUpdateUser:e.updateCurrentUserPath,projectPath:e.projectPath,helpPagePath:e.helpPagePath,currentUser:JSON.parse(e.currentUserData)||{},changesEmptyStateIllustration:e.changesEmptyStateIllustration,isFluidLayout:Object(G.K)(e.isFluidLayout),dismissEndpoint:e.dismissEndpoint,showSuggestPopover:Object(G.K)(e.showSuggestPopover),showWhitespaceDefault:Object(G.K)(e.showWhitespaceDefault),viewDiffsFileByFile:Object(G.K)(e.fileByFileDefault),defaultSuggestionCommitMessage:e.defaultSuggestionCommitMessage}},computed:Ti({},Object(f.f)({activeTab:function(e){return e.page.activeTab}})),created(){const e=localStorage.getItem(b.Db),t=null===e||Object(G.K)(e);if(this.setRenderTreeList(t),!U.a.get(b.y)){const e=this.showWhitespaceDefault?"0":"1";this.setShowWhitespace({showWhitespace:"1"!==e})}},methods:Ti({},Object(f.c)("diffs",["setRenderTreeList","setShowWhitespace"])),render(e){const{mrPath:t}=Object(Di.a)({endpoint:this.endpoint});return e("diffs-app",{props:{endpoint:this.endpoint,endpointMetadata:this.endpointMetadata,endpointBatch:this.endpointBatch,endpointCoverage:this.endpointCoverage,endpointCodequality:this.endpointCodequality,endpointUpdateUser:this.endpointUpdateUser,currentUser:this.currentUser,projectPath:this.projectPath,helpPagePath:this.helpPagePath,shouldShow:"diffs"===this.activeTab,changesEmptyStateIllustration:this.changesEmptyStateIllustration,isFluidLayout:this.isFluidLayout,dismissEndpoint:this.dismissEndpoint,showSuggestPopover:this.showSuggestPopover,fileByFileUserPreference:this.viewDiffsFileByFile,defaultSuggestionCommitMessage:this.defaultSuggestionCommitMessage,rehydratedMrReviews:Object(ae.a)(t)}})}})}(h.default)}(),function(){const e=document.getElementById("js-review-bar");new d.default({el:e,store:h.default,mounted(){this.fetchDrafts()},methods:q({},Object(f.c)("batchComments",["fetchDrafts"])),render:e=>e(A)})}(),Object(Mc.a)(h.default)},gAdM:function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},gNBD:function(e,t,n){var i=n("ZfjD"),r=n("H81m"),s=n("b05b");i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){s(t,e,n)}),{AS_ENTRIES:!0}),t}})},"gO+Z":function(e,t,n){var i=n("xJuT"),r=n("7LQ5");e.exports=function(e,t){return i(e,r(e),t)}},gc4y:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"timeTrackingReport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"MergeRequestID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timelogs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TimelogFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:266}};i.loc.source={body:'#import "~/graphql_shared/fragments/issuable_timelogs.fragment.graphql"\n\nquery timeTrackingReport($id: MergeRequestID!) {\n  issuable: mergeRequest(id: $id) {\n    __typename\n    id\n    title\n    timelogs {\n      nodes {\n        ...TimelogFragment\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};i.definitions=i.definitions.concat(n("+YT9").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)})));var s={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),s[e.name.value]=t}})),e.exports=i,e.exports.timeTrackingReport=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(s[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(i,"timeTrackingReport")},geB2:function(e,t,n){"use strict";n("FHWC")},gjRm:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("jB52"),r=n("NmEs"),s=n("OneA"),a=n("FyMq"),o=n("eaMP");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){const e=document.querySelector(".js-cherry-pick-commit-modal");if(!e)return!1;const{title:t,endpoint:n,branch:l,targetProjectId:u,targetProjectName:d,pushCode:f,branchCollaboration:h,existingBranch:p,branchesEndpoint:m,projects:g}=e.dataset,v=Object(o.a)({endpoint:n,branchesEndpoint:m,branch:l,targetProjectId:u,targetProjectName:d,pushCode:Object(r.K)(f),branchCollaboration:Object(r.K)(h),defaultBranch:l,modalTitle:t,existingBranch:p,projects:Object(r.h)(JSON.parse(g),{deep:!0})});return new i.default({el:e,store:v,render:function(e){return e(s.a,{props:{i18n:c(c({},a.d),a.e),openModal:a.j,modalId:a.a,isCherryPick:!0}})}})}},gjpc:function(e,t,n){"use strict";n.r(t);var i=n("CX32");new(n("ZeWX").a),new i.a},gvRd:function(e,t,n){"use strict";var i=n("s1D3"),r=n("4lAS"),s=n("TBBL"),a=n("LLbv"),o=n("R0j4"),l=n("EmJ/"),c=n.n(l),u=n("yi8e"),d={computed:{canSeeDescriptionVersion(){},displayDeleteButton(){},shouldShowDescriptionVersion(){},descriptionVersionToggleIcon(){}},methods:{toggleDescriptionVersion(){},deleteDescriptionVersion(){}}},f=n("/lV4"),h=n("lzIs"),p=n("TNeE"),m=n("sHIo"),g=n("NmEs"),v=n("OgyL");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={i18n:{deleteButtonLabel:Object(f.a)("Remove description history")},name:"SystemNote",components:{GlIcon:i.a,noteHeader:p.a,TimelineEntryItem:v.a,GlButton:r.a,GlSkeletonLoading:s.a},directives:{GlTooltip:a.a,SafeHtml:o.a},mixins:[d,Object(m.a)()],props:{note:{type:Object,required:!0}},data:()=>({expanded:!1}),computed:y(y(y({},Object(u.d)(["targetNoteHash","descriptionVersions"])),Object(u.f)(["isLoadingDescriptionVersion"])),{},{noteAnchorId(){return"note_".concat(this.note.id)},isTargetNote(){return this.targetNoteHash===this.noteAnchorId},iconHtml(){return Object(g.T)(this.note.system_note_icon_name)},toggleIcon(){return this.expanded?"chevron-up":"chevron-down"},actionTextHtml(){return c()(this.note.note_html).unwrap().html()},hasMoreCommits(){return c()(this.note.note_html).filter("ul").children().length>3},descriptionVersion(){return this.descriptionVersions[this.note.description_version_id]}}),mounted(){Object(h.default)(this.$el.querySelectorAll(".gfm-merge_request"))},methods:y({},Object(u.c)(["fetchDescriptionVersion","softDeleteDescriptionVersion"]))},O=n("tBpV"),k=Object(O.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note system-note note-wrapper",class:{target:e.isTargetNote,"pr-0":e.shouldShowDescriptionVersion},attrs:{id:e.noteAnchorId}},[n("div",{staticClass:"timeline-icon",domProps:{innerHTML:e._s(e.iconHtml)}}),e._v(" "),n("div",{staticClass:"timeline-content"},[n("div",{staticClass:"note-header"},[n("note-header",{attrs:{author:e.note.author,"created-at":e.note.created_at,"note-id":e.note.id}},[n("span",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.actionTextHtml,expression:"actionTextHtml"}]}),e._v(" "),e.canSeeDescriptionVersion?n("template",{slot:"extra-controls"},[e._v("\n          \n          "),n("gl-button",{attrs:{variant:"link",icon:e.descriptionVersionToggleIcon,"data-testid":"compare-btn"},on:{click:e.toggleDescriptionVersion}},[e._v(e._s(e.__("Compare with previous version")))])],1):e._e()],2)],1),e._v(" "),n("div",{staticClass:"note-body"},[n("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.note.note_html,expression:"note.note_html"}],staticClass:"note-text md",class:{"system-note-commit-list":e.hasMoreCommits,"hide-shade":e.expanded}}),e._v(" "),e.hasMoreCommits?n("div",{staticClass:"flex-list"},[n("div",{staticClass:"system-note-commit-list-toggler flex-row",on:{click:function(t){e.expanded=!e.expanded}}},[n("gl-icon",{staticClass:"gl-mr-2",attrs:{name:e.toggleIcon,size:8}}),e._v(" "),n("span",[e._v(e._s(e.__("Toggle commit list")))])],1)]):e._e(),e._v(" "),e.shouldShowDescriptionVersion?n("div",{staticClass:"description-version pt-2"},[e.isLoadingDescriptionVersion?n("pre",{staticClass:"loading-state"},[e._v("          "),n("gl-skeleton-loading"),e._v("\n        ")],1):n("pre",{directives:[{name:"safe-html",rawName:"v-safe-html",value:e.descriptionVersion,expression:"descriptionVersion"}],staticClass:"wrapper mt-2"}),e._v(" "),e.displayDeleteButton?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"delete-description-history",attrs:{title:e.$options.i18n.deleteButtonLabel,"aria-label":e.$options.i18n.deleteButtonLabel,variant:"default",category:"tertiary",icon:"remove","data-testid":"delete-description-version-button"},on:{click:e.deleteDescriptionVersion}}):e._e()],1):e._e()])])])}),[],!1,null,null,null);t.a=k.exports},gwU4:function(e,t,n){"use strict";n("orcL");var i=n("sGwS"),r=n("SsIm");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={name:"DynamicScroller",components:{RecycleScroller:i.a},inheritAttrs:!1,provide(){return"undefined"!=typeof ResizeObserver&&(this.$_resizeObserver=new ResizeObserver((function(e){for(const t of e)if(t.target){const e=new CustomEvent("resize",{detail:{contentRect:t.contentRect}});t.target.dispatchEvent(e)}}))),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},props:a(a({},r.a),{},{minItemSize:{type:[Number,String],required:!0}}),data(){return{vscrollData:{active:!0,sizes:{},validSizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray:r.b,itemsWithSize(){const e=[],{items:t,keyField:n,simpleArray:i}=this,r=this.vscrollData.sizes;for(let s=0;s<t.length;s++){const a=t[s],o=i?s:a[n];let l=r[o];void 0!==l||this.$_undefinedMap[o]||(l=0),e.push({item:a,id:o,size:l})}return e},listeners(){const e={};for(const t in this.$listeners)"resize"!==t&&"visible"!==t&&(e[t]=this.$listeners[t]);return e}},watch:{items(){this.forceUpdate(!1)},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)}},created(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={}},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit("resize")},onScrollerVisible(){this.$emit("vscroll:update",{force:!1}),this.$emit("visible")},forceUpdate(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]||this.simpleArray)&&(this.vscrollData.validSizes={}),this.$emit("vscroll:update",{force:!0})},scrollToItem(e){const t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const n=this.simpleArray?null!=t?t:this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){var e=this;if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;const t=this.$el;this.$nextTick((function(){t.scrollTop=t.scrollHeight+5e3;requestAnimationFrame((function n(){t.scrollTop=t.scrollHeight+5e3,requestAnimationFrame((function(){t.scrollTop=t.scrollHeight+5e3,0===e.$_undefinedSizes?e.$_scrollingToBottom=!1:requestAnimationFrame(n)}))}))}))}}},c=n("tBpV"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("RecycleScroller",e._g(e._b({ref:"scroller",attrs:{items:e.itemsWithSize,"min-item-size":e.minItemSize,direction:e.direction,"key-field":"id"},on:{resize:e.onScrollerResize,visible:e.onScrollerVisible},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item,i=t.index,r=t.active;return[e._t("default",null,null,{item:n.item,index:i,active:r,itemWithSize:n})]}}],null,!0)},"RecycleScroller",e.$attrs,!1),e.listeners),[e._v(" "),n("template",{slot:"before"},[e._t("before")],2),e._v(" "),n("template",{slot:"after"},[e._t("after")],2)],2)}),[],!1,null,null,null);t.a=u.exports},"h/fo":function(e,t,n){"use strict";var i=n("/lV4"),r={name:"ReplyPlaceholder",props:{placeholderText:{type:String,required:!1,default:Object(i.a)("Reply")},labelText:{type:String,required:!1,default:Object(i.a)("Reply to comment")}}},s=n("tBpV"),a=Object(s.a)(r,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{ref:"textarea",staticClass:"reply-placeholder-text-field js-vue-discussion-reply",attrs:{rows:"1",placeholder:e.placeholderText,"aria-label":e.labelText},on:{focus:function(t){return e.$emit("focus")}}})}),[],!1,null,null,null);t.a=a.exports},haxF:function(e,t,n){var i=n("XCkn"),r=Object.create,s=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=s},hqF9:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("NmEs"),r=n("QwBj");class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,this.options.data=e.data||{},this.options.notificationCallback=e.notificationCallback||function(){},this.intervalHeader="POLL-INTERVAL",this.timeoutID=null,this.canPoll=!0}checkConditions(e){var t=this;const n=Object(i.I)(e.headers),s=parseInt(n[this.intervalHeader],10);s>0&&-1!==r.b.indexOf(e.status)&&this.canPoll&&(this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){t.makeRequest()}),s)),this.options.successCallback(e)}makeDelayedRequest(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.timeoutID=setTimeout((function(){return e.makeRequest()}),t)}makeRequest(){var e=this;const{resource:t,method:n,data:i,errorCallback:s,notificationCallback:a}=this.options;return a(!0),t[n](i).then((function(t){e.checkConditions(t),a(!1)})).catch((function(e){a(!1),e.status!==r.a.ABORTED&&s(e)}))}stop(){this.canPoll=!1,clearTimeout(this.timeoutID)}enable(e){e&&e.data&&(this.options.data=e.data),this.canPoll=!0,e&&e.response&&this.checkConditions(e.response)}restart(e){this.enable(e),this.makeRequest()}}},i3g2:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f}));n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl"),n("orcL");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return"".concat(e,"-file-reviews")}function o(e,t){const n=e[t.file_identifier_hash];return!!((null==t?void 0:t.id)&&(null==n?void 0:n.length))&&new Set(n).has(t.id)}function l(e,t){return e.reduce((function(e,n){return r(r({},e),{},{[n.id]:o(t,n)})}),{})}function c(e){const t=localStorage.getItem(a(e));let n={};if(t)try{n=JSON.parse(t)}catch(e){n={}}return n}function u(e,t){return localStorage.setItem(a(e),JSON.stringify(t)),t}function d(e){return Boolean(e.id)&&Boolean(e.file_identifier_hash)}function f(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=r({},e||{}),s=i;let a;return d(t)&&(a=new Set(i[t.file_identifier_hash]||[]),n?a.add(t.id):a.delete(t.id),s[t.file_identifier_hash]=Array.from(a),0===s[t.file_identifier_hash].length&&delete s[t.file_identifier_hash]),s}},i3lA:function(e,t,n){"use strict";var i=n("EmJ/"),r=n.n(i),s=n("06tH"),a=n.n(s),o=n("nc9B"),l=n("XRO8"),c=n("2ibD"),u=n("/lV4");function d(){this.toggleTodo=this.toggleTodo.bind(this),this.sidebar=r()("aside"),this.removeListeners(),this.addEventListeners()}d.initialize=function(){this.instance||(this.instance=new d)},d.prototype.removeListeners=function(){this.sidebar.off("click",".sidebar-collapsed-icon"),this.sidebar.off("hidden.gl.dropdown"),this.sidebar.off("hiddenGlDropdown"),r()(".dropdown").off("loading.gl.dropdown"),r()(".dropdown").off("loaded.gl.dropdown"),r()(document).off("click",".js-sidebar-toggle")},d.prototype.addEventListeners=function(){const e=r()(document);return this.sidebar.on("click",".sidebar-collapsed-icon",this,this.sidebarCollapseClicked),this.sidebar.on("hidden.gl.dropdown",this,this.onSidebarDropdownHidden),this.sidebar.on("hiddenGlDropdown",this,this.onSidebarDropdownHidden),e.on("click",".js-sidebar-toggle",this.sidebarToggleClicked),r()(document).off("click",".js-issuable-todo").on("click",".js-issuable-todo",this.toggleTodo)},d.prototype.sidebarToggleClicked=function(e,t){const n=r()(this),i=r()(".js-sidebar-collapse"),s=r()(".js-sidebar-expand"),o=r()(".js-sidebar-toggle-container"),l=o.data("is-expanded"),c=l?Object(u.a)("Expand sidebar"):Object(u.a)("Collapse sidebar");e.preventDefault(),l?(o.data("is-expanded",!1),i.addClass("hidden"),s.removeClass("hidden"),r()("aside.right-sidebar").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed"),r()(".layout-page").removeClass("right-sidebar-expanded").addClass("right-sidebar-collapsed")):(o.data("is-expanded",!0),s.addClass("hidden"),i.removeClass("hidden"),r()("aside.right-sidebar").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded"),r()(".layout-page").removeClass("right-sidebar-collapsed").addClass("right-sidebar-expanded")),n.attr("data-original-title",c),t||a.a.set("collapsed_gutter",r()(".right-sidebar").hasClass("right-sidebar-collapsed"))},d.prototype.toggleTodo=function(e){var t=this;const n=r()(e.currentTarget),i=n.data("deletePath")?"delete":"post",s=String(n.data("deletePath")||n.data("createPath"));Object(o.d)(n),r()(".js-issuable-todo").disable().addClass("is-loading"),c.a[i](s,{issuable_id:n.data("issuableId"),issuable_type:n.data("issuableType")}).then((function(e){let{data:n}=e;t.todoUpdateDone(n)})).catch((function(){return Object(l.c)(Object(u.f)(Object(u.a)("There was an error %{message} todo."),{message:"post"===i?Object(u.e)("RightSidebar|adding a"):Object(u.e)("RightSidebar|deleting the")}))}))},d.prototype.todoUpdateDone=function(e){const t=e.delete_path?e.delete_path:null,n=t?"mark":"todo",i=r()(".js-issuable-todo");r()(document).trigger("todo:toggle",e.count),i.each((function(e,i){const s=r()(i),a=s.find(".js-issuable-todo-inner");s.removeClass("is-loading").enable().attr("aria-label",s.data("".concat(n,"Text"))).attr("title",s.data("".concat(n,"Text"))).data("deletePath",t),s.hasClass("has-tooltip")&&Object(o.c)(i),void 0!==s.data("isCollapsed")?a.html(s.data("".concat(n,"Icon"))):a.text(s.data("".concat(n,"Text")))}))},d.prototype.sidebarCollapseClicked=function(e){if(r()(e.currentTarget).hasClass("dont-change-state"))return;const t=e.data;e.preventDefault();const n=r()(this).closest(".block");return t.openDropdown(n)},d.prototype.openDropdown=function(e){const t="string"==typeof e?this.getBlock(e):e;this.isOpen()||(this.setCollapseAfterUpdate(t),this.toggleSidebar("open")),setTimeout((function(){t.find(".js-sidebar-dropdown-toggle").trigger("click")}))},d.prototype.setCollapseAfterUpdate=function(e){return e.addClass("collapse-after-update"),r()(".layout-page").addClass("with-overlay")},d.prototype.onSidebarDropdownHidden=function(e){const t=e.data;e.preventDefault();const n=r()(e.target).closest(".block");return t.sidebarDropdownHidden(n)},d.prototype.sidebarDropdownHidden=function(e){if(e.hasClass("collapse-after-update"))return e.removeClass("collapse-after-update"),r()(".layout-page").removeClass("with-overlay"),this.toggleSidebar("hide")},d.prototype.triggerOpenSidebar=function(){return this.sidebar.find(".js-sidebar-toggle").trigger("click")},d.prototype.toggleSidebar=function(e){if(null==e&&(e="toggle"),"toggle"===e&&this.triggerOpenSidebar(),"open"===e&&(this.isOpen()||this.triggerOpenSidebar()),"hide"===e&&this.isOpen())return this.triggerOpenSidebar()},d.prototype.isOpen=function(){return this.sidebar.is(".right-sidebar-expanded")},d.prototype.getBlock=function(e){return this.sidebar.find(".block.".concat(e))},t.a=d},i7S8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));const i=200,r="invite_members_in_comment"},iN9h:function(e,t,n){"use strict";var i=n("3A1J"),r=n("PrLL"),s=n("s1D3"),a=n("FkSe"),o=n("Pyw5"),l=n.n(o);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f={components:{GlClearIconButton:i.a,GlIcon:s.a,GlFormInput:r.a,GlLoadingIcon:a.a},inheritAttrs:!1,model:{prop:"value",event:"input"},props:{value:{type:String,required:!1,default:""},clearButtonTitle:{type:String,required:!1,default:"Clear"},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},tooltipContainer:{required:!1,default:!1,validator:function(e){return!1===e||"string"==typeof e||e instanceof HTMLElement}}},computed:{inputAttributes:function(){var e=d({type:"text",placeholder:"Search"},this.$attrs);return e["aria-label"]||(e["aria-label"]=e.placeholder),e},hasValue:function(){return Boolean(this.value.length)},inputListeners:function(){var e=this;return d(d({},this.$listeners),{},{input:function(t){e.$emit("input",t)}})},showClearButton:function(){return this.hasValue&&!this.disabled}},methods:{clearInput:function(){this.$emit("input",""),this.focusInput()},focusInput:function(){this.$refs.input.$el.focus()}}};const h=l()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-search-box-by-type"},[n("gl-icon",{staticClass:"gl-search-box-by-type-search-icon",attrs:{name:"search"}}),e._v(" "),n("gl-form-input",e._g(e._b({ref:"input",staticClass:"gl-search-box-by-type-input",attrs:{value:e.value,disabled:e.disabled}},"gl-form-input",e.inputAttributes,!1),e.inputListeners)),e._v(" "),n("div",{staticClass:"gl-search-box-by-type-right-icons"},[e.isLoading?n("gl-loading-icon",{staticClass:"gl-search-box-by-type-loading-icon"}):e._e(),e._v(" "),e.showClearButton?n("gl-clear-icon-button",{staticClass:"gl-search-box-by-type-clear gl-clear-icon-button",attrs:{title:e.clearButtonTitle,"tooltip-container":e.tooltipContainer},on:{click:function(t){return t.stopPropagation(),e.clearInput(t)}}}):e._e()],1)],1)},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},iNcF:function(e,t,n){(function(e){var i=n("/wvS"),r=t&&!t.nodeType&&t,s=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===r?i.Buffer:void 0,o=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=o?o(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("Fs+f")(e))},ib6H:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-row-stats {\n  font-size: 12px;\n}\n",""])},ivyP:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i=n("/lV4");const r={CRITICAL:{value:"CRITICAL",icon:"critical",label:Object(i.e)("IncidentManagement|Critical - S1")},HIGH:{value:"HIGH",icon:"high",label:Object(i.e)("IncidentManagement|High - S2")},MEDIUM:{value:"MEDIUM",icon:"medium",label:Object(i.e)("IncidentManagement|Medium - S3")},LOW:{value:"LOW",icon:"low",label:Object(i.e)("IncidentManagement|Low - S4")},UNKNOWN:{value:"UNKNOWN",icon:"unknown",label:Object(i.e)("IncidentManagement|Unknown")}},s={INCIDENT:"incident"},a={UPDATE_SEVERITY_ERROR:Object(i.e)("SeverityWidget|There was an error while updating severity."),TRY_AGAIN:Object(i.a)("Please try again"),EDIT:Object(i.a)("Edit"),SEVERITY:Object(i.e)("SeverityWidget|Severity"),SEVERITY_VALUE:Object(i.e)("SeverityWidget|Severity: %{severity}")}},j00k:function(e,t,n){"use strict";var i=n("XBTk"),r=n("s1D3"),s=n("FkSe"),a=n("Pyw5"),o=n.n(a),l=0;const c={components:{GlIcon:r.a,GlLoadingIcon:s.a},model:{prop:"value",event:"change"},props:{name:{type:String,required:!1,default:null},value:{type:Boolean,required:!1,default:null},disabled:{type:Boolean,required:!1,default:!1},isLoading:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:void 0},help:{type:String,required:!1,default:void 0},labelPosition:{type:String,required:!1,default:"top",validator:function(e){return Object.values(i.B).includes(e)}}},computed:{icon:function(){return this.value?"mobile-issue-close":"close"},shouldShowLabel:function(){return this.label&&"hidden"!==this.labelPosition},helpId:function(){return this.help?"toggle-help-".concat(this.uuid):void 0}},beforeCreate:function(){this.uuid=l,l+=1},methods:{toggleFeature:function(){this.disabled||this.$emit("change",!this.value)}}};const u=o()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{staticClass:"gl-display-flex gl-flex-direction-column gl-mb-0 gl-w-max-content"},[n("span",{staticClass:"gl-toggle-wrapper",class:{"gl-toggle-label-inline":"left"===e.labelPosition,"is-disabled":e.disabled}},[e.shouldShowLabel?n("span",{staticClass:"gl-toggle-label",attrs:{"data-testid":"toggle-label"}},[e._t("label",[e._v(e._s(e.label))])],2):e._e(),e._v(" "),e.name?n("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.value}}):e._e(),e._v(" "),n("button",{class:{"gl-toggle":!0,"is-checked":e.value,"is-disabled":e.disabled},attrs:{role:"switch","aria-checked":e.value,"aria-label":e.label,"aria-describedby":e.helpId,type:"button"},on:{click:function(t){return t.preventDefault(),e.toggleFeature(t)}}},[e.isLoading?n("gl-loading-icon",{staticClass:"toggle-loading",attrs:{color:"light"}}):n("span",{class:{"toggle-icon":!0,disabled:e.disabled}},[n("gl-icon",{attrs:{name:e.icon,size:16}})],1)],1)]),e._v(" "),e.help?n("span",{staticClass:"gl-help-label",attrs:{id:e.helpId,"data-testid":"toggle-help"}},[e._t("help",[e._v(e._s(e.help))])],2):e._e()])},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=u},jl6Z:function(e,t,n){"use strict";var i=n("XBTk"),r=n("Qog8"),s=n("s1D3"),a=n("MV2A"),o=n("DZUU"),l=n("Pyw5"),c=n.n(l);const u={components:{GlLink:a.a,GlTooltip:o.a,GlIcon:s.a},props:{backgroundColor:{type:String,required:!0,validator:function(e){return/^(#|rgb|rgba)/.test(e)}},title:{type:String,required:!0,default:""},description:{type:String,required:!1,default:""},size:{type:String,required:!1,default:""},tooltipPlacement:{type:String,required:!1,default:"top"},target:{type:String,required:!1,default:"#"},scoped:{type:Boolean,required:!1,default:!1},showCloseButton:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{splitScopedLabelIndex:this.title.lastIndexOf("::")}},computed:{cssClasses:function(){var e=Object(r.a)(this.backgroundColor);return{"gl-label-sm":"sm"===this.size,"gl-label-scoped":this.scoped,"gl-label-text-dark":e===i.q.dark,"gl-label-text-light":e===i.q.light}},cssVariables:function(){return{"--label-background-color":this.backgroundColor,"--label-inset-border":"inset 0 0 0 ".concat("sm"===this.size?"1px":"2px"," ").concat(this.backgroundColor)}},scopedKey:function(){return this.scoped?this.title.slice(0,this.splitScopedLabelIndex):this.title},scopedValue:function(){return this.title.slice(this.splitScopedLabelIndex+2)},closeIconSize:function(){return"sm"===this.size?12:16}},watch:{title:function(){this.splitScopedLabelIndex=this.title.lastIndexOf("::")}}};const d=c()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._b({ref:"labelTitle",staticClass:"gl-label",class:e.cssClasses,style:e.cssVariables,on:{click:function(t){return e.$emit("click",t)}}},"span",e.$attrs,!1),[n("gl-link",{staticClass:"gl-label-link",attrs:{href:e.target}},[n("span",{staticClass:"gl-label-text"},[e._v("\n      "+e._s(e.scopedKey)+"\n    ")]),e._v(" "),e.scoped&&e.scopedValue?n("span",{staticClass:"gl-label-text-scoped"},[e._v("\n      "+e._s(e.scopedValue)+"\n    ")]):e._e()]),e._v(" "),e.showCloseButton?n("button",{staticClass:"gl-label-close",attrs:{type:"button",disabled:e.disabled},on:{click:function(t){return e.$emit("close",t)}}},[n("gl-icon",{attrs:{name:"close",size:e.closeIconSize}}),e._v(" "),n("span",{staticClass:"gl-sr-only"},[e._v("Remove label")])],1):e._e(),e._v(" "),e.description?n("gl-tooltip",{attrs:{target:function(){return e.$refs.labelTitle},placement:e.tooltipPlacement,boundary:"viewport"}},[e.scoped?n("span",{staticClass:"gl-label-tooltip-title"},[e._v("Scoped label")]):e._e(),e._v("\n    "+e._s(e.description)+"\n  ")]):e._e()],1)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=d},jltb:function(e,t,n){"use strict";var i=n("s1D3"),r=n("4lAS"),s=n("FkSe"),a=n("LLbv"),o=n("XRO8"),l=n("2ibD"),c=n("GuZl"),u=n("0AwG"),d=n("/lV4"),f=n("71Sp"),h={components:{GlIcon:i.a,GlButton:r.a,GlLoadingIcon:s.a},directives:{GlTooltip:a.a},props:{tooltipText:{type:String,required:!0},link:{type:String,required:!0},actionIcon:{type:String,required:!0}},data:()=>({isDisabled:!1,isLoading:!1}),computed:{cssClass(){const e=Object(u.h)(this.actionIcon);return"".concat(e," js-icon-").concat(e)}},errorCaptured(e,t,n){Object(f.d)("action_component","error: ".concat(e,", info: ").concat(n))},methods:{onClickAction(){var e=this;this.$root.$emit(c.b,"js-ci-action-".concat(this.link)),this.isDisabled=!0,this.isLoading=!0,l.a.post("".concat(this.link,".json")).then((function(){e.isDisabled=!1,e.isLoading=!1,e.$emit("pipelineActionRequestComplete")})).catch((function(t){e.isDisabled=!1,e.isLoading=!1,Object(f.d)("action_component",t),Object(o.c)(Object(d.a)("An error occurred while making the request."))}))}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{boundary:"viewport"},expression:"{ boundary: 'viewport' }"}],staticClass:"js-ci-action gl-ci-action-icon-container ci-action-icon-container ci-action-icon-wrapper gl-display-flex gl-align-items-center gl-justify-content-center",class:e.cssClass,attrs:{id:"js-ci-action-"+e.link,title:e.tooltipText,disabled:e.isDisabled},on:{click:function(t){return t.stopPropagation(),e.onClickAction(t)}}},[e.isLoading?n("gl-loading-icon",{staticClass:"js-action-icon-loading"}):n("gl-icon",{staticClass:"gl-mr-0!",attrs:{name:e.actionIcon,"aria-label":e.actionIcon}})],1)}),[],!1,null,null,null);t.a=m.exports},joDH:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReadyToMerge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"onlyAllowMergeIfPipelineSucceeds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequestsFfOnlyEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashReadOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoMergeEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRemoveSourceBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forceRemoveSourceBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultMergeCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultMergeCommitMessageWithDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultSquashCommitMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squash"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"squashOnMerge"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"availableAutoMergeStrategies"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasCi"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeWhenPipelineSucceeds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"diffHeadSha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeSourceBranch"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"targetBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeError"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"commitsWithoutMergeCommits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sha"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"headPipeline"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"path"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"active"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:757}};n.loc.source={body:"fragment ReadyToMerge on Project {\n  onlyAllowMergeIfPipelineSucceeds\n  mergeRequestsFfOnlyEnabled\n  squashReadOnly\n  mergeRequest(iid: $iid) {\n    autoMergeEnabled\n    shouldRemoveSourceBranch\n    forceRemoveSourceBranch\n    defaultMergeCommitMessage\n    defaultMergeCommitMessageWithDescription\n    defaultSquashCommitMessage\n    squash\n    squashOnMerge\n    availableAutoMergeStrategies\n    hasCi\n    mergeable\n    mergeWhenPipelineSucceeds\n    commitCount\n    diffHeadSha\n    userPermissions {\n      removeSourceBranch\n    }\n    targetBranch\n    mergeError\n    commitsWithoutMergeCommits {\n      nodes {\n        sha\n        shortId\n        title\n        message\n      }\n    }\n    headPipeline {\n      id\n      status\n      path\n      active\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},jqx9:function(e,t,n){var i=n("rhmX"),r=n("NjXk"),s=/&(?:amp|lt|gt|quot|#39);/g,a=RegExp(s.source);e.exports=function(e){return(e=i(e))&&a.test(e)?e.replace(s,r):e}},jslJ:function(e,t,n){var i=n("jl4x"),r=n("OhKz"),s=n("aSVa"),a=n("Gw9p").UNSUPPORTED_Y;i&&("g"!=/./g.flags||a)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:s})},"k/Fq":function(e,t,n){"use strict";n("jaBk");var i=n("EmJ/"),r=n.n(i),s=n("qPgm"),a=n("qnJZ"),o=n("/lV4"),l=(n("pBsb"),n("n7CP"));class c{constructor(e){this.projectSelectInput=r()(e),this.newItemBtn=r()(".new-project-item-link"),this.resourceType=this.newItemBtn.data("type"),this.resourceLabel=this.newItemBtn.data("label"),this.formattedText=this.deriveTextVariants(),this.groupId=this.projectSelectInput.data("groupId"),this.bindEvents(),this.initLocalStorage()}bindEvents(){var e=this;this.projectSelectInput.siblings(".new-project-item-select-button").on("click",(function(t){return e.openDropdown(t)})),this.newItemBtn.on("click",(function(t){e.getProjectFromLocalStorage()||(t.preventDefault(),e.openDropdown(t))})),this.projectSelectInput.on("change",(function(){return e.selectProject()}))}initLocalStorage(){l.a.isLocalStorageAccessSafe()&&(this.localStorageKey=["group",this.groupId,this.formattedText.localStorageItemType,"recent-project"].join("-"),this.setBtnTextFromLocalStorage())}openDropdown(e){n.e(443).then(n.t.bind(null,"p9g0",7)).then((function(){Object(a.a)(gon.select2_css_path).then((function(){r()(e.currentTarget).siblings(".project-item-select").select2("open")})).catch((function(){}))})).catch((function(){}))}selectProject(){const e=JSON.parse(this.projectSelectInput.val()),t={url:"".concat(e.url,"/").concat(this.projectSelectInput.data("relativePath")),name:e.name};this.setNewItemBtnAttributes(t),this.setProjectInLocalStorage(t)}setBtnTextFromLocalStorage(){const e=this.getProjectFromLocalStorage();this.setNewItemBtnAttributes(e)}setNewItemBtnAttributes(e){e?(this.newItemBtn.attr("href",e.url),this.newItemBtn.text("".concat(this.formattedText.defaultTextPrefix," in ").concat(e.name))):this.newItemBtn.text("Select project to create ".concat(this.formattedText.presetTextSuffix))}getProjectFromLocalStorage(){const e=localStorage.getItem(this.localStorageKey);return JSON.parse(e)}setProjectInLocalStorage(e){const t=JSON.stringify(e);localStorage.setItem(this.localStorageKey,t)}deriveTextVariants(){const e=this.resourceLabel;return{localStorageItemType:"new-".concat(this.resourceType.split("_").join("-").slice(0,-1)),defaultTextPrefix:e,presetTextSuffix:this.resourceType.split("_").join(" ").slice(0,-1)}}}const u=function(){Object(a.a)(gon.select2_css_path).then((function(){r()(".ajax-project-select").each((function(e,t){var n=this;let i;const a=r()(t).data("simpleFilter")||!1,l=r()(t).data("select2");return this.groupId=r()(t).data("groupId"),this.userId=r()(t).data("userId"),this.includeGroups=r()(t).data("includeGroups"),this.allProjects=r()(t).data("allProjects")||!1,this.orderBy=r()(t).data("orderBy")||"id",this.withIssuesEnabled=r()(t).data("withIssuesEnabled"),this.withMergeRequestsEnabled=r()(t).data("withMergeRequestsEnabled"),this.withShared=void 0===r()(t).data("withShared")||r()(t).data("withShared"),this.includeProjectsInSubgroups=r()(t).data("includeProjectsInSubgroups")||!1,this.allowClear=r()(t).data("allowClear")||!1,i=Object(o.e)("ProjectSelect|Search for project"),this.includeGroups&&(i+=Object(o.e)("ProjectSelect| or group")),r()(t).select2({placeholder:i,minimumInputLength:0,query:function(e){let t;const i=function(t){const n={results:t};return e.callback(n)};return t=n.includeGroups?function(t){return s.a.groups(e.term,{},(function(e){const n=e.concat(t);return i(n)}))}:i,n.groupId?s.a.groupProjects(n.groupId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups,order_by:"similarity",simple:!0},t):n.userId?s.a.userProjects(n.userId,e.term,{with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,with_shared:n.withShared,include_subgroups:n.includeProjectsInSubgroups},t):s.a.projects(e.term,{order_by:n.orderBy,with_issues_enabled:n.withIssuesEnabled,with_merge_requests_enabled:n.withMergeRequestsEnabled,membership:!n.allProjects},t)},id:e=>a?e.id:JSON.stringify({name:e.name,url:e.web_url}),text:e=>e.name_with_namespace||e.name,initSelection:(e,t)=>s.a.project(e.val()).then((function(e){let{data:n}=e;return t(n)})),allowClear:this.allowClear,dropdownCssClass:"ajax-project-dropdown"}),l||a?t:new c(t)}))})).catch((function(){}))};t.a=function(){r()(".ajax-project-select").length&&n.e(443).then(n.t.bind(null,"p9g0",7)).then(u).catch((function(){}))}},k4Ha:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"j",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"r",(function(){return o})),n.d(t,"k",(function(){return l})),n.d(t,"q",(function(){return c})),n.d(t,"s",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return h})),n.d(t,"p",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return _})),n.d(t,"t",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"l",(function(){return k}));var i=n("/lV4");const r="CANCEL_REQUEST",s=200,a="Any",o=["username","ref","status"],l="tag",c="schedule",u={FAILED:"failed",SKIPPED:"skipped",SUCCESS:"success",ERROR:"error",UNKNOWN:"unknown"},d=Object(i.a)("There was a problem fetching project users."),f=Object(i.a)("There was a problem fetching project branches."),h=Object(i.a)("There was a problem fetching project tags."),p=Object(i.e)("Pipeline|Raw text search is not currently supported. Please use the available search tokens."),m="default",g="delete_pipeline_failure",v="draw_failure",b="load_failure",y="parse_failure",_="post_failure",w="unsupported_data",O="child",k="Hello-World"},kMc5:function(e,t,n){"use strict";var i=n("4lAS"),r=n("FkSe"),s=n("/lV4"),a={i18n:{unassigned:Object(s.a)("Unassigned")},components:{GlButton:i.a,GlLoadingIcon:r.a},inject:{canUpdate:{},isClassicSidebar:{default:!1}},props:{title:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},initialLoading:{type:Boolean,required:!1,default:!1},isDirty:{type:Boolean,required:!1,default:!1},tracking:{type:Object,required:!1,default:function(){return{event:null,label:null,property:null}}},canEdit:{type:Boolean,required:!1,default:!0}},data:()=>({edit:!1}),computed:{editButtonText(){return this.isDirty?Object(s.a)("Apply"):Object(s.a)("Edit")}},destroyed(){window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape)},methods:{collapseWhenOffClick(e){let{target:t}=e;this.$el.contains(t)||this.collapse()},collapseOnEscape(e){let{key:t}=e;"Escape"===t&&this.collapse()},expand(){this.edit||(this.edit=!0,this.$emit("open"),window.addEventListener("click",this.collapseWhenOffClick),window.addEventListener("keyup",this.collapseOnEscape))},collapse(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit&&(this.edit=!1,e&&this.$emit("close"),window.removeEventListener("click",this.collapseWhenOffClick),window.removeEventListener("keyup",this.collapseOnEscape))},toggle(){let{emitEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.edit?this.collapse({emitEvent:e}):this.expand()}}},o=n("tBpV"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"gl-display-flex gl-align-items-center",on:{click:function(t){return t.target!==t.currentTarget?null:e.collapse(t)}}},[n("span",{staticClass:"hide-collapsed",attrs:{"data-testid":"title"},on:{click:e.collapse}},[e._v(e._s(e.title))]),e._v(" "),e._t("title-extra"),e._v(" "),e.loading||e.initialLoading?n("gl-loading-icon",{staticClass:"gl-ml-2 hide-collapsed",attrs:{inline:""}}):e._e(),e._v(" "),e.loading&&e.isClassicSidebar?n("gl-loading-icon",{staticClass:"gl-mx-auto gl-my-0 hide-expanded",attrs:{inline:""}}):e._e(),e._v(" "),e._t("collapsed-right"),e._v(" "),e.canUpdate&&!e.initialLoading&&e.canEdit?n("gl-button",{staticClass:"gl-text-gray-900! gl-hover-text-blue-800! gl-ml-auto hide-collapsed",attrs:{variant:"link","data-testid":"edit-button","data-track-event":e.tracking.event,"data-track-label":e.tracking.label,"data-track-property":e.tracking.property,"data-qa-selector":"edit_link"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.toggle(t)},click:e.toggle}},[e._v("\n      "+e._s(e.editButtonText)+"\n    ")]):e._e()],2),e._v(" "),e.initialLoading?e._e():[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}],attrs:{"data-testid":"collapsed-content"}},[e._t("collapsed",[e._v(e._s(e.__("None")))])],2),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"}],class:{"gl-mt-3":!e.isClassicSidebar},attrs:{"data-testid":"expanded-content"}},[e._t("default",null,{edit:e.edit})],2)]],2)}),[],!1,null,null,null);t.a=l.exports},kNKy:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return y}));n("eTVF"),n("QzWB"),n("Z/0p"),n("TXLM"),n("QifN"),n("orcL");var i=n("rOMJ"),r=n.n(i),s=n("htNe"),a=n.n(s),o=n("VNnR"),l=n.n(o),c=n("pMmk");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=function(e){return e.reduce((function(e,t){const n=d(d({},t),{},{needs:t.jobs.map((function(e){return e.needs||[]})).flat()});return t.size>1&&t.jobs.forEach((function(t){e[t.name]=n})),e[t.name]=n,e}),{})},p=function(e,t){return e.filter((function(e){let{target:n,source:i}=e;return!function e(t,n){const i=t.map((function(e){return n[e].needs||""})).flat().filter(Boolean);return i.length?[...i,...e(i,n)]:[]}(t[n].needs.filter((function(e){return e!==i})),t).includes(i)}))},m=function(e){const t=h(e),n=function(e,t){return e.map((function(e){return e.jobs.map((function(n){return n.needs?n.needs.map((function(n){var i;return{source:null===(i=t[n])||void 0===i?void 0:i.name,target:e.name,value:10}})):[]}))})).flat(2)}(e,t),i=p(n,t);return{nodes:e,links:r()(i,l.a)}},g=function(e){const t=e.reduce((function(e,t){let{layer:n}=t;return e[n]||(e[n]=0),e[n]+=1,e}),[]);return Math.max(...t)},v=function(e){return e.filter((function(e){return e.sourceLinks.length||e.targetLinks.length}))},b=function(e){let{stages:t}=e;const n=t.flatMap((function(e){let{groups:t}=e;return t})),i=m(n);return Object(c.c)()(i).nodes.reduce((function(e,t){let{layer:n,name:i}=t;return e[n]||(e[n]=[]),e[n].push(i),e}),[])},y=a()((function(e,t){let{stages:n,stagesLookup:i}=e;return t.map((function(e,t){const r=e.map((function(e){var t,r;const{stageIdx:s,groupIdx:a}=i[e];return null===(t=n[s])||void 0===t?void 0:null===(r=t.groups)||void 0===r?void 0:r[a]}));return{name:"",id:"layer-".concat(t),status:{action:null},groups:r.filter(Boolean)}}))}))},"kR/d":function(e,t,n){"use strict";n("yVak")},koWC:function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("lgrP");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={tag:{type:String,default:"hr"}},u=r.a.extend({name:i.q,functional:!0,props:c,render:function(e,t){var n=t.props,i=t.data,r=i.attrs||{};return i.attrs={},e("li",Object(s.a)(i,{attrs:{role:"presentation"}}),[e(n.tag,{staticClass:"dropdown-divider",attrs:o(o({},r),{},{role:"separator","aria-orientation":"horizontal"}),ref:"divider"})])}}),d=n("Pyw5");const f={components:{BDropdownDivider:u},inheritAttrs:!1};const h=n.n(d)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-divider",this._g(this._b({staticClass:"gl-new-dropdown-divider"},"b-dropdown-divider",this.$attrs,!1),this.$listeners))},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},"l+kv":function(e,t,n){"use strict";var i=n("6npM"),r=n.n(i),s=n("s1D3"),a=n("/lV4"),o={components:{GlIcon:s.a},props:{addedLines:{type:Number,required:!0},removedLines:{type:Number,required:!0},diffFilesCountText:{type:String,required:!1,default:null}},computed:{diffFilesLength(){return parseInt(this.diffFilesCountText,10)},filesText(){return Object(a.d)("file","files",this.diffFilesLength)},isCompareVersionsHeader(){return Boolean(this.diffFilesCountText)},hasDiffFiles(){return r()(this.diffFilesLength)&&this.diffFilesLength>=0}}},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-stats",class:{"is-compare-versions-header d-none d-lg-inline-flex":e.isCompareVersionsHeader,"d-none d-sm-inline-flex":!e.isCompareVersionsHeader}},[e.hasDiffFiles?n("div",{staticClass:"diff-stats-group"},[n("gl-icon",{staticClass:"diff-stats-icon text-secondary",attrs:{name:"doc-code"}}),e._v(" "),n("span",{staticClass:"text-secondary bold"},[e._v(e._s(e.diffFilesCountText)+" "+e._s(e.filesText))])],1):e._e(),e._v(" "),n("div",{staticClass:"diff-stats-group cgreen d-flex align-items-center",class:{bold:e.isCompareVersionsHeader}},[n("span",[e._v("+")]),e._v(" "),n("span",{staticClass:"js-file-addition-line"},[e._v(e._s(e.addedLines))])]),e._v(" "),n("div",{staticClass:"diff-stats-group cred d-flex align-items-center",class:{bold:e.isCompareVersionsHeader}},[n("span",[e._v("-")]),e._v(" "),n("span",{staticClass:"js-file-deletion-line"},[e._v(e._s(e.removedLines))])])])}),[],!1,null,null,null);t.a=c.exports},l9Jy:function(e,t,n){var i=n("/eF7"),r=1,s=4;e.exports=function(e){return i(e,r|s)}},lNHW:function(e,t,n){!function(t){"use strict";var n=-1,i={onVisible:function(e){var t=i.isSupported();if(!t||!i.hidden())return e(),t;var n=i.change((function(t,r){i.hidden()||(i.unbind(n),e())}));return n},change:function(e){if(!i.isSupported())return!1;var t=n+=1;return i._callbacks[t]=e,i._listen(),t},unbind:function(e){delete i._callbacks[e]},afterPrerendering:function(e){var t=i.isSupported();if(!t||"prerender"!=i.state())return e(),t;var n=i.change((function(t,r){"prerender"!=r&&(i.unbind(n),e())}));return n},hidden:function(){return!(!i._doc.hidden&&!i._doc.webkitHidden)},state:function(){return i._doc.visibilityState||i._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!i._doc.visibilityState&&!i._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=i.state();for(var n in i._callbacks)i._callbacks[n].call(i._doc,e,t)},_listen:function(){if(!i._init){var e="visibilitychange";i._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){i._change.apply(i,arguments)};i._doc.addEventListener?i._doc.addEventListener(e,t):i._doc.attachEvent(e,t),i._init=!0}}};e.exports?e.exports=i:t.Visibility=i}(this)},lUJc:function(e,t,n){"use strict";n("jaBk"),n("KcQl"),n("QifN");var i=n("l9Jy"),r=n.n(i),s=n("wP8z"),a=n("jB52"),o=n("XRO8"),l=n("xk0s"),c=n("/lV4"),u=n("+g5w"),d=n("4lAS"),f=n("0RVY"),h={components:{GlButton:d.a,UncollapsedAssigneeList:f.a},props:{users:{type:Array,required:!0},issuableType:{type:String,required:!1,default:"issue"},signedIn:{type:Boolean,required:!1,default:!1}},computed:{assigneesText(){return Object(c.d)("Assignee","%d Assignees",this.users.length)},emptyUsers(){return 0===this.users.length}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-flex-direction-column issuable-assignees"},[e.emptyUsers?n("div",{staticClass:"gl-display-flex gl-align-items-center gl-text-gray-500 gl-mt-2 hide-collapsed",attrs:{"data-testid":"none"}},[n("span",[e._v(" "+e._s(e.__("None")))]),e._v(" "),e.signedIn?[n("span",{staticClass:"gl-ml-2"},[e._v("-")]),e._v(" "),n("gl-button",{staticClass:"gl-ml-2",attrs:{"data-testid":"assign-yourself",category:"tertiary",variant:"link"},on:{click:function(t){return e.$emit("assign-self")}}},[n("span",{staticClass:"gl-text-gray-500 gl-hover-text-blue-800"},[e._v(e._s(e.__("assign yourself")))])])]:e._e()],2):n("uncollapsed-assignee-list",{staticClass:"gl-text-gray-800 gl-mt-2 hide-collapsed",attrs:{users:e.users,"issuable-type":e.issuableType}})],1)}),[],!1,null,null,null).exports,g=n("kMc5"),v=n("H3X6"),b=(n("TZoF"),n("orcL"),n("vDPP")),y=n("Yyc1"),_=n("koWC"),w=n("iN9h"),O=n("FkSe"),k=n("uvMm"),S=n.n(k),j=n("N5YB"),C=n("mFhR"),x={components:{GlAvatarLabeled:j.a,GlAvatarLink:C.a},props:{user:{type:Object,required:!0}},computed:{userLabel(){return this.user.status?Object(c.f)(Object(c.e)("UserAvailability|%{author} (Busy)"),{author:this.user.name}):this.user.name}}},E=Object(p.a)(x,(function(){var e=this.$createElement,t=this._self._c||e;return t("gl-avatar-link",[t("gl-avatar-labeled",{staticClass:"gl-align-items-center",attrs:{size:32,label:this.userLabel,"sub-label":this.user.username,src:this.user.avatarUrl||this.user.avatar||this.user.avatar_url}})],1)}),[],!1,null,null,null).exports,D={i18n:{unassigned:Object(c.a)("Unassigned")},components:{GlDropdownForm:b.a,GlDropdown:y.a,GlDropdownDivider:_.a,GlDropdownItem:s.a,GlSearchBoxByType:w.a,SidebarParticipant:E,GlLoadingIcon:O.a},props:{headerText:{type:String,required:!0},text:{type:String,required:!0},fullPath:{type:String,required:!0},iid:{type:String,required:!0},value:{type:Array,required:!0},allowMultipleAssignees:{type:Boolean,required:!1,default:!1},currentUser:{type:Object,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({search:"",participants:[],searchUsers:[],isSearching:!1}),apollo:{participants:{query(){return v.g[this.issuableType].query},variables(){return{iid:this.iid,fullPath:this.fullPath}},update(e){var t,n;return null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.participants.nodes},error(){this.$emit("error")}},searchUsers:{errorPolicy:"all",query:S.a,variables(){return{fullPath:this.fullPath,search:this.search,first:20}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.users)||void 0===n?void 0:n.nodes.filter((function(e){return e})).map((function(e){let{user:t}=e;return t})))||[]},debounce:v.a,error(e){let{graphQLErrors:t}=e;if((null==t?void 0:t.length)>0&&t.every((function(e){let{message:t}=e;return"Cannot return null for non-nullable field GroupMember.user"===t})))return console.error("Suppressing the error 'Cannot return null for non-nullable field GroupMember.user'. Please see https://gitlab.com/gitlab-org/gitlab/-/issues/329750"),void(this.isSearching=!1);this.$emit("error"),this.isSearching=!1},result(){this.isSearching=!1}}},computed:{isLoading(){return this.$apollo.queries.searchUsers.loading||this.$apollo.queries.participants.loading},users(){var e=this;if(!this.participants)return[];const t=this.participants.filter((function(t){return t.name.includes(e.search)||t.username.includes(e.search)})).concat(this.searchUsers).reduce((function(e,t){return e.some((function(e){return t.id===e.id}))?e:[...e,t]}),[]);return this.moveCurrentUserToStart(t)},isSearchEmpty(){return""===this.search},shouldShowParticipants(){return this.isSearchEmpty||this.isSearching},isCurrentUserInList(){var e=this;return this.users.some((function(t){return t.username===e.currentUser.username}))},noUsersFound(){return!this.isSearchEmpty&&0===this.users.length},showCurrentUser(){return this.currentUser.username&&!this.isCurrentUserInList&&this.isSearchEmpty},selectedFiltered(){if(this.shouldShowParticipants)return this.moveCurrentUserToStart(this.value);const e=this.users.map((function(e){let{username:t}=e;return t})),t=this.value.filter((function(t){let{username:n}=t;return e.includes(n)}));return this.moveCurrentUserToStart(t)},selectedUserNames(){return this.value.map((function(e){let{username:t}=e;return t}))},unselectedFiltered(){var e,t=this;return(null===(e=this.users)||void 0===e?void 0:e.filter((function(e){let{username:n}=e;return!t.selectedUserNames.includes(n)})))||[]},selectedIsEmpty(){return 0===this.selectedFiltered.length}},watch:{search(e){e&&(this.isSearching=!0)}},methods:{selectAssignee(e){let t=[...this.value];this.allowMultipleAssignees?t.push(e):t=[e],this.$emit("input",t)},unselect(e){const t=this.value.filter((function(t){return t.username!==e}));this.$emit("input",t)},focusSearch(){this.$refs.search.focusInput()},showDivider(e){return e.length>0&&this.isSearchEmpty},moveCurrentUserToStart(e){var t=this;if(!e)return[];const n=[...e],i=n.find((function(e){return e.username===t.currentUser.username}));if(i){const e=n.indexOf(i);n.splice(0,0,n.splice(e,1)[0])}return n}}},P=Object(p.a)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-dropdown",{staticClass:"show",attrs:{text:e.text},on:{toggle:function(t){return e.$emit("toggle")}},scopedSlots:e._u([{key:"header",fn:function(){return[n("p",{staticClass:"gl-font-weight-bold gl-text-center gl-mt-2 gl-mb-4"},[e._v(e._s(e.headerText))]),e._v(" "),n("gl-dropdown-divider"),e._v(" "),n("gl-search-box-by-type",{ref:"search",staticClass:"js-dropdown-input-field",model:{value:e.search,callback:function(t){e.search="string"==typeof t?t.trim():t},expression:"search"}})]},proxy:!0},{key:"footer",fn:function(){return[e._t("footer")]},proxy:!0}],null,!0)},[e._v(" "),n("gl-dropdown-form",{staticClass:"gl-relative gl-min-h-7"},[e.isLoading?n("gl-loading-icon",{staticClass:"gl-absolute gl-left-0 gl-top-0 gl-right-0",attrs:{"data-testid":"loading-participants",size:"md"}}):[e.shouldShowParticipants?[e.isSearchEmpty?n("gl-dropdown-item",{attrs:{"is-checked":e.selectedIsEmpty,"is-check-centered":!0,"data-testid":"unassign"},on:{click:function(t){return e.$emit("input",[])}}},[n("span",{staticClass:"gl-font-weight-bold",class:e.selectedIsEmpty?"gl-pl-0":"gl-pl-6"},[e._v(e._s(e.$options.i18n.unassigned))])]):e._e()]:e._e(),e._v(" "),e.showDivider(e.selectedFiltered)?n("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.selectedFiltered,(function(t){return n("gl-dropdown-item",{key:t.id,attrs:{"is-checked":"","is-check-centered":"","data-testid":"selected-participant"},on:{click:function(n){return n.stopPropagation(),e.unselect(t.username)}}},[n("sidebar-participant",{attrs:{user:t}})],1)})),e._v(" "),e.showCurrentUser?[n("gl-dropdown-divider"),e._v(" "),n("gl-dropdown-item",{attrs:{"data-testid":"current-user"},on:{click:function(t){return t.stopPropagation(),e.selectAssignee(e.currentUser)}}},[n("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:e.currentUser}})],1)]:e._e(),e._v(" "),e.showDivider(e.unselectedFiltered)?n("gl-dropdown-divider"):e._e(),e._v(" "),e._l(e.unselectedFiltered,(function(t){return n("gl-dropdown-item",{key:t.id,attrs:{"data-testid":"unselected-participant"},on:{click:function(n){return e.selectAssignee(t)}}},[n("sidebar-participant",{staticClass:"gl-pl-6!",attrs:{user:t}})],1)})),e._v(" "),e.noUsersFound?n("gl-dropdown-item",{staticClass:"gl-pl-6!",attrs:{"data-testid":"empty-results"}},[e._v("\n        "+e._s(e.__("No matching results"))+"\n      ")]):e._e()]],2)],1)}),[],!1,null,null,null).exports,T=n("sHIo"),N=n("LgEk"),I={displayText:Object(c.a)("Invite members"),dataTrackLabel:"edit_assignee",dataTrackEvent:"click_invite_members",components:{InviteMembersTrigger:N.a}},L=Object(p.a)(I,(function(){var e=this.$createElement;return(this._self._c||e)("invite-members-trigger",{attrs:{"trigger-element":"anchor","display-text":this.$options.displayText,event:this.$options.dataTrackEvent,label:this.$options.dataTrackLabel,classes:"gl-display-block gl-pl-6 gl-hover-text-decoration-none gl-hover-text-blue-800!"}})}),[],!1,null,null,null).exports;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q=a.default.observable({updateAssignees:null}),M=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var B={i18n:{unassigned:Object(c.a)("Unassigned"),assignee:Object(c.a)("Assignee"),assignees:Object(c.a)("Assignees"),assignTo:Object(c.a)("Assign to")},components:{SidebarEditableItem:g.a,IssuableAssignees:m,GlDropdownItem:s.a,SidebarInviteMembers:L,SidebarAssigneesRealtime:u.a,UserSelect:P},mixins:[Object(T.a)()],inject:{directlyInviteMembers:{default:!1}},props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},initialAssignees:{type:Array,required:!1,default:null},issuableType:{type:String,required:!1,default:l.c.Issue,validator:e=>[l.c.Issue,l.c.MergeRequest].includes(e)},issuableId:{type:Number,required:!1,default:null},allowMultipleAssignees:{type:Boolean,required:!0}},data:()=>({issuable:{},selected:[],isSettingAssignees:!1,isDirty:!1}),apollo:{issuable:{query(){return v.b[this.issuableType].query},variables(){return this.queryVariables},update(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.issuable},result(e){var t;let{data:n}=e;const i=null===(t=n.workspace)||void 0===t?void 0:t.issuable;i&&(this.selected=r()(i.assignees.nodes))},error(){Object(o.b)({message:Object(c.a)("An error occurred while fetching participants.")})}}},computed:{shouldEnableRealtime(){return this.glFeatures.realTimeIssueSidebar&&this.issuableType===l.c.Issue},queryVariables(){return{iid:this.iid,fullPath:this.fullPath}},assignees(){var e,t;return(this.$apollo.queries.issuable.loading?this.initialAssignees:null===(e=this.issuable)||void 0===e?void 0:null===(t=e.assignees)||void 0===t?void 0:t.nodes)||[]},assigneeText(){const e=this.$apollo.queries.issuable.loading?this.initialAssignees:this.selected;return e?Object(c.d)("Assignee","%d Assignees",e.length):Object(c.a)("Assignee")},isAssigneesLoading(){return!this.initialAssignees&&this.$apollo.queries.issuable.loading},currentUser(){var e,t,n;return{username:null===(e=gon)||void 0===e?void 0:e.current_username,name:null===(t=gon)||void 0===t?void 0:t.current_user_fullname,avatarUrl:null===(n=gon)||void 0===n?void 0:n.current_user_avatar_url}},signedIn(){return void 0!==this.currentUser.username}},created(){q.updateAssignees=this.updateAssignees},destroyed(){q.updateAssignees=null},methods:{updateAssignees(e){var t=this;return this.isSettingAssignees=!0,this.$apollo.mutate({mutation:v.b[this.issuableType].mutation,variables:A(A({},this.queryVariables),{},{assigneeUsernames:e})}).then((function(e){let{data:n}=e;return t.$emit("assignees-updated",n.issuableSetAssignees.issuable.assignees.nodes),n})).catch((function(){Object(o.b)({message:Object(c.a)("An error occurred while updating assignees.")})})).finally((function(){t.isSettingAssignees=!1}))},assignSelf(){this.updateAssignees([this.currentUser.username])},saveAssignees(){this.isDirty&&(this.isDirty=!1,this.updateAssignees(this.selected.map((function(e){let{username:t}=e;return t})))),this.$el.dispatchEvent(M)},collapseWidget(){this.$refs.toggle.collapse()},expandWidget(){this.$refs.toggle.expand()},focusSearch(){this.$refs.userSelect.focusSearch()},showError(){Object(o.b)({message:Object(c.a)("An error occurred while fetching participants.")})},setDirtyState(){this.isDirty=!0,this.allowMultipleAssignees||this.collapseWidget()}}},$=Object(p.a)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"assignees-widget"}},[e.shouldEnableRealtime?n("sidebar-assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables}}):e._e(),e._v(" "),n("sidebar-editable-item",{ref:"toggle",attrs:{loading:e.isSettingAssignees,"initial-loading":e.isAssigneesLoading,title:e.assigneeText,"is-dirty":e.isDirty},on:{open:e.focusSearch,close:e.saveAssignees},scopedSlots:e._u([{key:"collapsed",fn:function(){return[e._t("collapsed",null,{users:e.assignees,onClick:e.expandWidget}),e._v(" "),n("issuable-assignees",{attrs:{users:e.assignees,"issuable-type":e.issuableType,"signed-in":e.signedIn},on:{"assign-self":e.assignSelf,"expand-widget":e.expandWidget}})]},proxy:!0},{key:"default",fn:function(){return[n("user-select",{ref:"userSelect",staticClass:"gl-w-full dropdown-menu-user",attrs:{text:e.$options.i18n.assignees,"header-text":e.$options.i18n.assignTo,iid:e.iid,"full-path":e.fullPath,"allow-multiple-assignees":e.allowMultipleAssignees,"current-user":e.currentUser,"issuable-type":e.issuableType},on:{toggle:e.collapseWidget,error:e.showError,input:e.setDirtyState},scopedSlots:e._u([{key:"footer",fn:function(){return[e.directlyInviteMembers?n("gl-dropdown-item",[n("sidebar-invite-members")],1):e._e()]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null);t.a=$.exports},lnTC:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const i=function(){let{mark:e,measures:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.requestAnimationFrame((function(){e&&!performance.getEntriesByName(e).length&&performance.mark(e),t.forEach((function(e){performance.measure(e.name,e.start,e.end)}))}))}},lxj7:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},lzIs:function(e,t,n){"use strict";n.r(t);n("orcL");var i=n("jB52"),r=n("GiFX"),s=n("5v28"),a=n("A7K0"),o=n("TBBL"),l=n("8zNS"),c=n("5QKO"),u=n("/lV4");const d="merged",f="closed",h={merged:Object(u.a)("Merged"),closed:Object(u.a)("Closed"),open:Object(u.a)("Open")};var p=n("50H4"),m=n.n(p),g={name:"MRPopover",components:{GlPopover:a.a,GlSkeletonLoading:o.a,CiIcon:l.a},mixins:[c.a],props:{target:{type:HTMLAnchorElement,required:!0},projectPath:{type:String,required:!0},mergeRequestIID:{type:String,required:!0},mergeRequestTitle:{type:String,required:!0}},data:()=>({mergeRequest:{}}),computed:{detailedStatus(){return this.mergeRequest.headPipeline&&this.mergeRequest.headPipeline.detailedStatus},formattedTime(){return this.timeFormatted(this.mergeRequest.createdAt)},statusBoxClass(){switch(this.mergeRequest.state){case d:return"status-box-mr-merged";case f:return"status-box-closed";default:return"status-box-open"}},stateHumanName(){switch(this.mergeRequest.state){case d:return h.merged;case f:return h.closed;default:return h.open}},showDetails(){return Object.keys(this.mergeRequest).length>0}},apollo:{mergeRequest:{query:m.a,update:function(e){return e.project.mergeRequest},variables(){const{projectPath:e,mergeRequestIID:t}=this;return{projectPath:e,mergeRequestIID:t}}}}},v=n("tBpV"),b=Object(v.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-popover",{attrs:{target:e.target,boundary:"viewport",placement:"top",show:""}},[n("div",{staticClass:"mr-popover"},[e.$apollo.loading?n("div",[n("gl-skeleton-loading",{staticClass:"animation-container-small mt-1",attrs:{lines:1}})],1):e.showDetails?n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"d-inline-flex align-items-center"},[n("div",{class:"issuable-status-box status-box "+e.statusBoxClass},[e._v("\n          "+e._s(e.stateHumanName)+"\n        ")]),e._v(" "),n("span",{staticClass:"text-secondary"},[e._v("Opened "),n("time",{domProps:{textContent:e._s(e.formattedTime)}})])]),e._v(" "),e.detailedStatus?n("ci-icon",{attrs:{status:e.detailedStatus}}):e._e()],1):e._e(),e._v(" "),n("h5",{staticClass:"my-2"},[e._v(e._s(e.mergeRequestTitle))]),e._v(" "),n("div",{staticClass:"text-secondary"},[e._v("\n      "+e._s(e.projectPath+"!"+e.mergeRequestIID)+"\n    ")])])])}),[],!1,null,null,null).exports;let y,_;const w=function e(t){let{target:n}=t;n.removeEventListener("mouseleave",e),_&&clearTimeout(_),y&&(y.$destroy(),y=null)};t.default=function(e){const t=e||[...document.querySelectorAll(".gfm-merge_request")];if(t.length>0){i.default.use(r.default);const e=new r.default({defaultClient:Object(s.default)()}),n="data-mr-listener-added";t.forEach((function(t){const{projectPath:r,mrTitle:s,iid:a}=t.dataset;!t.getAttribute(n)&&r&&s&&a&&(t.addEventListener("mouseenter",function(e){let{apolloProvider:t,projectPath:n,mrTitle:r,iid:s}=e;return function(e){let{target:a}=e;a.addEventListener("mouseleave",w),_=setTimeout((function(){const e=i.default.extend(b);(y=new e({propsData:{target:a,projectPath:n,mergeRequestIID:s,mergeRequestTitle:r},apolloProvider:t})).$mount()}),200)}}({apolloProvider:e,projectPath:r,mrTitle:s,iid:a})),t.setAttribute(n,!0))}))}}},mFhR:function(e,t,n){"use strict";var i=n("MV2A"),r=n("Pyw5"),s=n.n(r);const a={name:"AvatarLink",components:{GlLink:i.a}};const o=s()({render:function(){var e=this.$createElement;return(this._self._c||e)("gl-link",this._g(this._b({staticClass:"gl-avatar-link"},"gl-link",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,a,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=o},mqi7:function(e,t,n){var i=n("xJuT"),r=n("zOYv");e.exports=function(e,t){return i(e,r(e),t)}},n5sF:function(e,t,n){var i=n("zx4+");e.exports=function(e,t,n,r){for(var s=e.length,a=r?s:-1;(r?a--:++a<s)&&t(e[a],a,e););return n?i(e,r?0:a,r?a+1:s):i(e,r?a+1:0,r?s:a)}},nmTw:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("FUyg"),c=n("eclS"),u=n("ayhe"),d=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{map:function(e){var t=a(this),n=u(t),i=l(e,arguments.length>1?arguments[1]:void 0,3),r=new(c(t,s("Set"))),f=o(r.add);return d(n,(function(e){f.call(r,i(e,e,t))}),{IS_ITERATOR:!0}),r}})},noxY:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"autoMergeEnabled"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MergeRequest"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoMergeStrategy"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mergeUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"webUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"targetBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldRemoveSourceBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forceRemoveSourceBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeSourceBranch"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:253}};n.loc.source={body:"fragment autoMergeEnabled on MergeRequest {\n  autoMergeStrategy\n  mergeUser {\n    id\n    name\n    username\n    webUrl\n    avatarUrl\n  }\n  targetBranch\n  shouldRemoveSourceBranch\n  forceRemoveSourceBranch\n  userPermissions {\n    removeSourceBranch\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},nq4Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("0zRR"),r=n("/Szx"),s=n("DXSV"),a=n("Vxxt"),o=n("QlUp"),l=n("Tu1i"),c=n("lOuV"),u=n("NSGy"),d=r.a.extend({name:i.D,mixins:[s.a,c.a,a.a,l.a,o.a],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{default:null}},computed:{isChecked:function(){return Object(u.a)(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isCheck:function(){return!1}},watch:{computedLocalChecked:function(){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(e){var t=e.target.checked,n=this.value;this.computedLocalChecked=n,this.$emit("change",t?n:null),this.isGroup&&this.bvGroup.$emit("change",t?n:null)}}})},o34M:function(e,t,n){"use strict";var i=n("70tN"),r=n("AgLN");e.exports=function(){for(var e=i(this),t=r(e.add),n=0,s=arguments.length;n<s;n++)t.call(e,arguments[n]);return e}},olcB:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("qPgm"),r=n("2ibD"),s=n("71Sp");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e){-1===e.indexOf(".json")?this.endpoint="".concat(e,".json"):this.endpoint=e}getPipelines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{scope:t,page:n}=e,{CancelToken:i}=r.a,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({scope:t,page:n},Object(s.e)(e));return this.cancelationSource=i.source(),r.a.get(this.endpoint,{params:l,cancelToken:this.cancelationSource.token})}postAction(e){return r.a.post("".concat(e,".json"))}runMRPipeline(e){let{projectId:t,mergeRequestId:n}=e;return i.a.postMergeRequestPipeline(t,{mergeRequestId:n})}}},p1dg:function(e,t,n){var i=n("TXW/");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},pEZO:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"epicStartDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"group"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"epic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateIsFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateFixed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startDateFromMilestones"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:265}};n.loc.source={body:"query epicStartDate($fullPath: ID!, $iid: ID) {\n  workspace: group(fullPath: $fullPath) {\n    __typename\n    issuable: epic(iid: $iid) {\n      __typename\n      id\n      startDate\n      startDateIsFixed\n      startDateFixed\n      startDateFromMilestones\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.epicStartDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"epicStartDate")},pF9p:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateIssueLocked"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IssueSetLockedInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issueSetLocked"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"issue"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discussionLocked"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:151}};n.loc.source={body:"mutation updateIssueLocked($input: IssueSetLockedInput!) {\n  issueSetLocked(input: $input) {\n    issue {\n      discussionLocked\n    }\n    errors\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateIssueLocked=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"updateIssueLocked")},pIt4:function(e,t,n){"use strict";n.d(t,"ab",(function(){return i})),n.d(t,"gb",(function(){return r})),n.d(t,"J",(function(){return s})),n.d(t,"eb",(function(){return a})),n.d(t,"Q",(function(){return o})),n.d(t,"db",(function(){return l})),n.d(t,"Z",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"z",(function(){return d})),n.d(t,"u",(function(){return f})),n.d(t,"K",(function(){return h})),n.d(t,"Y",(function(){return p})),n.d(t,"cb",(function(){return m})),n.d(t,"lb",(function(){return g})),n.d(t,"G",(function(){return v})),n.d(t,"O",(function(){return b})),n.d(t,"P",(function(){return y})),n.d(t,"w",(function(){return _})),n.d(t,"y",(function(){return w})),n.d(t,"N",(function(){return O})),n.d(t,"j",(function(){return k})),n.d(t,"Hb",(function(){return S})),n.d(t,"l",(function(){return j})),n.d(t,"L",(function(){return C})),n.d(t,"M",(function(){return x})),n.d(t,"t",(function(){return E})),n.d(t,"r",(function(){return D})),n.d(t,"W",(function(){return P})),n.d(t,"Fb",(function(){return T})),n.d(t,"Db",(function(){return N})),n.d(t,"Eb",(function(){return I})),n.d(t,"H",(function(){return L})),n.d(t,"V",(function(){return R})),n.d(t,"T",(function(){return A})),n.d(t,"Cb",(function(){return F})),n.d(t,"bb",(function(){return q})),n.d(t,"X",(function(){return M})),n.d(t,"Gb",(function(){return B})),n.d(t,"d",(function(){return $})),n.d(t,"S",(function(){return V})),n.d(t,"R",(function(){return U})),n.d(t,"U",(function(){return G})),n.d(t,"hb",(function(){return H})),n.d(t,"I",(function(){return z})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return K})),n.d(t,"c",(function(){return Y})),n.d(t,"b",(function(){return X})),n.d(t,"a",(function(){return J})),n.d(t,"p",(function(){return Z})),n.d(t,"s",(function(){return ee})),n.d(t,"q",(function(){return te})),n.d(t,"x",(function(){return ne})),n.d(t,"v",(function(){return ie})),n.d(t,"jb",(function(){return re})),n.d(t,"kb",(function(){return se})),n.d(t,"ib",(function(){return ae})),n.d(t,"Ab",(function(){return oe})),n.d(t,"zb",(function(){return le})),n.d(t,"Bb",(function(){return ce})),n.d(t,"yb",(function(){return ue})),n.d(t,"fb",(function(){return de})),n.d(t,"A",(function(){return fe})),n.d(t,"E",(function(){return he})),n.d(t,"D",(function(){return pe})),n.d(t,"C",(function(){return me})),n.d(t,"F",(function(){return ge})),n.d(t,"B",(function(){return ve})),n.d(t,"h",(function(){return be})),n.d(t,"i",(function(){return ye})),n.d(t,"e",(function(){return _e})),n.d(t,"f",(function(){return we})),n.d(t,"g",(function(){return Oe})),n.d(t,"mb",(function(){return ke})),n.d(t,"qb",(function(){return Se})),n.d(t,"rb",(function(){return je})),n.d(t,"nb",(function(){return Ce})),n.d(t,"tb",(function(){return xe})),n.d(t,"sb",(function(){return Ee})),n.d(t,"pb",(function(){return De})),n.d(t,"xb",(function(){return Pe})),n.d(t,"wb",(function(){return Te})),n.d(t,"ob",(function(){return Ne})),n.d(t,"vb",(function(){return Ie})),n.d(t,"ub",(function(){return Le}));const i="1",r="0",s="inline",a="parallel",o="match",l="old-nonewline",c="new-nonewline",u="context",d="empty-cell",f="DiffNote",h="LegacyDiffNote",p="new",m="old",g="text",v="image",b="left",y="right",_="diff_view",w="diff_whitespace",O="is-over",k="diff-expanded",S=20,j=3,C=17,x=100,E="120000",D="0",P="mr_tree_show",T="tree",N="mr_diff_tree_list",I="mr_tree_list_width",L=320,R=240,A=400,F=260,q="old_line",M="new_line",B="type",$="container-limited limit-container-width mx-lg-auto px-3",V=500,U=30,G=2,H=200,z="highlighted_diff_lines",W=20,Q=-1,K=-2,Y="overflow",X="merge-conflict",J="collapsed",Z="automatic",ee="manual",te="fileViewMode",ne="single",ie="all",re="idle",se="loading",ae="errored",oe="LOAD_START",le="LOAD_ERROR",ce="LOAD_SUCCEED",ue="ACKNOWLEDGE_ERROR",de={["".concat(re,":").concat(oe)]:se,["".concat(se,":").concat(le)]:ae,["".concat(se,":").concat(ce)]:re,["".concat(ae,":").concat(oe)]:se,["".concat(ae,":").concat(ue)]:re},fe="mr:diffs:expandAllFiles",he="mr:diffs:perf:fileTreeStart",pe="mr:diffs:perf:fileTreeEnd",me="mr:diffs:perf:filesStart",ge="mr:diffs:perf:firstFileShown",ve="mr:diffs:perf:filesEnd",be="conflict_our",ye="conflict_their",_e="conflict_marker",we="conflict_marker_our",Oe="conflict_marker_their",ke="i_code_review_click_diff_view_setting",Se="i_code_review_diff_view_inline",je="i_code_review_diff_view_parallel",Ce="i_code_review_click_file_browser_setting",xe="i_code_review_file_browser_tree_view",Ee="i_code_review_file_browser_list_view",De="i_code_review_click_whitespace_setting",Pe="i_code_review_diff_show_whitespace",Te="i_code_review_diff_hide_whitespace",Ne="i_code_review_click_single_file_mode_setting",Ie="i_code_review_diff_single_file",Le="i_code_review_diff_multiple_files"},pMmk:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return S}));var i=n("LVcV"),r=n("tyjs");function s(e){return e.depth}function a(e,t){return e.sourceLinks.length?e.depth:t-1}function o(e){return function(){return e}}function l(e,t){return u(e.source,t.source)||e.index-t.index}function c(e,t){return u(e.target,t.target)||e.index-t.index}function u(e,t){return e.y0-t.y0}function d(e){return e.value}function f(e){return e.index}function h(e){return e.nodes}function p(e){return e.links}function m(e,t){const n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function g({nodes:e}){for(const t of e){let e=t.y0,n=e;for(const n of t.sourceLinks)n.y0=e+n.width/2,e+=n.width;for(const e of t.targetLinks)e.y1=n+e.width/2,n+=e.width}}function v(){let e,t,n,i=0,s=0,v=1,b=1,y=24,_=8,w=f,O=a,k=h,S=p,j=6;function C(){const a={nodes:k.apply(null,arguments),links:S.apply(null,arguments)};return function({nodes:e,links:t}){for(const[t,n]of e.entries())n.index=t,n.sourceLinks=[],n.targetLinks=[];const i=new Map(e.map((t,n)=>[w(t,n,e),t]));for(const[e,n]of t.entries()){n.index=e;let{source:t,target:r}=n;"object"!=typeof t&&(t=n.source=m(i,t)),"object"!=typeof r&&(r=n.target=m(i,r)),t.sourceLinks.push(n),r.targetLinks.push(n)}if(null!=n)for(const{sourceLinks:t,targetLinks:i}of e)t.sort(n),i.sort(n)}(a),function({nodes:e}){for(const t of e)t.value=void 0===t.fixedValue?Math.max(Object(r.v)(t.sourceLinks,d),Object(r.v)(t.targetLinks,d)):t.fixedValue}(a),function({nodes:e}){const t=e.length;let n=new Set(e),i=new Set,r=0;for(;n.size;){for(const e of n){e.depth=r;for(const{target:t}of e.sourceLinks)i.add(t)}if(++r>t)throw new Error("circular link");n=i,i=new Set}}(a),function({nodes:e}){const t=e.length;let n=new Set(e),i=new Set,r=0;for(;n.size;){for(const e of n){e.height=r;for(const{source:t}of e.targetLinks)i.add(t)}if(++r>t)throw new Error("circular link");n=i,i=new Set}}(a),function(n){const a=function({nodes:e}){const n=Object(r.k)(e,e=>e.depth)+1,s=(v-i-y)/(n-1),a=new Array(n);for(const t of e){const e=Math.max(0,Math.min(n-1,Math.floor(O.call(null,t,n))));t.layer=e,t.x0=i+e*s,t.x1=t.x0+y,a[e]?a[e].push(t):a[e]=[t]}if(t)for(const e of a)e.sort(t);return a}(n);e=Math.min(_,(b-s)/(Object(r.k)(a,e=>e.length)-1)),function(t){const n=Object(r.o)(t,t=>(b-s-(t.length-1)*e)/Object(r.v)(t,d));for(const i of t){let t=s;for(const r of i){r.y0=t,r.y1=t+r.value*n,t=r.y1+e;for(const e of r.sourceLinks)e.width=e.value*n}t=(b-t+e)/(i.length+1);for(let e=0;e<i.length;++e){const n=i[e];n.y0+=t*(e+1),n.y1+=t*(e+1)}I(i)}}(a);for(let e=0;e<j;++e){const t=Math.pow(.99,e),n=Math.max(1-t,(e+1)/j);E(a,t,n),x(a,t,n)}}(a),g(a),a}function x(e,n,i){for(let r=1,s=e.length;r<s;++r){const s=e[r];for(const e of s){let t=0,i=0;for(const{source:n,value:r}of e.targetLinks){let s=r*(e.layer-n.layer);t+=L(n,e)*s,i+=s}if(!(i>0))continue;let r=(t/i-e.y0)*n;e.y0+=r,e.y1+=r,N(e)}void 0===t&&s.sort(u),D(s,i)}}function E(e,n,i){for(let r=e.length-2;r>=0;--r){const s=e[r];for(const e of s){let t=0,i=0;for(const{target:n,value:r}of e.sourceLinks){let s=r*(n.layer-e.layer);t+=R(e,n)*s,i+=s}if(!(i>0))continue;let r=(t/i-e.y0)*n;e.y0+=r,e.y1+=r,N(e)}void 0===t&&s.sort(u),D(s,i)}}function D(t,n){const i=t.length>>1,r=t[i];T(t,r.y0-e,i-1,n),P(t,r.y1+e,i+1,n),T(t,b,t.length-1,n),P(t,s,0,n)}function P(t,n,i,r){for(;i<t.length;++i){const s=t[i],a=(n-s.y0)*r;a>1e-6&&(s.y0+=a,s.y1+=a),n=s.y1+e}}function T(t,n,i,r){for(;i>=0;--i){const s=t[i],a=(s.y1-n)*r;a>1e-6&&(s.y0-=a,s.y1-=a),n=s.y0-e}}function N({sourceLinks:e,targetLinks:t}){if(void 0===n){for(const{source:{sourceLinks:e}}of t)e.sort(c);for(const{target:{targetLinks:t}}of e)t.sort(l)}}function I(e){if(void 0===n)for(const{sourceLinks:t,targetLinks:n}of e)t.sort(c),n.sort(l)}function L(t,n){let i=t.y0-(t.sourceLinks.length-1)*e/2;for(const{target:r,width:s}of t.sourceLinks){if(r===n)break;i+=s+e}for(const{source:e,width:r}of n.targetLinks){if(e===t)break;i-=r}return i}function R(t,n){let i=n.y0-(n.targetLinks.length-1)*e/2;for(const{source:r,width:s}of n.targetLinks){if(r===t)break;i+=s+e}for(const{target:e,width:r}of t.sourceLinks){if(e===n)break;i-=r}return i}return C.update=function(e){return g(e),e},C.nodeId=function(e){return arguments.length?(w="function"==typeof e?e:o(e),C):w},C.nodeAlign=function(e){return arguments.length?(O="function"==typeof e?e:o(e),C):O},C.nodeSort=function(e){return arguments.length?(t=e,C):t},C.nodeWidth=function(e){return arguments.length?(y=+e,C):y},C.nodePadding=function(t){return arguments.length?(_=e=+t,C):_},C.nodes=function(e){return arguments.length?(k="function"==typeof e?e:o(e),C):k},C.links=function(e){return arguments.length?(S="function"==typeof e?e:o(e),C):S},C.linkSort=function(e){return arguments.length?(n=e,C):n},C.size=function(e){return arguments.length?(i=s=0,v=+e[0],b=+e[1],C):[v-i,b-s]},C.extent=function(e){return arguments.length?(i=+e[0][0],v=+e[1][0],s=+e[0][1],b=+e[1][1],C):[[i,s],[v,b]]},C.iterations=function(e){return arguments.length?(j=+e,C):j},C}n("W1U1");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const w=function(e){let{y0:t,y1:n,source:i,target:r,width:s}=e;const a=Math.max(n,t)+s/2,o=Math.min(t,n)-s/2;return"\n    M".concat(i.x0,", ").concat(n,"\n    V").concat(Math.max(a,t,n),"\n    H").concat(r.x1,"\n    V").concat(Math.min(o,t,n),"\n    H").concat(i.x0,"\n    Z\n  ")},O=function(e,t,n){let{y0:r,y1:s,source:a,target:o,width:l}=e;const c=a.x1+(t+1)*l%(o.x1-a.x0)+n,u=a.x1+(o.x0-a.x1)-1.4*n,d=Math.min(c,o.x0-4*n*Math.random(),u);return i.line()([[(a.x0+a.x1)/2,r],[d,r],[d,s],[(o.x0+o.x1)/2,s]])},k=function(){let{width:e=10,height:t=10,nodeWidth:n=10,nodePadding:i=10,paddingForLabels:r=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=v().nodeId((function(e){let{name:t}=e;return t})).nodeAlign(s).nodeWidth(n).nodePadding(i).extent([[r,r],[e-r,t-r]]);return function(e){let{nodes:t,links:n}=e;return a({nodes:t.map((function(e){return y({},e)})),links:n.map((function(e){return y({},e)}))})}},S=function(e,t){let{x0:n,x1:i,y0:r,y1:s}=e;const{paddingForLabels:a,labelMargin:o,nodePadding:l,width:c}=t,u=i>=c-a;return n<=a?{x:0+o,y:r,height:"".concat(s-r,"px"),width:a-2*o,textAlign:"right"}:u?{x:c-a+o,y:r,height:"".concat(s-r,"px"),width:a-2*o,textAlign:"left"}:{x:(i+n)/2,y:r-l,height:"".concat(l,"px"),width:"max-content",wrapperWidth:a-2*o,textAlign:n<c/2?"left":"right"}}},pPhj:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return _}));var i,r=function(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]},s=function(e){return(e=r(Math.abs(e)))?e[1]:NaN},a=function(e,t){var n=r(e,t);if(!n)return e+"";var i=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")},o={"":function(e,t){e:for(var n,i=(e=e.toPrecision(t)).length,r=1,s=-1;r<i;++r)switch(e[r]){case".":s=n=r;break;case"0":0===s&&(s=r),n=r;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return a(100*e,t)},r:a,s:function(e,t){var n=r(e,t);if(!n)return e+"";var s=n[0],a=n[1],o=a-(i=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=s.length;return o===l?s:o>l?s+new Array(o-l+1).join("0"):o>0?s.slice(0,o)+"."+s.slice(o):"0."+new Array(1-o).join("0")+r(e,Math.max(0,t+o-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},l=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function c(e){return new u(e)}function u(e){if(!(t=l.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",s=t[4]||"",a=!!t[5],c=t[6]&&+t[6],u=!!t[7],d=t[8]&&+t[8].slice(1),f=t[9]||"";"n"===f?(u=!0,f="g"):o[f]||(f=""),(a||"0"===n&&"="===i)&&(a=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=s,this.zero=a,this.width=c,this.comma=u,this.precision=d,this.type=f}c.prototype=u.prototype,u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var d,f,h,p=function(e){return e},m=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"],g=function(e){var t,n,r=e.grouping&&e.thousands?(t=e.grouping,n=e.thousands,function(e,i){for(var r=e.length,s=[],a=0,o=t[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(e.substring(r-=o,r+o)),!((l+=o+1)>i));)o=t[a=(a+1)%t.length];return s.reverse().join(n)}):p,a=e.currency,l=e.decimal,u=e.numerals?function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(e.numerals):p,d=e.percent||"%";function f(e){var t=(e=c(e)).fill,n=e.align,s=e.sign,f=e.symbol,h=e.zero,p=e.width,g=e.comma,v=e.precision,b=e.type,y="$"===f?a[0]:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===f?a[1]:/[%p]/.test(b)?d:"",w=o[b],O=!b||/[defgprs%]/.test(b);function k(e){var a,o,c,d=y,f=_;if("c"===b)f=w(e)+f,e="";else{var k=(e=+e)<0;if(e=w(Math.abs(e),v),k&&0==+e&&(k=!1),d=(k?"("===s?s:"-":"-"===s||"("===s?"":s)+d,f=("s"===b?m[8+i/3]:"")+f+(k&&"("===s?")":""),O)for(a=-1,o=e.length;++a<o;)if(48>(c=e.charCodeAt(a))||c>57){f=(46===c?l+e.slice(a+1):e.slice(a))+f,e=e.slice(0,a);break}}g&&!h&&(e=r(e,1/0));var S=d.length+e.length+f.length,j=S<p?new Array(p-S+1).join(t):"";switch(g&&h&&(e=r(j+e,j.length?p-f.length:1/0),j=""),n){case"<":e=d+e+f+j;break;case"=":e=d+j+e+f;break;case"^":e=j.slice(0,S=j.length>>1)+d+e+f+j.slice(S);break;default:e=j+d+e+f}return u(e)}return v=null==v?b?6:12:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return e+""},k}return{format:f,formatPrefix:function(e,t){var n=f(((e=c(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(s(t)/3))),r=Math.pow(10,-i),a=m[8+i/3];return function(e){return n(r*e)+a}}}};function v(e){return d=g(e),f=d.format,h=d.formatPrefix,d}v({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var b=function(e){return Math.max(0,-s(Math.abs(e)))},y=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(s(t)/3)))-s(Math.abs(e)))},_=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,s(t)-s(e))+1}},pbPB:function(e,t,n){"use strict";var i=n("0zRR"),r=n("/GZH"),s=n("6nFr"),a=n("/Szx"),o=n("qTlp"),l=n("NSGy"),c=n("cfII"),u=n("YeWz"),d=n("TjC/"),f=n("sOG4"),h=n("o/E4"),p=n("QXXq"),m=n("BrvI"),g=n("9aS3"),v=n("Ddgg"),b=n("7bmO"),y=n("DXSV"),_=n("EQ0+"),w=n("1m+M"),O=n("OJFw");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=Object(b.k)(O.b,["tabs","isNavBar","cardHeader"]),x=function(e){return!e.disabled},E=a.a.extend({name:i.wb,inject:{bvTabs:{default:function(){return{}}}},props:{tab:{default:null},tabs:{type:Array,default:function(){return[]}},id:{type:String,default:null},controls:{type:String,default:null},tabIndex:{type:Number,default:null},posInSet:{type:Number,default:null},setSize:{type:Number,default:null},noKeyNav:{type:Boolean,default:!1}},methods:{focus:function(){Object(h.d)(this.$refs.link)},handleEvt:function(e){if(!this.tab.disabled){var t=e.type,n=e.keyCode,i=e.shiftKey;"click"===t?(Object(p.d)(e),this.$emit("click",e)):"keydown"===t&&n===r.h?(Object(p.d)(e),this.$emit("click",e)):"keydown"!==t||this.noKeyNav||(-1!==[r.i,r.f,r.e].indexOf(n)?(Object(p.d)(e),i||n===r.e?this.$emit("first",e):this.$emit("prev",e)):-1!==[r.a,r.g,r.b].indexOf(n)&&(Object(p.d)(e),i||n===r.b?this.$emit("last",e):this.$emit("next",e)))}}},render:function(e){var t=this.id,n=this.tabIndex,i=this.setSize,r=this.posInSet,a=this.controls,o=this.handleEvt,l=this.tab,c=l.title,u=l.localActive,d=l.disabled,f=l.titleItemClass,h=l.titleLinkClass,p=l.titleLinkAttributes,m=e(w.a,{ref:"link",staticClass:"nav-link",class:[{active:u&&!d,disabled:d},h,u?this.bvTabs.activeNavItemClass:null],props:{disabled:d},attrs:S(S({},p),{},{role:"tab",id:t,tabindex:n,"aria-selected":u&&!d?"true":"false","aria-setsize":i,"aria-posinset":r,"aria-controls":a}),on:{click:o,keydown:o}},[this.tab.normalizeSlot(s.i)||c]);return e("li",{staticClass:"nav-item",class:[f],attrs:{role:"presentation"}},[m])}}),D=a.a.extend({name:i.vb,mixins:[y.a,_.a],provide:function(){return{bvTabs:this}},model:{prop:"value",event:"input"},props:S(S({},C),{},{tag:{type:String,default:"div"},card:{type:Boolean,default:!1},end:{type:Boolean,default:!1},noFade:{type:Boolean,default:!1},noNavStyle:{type:Boolean,default:!1},noKeyNav:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},contentClass:{type:[String,Array,Object]},navClass:{type:[String,Array,Object]},navWrapperClass:{type:[String,Array,Object]},activeNavItemClass:{type:[String,Array,Object]},activeTabClass:{type:[String,Array,Object]},value:{type:Number,default:null}}),data:function(){return{currentTab:Object(v.c)(this.value,-1),tabs:[],registeredTabs:[],isMounted:!1}},computed:{fade:function(){return!this.noFade},localNavClass:function(){var e=[];return this.card&&this.vertical&&e.push("card-header","h-100","border-bottom-0","rounded-0"),[].concat(e,[this.navClass])}},watch:{currentTab:function(e){var t=-1;this.tabs.forEach((function(n,i){e!==i||n.disabled?n.localActive=!1:(n.localActive=!0,t=i)})),this.$emit("input",t)},value:function(e,t){if(e!==t){e=Object(v.c)(e,-1),t=Object(v.c)(t,0);var n=this.tabs;n[e]&&!n[e].disabled?this.activateTab(n[e]):e<t?this.previousTab():this.nextTab()}},registeredTabs:function(){var e=this;this.$nextTick((function(){Object(h.B)((function(){e.updateTabs()}))}))},tabs:function(e,t){var n=this;Object(l.a)(e.map((function(e){return e._uid})),t.map((function(e){return e._uid})))||this.$nextTick((function(){n.$emit("changed",e.slice(),t.slice())}))},isMounted:function(e){var t=this;e&&Object(h.B)((function(){t.updateTabs()})),this.setObserver(e)}},created:function(){var e=this;this.$_observer=null,this.currentTab=Object(v.c)(this.value,-1),this.$nextTick((function(){e.updateTabs()}))},mounted:function(){var e=this;this.updateTabs(),this.$nextTick((function(){e.isMounted=!0}))},deactivated:function(){this.isMounted=!1},activated:function(){var e=this;this.currentTab=Object(v.c)(this.value,-1),this.$nextTick((function(){e.updateTabs(),e.isMounted=!0}))},beforeDestroy:function(){this.isMounted=!1},destroyed:function(){this.tabs=[]},methods:{registerTab:function(e){var t=this;Object(d.a)(this.registeredTabs,e)||(this.registeredTabs.push(e),e.$once("hook:destroyed",(function(){t.unregisterTab(e)})))},unregisterTab:function(e){this.registeredTabs=this.registeredTabs.slice().filter((function(t){return t!==e}))},setObserver:function(e){if(this.$_observer&&this.$_observer.disconnect(),this.$_observer=null,e){var t=this;this.$_observer=Object(c.a)(this.$refs.tabsContainer,(function(){t.$nextTick((function(){Object(h.B)((function(){t.updateTabs()}))}))}),{childList:!0,subtree:!1,attributes:!0,attributeFilter:["id"]})}},getTabs:function(){var e=this.registeredTabs.filter((function(e){return 0===e.$children.filter((function(e){return e._isTab})).length})),t=[];if(this.isMounted&&e.length>0){var n=e.map((function(e){return"#".concat(e.safeId())})).join(", ");t=Object(h.D)(n,this.$el).map((function(e){return e.id})).filter(o.a)}return Object(u.a)(e,(function(e,n){return t.indexOf(e.safeId())-t.indexOf(n.safeId())}))},updateTabs:function(){var e=this.getTabs(),t=e.indexOf(e.slice().reverse().find((function(e){return e.localActive&&!e.disabled})));if(t<0){var n=this.currentTab;n>=e.length?t=e.indexOf(e.slice().reverse().find(x)):e[n]&&!e[n].disabled&&(t=n)}t<0&&(t=e.indexOf(e.find(x))),e.forEach((function(e){e.localActive=!1})),e[t]&&(e[t].localActive=!0),this.tabs=e,this.currentTab=t},getButtonForTab:function(e){return(this.$refs.buttons||[]).find((function(t){return t.tab===e}))},updateButton:function(e){var t=this.getButtonForTab(e);t&&t.$forceUpdate&&t.$forceUpdate()},activateTab:function(e){var t=!1;if(e){var n=this.tabs.indexOf(e);if(!e.disabled&&n>-1&&n!==this.currentTab){var i=new f.a("activate-tab",{cancelable:!0,vueTarget:this,componentId:this.safeId()});this.$emit(i.type,n,this.currentTab,i),i.defaultPrevented||(t=!0,this.currentTab=n)}}return t||this.currentTab===this.value||this.$emit("input",this.currentTab),t},deactivateTab:function(e){return!!e&&this.activateTab(this.tabs.filter((function(t){return t!==e})).find(x))},focusButton:function(e){var t=this;this.$nextTick((function(){Object(h.d)(t.getButtonForTab(e))}))},emitTabClick:function(e,t){Object(m.d)(t)&&e&&e.$emit&&!e.disabled&&e.$emit("click",t)},clickTab:function(e,t){this.activateTab(e),this.emitTabClick(e,t)},firstTab:function(e){var t=this.tabs.find(x);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))},previousTab:function(e){var t=Object(g.b)(this.currentTab,0),n=this.tabs.slice(0,t).reverse().find(x);this.activateTab(n)&&e&&(this.focusButton(n),this.emitTabClick(n,e))},nextTab:function(e){var t=Object(g.b)(this.currentTab,-1),n=this.tabs.slice(t+1).find(x);this.activateTab(n)&&e&&(this.focusButton(n),this.emitTabClick(n,e))},lastTab:function(e){var t=this.tabs.slice().reverse().find(x);this.activateTab(t)&&e&&(this.focusButton(t),this.emitTabClick(t,e))}},render:function(e){var t=this,n=this.tabs,i=this.noKeyNav,r=this.firstTab,s=this.previousTab,a=this.nextTab,o=this.lastTab,l=n.find((function(e){return e.localActive&&!e.disabled})),c=n.find((function(e){return!e.disabled})),u=n.map((function(u,d){var f=null;return i||(f=-1,(l===u||!l&&c===u)&&(f=null)),e(E,{key:u._uid||d,ref:"buttons",refInFor:!0,props:{tab:u,tabs:n,id:u.controlledBy||(u.safeId?u.safeId("_BV_tab_button_"):null),controls:u.safeId?u.safeId():null,tabIndex:f,setSize:n.length,posInSet:d+1,noKeyNav:i},on:{click:function(e){t.clickTab(u,e)},first:r,prev:s,next:a,last:o}})})),f=e(O.a,{ref:"nav",class:this.localNavClass,attrs:{role:"tablist",id:this.safeId("_BV_tab_controls_")},props:{fill:this.fill,justified:this.justified,align:this.align,tabs:!this.noNavStyle&&!this.pills,pills:!this.noNavStyle&&this.pills,vertical:this.vertical,small:this.small,cardHeader:this.card&&!this.vertical}},[this.normalizeSlot("tabs-start")||e(),u,this.normalizeSlot("tabs-end")||e()]);f=e("div",{key:"bv-tabs-nav",class:[{"card-header":this.card&&!this.vertical&&!this.end,"card-footer":this.card&&!this.vertical&&this.end,"col-auto":this.vertical},this.navWrapperClass]},[f]);var h=e();n&&0!==n.length||(h=e("div",{key:"bv-empty-tab",class:["tab-pane","active",{"card-body":this.card}]},this.normalizeSlot("empty")));var p=e("div",{ref:"tabsContainer",key:"bv-tabs-container",staticClass:"tab-content",class:[{col:this.vertical},this.contentClass],attrs:{id:this.safeId("_BV_tab_container_")}},Object(d.b)(this.normalizeSlot(),h));return e(this.tag,{staticClass:"tabs",class:{row:this.vertical,"no-gutters":this.vertical&&this.card},attrs:{id:this.safeId()}},[this.end?p:e(),[f],this.end?e():p])}}),P=n("XBTk"),T=n("4lAS"),N=n("Pyw5"),I=n.n(N),L=function(e){return Object.keys(e).every((function(e){return"text"===e||"attributes"===e}))};const R={components:{BTabs:D,GlButton:T.a},inheritAttrs:!1,props:{actionPrimary:{type:Object,required:!1,default:null,validator:function(e){return L(e)}},actionSecondary:{type:Object,required:!1,default:null,validator:function(e){return L(e)}},actionTertiary:{type:Object,required:!1,default:null,validator:function(e){return L(e)}},theme:{type:String,required:!1,default:"indigo",validator:function(e){return Object.keys(P.k).includes(e)||"gl-dark"===e}},contentClass:{type:[String,Array,Object],required:!1,default:null},navClass:{type:[String,Array,Object],required:!1,default:null},justified:{type:Boolean,required:!1,default:!1}},computed:{hasActions:function(){return[this.actionPrimary,this.actionSecondary,this.actionTertiary].some(Boolean)},activeItemBorderClass:function(){return"gl-tab-nav-item-active-".concat(this.theme)}},methods:{buttonBinding:function(e,t){return e.attributes?e.attributes:P.A[t]},primary:function(){this.$emit("primary")},secondary:function(){this.$emit("secondary")},tertiary:function(){this.$emit("tertiary")}}};const A=I()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-tabs",e._g(e._b({staticClass:"gl-tabs",attrs:{"no-nav-style":!0,"no-fade":!0,"active-nav-item-class":"gl-tab-nav-item-active "+e.activeItemBorderClass,"content-class":[e.contentClass,"gl-tab-content"],"nav-class":[e.navClass,"gl-tabs-nav"],justified:e.justified},scopedSlots:e._u([e.hasActions?{key:"tabs-start",fn:function(){return[n("div",{staticClass:"gl-actions-tabs-start",attrs:{"data-testid":"actions-tabs-start"}},[e.actionPrimary?n("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?n("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?n("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null,e.hasActions?{key:"tabs-end",fn:function(){return[n("div",{staticClass:"gl-actions-tabs-end",attrs:{"data-testid":"actions-tabs-end"}},[e.actionPrimary?n("gl-button",e._b({attrs:{"data-testid":"action-primary"},on:{click:e.primary}},"gl-button",e.buttonBinding(e.actionPrimary,"actionPrimary"),!1),[e._v("\n        "+e._s(e.actionPrimary.text)+"\n      ")]):e._e(),e._v(" "),e.actionSecondary?n("gl-button",e._b({attrs:{"data-testid":"action-secondary"},on:{click:e.secondary}},"gl-button",e.buttonBinding(e.actionSecondary,"actionSecondary"),!1),[e._v("\n        "+e._s(e.actionSecondary.text)+"\n      ")]):e._e(),e._v(" "),e.actionTertiary?n("gl-button",e._b({attrs:{"data-testid":"action-tertiary"},on:{click:e.tertiary}},"gl-button",e.buttonBinding(e.actionTertiary,"actionTertiary"),!1),[e._v("\n        "+e._s(e.actionTertiary.text)+"\n      ")]):e._e()],1)]},proxy:!0}:null],null,!0)},"b-tabs",e.$attrs,!1),e.$listeners),[e._l(Object.keys(e.$slots),(function(t){return e._t(t,null,{slot:t})}))],2)},staticRenderFns:[]},void 0,R,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=A},pk44:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"rebaseQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rebaseInProgress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetBranch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userPermissions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pushToSourceBranch"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:233}};n.loc.source={body:"query rebaseQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      rebaseInProgress\n      targetBranch\n      userPermissions {\n        pushToSourceBranch\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.rebaseQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"rebaseQuery")},"q+Dt":function(e,t,n){var i=n("sjqF"),r=n("9RX+"),s=n("P9pc");e.exports=function(e,t,n){return t==t?s(e,t,n):i(e,r,n)}},"q/Yt":function(e,t,n){"use strict";n.d(t,"c",(function(){return Ct})),n.d(t,"b",(function(){return Et})),n.d(t,"a",(function(){return St}));n("jaBk");var i=n("EmJ/"),r=n.n(i),s=n("jB52"),a=n("GiFX"),o=n("XRO8"),l=n("xk0s"),c=n("NmEs"),u=n("/lV4"),d=n("TXp8"),f=n("lUJc"),h=n("dR/i"),p=(n("KcQl"),n("LLbv")),m=n("s1D3"),g=n("vZ/O"),v=n("MV2A"),b=n("A7K0"),y=n("bOix"),_=n("kMc5"),w=n("H3X6"),O=n("4lAS"),k={components:{GlButton:O.a},inject:["canUpdate"],props:{formattedDate:{required:!0,type:String},hasDate:{required:!0,type:Boolean},resetText:{required:!0,type:String},isLoading:{required:!0,type:Boolean},canDelete:{required:!1,type:Boolean,default:!0}}},S=n("tBpV"),j=Object(S.a)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-align-items-center hide-collapsed"},[n("span",{class:e.hasDate?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500",attrs:{"data-testid":"sidebar-date-value"}},[e._v("\n    "+e._s(e.formattedDate)+"\n  ")]),e._v(" "),e.hasDate&&e.canUpdate&&e.canDelete?n("div",{staticClass:"gl-display-flex"},[n("span",{staticClass:"gl-px-2"},[e._v("-")]),e._v(" "),n("gl-button",{staticClass:"gl-text-gray-500!",attrs:{variant:"link","data-testid":"reset-button",disabled:e.isLoading},on:{click:function(t){return e.$emit("reset-date",t)}}},[e._v("\n      "+e._s(e.resetText)+"\n    ")])],1):e._e()])}),[],!1,null,null,null).exports,C={components:{GlFormRadio:n("OQy4").a,SidebarFormattedDate:j},inject:["canUpdate"],props:{issuable:{required:!0,type:Object},isLoading:{required:!0,type:Boolean},dateType:{type:String,required:!0}},computed:{dateIsFixed:{get(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[w.d[this.dateType].isDateFixed])||!1},set(e){this.$emit("set-date",e)}},hasFixedDate(){return null!==this.issuable[w.d[this.dateType].dateFixed]},formattedFixedDate(){const e=this.issuable[w.d[this.dateType].dateFixed];return e?Object(y.d)(Object(y.z)(e),!0):this.$options.i18n.noDate},formattedInheritedDate(){const e=this.issuable[w.d[this.dateType].dateFromMilestones];return e?Object(y.d)(Object(y.z)(e),!0):this.$options.i18n.noDate}},i18n:{fixed:Object(u.a)("Fixed:"),inherited:Object(u.a)("Inherited:"),remove:Object(u.a)("remove"),noDate:Object(u.a)("None")}},x=Object(S.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hide-collapsed gl-mt-3"},[n("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-fixed-date"}},[n("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!0,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[n("span",{class:e.dateIsFixed?"gl-text-gray-900 gl-font-weight-bold":"gl-text-gray-500"},[e._v("\n        "+e._s(e.$options.i18n.fixed)+"\n      ")])]),e._v(" "),n("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":e.dateIsFixed,"formatted-date":e.formattedFixedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":e.dateIsFixed&&e.hasFixedDate},on:{"reset-date":function(t){return e.$emit("reset-date",t)}}})],1),e._v(" "),n("div",{staticClass:"gl-display-flex gl-align-items-baseline",attrs:{"data-testid":"sidebar-inherited-date"}},[n("gl-form-radio",{staticClass:"gl-pr-2",attrs:{value:!1,disabled:!e.canUpdate||e.isLoading},model:{value:e.dateIsFixed,callback:function(t){e.dateIsFixed=t},expression:"dateIsFixed"}},[n("span",{class:e.dateIsFixed?"gl-text-gray-500":"gl-text-gray-900 gl-font-weight-bold"},[e._v("\n        "+e._s(e.$options.i18n.inherited)+"\n      ")])]),e._v(" "),n("sidebar-formatted-date",{staticClass:"gl-line-height-normal",attrs:{"has-date":!e.dateIsFixed,"formatted-date":e.formattedInheritedDate,"reset-text":e.$options.i18n.remove,"is-loading":e.isLoading,"can-delete":!1}})],1)])}),[],!1,null,null,null).exports;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=new CustomEvent("hiddenGlDropdown",{bubbles:!0});var N={tracking:{event:"click_edit_button",label:"right_sidebar"},directives:{GlTooltip:p.a},components:{GlIcon:m.a,GlDatepicker:g.a,GlLink:v.a,GlPopover:b.a,SidebarEditableItem:_.a,SidebarFormattedDate:j,SidebarInheritDate:x},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},dateType:{type:String,required:!1,default:w.e.due},issuableType:{required:!0,type:String},canInherit:{required:!1,type:Boolean,default:!1}},data(){return{issuable:{},loading:!1,tracking:D(D({},this.$options.tracking),{},{property:this.dateType===w.e.start?"startDate":"dueDate"})}},apollo:{issuable:{query(){return this.dateQueries[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t;return(null===(t=e.workspace)||void 0===t?void 0:t.issuable)||{}},result(e){var t,n;let{data:i}=e;this.$emit("".concat(this.dateType,"Updated"),null===(t=i.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n[this.dateType])},error(){Object(o.b)({message:Object(u.f)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:this.issuableType,dateType:this.dateType===w.e.start?"start":"due"})})}}},computed:{dateQueries(){return this.dateType===w.e.start?w.i:w.f},dateLabel(){return this.dateType===w.e.start?this.$options.i18n.startDate:this.$options.i18n.dueDate},removeDateLabel(){return this.dateType===w.e.start?this.$options.i18n.removeStartDate:this.$options.i18n.removeDueDate},dateValue(){var e;return(null===(e=this.issuable)||void 0===e?void 0:e[this.dateType])||null},isLoading(){return this.$apollo.queries.issuable.loading||this.loading},hasDate(){return null!==this.dateValue},parsedDate(){return this.hasDate?Object(y.z)(this.dateValue):null},formattedDate(){return this.hasDate?Object(y.d)(this.parsedDate,!0):this.$options.i18n.noDate},workspacePath(){return this.issuableType===l.c.Issue?{projectPath:this.fullPath}:{groupPath:this.fullPath}},dataTestId(){return this.dateType===w.e.start?"start-date":"due-date"}},methods:{closeForm(){this.$refs.editable.collapse(),this.$el.dispatchEvent(T),this.$emit("closeForm")},openDatePicker(){this.$refs.datePicker.calendar.show()},setFixedDate(e){const t=this.issuable[w.d[this.dateType].dateFixed];this.setDate(t,e)},setDate(e){var t=this;let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=e?Object(y.h)(e,"yyyy-mm-dd"):null;this.loading=!0,this.$refs.editable.collapse(),this.$apollo.mutate({mutation:this.dateQueries[this.issuableType].mutation,variables:{input:D(D({},this.workspacePath),{},{iid:this.iid},this.canInherit?{[w.d[this.dateType].dateFixed]:n?i:void 0,[w.d[this.dateType].isDateFixed]:n}:{[this.dateType]:i})}}).then((function(e){let{data:{issuableSetDate:{errors:n}}}=e;n.length?Object(o.b)({message:n[0]}):t.$emit("closeForm")})).catch((function(){Object(o.b)({message:Object(u.f)(Object(u.a)("Something went wrong while setting %{issuableType} %{dateType} date."),{issuableType:t.issuableType,dateType:t.dateType===w.e.start?"start":"due"})})})).finally((function(){t.loading=!1}))}},i18n:{dueDate:Object(u.a)("Due date"),startDate:Object(u.a)("Start date"),noDate:Object(u.a)("None"),removeDueDate:Object(u.a)("remove due date"),removeStartDate:Object(u.a)("remove start date"),dateHelpValidMessage:Object(u.a)("These dates affect how your epics appear in the roadmap. Set a fixed date or one inherited from the milestones assigned to issues in this epic."),help:Object(u.a)("Help"),learnMore:Object(u.a)("Learn more")},dateHelpUrl:"/help/user/group/epics/index.md#start-date-and-due-date"},I=Object(S.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-editable-item",{ref:"editable",staticClass:"block",attrs:{title:e.dateLabel,tracking:e.tracking,loading:e.isLoading,"data-testid":e.dataTestId},on:{open:e.openDatePicker},scopedSlots:e._u([e.canInherit?{key:"title-extra",fn:function(){return[n("gl-icon",{ref:"epicDatePopover",staticClass:"gl-ml-3 gl-cursor-pointer gl-text-blue-600 hide-collapsed",attrs:{name:"question-o",tabindex:"0","aria-label":e.$options.i18n.help,"data-testid":"inherit-date-popover"}}),e._v(" "),n("gl-popover",{attrs:{target:function(){return e.$refs.epicDatePopover.$el},triggers:"focus",placement:"left",boundary:"viewport"}},[n("p",[e._v(e._s(e.$options.i18n.dateHelpValidMessage))]),e._v(" "),n("gl-link",{attrs:{href:e.$options.dateHelpUrl,target:"_blank"}},[e._v(e._s(e.$options.i18n.learnMore))])],1)]},proxy:!0}:null,{key:"collapsed",fn:function(){return[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"sidebar-collapsed-icon",attrs:{title:e.dateLabel}},[n("gl-icon",{attrs:{size:16,name:"calendar"}}),e._v(" "),n("span",{staticClass:"collapse-truncated-title"},[e._v(e._s(e.formattedDate))])],1),e._v(" "),e.canInherit?n("sidebar-inherit-date",{attrs:{issuable:e.issuable,"is-loading":e.isLoading,"date-type":e.dateType},on:{"reset-date":function(t){return e.setDate(null)},"set-date":e.setFixedDate}}):n("sidebar-formatted-date",{attrs:{"has-date":e.hasDate,"formatted-date":e.formattedDate,"reset-text":e.removeDateLabel,"is-loading":e.isLoading},on:{"reset-date":function(t){return e.setDate(null)}}})]},proxy:!0},{key:"default",fn:function(){return[e.isLoading?e._e():n("gl-datepicker",{ref:"datePicker",staticClass:"gl-relative",attrs:{"default-date":e.parsedDate,"show-clear-button":"",autocomplete:"off"},on:{input:e.setDate,clear:function(t){return e.setDate(null)}}})]},proxy:!0}],null,!0)})}),[],!1,null,null,null).exports,L=n("FkSe"),R=n("rK/1"),A={name:"CopyableField",components:{GlLoadingIcon:L.a,ClipboardButton:R.a},props:{value:{type:String,required:!0},name:{type:String,required:!0},isLoading:{type:Boolean,required:!1,default:!1},clipboardTooltipText:{type:String,required:!1,default:void 0}},computed:{clipboardProps(){return{category:"tertiary",tooltipBoundary:"viewport",tooltipPlacement:"left",text:this.value,title:this.clipboardTooltipText||Object(u.f)(this.$options.i18n.clipboardTooltip,{name:this.name})}},loadingIconLabel(){return Object(u.f)(this.$options.i18n.loadingIconLabel,{name:this.name})},templateText(){return Object(u.f)(this.$options.i18n.templateText,{name:this.name,value:this.value})}},i18n:{loadingIconLabel:Object(u.a)("Loading %{name}"),clipboardTooltip:Object(u.a)("Copy %{name}"),templateText:Object(u.e)("Sidebar|%{name}: %{value}")}},F=Object(S.a)(A,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?e._e():n("clipboard-button",e._b({attrs:{"css-class":"sidebar-collapsed-icon dont-change-state gl-rounded-0! gl-hover-bg-transparent"}},"clipboard-button",e.clipboardProps,!1)),e._v(" "),n("div",{staticClass:"gl-display-flex gl-align-items-center gl-justify-content-space-between hide-collapsed"},[n("span",{staticClass:"gl-overflow-hidden gl-text-overflow-ellipsis gl-white-space-nowrap",attrs:{title:e.value}},[e._v("\n      "+e._s(e.templateText)+"\n    ")]),e._v(" "),e.isLoading?n("gl-loading-icon",{attrs:{inline:"",label:e.loadingIconLabel}}):n("clipboard-button",e._b({attrs:{size:"small"}},"clipboard-button",e.clipboardProps,!1))],1)],1)}),[],!1,null,null,null).exports,q={components:{CopyableField:F},inject:["fullPath","iid"],props:{issuableType:{required:!0,type:String}},data:()=>({reference:""}),apollo:{reference:{query(){return w.h[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:this.iid}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.reference)||""},error(e){this.$emit("fetch-error",{message:Object(u.a)("An error occurred while fetching reference"),error:e})}}},computed:{isLoading(){return this.$apollo.queries.reference.loading}}},M=Object(S.a)(q,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{staticClass:"sub-block",attrs:{"is-loading":this.isLoading,name:this.__("Reference"),value:this.reference}})}),[],!1,null,null,null).exports,B=n("1X7o"),$=n("0KyK"),V=n("s4z4"),U=n("Or2z"),G=n("jz1Q"),H=n("sHIo"),z=n("qvro"),W=n("GdyO"),Q=n("+g5w");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Z={name:"SidebarAssignees",components:{AssigneeTitle:z.a,Assignees:W.a,AssigneesRealtime:Q.a},mixins:[Object(H.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},signedIn:{type:Boolean,required:!1,default:!1},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0},issuableId:{type:Number,required:!0},assigneeAvailabilityStatus:{type:Object,required:!1,default:function(){return{}}}},data:()=>({store:new G.a,loading:!1}),computed:{shouldEnableRealtime(){return this.glFeatures.realTimeIssueSidebar&&"issue"===this.issuableType},queryVariables(){return{iid:this.issuableIid,fullPath:this.projectPath}},relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""}},created(){this.removeAssignee=this.store.removeAssignee.bind(this.store),this.addAssignee=this.store.addAssignee.bind(this.store),this.removeAllAssignees=this.store.removeAllAssignees.bind(this.store),U.a.$on("sidebar.removeAssignee",this.removeAssignee),U.a.$on("sidebar.addAssignee",this.addAssignee),U.a.$on("sidebar.removeAllAssignees",this.removeAllAssignees),U.a.$on("sidebar.saveAssignees",this.saveAssignees)},beforeDestroy(){U.a.$off("sidebar.removeAssignee",this.removeAssignee),U.a.$off("sidebar.addAssignee",this.addAssignee),U.a.$off("sidebar.removeAllAssignees",this.removeAllAssignees),U.a.$off("sidebar.saveAssignees",this.saveAssignees)},methods:{assignSelf(){this.$el.parentElement.dispatchEvent(new Event("assignYourself")),this.mediator.assignYourself(),this.saveAssignees()},saveAssignees(){var e=this;this.loading=!0,this.mediator.saveAssignees(this.field).then((function(){e.loading=!1,e.store.resetChanging(),Object(V.b)()})).catch((function(){return e.loading=!1,new o.c(Object(u.a)("Error occurred when saving assignees"))}))},exposeAvailabilityStatus(e){var t=this;return e.map((function(e){let{username:n}=e;return Y(Y({},J(e,["username"])),{},{username:n,availability:t.assigneeAvailabilityStatus[n]||""})}))}}},ee=Object(S.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shouldEnableRealtime?n("assignees-realtime",{attrs:{"issuable-type":e.issuableType,"issuable-id":e.issuableId,"query-variables":e.queryVariables,mediator:e.mediator}}):e._e(),e._v(" "),n("assignee-title",{attrs:{"number-of-assignees":e.store.assignees.length,loading:e.loading||e.store.isFetching.assignees,editable:e.store.editable,"show-toggle":!e.signedIn,changing:e.store.changing}}),e._v(" "),e.store.isFetching.assignees?e._e():n("assignees",{staticClass:"value",attrs:{"root-path":e.relativeUrlRoot,users:e.exposeAvailabilityStatus(e.store.assignees),editable:e.store.editable,"issuable-type":e.issuableType},on:{"assign-self":e.assignSelf}})],1)}),[],!1,null,null,null).exports,te={components:{CopyableField:F},props:{issueEmailAddress:{type:String,required:!0}}},ne=Object(S.a)(te,(function(){var e=this.$createElement;return(this._self._c||e)("copyable-field",{attrs:{"data-qa-selector":"copy-forward-email",name:this.s__("RightSidebar|Issue email"),"clipboard-tooltip-text":this.s__("RightSidebar|Copy email address"),value:this.issueEmailAddress}})}),[],!1,null,null,null).exports,ie=n("Idy0"),re=n.n(ie),se=n("HJBN"),ae=n.n(se),oe=n("9Yx2"),le=n.n(oe),ce=n("Gbfx"),ue=n.n(ce),de=n("FxFN"),fe=n("DvJu"),he=n.n(fe);const pe=function(e){return"gid://gitlab/Label/".concat(e)};var me=n("64hj"),ge=n("TM1k");function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _e={[l.c.Issue]:{mutation:ue.a,mutationName:"updateIssue"},[l.c.MergeRequest]:{mutation:he.a,mutationName:"mergeRequestSetLabels"}};var we={components:{LabelsSelect:ge.a},variant:me.a.Sidebar,inject:["allowLabelCreate","allowLabelEdit","allowScopedLabels","iid","initiallySelectedLabels","issuableType","labelsFetchPath","labelsManagePath","projectIssuesPath","projectPath"],data(){return{isLabelsSelectInProgress:!1,selectedLabels:this.initiallySelectedLabels}},methods:{handleDropdownClose(){r()(this.$el).trigger("hidden.gl.dropdown")},getUpdateVariables(e){const t=this.selectedLabels.map((function(e){return e.id})),n=e.filter((function(e){return e.set})).map((function(e){return e.id})),i=e.filter((function(e){return!e.set})).map((function(e){return e.id})),r=ae()(re()(t,n),i);switch(this.issuableType){case l.c.Issue:return{addLabelIds:n,iid:this.iid,projectPath:this.projectPath,removeLabelIds:i};case l.c.MergeRequest:return{iid:this.iid,labelIds:r.map(pe),operationMode:de.a.Replace,projectPath:this.projectPath};default:return{}}},handleUpdateSelectedLabels(e){this.updateSelectedLabels(this.getUpdateVariables(e))},getRemoveVariables(e){switch(this.issuableType){case l.c.Issue:return{iid:this.iid,projectPath:this.projectPath,removeLabelIds:[e]};case l.c.MergeRequest:return{iid:this.iid,labelIds:[pe(e)],operationMode:de.a.Remove,projectPath:this.projectPath};default:return{}}},handleLabelRemove(e){this.updateSelectedLabels(this.getRemoveVariables(e))},updateSelectedLabels(e){var t=this;this.isLabelsSelectInProgress=!0,this.$apollo.mutate({mutation:_e[this.issuableType].mutation,variables:{input:e}}).then((function(e){var n,i,r,s,a,o;let{data:l}=e;const{mutationName:c}=_e[t.issuableType];if(null===(n=l[c])||void 0===n?void 0:null===(i=n.errors)||void 0===i?void 0:i.length)throw new Error;const u=le()(t.issuableType);t.selectedLabels=null===(r=l[c])||void 0===r?void 0:null===(s=r[u])||void 0===s?void 0:null===(a=s.labels)||void 0===a?void 0:null===(o=a.nodes)||void 0===o?void 0:o.map((function(e){return be(be({},e),{},{id:Object(de.e)(e.id)})}))})).catch((function(){return Object(o.b)({message:Object(u.a)("An error occurred while updating labels.")})})).finally((function(){t.isLabelsSelectInProgress=!1}))}}},Oe=Object(S.a)(we,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("labels-select",{staticClass:"block labels js-labels-block",attrs:{"allow-label-remove":e.allowLabelEdit,"allow-label-create":e.allowLabelCreate,"allow-label-edit":e.allowLabelEdit,"allow-multiselect":!0,"allow-scoped-labels":e.allowScopedLabels,"footer-create-label-title":e.__("Create project label"),"footer-manage-label-title":e.__("Manage project labels"),"labels-create-title":e.__("Create project label"),"labels-fetch-path":e.labelsFetchPath,"labels-filter-base-path":e.projectIssuesPath,"labels-manage-path":e.labelsManagePath,"labels-select-in-progress":e.isLabelsSelectInProgress,"selected-labels":e.selectedLabels,variant:e.$options.sidebar,"data-qa-selector":"labels_block"},on:{onDropdownClose:e.handleDropdownClose,onLabelRemove:e.handleLabelRemove,updateSelectedLabels:e.handleUpdateSelectedLabels}},[e._v("\n  "+e._s(e.__("None"))+"\n")])}),[],!1,null,null,null).exports,ke=n("yi8e"),Se=n("30su");function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee={components:{GlButton:O.a},inject:["fullPath"],props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}},data:()=>({isLoading:!1}),computed:{buttonText(){return this.isLoading?Object(u.a)("Applying"):this.isLocked?Object(u.a)("Unlock"):Object(u.a)("Lock")}},methods:Ce(Ce({},Object(ke.c)(["updateLockedAttribute"])),{},{closeForm(){U.a.$emit("closeLockForm"),r()(this.$el).trigger("hidden.gl.dropdown")},submitForm(){var e=this;this.isLoading=!0,this.updateLockedAttribute({locked:!this.isLocked,fullPath:this.fullPath}).catch((function(){const t=Object(u.a)("Something went wrong trying to change the locked state of this %{issuableDisplayName}");Object(o.c)(Object(u.f)(t,{issuableDisplayName:e.issuableDisplayName}))})).finally((function(){e.closeForm(),e.isLoading=!1}))}})},De={components:{editFormButtons:Object(S.a)(Ee,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sidebar-item-warning-message-actions"},[n("gl-button",{staticClass:"gl-mr-3",on:{click:e.closeForm}},[e._v("\n    "+e._s(e.__("Cancel"))+"\n  ")]),e._v(" "),n("gl-button",{attrs:{"data-testid":"lock-toggle",category:"secondary",variant:"warning",disabled:e.isLoading,loading:e.isLoading},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("\n    "+e._s(e.buttonText)+"\n  ")])],1)}),[],!1,null,null,null).exports,GlSprintf:Se.a},props:{isLocked:{required:!0,type:Boolean},issuableDisplayName:{required:!0,type:String}}},Pe=Object(S.a)(De,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown show"},[n("div",{staticClass:"dropdown-menu sidebar-item-warning-message",attrs:{"data-testid":"warning-text"}},[e.isLocked?n("p",{staticClass:"text"},[n("gl-sprintf",{attrs:{message:e.__("Unlock this %{issuableDisplayName}? %{strongStart}Everyone%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}}],null,!1,2657919220)})],1):n("p",{staticClass:"text"},[n("gl-sprintf",{attrs:{message:e.__("Lock this %{issuableDisplayName}? Only %{strongStart}project members%{strongEnd} will be able to comment.")},scopedSlots:e._u([{key:"issuableDisplayName",fn:function(){return[e._v(e._s(e.issuableDisplayName))]},proxy:!0},{key:"strong",fn:function(t){var i=t.content;return[n("strong",[e._v(e._s(i))])]}}])})],1),e._v(" "),n("edit-form-buttons",{attrs:{"is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}})],1)])}),[],!1,null,null,null).exports;function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={issue:"issue",locked:{icon:"lock",class:"value",iconClass:"is-active",displayText:Object(u.a)("Locked")},unlocked:{class:["no-value hide-collapsed"],icon:"lock-open",iconClass:"",displayText:Object(u.a)("Unlocked")},components:{editForm:Pe,GlIcon:m.a},directives:{GlTooltip:p.a},props:{isEditable:{required:!0,type:Boolean}},data:()=>({isLockDialogOpen:!1}),computed:Ne(Ne({},Object(ke.d)(["getNoteableData"])),{},{issuableDisplayName(){return this.getNoteableData.targetType===this.$options.issue?Object(u.a)("issue"):Object(u.a)("merge request")},isLocked(){return this.getNoteableData.discussion_locked},lockStatus(){return this.isLocked?this.$options.locked:this.$options.unlocked},tooltipLabel(){return this.isLocked?Object(u.a)("Locked"):Object(u.a)("Unlocked")}}),created(){U.a.$on("closeLockForm",this.toggleForm)},beforeDestroy(){U.a.$off("closeLockForm",this.toggleForm)},methods:{toggleForm(){this.isEditable&&(this.isLockDialogOpen=!this.isLockDialogOpen)}}},Re=Object(S.a)(Le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block issuable-sidebar-item lock"},[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left.viewport",value:{title:e.tooltipLabel},expression:"{ title: tooltipLabel }",modifiers:{left:!0,viewport:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{"data-testid":"sidebar-collapse-icon"},on:{click:e.toggleForm}},[n("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.lockStatus.icon}})],1),e._v(" "),n("div",{staticClass:"title hide-collapsed"},[e._v("\n    "+e._s(e.sprintf(e.__("Lock %{issuableDisplayName}"),{issuableDisplayName:e.issuableDisplayName}))+"\n    "),e.isEditable?n("a",{staticClass:"float-right lock-edit",attrs:{href:"#","data-testid":"edit-link","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"lock_issue"},on:{click:function(t){return t.preventDefault(),e.toggleForm(t)}}},[e._v("\n      "+e._s(e.__("Edit"))+"\n    ")]):e._e()]),e._v(" "),n("div",{staticClass:"value sidebar-item-value hide-collapsed"},[e.isLockDialogOpen?n("edit-form",{attrs:{"data-testid":"edit-form","is-locked":e.isLocked,"issuable-display-name":e.issuableDisplayName}}):e._e(),e._v(" "),n("div",{staticClass:"sidebar-item-value",class:e.lockStatus.class,attrs:{"data-testid":"lock-status"}},[n("gl-icon",{staticClass:"sidebar-item-icon",class:e.lockStatus.iconClass,attrs:{size:16,name:e.lockStatus.icon}}),e._v("\n      "+e._s(e.lockStatus.displayText)+"\n    ")],1)],1)])}),[],!1,null,null,null).exports,Ae={components:{participants:n("7sEu").a},props:{mediator:{type:Object,required:!0}},data:()=>({store:new G.a})},Fe=Object(S.a)(Ae,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block participants"},[t("participants",{attrs:{loading:this.store.isFetching.participants,participants:this.store.participants,"number-of-less-participants":7}})],1)}),[],!1,null,null,null).exports,qe={name:"ReviewerTitle",components:{GlLoadingIcon:L.a},props:{loading:{type:Boolean,required:!1,default:!1},numberOfReviewers:{type:Number,required:!0},editable:{type:Boolean,required:!0}},computed:{reviewerTitle(){const e=this.numberOfReviewers;return Object(u.d)("Reviewer","%d Reviewers",e)}}},Me=Object(S.a)(qe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.reviewerTitle)+"\n  "),e.loading?n("gl-loading-icon",{staticClass:"align-bottom",attrs:{inline:""}}):e._e(),e._v(" "),e.editable?n("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"reviewer"}},[e._v("\n    "+e._s(e.__("Edit"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null).exports,Be=(n("orcL"),{components:{GlIcon:m.a},props:{user:{type:Object,required:!0},imgSize:{type:Number,required:!0}},computed:{reviewerAlt(){return Object(u.f)(Object(u.a)("%{userName}'s avatar"),{userName:this.user.name})},avatarUrl(){return this.user.avatar||this.user.avatar_url||gon.default_avatar_url},hasMergeIcon(){return!this.user.can_merge}}}),$e=Object(S.a)(Be,(function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"position-relative"},[t("img",{staticClass:"avatar avatar-inline m-0",class:"s"+this.imgSize,attrs:{alt:this.reviewerAlt,src:this.avatarUrl,width:this.imgSize,"data-qa-selector":"avatar_image"}}),this._v(" "),this.hasMergeIcon?t("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}}):this._e()],1)}),[],!1,null,null,null).exports,Ve={components:{ReviewerAvatar:$e},props:{user:{type:Object,required:!0}}},Ue=Object(S.a)(Ve,(function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn-link",attrs:{type:"button"}},[t("reviewer-avatar",{attrs:{user:this.user,"img-size":24}}),this._v(" "),t("span",{staticClass:"author"},[this._v(" "+this._s(this.user.name)+" ")])],1)}),[],!1,null,null,null).exports;var Ge={directives:{GlTooltip:p.a},components:{CollapsedReviewer:Ue,GlIcon:m.a},props:{users:{type:Array,required:!0}},computed:{hasNoUsers(){return!this.users.length},hasMoreThanOneReviewer(){return this.users.length>1},hasMoreThanTwoReviewers(){return this.users.length>2},allReviewersCanMerge(){return this.users.every((function(e){return e.can_merge}))},sidebarAvatarCounter(){return this.users.length>99?"".concat(99,"+"):"+".concat(this.users.length-1)},collapsedUsers(){const e=this.hasMoreThanTwoReviewers?1:this.users.length;return this.users.slice(0,e)},tooltipTitleMergeStatus(){const e=this.users.filter((function(e){return e.can_merge})).length;return e===this.users.length?"":e>0?Object(u.f)(Object(u.a)("%{mergeLength}/%{usersLength} can merge"),{mergeLength:e,usersLength:this.users.length}):1===this.users.length?Object(u.a)("cannot merge"):Object(u.a)("no one can merge")},tooltipTitle(){const e=Math.min(5,this.users.length),t=this.users.slice(0,e).map((function(e){return e.name}));if(!this.users.length)return Object(u.a)("Reviewer(s)");this.users.length>t.length&&t.push(Object(u.f)(Object(u.a)("+ %{amount} more"),{amount:this.users.length-t.length}));const n=t.join(", ");return this.tooltipTitleMergeStatus?"".concat(n," (").concat(this.tooltipTitleMergeStatus,")"):n},tooltipOptions:()=>({container:"body",placement:"left",boundary:"viewport"})}},He=Object(S.a)(Ge,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOptions,expression:"tooltipOptions"}],staticClass:"sidebar-collapsed-icon sidebar-collapsed-user",class:{"multiple-users":e.hasMoreThanOneReviewer},attrs:{title:e.tooltipTitle}},[e.hasNoUsers?n("gl-icon",{attrs:{name:"user","aria-label":e.__("None")}}):e._e(),e._v(" "),e._l(e.collapsedUsers,(function(e){return n("collapsed-reviewer",{key:e.id,attrs:{user:e}})})),e._v(" "),e.hasMoreThanTwoReviewers?n("button",{staticClass:"btn-link",attrs:{type:"button"}},[n("span",{staticClass:"avatar-counter sidebar-avatar-counter"},[e._v(" "+e._s(e.sidebarAvatarCounter)+" ")]),e._v(" "),e.allReviewersCanMerge?e._e():n("gl-icon",{staticClass:"merge-icon",attrs:{name:"warning-solid","aria-hidden":"true"}})],1):e._e()],2)}),[],!1,null,null,null).exports,ze={components:{ReviewerAvatar:$e,GlLink:v.a},directives:{GlTooltip:p.a},props:{user:{type:Object,required:!0},rootPath:{type:String,required:!0},tooltipPlacement:{type:String,default:"bottom",required:!1},tooltipHasName:{type:Boolean,default:!0,required:!1},issuableType:{type:String,default:"issue",required:!1}},computed:{cannotMerge(){return"merge_request"===this.issuableType&&!this.user.can_merge},tooltipTitle(){return this.cannotMerge&&this.tooltipHasName?Object(u.f)(Object(u.a)("%{userName} (cannot merge)"),{userName:this.user.name}):this.cannotMerge?Object(u.a)("Cannot merge"):this.tooltipHasName?this.user.name:""},tooltipOption(){return{container:"body",placement:this.tooltipPlacement,boundary:"viewport"}},reviewerUrl(){return this.user.web_url}}},We=Object(S.a)(ze,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gl-link",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:e.tooltipOption,expression:"tooltipOption"}],staticClass:"d-inline-block",attrs:{href:e.reviewerUrl,title:e.tooltipTitle}},[n("span",{staticClass:"gl-display-flex gl-align-items-center"},[n("reviewer-avatar",{attrs:{user:e.user,"img-size":24,"issuable-type":e.issuableType}}),e._v(" "),e._t("default",null,{user:e.user})],2)])}),[],!1,null,null,null).exports;function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe={i18n:{reRequestReview:Object(u.a)("Re-request review")},components:{GlButton:O.a,GlIcon:m.a,ReviewerAvatarLink:We},directives:{GlTooltip:p.a},props:{users:{type:Array,required:!0},rootPath:{type:String,required:!0},issuableType:{type:String,required:!1,default:"issue"}},data:()=>({showLess:!0,loadingStates:{}}),watch:{users:{handler(e){this.loadingStates=e.reduce((function(e,t){return Ke(Ke({},e),{},{[t.id]:e[t.id]||null})}),this.loadingStates)},immediate:!0}},methods:{approvedByTooltipTitle:e=>Object(u.f)(Object(u.e)("MergeRequest|Approved by @%{username}"),e),toggleShowLess(){this.showLess=!this.showLess},reRequestReview(e){this.loadingStates[e]="loading",this.$emit("request-review",{userId:e,callback:this.requestReviewComplete})},requestReviewComplete(e,t){var n=this;t?(this.loadingStates[e]="success",setTimeout((function(){n.loadingStates[e]=null}),1500)):this.loadingStates[e]=null}},LOADING_STATE:"loading",SUCCESS_STATE:"success"},Je={name:"Reviewers",components:{CollapsedReviewerList:He,UncollapsedReviewerList:Object(S.a)(Xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.users,(function(t,i){return n("div",{key:t.id,class:{"gl-mb-3":i!==e.users.length-1},attrs:{"data-testid":"reviewer"}},[n("reviewer-avatar-link",{attrs:{user:t,"root-path":e.rootPath,"issuable-type":e.issuableType}},[n("div",{staticClass:"gl-ml-3"},[e._v("@"+e._s(t.username))])]),e._v(" "),t.approved?n("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"float-right gl-my-2 gl-ml-2 gl-text-green-500",attrs:{size:16,title:e.approvedByTooltipTitle(t),name:"status-success","data-testid":"re-approved"}}):e._e(),e._v(" "),e.loadingStates[t.id]===e.$options.SUCCESS_STATE?n("gl-icon",{staticClass:"float-right gl-py-2 gl-mr-2 gl-text-green-500",attrs:{size:24,name:"check","data-testid":"re-request-success"}}):t.can_update_merge_request&&t.reviewed?n("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.left",modifiers:{left:!0}}],staticClass:"float-right gl-text-gray-500!",attrs:{title:e.$options.i18n.reRequestReview,"aria-label":e.$options.i18n.reRequestReview,loading:e.loadingStates[t.id]===e.$options.LOADING_STATE,size:"small",icon:"redo",variant:"link","data-testid":"re-request-button"},on:{click:function(n){return e.reRequestReview(t.id)}}}):e._e()],1)})),0)}),[],!1,null,null,null).exports},props:{rootPath:{type:String,required:!0},users:{type:Array,required:!0},editable:{type:Boolean,required:!0},issuableType:{type:String,required:!1,default:"issue"}},computed:{hasNoUsers(){return!this.users.length},sortedReviewers(){return[...this.users.filter((function(e){return e.can_merge})),...this.users.filter((function(e){return!e.can_merge}))]}},methods:{assignSelf(){this.$emit("assign-self")},requestReview(e){this.$emit("request-review",e)}}},Ze={name:"SidebarReviewers",components:{ReviewerTitle:Me,Reviewers:Object(S.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("collapsed-reviewer-list",{attrs:{users:e.sortedReviewers,"issuable-type":e.issuableType}}),e._v(" "),n("div",{staticClass:"value hide-collapsed"},[e.hasNoUsers?[n("span",{staticClass:"assign-yourself no-value"},[e._v("\n        "+e._s(e.__("None"))+"\n      ")])]:n("uncollapsed-reviewer-list",{attrs:{users:e.sortedReviewers,"root-path":e.rootPath,"issuable-type":e.issuableType},on:{"request-review":e.requestReview}})],2)],1)}),[],!1,null,null,null).exports},mixins:[Object(H.a)()],props:{mediator:{type:Object,required:!0},field:{type:String,required:!0},issuableType:{type:String,required:!1,default:"issue"},issuableIid:{type:String,required:!0},projectPath:{type:String,required:!0}},data:()=>({store:new G.a,loading:!1}),computed:{relativeUrlRoot(){var e;return null!==(e=gon.relative_url_root)&&void 0!==e?e:""}},created(){this.removeReviewer=this.store.removeReviewer.bind(this.store),this.addReviewer=this.store.addReviewer.bind(this.store),this.removeAllReviewers=this.store.removeAllReviewers.bind(this.store),U.a.$on("sidebar.removeReviewer",this.removeReviewer),U.a.$on("sidebar.addReviewer",this.addReviewer),U.a.$on("sidebar.removeAllReviewers",this.removeAllReviewers),U.a.$on("sidebar.saveReviewers",this.saveReviewers)},beforeDestroy(){U.a.$off("sidebar.removeReviewer",this.removeReviewer),U.a.$off("sidebar.addReviewer",this.addReviewer),U.a.$off("sidebar.removeAllReviewers",this.removeAllReviewers),U.a.$off("sidebar.saveReviewers",this.saveReviewers)},methods:{saveReviewers(){var e=this;this.loading=!0,this.mediator.saveReviewers(this.field).then((function(){e.loading=!1,Object(V.b)()})).catch((function(){return e.loading=!1,new o.c(Object(u.a)("Error occurred when saving reviewers"))}))},requestReview(e){this.mediator.requestReview(e)}}},et=Object(S.a)(Ze,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("reviewer-title",{attrs:{"number-of-reviewers":e.store.reviewers.length,loading:e.loading||e.store.isFetching.reviewers,editable:e.store.editable}}),e._v(" "),e.store.isFetching.reviewers?e._e():n("reviewers",{staticClass:"value",attrs:{"root-path":e.relativeUrlRoot,users:e.store.reviewers,editable:e.store.editable,"issuable-type":e.issuableType},on:{"request-review":e.requestReview}})],1)}),[],!1,null,null,null).exports,tt=(n("QifN"),n("DZUU")),nt=n("Yyc1"),it=n("wP8z"),rt=n("ivyP"),st=n("3zS3"),at=n.n(st),ot=n("QZyC"),lt={i18n:rt.a,components:{GlLoadingIcon:L.a,GlTooltip:tt.a,GlSprintf:Se.a,GlDropdown:nt.a,GlDropdownItem:it.a,GlLink:v.a,SeverityToken:ot.a},props:{projectPath:{type:String,required:!0},iid:{type:String,required:!0},initialSeverity:{type:String,required:!1,default:rt.b.UNKNOWN.value},issuableType:{type:String,required:!1,default:rt.c.INCIDENT,validator:function(e){return[rt.c.INCIDENT].includes(e)}}},data(){return{isDropdownShowing:!1,isUpdating:!1,severity:this.initialSeverity}},computed:{severitiesList(){switch(this.issuableType){case rt.c.INCIDENT:return Object.values(rt.b);default:return[]}},dropdownClass(){return this.isDropdownShowing?"show":"gl-display-none"},selectedItem(){var e=this;return this.severitiesList.find((function(t){return t.value===e.severity}))}},mounted(){document.addEventListener("click",this.handleOffClick)},beforeDestroy(){document.removeEventListener("click",this.handleOffClick)},methods:{handleOffClick(e){this.isDropdownShowing&&(this.$refs.sidebarSeverity.contains(e.target)||this.hideDropdown())},hideDropdown(){this.isDropdownShowing=!1;const e=new Event("hidden.gl.dropdown");this.$el.dispatchEvent(e)},toggleFormDropdown(){this.isDropdownShowing=!this.isDropdownShowing},updateSeverity(e){var t=this;this.hideDropdown(),this.isUpdating=!0,this.$apollo.mutate({mutation:at.a,variables:{iid:this.iid,severity:e,projectPath:this.projectPath}}).then((function(e){const{data:{issueSetSeverity:{errors:n=[],issue:{severity:i}}}}=e;if(n[0])throw n[0];t.severity=i})).catch((function(){return Object(o.b)({message:"".concat(t.$options.i18n.UPDATE_SEVERITY_ERROR," ").concat(t.$options.i18n.TRY_AGAIN)})})).finally((function(){t.isUpdating=!1}))}}},ct=Object(S.a)(lt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"sidebarSeverity",staticClass:"block"},[n("div",{ref:"severity",staticClass:"sidebar-collapsed-icon",on:{click:e.toggleFormDropdown}},[n("severity-token",{attrs:{severity:e.selectedItem,"icon-size":14,"icon-only":!0}}),e._v(" "),n("gl-tooltip",{attrs:{target:function(){return e.$refs.severity},boundary:"viewport",placement:"left"}},[n("gl-sprintf",{attrs:{message:e.$options.i18n.SEVERITY_VALUE},scopedSlots:e._u([{key:"severity",fn:function(){return[e._v("\n          "+e._s(e.selectedItem.label)+"\n        ")]},proxy:!0}])})],1)],1),e._v(" "),n("div",{staticClass:"hide-collapsed"},[n("p",{staticClass:"title gl-display-flex gl-justify-content-space-between"},[e._v("\n      "+e._s(e.$options.i18n.SEVERITY)+"\n      "),n("gl-link",{attrs:{"data-testid":"editButton",href:"#"},on:{click:e.toggleFormDropdown,keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},[e._v("\n        "+e._s(e.$options.i18n.EDIT)+"\n      ")])],1),e._v(" "),n("gl-dropdown",{class:e.dropdownClass,attrs:{block:"",text:e.selectedItem.label,"toggle-class":"dropdown-menu-toggle gl-mb-2"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.hideDropdown(t)}}},e._l(e.severitiesList,(function(t){return n("gl-dropdown-item",{key:t.value,attrs:{"data-testid":"severityDropdownItem","is-check-item":!0,"is-checked":t.value===e.severity},on:{click:function(n){return e.updateSeverity(t.value)}}},[n("severity-token",{attrs:{severity:t}})],1)})),1),e._v(" "),e.isUpdating?n("gl-loading-icon",{attrs:{inline:!0}}):e.isDropdownShowing?e._e():n("severity-token",{attrs:{severity:e.selectedItem}})],1)])}),[],!1,null,null,null).exports,ut=n("uSO3"),dt=n("sAvI"),ft=n.n(dt),ht=(n("Kq6u"),n("uyVa")),pt={components:{IssuableTimeTracker:n("tyhI").a},data:()=>({mediator:new ht.a,store:new G.a}),mounted(){this.listenForQuickActions()},methods:{listenForQuickActions(){var e=this;r()(document).on("ajax:success",".gfm-form",this.quickActionListened),U.a.$on("timeTrackingUpdated",(function(t){e.quickActionListened({detail:[t]})}))},quickActionListened(e){const t=e.detail[0];let n;(n=void 0!==t&&t.commands_changes?Object.keys(t.commands_changes):[])&&ft()(["spend_time","time_estimate"],n).length&&this.mediator.fetch()}}},mt=Object(S.a)(pt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"block"},[t("issuable-time-tracker",{attrs:{"time-estimate":this.store.timeEstimate,"time-spent":this.store.totalTimeSpent,"human-time-estimate":this.store.humanTimeEstimate,"human-time-spent":this.store.humanTotalTimeSpent,"limit-to-hours":this.store.timeTrackingLimitToHours}})],1)}),[],!1,null,null,null).exports,gt=n("G3fq"),vt=n.n(gt),bt=n("m/7A");function yt(e){return e>0}var _t=class{constructor(e,t,n){this.mediator=e,this.$dropdownToggle=r()(t),this.$confirmButton=r()(n),this.onConfirmClickedWrapper=this.onConfirmClicked.bind(this)}init(){this.initDropdown(),this.addEventListeners()}destroy(){this.removeEventListeners()}initDropdown(){var e=this;Object(bt.a)(this.$dropdownToggle,{search:{fields:["name_with_namespace"]},showMenuAbove:!0,selectable:!0,filterable:!0,filterRemote:!0,multiSelect:!1,shouldPropagate:!1,data:function(t,n){e.mediator.fetchAutocompleteProjects(t).then(n).catch((function(){return new window.Flash(Object(u.a)("An error occurred while fetching projects autocomplete."))}))},renderRow:function(e){return'\n        <li>\n          <a href="#" class="js-move-issue-dropdown-item">\n            '.concat(vt()(e.name_with_namespace),"\n          </a>\n        </li>\n      ")},clicked:function(t){const n=t.selectedObj,i=t.isMarking?n.id:0;e.mediator.setMoveToProjectId(i),e.$confirmButton.prop("disabled",!yt(i))}})}addEventListeners(){this.$confirmButton.on("click",this.onConfirmClickedWrapper)}removeEventListeners(){this.$confirmButton.off("click",this.onConfirmClickedWrapper)}onConfirmClicked(){var e=this;yt(this.mediator.store.moveToProjectId)&&(this.$confirmButton.disable().addClass("is-loading"),this.mediator.moveIssue().catch((function(){window.Flash(Object(u.a)("An error occurred while moving the issue.")),e.$confirmButton.enable().removeClass("is-loading")})))}};function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".js-sidebar-options");return JSON.parse(e.innerHTML)}function jt(e){const t=document.getElementById("js-vue-sidebar-assignees");if(!t)return;const{id:n,iid:i,fullPath:r}=St(),a=function(){const e=document.querySelectorAll(".js-sidebar-assignee-data input");return Array.from(e).map((function(e){return e.dataset})).reduce((function(e,t){let{username:n,availability:i=""}=t;return Ot(Ot({},e),{},{[n]:i})}),{})}();new s.default({el:t,apolloProvider:B.a,components:{SidebarAssignees:ee},render:function(s){return s("sidebar-assignees",{props:{mediator:e,issuableIid:String(i),projectPath:r,field:t.dataset.field,signedIn:t.hasAttribute("data-signed-in"),issuableType:Object(c.B)()||Object(c.A)()||Object(c.x)()?l.c.Issue:l.c.MergeRequest,issuableId:n,assigneeAvailabilityStatus:a}})}})}function Ct(){const e=document.querySelector(".js-sidebar-labels");return!!e&&new s.default({el:e,apolloProvider:B.a,provide:Ot(Ot({},e.dataset),{},{allowLabelCreate:Object(c.K)(e.dataset.allowLabelCreate),allowLabelEdit:Object(c.K)(e.dataset.canEdit),allowScopedLabels:Object(c.K)(e.dataset.allowScopedLabels),initiallySelectedLabels:JSON.parse(e.dataset.selectedLabels)}),render:function(e){return e(Oe)}})}s.default.use($.a),s.default.use(a.default);const xt=(Object(c.B)()||Object(c.x)())&&gon.features.issueAssigneesWidget;function Et(e){xt?function(){const e=document.getElementById("js-vue-sidebar-assignees");if(!e)return;const{id:t,iid:n,fullPath:i,editable:r}=St();new s.default({el:e,apolloProvider:B.a,components:{SidebarAssigneesWidget:f.a},provide:{canUpdate:r,directlyInviteMembers:e.hasAttribute("data-directly-invite-members")},render:function(r){return r("sidebar-assignees-widget",{props:{iid:String(n),fullPath:i,issuableType:Object(c.B)()||Object(c.A)()||Object(c.x)()?l.c.Issue:l.c.MergeRequest,issuableId:t,allowMultipleAssignees:!e.dataset.maxAssignees},scopedSlots:{collapsed:function(e){let{users:t,onClick:n}=e;return r(d.a,{props:{users:t},nativeOn:{click:n}})}}})}})}():jt(e),function(e){const t=document.getElementById("js-vue-sidebar-reviewers");if(!t)return;const{iid:n,fullPath:i}=St();new s.default({el:t,apolloProvider:B.a,components:{SidebarReviewers:et},render:function(r){return r("sidebar-reviewers",{props:{mediator:e,issuableIid:String(n),projectPath:i,field:t.dataset.field,issuableType:Object(c.B)()||Object(c.x)()?"issue":"merge_request"}})}})}(e),function(){const e=document.getElementById("js-confidential-entry-point");if(!e)return;const{fullPath:t,iid:n}=St(),i=document.getElementById("js-confidential-issue-data"),r=JSON.parse(i.innerHTML);new s.default({el:e,apolloProvider:B.a,components:{SidebarConfidentialityWidget:h.b},provide:{canUpdate:r.is_editable},render:function(e){return e("sidebar-confidentiality-widget",{props:{iid:String(n),fullPath:t,issuableType:Object(c.B)()||Object(c.A)()||Object(c.x)()?l.c.Issue:l.c.MergeRequest}})}})}(),function(){const e=document.getElementById("js-due-date-entry-point");if(!e)return;const{fullPath:t,iid:n,editable:i}=St();new s.default({el:e,apolloProvider:B.a,components:{SidebarDueDateWidget:I},provide:{canUpdate:i},render:function(e){return e("sidebar-due-date-widget",{props:{iid:String(n),fullPath:t,issuableType:l.c.Issue}})}})}(),function(){const e=document.getElementById("js-reference-entry-point");if(!e)return;const{fullPath:t,iid:n}=St();new s.default({el:e,apolloProvider:B.a,components:{SidebarReferenceWidget:M},provide:{iid:String(n),fullPath:t},render:function(e){return e("sidebar-reference-widget",{props:{issuableType:Object(c.B)()||Object(c.A)()||Object(c.x)()?l.c.Issue:l.c.MergeRequest}})}})}(),function(){const e=document.getElementById("js-lock-entry-point");if(!e)return;const{fullPath:t}=St(),i=document.getElementById("js-lock-issue-data"),r=JSON.parse(i.innerHTML);let a;(a=Object(c.B)()||Object(c.A)()?Promise.all([n.e(99),n.e(168)]).then(n.bind(null,"62tv")).then((function(e){let{store:t}=e;return t})):Promise.all([n.e(436),n.e(99),n.e(166)]).then(n.bind(null,"wnC9")).then((function(e){return e.default}))).then((function(n){return new s.default({el:e,store:n,provide:{fullPath:t},render:function(e){return e(Re,{props:{isEditable:r.is_editable}})}})})).catch((function(){Object(o.b)({message:Object(u.a)("Failed to load sidebar lock status")})}))}(),function(e){const t=document.querySelector(".js-sidebar-participants-entry-point");t&&new s.default({el:t,components:{sidebarParticipants:Fe},render:function(t){return t("sidebar-participants",{props:{mediator:e}})}})}(e),function(){const e=document.querySelector(".js-sidebar-subscriptions-entry-point");if(!e)return;const{fullPath:t,iid:n,editable:i}=St();new s.default({el:e,apolloProvider:B.a,components:{SidebarSubscriptionsWidget:ut.a},provide:{canUpdate:i},render:function(e){return e("sidebar-subscriptions-widget",{props:{iid:String(n),fullPath:t,issuableType:Object(c.B)()||Object(c.A)()||Object(c.x)()?l.c.Issue:l.c.MergeRequest}})}})}(),function(){const e=document.getElementById("issuable-copy-email");if(!e)return;const{createNoteEmail:t}=St();new s.default({el:e,render:function(e){return e(ne,{props:{issueEmailAddress:t}})}})}(),new _t(e,r()(".js-move-issue"),r()(".js-move-issue-confirmation-button")).init(),function(){const e=document.getElementById("issuable-time-tracker"),{id:t,issuableType:n}=St();e&&new s.default({el:e,apolloProvider:B.a,provide:{issuableId:t,issuableType:n},render:function(e){return e(mt,{})}})}(),function(){const e=document.querySelector("#js-severity");if(!e)return!1;const{fullPath:t,iid:n,severity:i}=St();new s.default({el:e,apolloProvider:B.a,components:{SidebarSeverity:ct},render:function(e){return e("sidebar-severity",{props:{projectPath:t,iid:String(n),initialSeverity:i.toUpperCase()}})}})}()}},qLpH:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("3twG");const r=function(e){let{anchor:t=""}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(i.p)(gon.relative_url_root||"/","/help/",e);return t&&(n=Object(i.x)(n,t)),n}},qUaw:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return h})),n.d(t,"g",(function(){return P})),n.d(t,"i",(function(){return D})),n.d(t,"j",(function(){return M})),n.d(t,"w",(function(){return U})),n.d(t,"k",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"m",(function(){return Q})),n.d(t,"v",(function(){return K})),n.d(t,"n",(function(){return Y})),n.d(t,"o",(function(){return X})),n.d(t,"x",(function(){return J})),n.d(t,"y",(function(){return de})),n.d(t,"z",(function(){return fe})),n.d(t,"p",(function(){return me})),n.d(t,"q",(function(){return ge})),n.d(t,"r",(function(){return be})),n.d(t,"t",(function(){return ye})),n.d(t,"u",(function(){return ve})),n.d(t,"s",(function(){return _e})),n.d(t,"b",(function(){return Oe})),n.d(t,"c",(function(){return ke})),n.d(t,"d",(function(){return je})),n.d(t,"e",(function(){return Ce})),n.d(t,"f",(function(){return Se})),n.d(t,"A",(function(){return x}));var i=n("tyjs");function r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function s(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e)}return this}var a=n("bKga"),o=Array.prototype,l=o.map,c=o.slice,u={name:"implicit"};function d(){var e=Object(a.c)(),t=[],n=[],i=u;function s(r){var s=r+"",a=e.get(s);if(!a){if(i!==u)return i;e.set(s,a=t.push(r))}return n[(a-1)%n.length]}return s.domain=function(n){if(!arguments.length)return t.slice();t=[],e=Object(a.c)();for(var i,r,o=-1,l=n.length;++o<l;)e.has(r=(i=n[o])+"")||e.set(r,t.push(i));return s},s.range=function(e){return arguments.length?(n=c.call(e),s):n.slice()},s.unknown=function(e){return arguments.length?(i=e,s):i},s.copy=function(){return d(t,n).unknown(i)},r.apply(s,arguments),s}function f(){var e,t,n=d().unknown(void 0),s=n.domain,a=n.range,o=[0,1],l=!1,c=0,u=0,h=.5;function p(){var n=s().length,r=o[1]<o[0],d=o[r-0],f=o[1-r];e=(f-d)/Math.max(1,n-c+2*u),l&&(e=Math.floor(e)),d+=(f-d-e*(n-c))*h,t=e*(1-c),l&&(d=Math.round(d),t=Math.round(t));var p=Object(i.s)(n).map((function(t){return d+e*t}));return a(r?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(s(e),p()):s()},n.range=function(e){return arguments.length?(o=[+e[0],+e[1]],p()):o.slice()},n.rangeRound=function(e){return o=[+e[0],+e[1]],l=!0,p()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(l=!!e,p()):l},n.padding=function(e){return arguments.length?(c=Math.min(1,u=+e),p()):c},n.paddingInner=function(e){return arguments.length?(c=Math.min(1,e),p()):c},n.paddingOuter=function(e){return arguments.length?(u=+e,p()):u},n.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),p()):h},n.copy=function(){return f(s(),o).round(l).paddingInner(c).paddingOuter(u).align(h)},r.apply(p(),arguments)}function h(){return function e(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e(n())},t}(f.apply(null,arguments).paddingInner(1))}var p=n("YJlI"),m=function(e){return function(){return e}},g=function(e){return+e},v=[0,1];function b(e){return e}function y(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:m(isNaN(t)?NaN:.5)}function _(e){var t,n=e[0],i=e[e.length-1];return n>i&&(t=n,n=i,i=t),function(e){return Math.max(n,Math.min(i,e))}}function w(e,t,n){var i=e[0],r=e[1],s=t[0],a=t[1];return r<i?(i=y(r,i),s=n(a,s)):(i=y(i,r),s=n(s,a)),function(e){return s(i(e))}}function O(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=y(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=Object(i.b)(e,t,1,r)-1;return a[n](s[n](t))}}function k(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function S(){var e,t,n,i,r,s,a=v,o=v,u=p.a,d=b;function f(){return i=Math.min(a.length,o.length)>2?O:w,r=s=null,h}function h(t){return isNaN(t=+t)?n:(r||(r=i(a.map(e),o,u)))(e(d(t)))}return h.invert=function(n){return d(t((s||(s=i(o,a.map(e),p.m)))(n)))},h.domain=function(e){return arguments.length?(a=l.call(e,g),d===b||(d=_(a)),f()):a.slice()},h.range=function(e){return arguments.length?(o=c.call(e),f()):o.slice()},h.rangeRound=function(e){return o=c.call(e),u=p.r,f()},h.clamp=function(e){return arguments.length?(d=e?_(a):b,h):d!==b},h.interpolate=function(e){return arguments.length?(u=e,f()):u},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,i){return e=n,t=i,f()}}function j(e,t){return S()(e,t)}var C=n("pPhj"),x=function(e,t,n,r){var s,a=Object(i.A)(e,t,n);switch((r=Object(C.e)(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(s=Object(C.g)(a,o))||(r.precision=s),Object(C.d)(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(s=Object(C.h)(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=s-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(s=Object(C.f)(a))||(r.precision=s-2*("%"===r.type))}return Object(C.a)(r)};function E(e){var t=e.domain;return e.ticks=function(e){var n=t();return Object(i.B)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return x(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,s=t(),a=0,o=s.length-1,l=s[a],c=s[o];return c<l&&(r=l,l=c,c=r,r=a,a=o,o=r),(r=Object(i.z)(l,c,n))>0?(l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r,r=Object(i.z)(l,c,n)):r<0&&(l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r,r=Object(i.z)(l,c,n)),r>0?(s[a]=Math.floor(l/r)*r,s[o]=Math.ceil(c/r)*r,t(s)):r<0&&(s[a]=Math.ceil(l*r)/r,s[o]=Math.floor(c*r)/r,t(s)),e},e}function D(){var e=j(b,b);return e.copy=function(){return k(e,D())},r.apply(e,arguments),E(e)}function P(e){var t;function n(e){return isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=l.call(t,g),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return P(e).unknown(t)},e=arguments.length?l.call(e,g):[0,1],E(n)}var T=function(e,t){var n,i=0,r=(e=e.slice()).length-1,s=e[i],a=e[r];return a<s&&(n=i,i=r,r=n,n=s,s=a,a=n),e[i]=t.floor(s),e[r]=t.ceil(a),e};function N(e){return Math.log(e)}function I(e){return Math.exp(e)}function L(e){return-Math.log(-e)}function R(e){return-Math.exp(-e)}function A(e){return isFinite(e)?+("1e"+e):e<0?0:e}function F(e){return function(t){return-e(-t)}}function q(e){var t,n,r=e(N,I),s=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?A:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),s()[0]<0?(t=F(t),n=F(n),e(L,R)):e(N,I),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(s(e),o()):s()},r.ticks=function(e){var r,o=s(),l=o[0],c=o[o.length-1];(r=c<l)&&(h=l,l=c,c=h);var u,d,f,h=t(l),p=t(c),m=null==e?10:+e,g=[];if(!(a%1)&&p-h<m){if(h=Math.round(h)-1,p=Math.round(p)+1,l>0){for(;h<p;++h)for(d=1,u=n(h);d<a;++d)if(!((f=u*d)<l)){if(f>c)break;g.push(f)}}else for(;h<p;++h)for(d=a-1,u=n(h);d>=1;--d)if(!((f=u*d)<l)){if(f>c)break;g.push(f)}}else g=Object(i.B)(h,p,Math.min(p-h,m)).map(n);return r?g.reverse():g},r.tickFormat=function(e,i){if(null==i&&(i=10===a?".0e":","),"function"!=typeof i&&(i=Object(C.a)(i)),e===1/0)return i;null==e&&(e=10);var s=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=s?i(e):""}},r.nice=function(){return s(T(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function M(){var e=q(S()).domain([1,10]);return e.copy=function(){return k(e,M()).base(e.base())},r.apply(e,arguments),e}function B(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function V(e){var t=1,n=e(B(t),$(t));return n.constant=function(n){return arguments.length?e(B(t=+n),$(t)):t},E(n)}function U(){var e=V(S());return e.copy=function(){return k(e,U()).constant(e.constant())},r.apply(e,arguments)}function G(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function H(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function z(e){return e<0?-e*e:e*e}function W(e){var t=e(b,b),n=1;function i(){return 1===n?e(b,b):.5===n?e(H,z):e(G(n),G(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,i()):n},E(t)}function Q(){var e=W(S());return e.copy=function(){return k(e,Q()).exponent(e.exponent())},r.apply(e,arguments),e}function K(){return Q.apply(null,arguments).exponent(.5)}function Y(){var e,t=[],n=[],s=[];function a(){var e=0,r=Math.max(1,n.length);for(s=new Array(r-1);++e<r;)s[e-1]=Object(i.r)(t,e/r);return o}function o(t){return isNaN(t=+t)?e:n[Object(i.b)(s,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?s[i-1]:t[0],i<s.length?s[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,r=0,s=e.length;r<s;++r)null==(n=e[r])||isNaN(n=+n)||t.push(n);return t.sort(i.a),a()},o.range=function(e){return arguments.length?(n=c.call(e),a()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return s.slice()},o.copy=function(){return Y().domain(t).range(n).unknown(e)},r.apply(o,arguments)}function X(){var e,t=0,n=1,s=1,a=[.5],o=[0,1];function l(t){return t<=t?o[Object(i.b)(a,t,0,s)]:e}function u(){var e=-1;for(a=new Array(s);++e<s;)a[e]=((e+1)*n-(e-s)*t)/(s+1);return l}return l.domain=function(e){return arguments.length?(t=+e[0],n=+e[1],u()):[t,n]},l.range=function(e){return arguments.length?(s=(o=c.call(e)).length-1,u()):o.slice()},l.invertExtent=function(e){var i=o.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,a[0]]:i>=s?[a[s-1],n]:[a[i-1],a[i]]},l.unknown=function(t){return arguments.length?(e=t,l):l},l.thresholds=function(){return a.slice()},l.copy=function(){return X().domain([t,n]).range(o).unknown(e)},r.apply(E(l),arguments)}function J(){var e,t=[.5],n=[0,1],s=1;function a(r){return r<=r?n[Object(i.b)(t,r,0,s)]:e}return a.domain=function(e){return arguments.length?(t=c.call(e),s=Math.min(t.length,n.length-1),a):t.slice()},a.range=function(e){return arguments.length?(n=c.call(e),s=Math.min(t.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},a.unknown=function(t){return arguments.length?(e=t,a):e},a.copy=function(){return J().domain(t).range(n).unknown(e)},r.apply(a,arguments)}var Z=n("7dDw"),ee=n("/SQJ"),te=1e3,ne=60*te,ie=60*ne,re=24*ie,se=7*re,ae=30*re,oe=365*re;function le(e){return new Date(e)}function ce(e){return e instanceof Date?+e:+new Date(+e)}function ue(e,t,n,r,s,a,o,c,u){var d=j(b,b),f=d.invert,h=d.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),_=u("%b %d"),w=u("%B"),O=u("%Y"),S=[[o,1,te],[o,5,5*te],[o,15,15*te],[o,30,30*te],[a,1,ne],[a,5,5*ne],[a,15,15*ne],[a,30,30*ne],[s,1,ie],[s,3,3*ie],[s,6,6*ie],[s,12,12*ie],[r,1,re],[r,2,2*re],[n,1,se],[t,1,ae],[t,3,3*ae],[e,1,oe]];function C(i){return(o(i)<i?p:a(i)<i?m:s(i)<i?g:r(i)<i?v:t(i)<i?n(i)<i?y:_:e(i)<i?w:O)(i)}function x(t,n,r,s){if(null==t&&(t=10),"number"==typeof t){var a=Math.abs(r-n)/t,o=Object(i.e)((function(e){return e[2]})).right(S,a);o===S.length?(s=Object(i.A)(n/oe,r/oe,t),t=e):o?(s=(o=S[a/S[o-1][2]<S[o][2]/a?o-1:o])[1],t=o[0]):(s=Math.max(Object(i.A)(n,r,t),1),t=c)}return null==s?t:t.every(s)}return d.invert=function(e){return new Date(f(e))},d.domain=function(e){return arguments.length?h(l.call(e,ce)):h().map(le)},d.ticks=function(e,t){var n,i=h(),r=i[0],s=i[i.length-1],a=s<r;return a&&(n=r,r=s,s=n),n=(n=x(e,r,s,t))?n.range(r,s+1):[],a?n.reverse():n},d.tickFormat=function(e,t){return null==t?C:u(t)},d.nice=function(e,t){var n=h();return(e=x(e,n[0],n[n.length-1],t))?h(T(n,e)):d},d.copy=function(){return k(d,ue(e,t,n,r,s,a,o,c,u))},d}var de=function(){return r.apply(ue(Z.D,Z.n,Z.B,Z.a,Z.e,Z.j,Z.r,Z.h,ee.c).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},fe=function(){return r.apply(ue(Z.hb,Z.R,Z.fb,Z.F,Z.J,Z.N,Z.V,Z.L,ee.g).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function he(){var e,t,n,i,r,s=0,a=1,o=b,l=!1;function c(t){return isNaN(t=+t)?r:o(0===n?.5:(t=(i(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}return c.domain=function(r){return arguments.length?(e=i(s=+r[0]),t=i(a=+r[1]),n=e===t?0:1/(t-e),c):[s,a]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.unknown=function(e){return arguments.length?(r=e,c):r},function(r){return i=r,e=r(s),t=r(a),n=e===t?0:1/(t-e),c}}function pe(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function me(){var e=E(he()(b));return e.copy=function(){return pe(e,me())},s.apply(e,arguments)}function ge(){var e=q(he()).domain([1,10]);return e.copy=function(){return pe(e,ge()).base(e.base())},s.apply(e,arguments)}function ve(){var e=V(he());return e.copy=function(){return pe(e,ve()).constant(e.constant())},s.apply(e,arguments)}function be(){var e=W(he());return e.copy=function(){return pe(e,be()).exponent(e.exponent())},s.apply(e,arguments)}function ye(){return be.apply(null,arguments).exponent(.5)}function _e(){var e=[],t=b;function n(n){if(!isNaN(n=+n))return t((Object(i.b)(e,n)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var r,s=0,a=t.length;s<a;++s)null==(r=t[s])||isNaN(r=+r)||e.push(r);return e.sort(i.a),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return _e(t).domain(e)},s.apply(n,arguments)}function we(){var e,t,n,i,r,s,a,o=0,l=.5,c=1,u=b,d=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+s(e))-t)*(e<t?i:r),u(d?Math.max(0,Math.min(1,e)):e))}return f.domain=function(a){return arguments.length?(e=s(o=+a[0]),t=s(l=+a[1]),n=s(c=+a[2]),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),f):[o,l,c]},f.clamp=function(e){return arguments.length?(d=!!e,f):d},f.interpolator=function(e){return arguments.length?(u=e,f):u},f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return s=a,e=a(o),t=a(l),n=a(c),i=e===t?0:.5/(t-e),r=t===n?0:.5/(n-t),f}}function Oe(){var e=E(we()(b));return e.copy=function(){return pe(e,Oe())},s.apply(e,arguments)}function ke(){var e=q(we()).domain([.1,1,10]);return e.copy=function(){return pe(e,ke()).base(e.base())},s.apply(e,arguments)}function Se(){var e=V(we());return e.copy=function(){return pe(e,Se()).constant(e.constant())},s.apply(e,arguments)}function je(){var e=W(we());return e.copy=function(){return pe(e,je()).exponent(e.exponent())},s.apply(e,arguments)}function Ce(){return je.apply(null,arguments).exponent(.5)}},qVG1:function(e,t,n){"use strict";var i=n("Tmea"),r=n.n(i),s=n("KFC0"),a=n.n(s),o=n("j5yP"),l=n.n(o),c=n("eVUo"),u=n("XBTk"),d=n("s1D3"),f=n("MV2A"),h=n("Pyw5"),p=n.n(h);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const b={name:"Pagination",components:{GlLink:f.a,GlIcon:d.a},model:{prop:"value",event:"input"},props:{value:{type:Number,required:!1,default:1,validator:function(e){return e>0}},perPage:{type:Number,required:!1,default:20,validator:function(e){return e>0}},totalItems:{type:Number,required:!1,default:0},limits:{type:Object,required:!1,default:function(){return{xs:0,sm:3,md:9,default:9}},validator:function(e){return 0===Object.keys(c.a).filter((function(t){return!e[t]})).length||e.default}},linkGen:{type:Function,required:!1,default:null},prevPage:{type:Number,required:!1,default:null},prevText:{type:String,required:!1,default:"Prev"},nextPage:{type:Number,required:!1,default:null},nextText:{type:String,required:!1,default:"Next"},ellipsisText:{type:String,required:!1,default:""},labelFirstPage:{type:String,required:!1,default:"Go to first page"},labelPrevPage:{type:String,required:!1,default:"Go to previous page"},labelNextPage:{type:String,required:!1,default:"Go to next page"},labelLastPage:{type:String,required:!1,default:"Go to last page"},labelPage:{type:Function,required:!1,default:function(e){return"Go to page ".concat(e)}},align:{type:String,required:!1,default:u.d.left,validator:function(e){return Object.keys(u.d).includes(e)}},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{breakpoint:c.b.getBreakpointSize(),minTotalPagesToCollapse:4}},computed:{isVisible:function(){return this.totalPages>1||this.isCompactPagination},isLinkBased:function(){return a()(this.linkGen)},paginationLimit:function(){return void 0!==this.limits[this.breakpoint]?this.limits[this.breakpoint]:this.limits.default},maxAdjacentPages:function(){return Math.max(Math.ceil((this.paginationLimit-1)/2),0)},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)},isFillAlign:function(){return this.align===u.d.fill},wrapperClasses:function(){var e=[];return this.align===u.d.center&&e.push("justify-content-center"),this.align===u.d.right&&e.push("justify-content-end"),this.isFillAlign&&e.push("text-center"),e},shouldCollapseLeftSide:function(){var e=this.value-this.maxAdjacentPages;return e>=this.maxAdjacentPages&&e>3&&this.totalPages>this.minTotalPagesToCollapse},shouldCollapseRightSide:function(){return this.totalPages-2-this.value>this.maxAdjacentPages&&this.totalPages>this.minTotalPagesToCollapse},visibleItems:function(){var e,t,n=this,i=[];if(!this.isCompactPagination){var r=this.shouldCollapseLeftSide?this.value-this.maxAdjacentPages:1;r=Math.min(r,this.totalPages-1);var s=this.shouldCollapseRightSide?this.value+this.maxAdjacentPages:this.totalPages;s=Math.max(s,2),i=(e=r,t=s,l()(e,t+1,1)).map((function(e){return n.getPageItem(e)})),this.shouldCollapseLeftSide&&i.splice(0,0,this.getPageItem(1,this.labelFirstPage),this.getEllipsisItem("left")),this.shouldCollapseRightSide&&i.push(this.getEllipsisItem("right"),this.getPageItem(this.totalPages,this.labelLastPage))}return i},isCompactPagination:function(){return Boolean(!this.totalItems&&(this.prevPage||this.nextPage))},prevPageIsDisabled:function(){return this.pageIsDisabled(this.value-1)},nextPageIsDisabled:function(){return this.pageIsDisabled(this.value+1)}},created:function(){window.addEventListener("resize",r()(this.setBreakpoint,u.z))},beforeDestroy:function(){window.removeEventListener("resize",r()(this.setBreakpoint,u.z))},methods:{setBreakpoint:function(){this.breakpoint=c.b.getBreakpointSize()},pageIsDisabled:function(e){return this.disabled||e<1||this.isCompactPagination&&e>this.value&&!this.nextPage||!this.isCompactPagination&&e>this.totalPages},getPageItem:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i={"aria-label":n||this.labelPage(e),href:"#",class:[]},r=e===this.value,s=this.pageIsDisabled(e),a=v({},i),o={};return r&&a.class.push("active"),this.isLinkBased&&(a.href=this.linkGen(e)),o.click=function(n){return t.handleClick(n,e)},{content:e,component:s?"span":f.a,disabled:s,key:"page_".concat(e),slot:"page-number",slotData:{page:e,active:r,disabled:s},attrs:a,listeners:o}},getEllipsisItem:function(e){return{content:this.ellipsisText,key:"ellipsis_".concat(e),slot:"ellipsis-".concat(e),component:"span",disabled:!0}},handleClick:function(e,t){this.isLinkBased||(e.preventDefault(),this.$emit("input",t))}}};const y=p()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isVisible?n("ul",{staticClass:"pagination gl-pagination text-nowrap",class:e.wrapperClasses,attrs:{role:"navigation","aria-label":"Pagination"}},[n("li",{staticClass:"page-item",class:{disabled:e.prevPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.prevPageIsDisabled?"span":"a",{tag:"component",staticClass:"gl-link page-link prev-page-item gl-display-flex",attrs:{"aria-disabled":e.prevPageIsDisabled,"aria-label":e.labelPrevPage||e.labelPage(e.value-1),href:e.isLinkBased?e.linkGen(e.value-1):"#"},on:{click:function(t){return e.handleClick(t,e.value-1)}}},[e._t("previous",[n("gl-icon",{attrs:{name:"chevron-left"}}),e._v(" "),n("span",[e._v(e._s(e.prevText))])],null,{page:e.value-1,disabled:e.prevPageIsDisabled})],2)],1),e._v(" "),e._l(e.visibleItems,(function(t){return n("li",{key:t.key,staticClass:"page-item",class:{disabled:t.disabled,"flex-fill":e.isFillAlign}},[n(t.component,e._g(e._b({tag:"component",staticClass:"page-link",attrs:{size:"md","aria-disabled":t.disabled}},"component",t.attrs,!1),t.listeners),[e._t(t.slot,[e._v(e._s(t.content))],null,t.slotData)],2)],1)})),e._v(" "),n("li",{staticClass:"page-item",class:{disabled:e.nextPageIsDisabled,"flex-fill":e.isFillAlign}},[n(e.nextPageIsDisabled?"span":"a",{tag:"component",staticClass:"gl-link page-link next-page-item gl-display-flex",attrs:{"aria-disabled":e.nextPageIsDisabled,"aria-label":e.labelNextPage||e.labelPage(e.value+1),href:e.isLinkBased?e.linkGen(e.value+1):"#"},on:{click:function(t){return e.handleClick(t,e.value+1)}}},[e._t("next",[n("span",[e._v(e._s(e.nextText))]),e._v(" "),n("gl-icon",{attrs:{name:"chevron-right"}})],null,{page:e.value+1,disabled:e.nextPageIsDisabled})],2)],1)],2):e._e()},staticRenderFns:[]},void 0,b,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=y},qVdt:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMrParticipants"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"participants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:397}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery getMrParticipants($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    issuable: mergeRequest(iid: $iid) {\n      id\n      participants {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.getMrParticipants=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getMrParticipants")},qic4:function(e,t,n){"use strict";function i(e,t){for(var n=[],i={},r=0;r<t.length;r++){var s=t[r],a=s[0],o={id:e+":"+r,css:s[1],media:s[2],sourceMap:s[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}n.r(t),n.d(t,"default",(function(){return p}));var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},a=r&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,f="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,n,r){c=n,d=r||{};var a=i(e,t);return m(a),function(t){for(var n=[],r=0;r<a.length;r++){var o=a[r];(l=s[o.id]).refs--,n.push(l)}t?m(a=i(e,t)):a=[];for(r=0;r<n.length;r++){var l;if(0===(l=n[r]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete s[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var n=e[t],i=s[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(v(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(v(n.parts[r]));s[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,n,i=document.querySelector("style["+f+'~="'+e.id+'"]');if(i){if(c)return u;i.parentNode.removeChild(i)}if(h){var r=l++;i=o||(o=g()),t=_.bind(null,i,r,!1),n=_.bind(null,i,r,!0)}else i=g(),t=w.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}var b,y=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function _(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function w(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),d.ssrId&&e.setAttribute(f,t.id),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},qifX:function(e,t,n){var i=n("xJuT"),r=n("UwPs");e.exports=function(e,t){return e&&i(t,r(t),e)}},qvro:function(e,t,n){"use strict";var i=n("FkSe"),r=n("s1D3"),s=n("/lV4"),a={name:"AssigneeTitle",components:{GlLoadingIcon:i.a,GlIcon:r.a},props:{loading:{type:Boolean,required:!1,default:!1},numberOfAssignees:{type:Number,required:!0},editable:{type:Boolean,required:!0},showToggle:{type:Boolean,required:!1,default:!1},changing:{type:Boolean,required:!1,default:!1}},computed:{assigneeTitle(){const e=this.numberOfAssignees;return Object(s.d)("Assignee","%d Assignees",e)},titleCopy(){return this.changing?Object(s.a)("Apply"):Object(s.a)("Edit")}}},o=n("tBpV"),l=Object(o.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title hide-collapsed"},[e._v("\n  "+e._s(e.assigneeTitle)+"\n  "),e.loading?n("gl-loading-icon",{staticClass:"align-bottom",attrs:{inline:""}}):e._e(),e._v(" "),e.editable?n("a",{staticClass:"js-sidebar-dropdown-toggle edit-link float-right",attrs:{href:"#","data-test-id":"edit-link","data-track-event":"click_edit_button","data-track-label":"right_sidebar","data-track-property":"assignee"}},[e._v("\n    "+e._s(e.titleCopy)+"\n  ")]):e._e(),e._v(" "),e.showToggle?n("a",{staticClass:"gutter-toggle float-right js-sidebar-toggle",attrs:{"aria-label":e.__("Toggle sidebar"),href:"#",role:"button"}},[n("gl-icon",{attrs:{"data-hidden":"true",name:"chevron-double-lg-right",size:12}})],1):e._e()],1)}),[],!1,null,null,null);t.a=l.exports},qxsN:function(e,t){var n="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+n+"]",r="\\d+",s="[\\u2700-\\u27bf]",a="[a-z\\xdf-\\xf6\\xf8-\\xff]",o="[^\\ud800-\\udfff"+n+r+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",u="[A-Z\\xc0-\\xd6\\xd8-\\xde]",d="(?:"+a+"|"+o+")",f="(?:"+u+"|"+o+")",h="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",p="[\\ufe0e\\ufe0f]?"+h+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,c].join("|")+")[\\ufe0e\\ufe0f]?"+h+")*"),m="(?:"+[s,l,c].join("|")+")"+p,g=RegExp([u+"?"+a+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[i,u,"$"].join("|")+")",f+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[i,u+d,"$"].join("|")+")",u+"?"+d+"+(?:['](?:d|ll|m|re|s|t|ve))?",u+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",r,m].join("|"),"g");e.exports=function(e){return e.match(g)||[]}},qykh:function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n.file-addition,\n.file-addition-solid {\n  color: #1aaa55;\n}\n.file-modified,\n.file-modified-solid {\n  color: #fc9403;\n}\n.file-deletion,\n.file-deletion-solid {\n  color: #db3b21;\n}\n",""])},"rK/1":function(e,t,n){"use strict";var i=n("LLbv"),r=n("4lAS"),s={name:"ClipboardButton",directives:{GlTooltip:i.a},components:{GlButton:r.a},props:{text:{type:String,required:!0},gfm:{type:String,required:!1,default:null},title:{type:String,required:!0},tooltipPlacement:{type:String,required:!1,default:"top"},tooltipContainer:{type:[String,Boolean],required:!1,default:!1},tooltipBoundary:{type:String,required:!1,default:null},cssClass:{type:String,required:!1,default:null},category:{type:String,required:!1,default:"secondary"},size:{type:String,required:!1,default:"medium"}},computed:{clipboardText(){return null!==this.gfm?JSON.stringify({text:this.text,gfm:this.gfm}):this.text}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("gl-button",e._g({directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.hover.blur.viewport",value:{placement:e.tooltipPlacement,container:e.tooltipContainer,boundary:e.tooltipBoundary},expression:"{\n    placement: tooltipPlacement,\n    container: tooltipContainer,\n    boundary: tooltipBoundary,\n  }",modifiers:{hover:!0,blur:!0,viewport:!0}}],class:e.cssClass,attrs:{title:e.title,"data-clipboard-text":e.clipboardText,category:e.category,size:e.size,icon:"copy-to-clipboard","aria-label":e.__("Copy this value")}},e.$listeners),[e._t("default")],2)}),[],!1,null,null,null);t.a=o.exports},rOMJ:function(e,t,n){var i=n("dA+0");e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?i(e,void 0,t):[]}},rOrh:function(e,t,n){"use strict";var i=n("s1D3"),r=n("LLbv"),s=n("8eeg"),a=n("/lV4"),o={components:{GlIcon:i.a},directives:{GlTooltip:r.a},props:{file:{type:Object,required:!0},showTooltip:{type:Boolean,required:!1,default:!1},showStagedIcon:{type:Boolean,required:!1,default:!0},size:{type:Number,required:!1,default:12},isCentered:{type:Boolean,required:!1,default:!0}},computed:{changedIcon(){const e=this.file.staged&&this.showStagedIcon?"-solid":"";return"".concat(Object(s.a)(this.file).icon).concat(e)},changedIconClass(){return"".concat(this.changedIcon," float-left d-block")},tooltipTitle(){if(this.showTooltip)return this.file.deleted?Object(a.a)("Deleted"):this.file.tempFile?Object(a.a)("Added"):this.file.changed?Object(a.a)("Modified"):void 0},showIcon(){return this.file.changed||this.file.tempFile||this.file.staged||this.file.deleted||this.file.prevPath}}},l=(n("geB2"),n("tBpV")),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.right",modifiers:{right:!0}}],staticClass:"file-changed-icon d-inline-block",class:{"ml-auto":e.isCentered},attrs:{title:e.tooltipTitle,"data-qa-selector":"changed_file_icon_content","data-qa-title":e.tooltipTitle}},[e.showIcon?n("gl-icon",{class:e.changedIconClass,attrs:{name:e.changedIcon,size:e.size,"use-deprecated-sizes":""}}):e._e()],1)}),[],!1,null,null,null);t.a=c.exports},rRem:function(e,t,n){var i=n("IAil"),r=n("rhmX"),s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=r(e))&&e.replace(s,i).replace(a,"")}},rX0p:function(e,t,n){"use strict";var i=n("KFC0"),r=n.n(i),s=n("LLbv"),a=n("1OWu"),o={directives:{GlTooltip:s.a},props:{title:{type:String,required:!1,default:""},placement:{type:String,required:!1,default:"top"},truncateTarget:{type:[String,Function],required:!1,default:""}},data:()=>({showTooltip:!1}),watch:{title(){this.$nextTick(this.updateTooltip)}},mounted(){this.updateTooltip()},methods:{selectTarget(){return r()(this.truncateTarget)?this.truncateTarget(this.$el):"child"===this.truncateTarget?this.$el.childNodes[0]:this.$el},updateTooltip(){const e=this.selectTarget();this.showTooltip=Object(a.d)(e)}}},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return this.showTooltip?t("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:{placement:this.placement},expression:"{ placement }"}],staticClass:"js-show-tooltip gl-min-w-0",attrs:{title:this.title}},[this._t("default")],2):t("span",{staticClass:"gl-min-w-0"},[this._t("default")],2)}),[],!1,null,null,null);t.a=c.exports},rc4H:function(e,t,n){var i=n("nHTl"),r=n("n5sF");e.exports=function(e,t){return e&&e.length?r(e,i(t,3),!1,!0):[]}},rfNX:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"autoMergeFailedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"projectPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mergeError"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:158}};n.loc.source={body:"query autoMergeFailedQuery($projectPath: ID!, $iid: String!) {\n  project(fullPath: $projectPath) {\n    mergeRequest(iid: $iid) {\n      mergeError\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.autoMergeFailedQuery=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"autoMergeFailedQuery")},"rrF/":function(e,t,n){e.exports=function(){return new Worker(n.p+"tree_worker.9e6d2455.worker.js")}},s390:function(e,t,n){"use strict";t.a=function(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}},s5BM:function(e,t,n){"use strict";var i=n("7xOh");t.a=Object(i.a)()},"sF+2":function(e,t,n){"use strict";var i=n("8Ei6"),r=n.n(i),s=n("P/Kr"),a=n.n(s),o=n("0zRR"),l=n("6nFr"),c=n("/Szx"),u=n("DXSV"),d=n("EQ0+"),f=n("cxIY"),h=c.a.extend({name:o.sb,mixins:[u.a,d.a],inject:{bvTabs:{default:function(){return{}}}},props:{active:{type:Boolean,default:!1},tag:{type:String,default:"div"},buttonId:{type:String},title:{type:String,default:""},titleItemClass:{type:[String,Array,Object]},titleLinkClass:{type:[String,Array,Object]},titleLinkAttributes:{type:Object},disabled:{type:Boolean,default:!1},noBody:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1}},data:function(){return{localActive:this.active&&!this.disabled,show:!1}},computed:{tabClasses:function(){return[{active:this.localActive,disabled:this.disabled,"card-body":this.bvTabs.card&&!this.noBody},this.localActive?this.bvTabs.activeTabClass:null]},controlledBy:function(){return this.buttonId||this.safeId("__BV_tab_button__")},computedNoFade:function(){return!this.bvTabs.fade},computedLazy:function(){return this.bvTabs.lazy||this.lazy},_isTab:function(){return!0}},watch:{localActive:function(e){this.$emit("update:active",e)},active:function(e,t){e!==t&&(e?this.activate():this.deactivate()||this.$emit("update:active",this.localActive))},disabled:function(e,t){if(e!==t){var n=this.bvTabs.firstTab;e&&this.localActive&&n&&(this.localActive=!1,n())}}},mounted:function(){this.registerTab(),this.show=this.localActive},updated:function(){var e=this.bvTabs.updateButton;e&&this.hasNormalizedSlot(l.i)&&e(this)},destroyed:function(){this.unregisterTab()},methods:{registerTab:function(){var e=this.bvTabs.registerTab;e&&e(this)},unregisterTab:function(){var e=this.bvTabs.unregisterTab;e&&e(this)},activate:function(){var e=this.bvTabs.activateTab;return!(!e||this.disabled)&&e(this)},deactivate:function(){var e=this.bvTabs.deactivateTab;return!(!e||!this.localActive)&&e(this)}},render:function(e){var t=this.localActive,n=e(this.tag,{ref:"panel",staticClass:"tab-pane",class:this.tabClasses,directives:[{name:"show",rawName:"v-show",value:t,expression:"localActive"}],attrs:{role:"tabpanel",id:this.safeId(),"aria-hidden":t?"false":"true","aria-labelledby":this.controlledBy||null}},[t||!this.computedLazy?this.normalizeSlot():e()]);return e(f.b,{props:{mode:"out-in",noFade:this.computedNoFade}},[n])}}),p=n("Pyw5");function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const _={components:{BTab:h},inheritAttrs:!1,props:{titleLinkClass:{type:[String,Array,Object],required:!1,default:""}},computed:{linkClass:function(){var e=this.titleLinkClass;return a()(e)?[].concat(b(e),["gl-tab-nav-item"]):r()(e)?v(v({},e),{},m({},"gl-tab-nav-item",!0)):"".concat(e," ").concat("gl-tab-nav-item").trim()}}};const w=n.n(p)()({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("b-tab",e._g(e._b({attrs:{"title-link-class":e.linkClass}},"b-tab",e.$attrs,!1),e.$listeners),[e._l(Object.keys(e.$slots),(function(t){return e._t(t,null,{slot:t})}))],2)},staticRenderFns:[]},void 0,_,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=w},sGwS:function(e,t,n){"use strict";n("Tznw"),n("6yen"),n("OeRx"),n("l/dT"),n("RqS2"),n("Zy7a"),n("cjZU"),n("OAhk"),n("X42P"),n("mHhP"),n("fn0I"),n("UB/6"),n("imhG"),n("orcL");var i=n("JCwV"),r=n("Jm82"),s=n("9fwh"),a=n.n(s),o=n("Gk2Q"),l=n("SsIm");let c=!1;if("undefined"!=typeof window){c=!1;try{var u=Object.defineProperty({},"passive",{get(){c=!0}});window.addEventListener("test",null,u)}catch(e){}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let p=0;var m={name:"RecycleScroller",components:{ResizeObserver:i.a},directives:{ObserveVisibility:r.a},props:f(f({},l.a),{},{itemSize:{type:Number,default:null},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:"size"},typeField:{type:String,default:"type"},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},useTransform:{type:Boolean,default:!0}}),data:()=>({pool:[],totalSize:0,ready:!1,hoverKey:null}),computed:{sizes(){if(null===this.itemSize){const e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,i=this.minItemSize;let r,s=1e4,a=0;for(let o=0,l=t.length;o<l;o++)(r=t[o][n]||i)<s&&(s=r),a+=r,e[o]={accumulator:a,size:r};return this.$_computedMinItemSize=s,e}return[]},simpleArray:l.b},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1))},mounted(){var e=this;this.applyPageMode(),this.$nextTick((function(){e.$_prerender=!1,e.updateVisibleItems(!0),e.ready=!0}))},beforeDestroy(){this.removeListeners()},methods:{addView(e,t,n,i,r){const s={item:n,position:0},a={id:p++,index:t,used:!0,key:i,type:r};return Object.defineProperty(s,"nr",{configurable:!1,value:a}),e.push(s),s},unuseView(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.$_unusedViews,i=e.nr.type;let r=n.get(i);r||(r=[],n.set(i,r)),r.push(e),t||(e.nr.used=!1,e.position=-9999,this.$_views.delete(e.nr.key))},handleResize(){this.$emit("resize"),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){var t=this;this.$_scrollDirty||(this.$_scrollDirty=!0,requestAnimationFrame((function(){t.$_scrollDirty=!1;const{continuous:e}=t.updateVisibleItems(!1,!0);e||(clearTimeout(t.$_refreshTimout),t.$_refreshTimout=setTimeout(t.handleScroll,100))})))},handleVisibilityChange(e,t){var n=this;this.ready&&(e||0!==t.boundingClientRect.width||0!==t.boundingClientRect.height?(this.$emit("visible"),requestAnimationFrame((function(){n.updateVisibleItems(!1)}))):this.$emit("hidden"))},updateVisibleItems(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.itemSize,i=this.$_computedMinItemSize,r=this.typeField,s=this.simpleArray?null:this.keyField,a=this.items,l=a.length,c=this.sizes,u=this.$_views,d=this.$_unusedViews,f=this.pool;let h,p,m,g;if(l)if(this.$_prerender)h=0,p=this.prerender,m=null;else{const e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),null===n&&t<i||t<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;const r=this.buffer;if(e.start-=r,e.end+=r,null===n){let t,n,i=0,r=l-1,s=~~(l/2);do{n=s,(t=c[s].accumulator)<e.start?i=s:s<l-1&&c[s+1].accumulator>e.start&&(r=s),s=~~((i+r)/2)}while(s!==n);for(s<0&&(s=0),h=s,m=c[l-1].accumulator,p=s;p<l&&c[p].accumulator<e.end;p++);-1===p?p=a.length-1:++p>l&&(p=l)}else(h=~~(e.start/n))<0&&(h=0),(p=Math.ceil(e.end/n))>l&&(p=l),m=l*n}else h=p=m=0;p-h>o.a.itemsLimit&&this.itemsLimitError(),this.totalSize=m;const v=h<=this.$_endIndex&&p>=this.$_startIndex;if(this.$_continuous!==v){if(v){u.clear(),d.clear();for(let e=0,t=f.length;e<t;e++)g=f[e],this.unuseView(g)}this.$_continuous=v}else if(v)for(let t=0,n=f.length;t<n;t++)(g=f[t]).nr.used&&(e&&(g.nr.index=a.findIndex((function(e){return s?e[s]===g.item[s]:e===g.item}))),(-1===g.nr.index||g.nr.index<h||g.nr.index>=p)&&this.unuseView(g));const b=v?null:new Map;let y,_,w,O;for(let e=h;e<p;e++){y=a[e];const t=s?y[s]:y;if(null==t)throw new Error("Key is ".concat(t," on item (keyField is '").concat(s,"')"));g=u.get(t),n||c[e].size?(g?(g.nr.used=!0,g.item=y):(_=y[r],w=d.get(_),v?w&&w.length?((g=w.pop()).item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_):g=this.addView(f,e,y,t,_):(O=b.get(_)||0,(!w||O>=w.length)&&(g=this.addView(f,e,y,t,_),this.unuseView(g,!0),w=d.get(_)),(g=w[O]).item=y,g.nr.used=!0,g.nr.index=e,g.nr.key=t,g.nr.type=_,b.set(_,O+1),O++),u.set(t,g)),g.position=null===n?c[e-1].accumulator:e*n):g&&this.unuseView(g)}return this.$_startIndex=h,this.$_endIndex=p,this.emitUpdate&&this.$emit("update",h,p),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,300),{continuous:v}},getListenerTarget(){let e=a()(this.$el);return!window.document||e!==window.document.documentElement&&e!==window.document.body||(e=window),e},getScroll(){const{$el:e,direction:t}=this,n="vertical"===t;let i;if(this.pageMode){const t=e.getBoundingClientRect(),r=n?t.height:t.width;let s=-(n?t.top:t.left),a=n?window.innerHeight:window.innerWidth;s<0&&(a+=s,s=0),s+a>r&&(a=r-s),i={start:s,end:s+a}}else i=n?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return i},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener("scroll",this.handleScroll,!!c&&{passive:!0}),this.listenerTarget.addEventListener("resize",this.handleResize)},removeListeners(){this.listenerTarget&&(this.listenerTarget.removeEventListener("scroll",this.handleScroll),this.listenerTarget.removeEventListener("resize",this.handleResize),this.listenerTarget=null)},scrollToItem(e){let t;t=null===this.itemSize?e>0?this.sizes[e-1].accumulator:0:e*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){"vertical"===this.direction?this.$el.scrollTop=e:this.$el.scrollLeft=e},itemsLimitError(){var e=this;throw setTimeout((function(){console.log("It seems the scroller element isn't scrolling, so it tries to render all the items at once.","Scroller:",e.$el),console.log("Make sure the scroller has a fixed height (or width) and 'overflow-y' (or 'overflow-x') set to 'auto' so it can scroll correctly and only render the items visible in the scroll viewport.")})),new Error("Rendered items limit reached")},sortViews(){this.pool.sort((function(e,t){return e.nr.index-t.nr.index}))}}},g=(n("5iQ2"),n("tBpV")),v=Object(g.a)(m,(function(){var e,t,n=this,i=n.$createElement,r=n._self._c||i;return r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:n.handleVisibilityChange,expression:"handleVisibilityChange"}],staticClass:"vue-recycle-scroller",class:(e={ready:n.ready,"page-mode":n.pageMode},e["direction-"+n.direction]=!0,e),on:{"&scroll":function(e){return n.handleScroll(e)}}},[n.$slots.before?r("div",{staticClass:"vue-recycle-scroller__slot"},[n._t("before")],2):n._e(),n._v(" "),r("div",{ref:"wrapper",staticClass:"vue-recycle-scroller__item-wrapper",style:(t={},t["vertical"===n.direction?"minHeight":"minWidth"]=n.totalSize+"px",t)},n._l(n.pool,(function(e){return r("div",{key:e.nr.id,staticClass:"vue-recycle-scroller__item-view",class:{hover:n.hoverKey===e.nr.key},style:n.ready?{transform:n.useTransform?"translate"+("vertical"===n.direction?"Y":"X")+"("+e.position+"px)":null,top:n.useTransform||"vertical"!==n.direction?null:e.position+"px",left:n.useTransform||"vertical"===n.direction?null:e.position+"px"}:null,on:{mouseenter:function(t){n.hoverKey=e.nr.key},mouseleave:function(e){n.hoverKey=null}}},[n._t("default",null,{item:e.item,index:e.nr.index,active:e.nr.used})],2)})),0),n._v(" "),n.$slots.after?r("div",{staticClass:"vue-recycle-scroller__slot"},[n._t("after")],2):n._e(),n._v(" "),r("ResizeObserver",{on:{notify:n.handleResize}})],1)}),[],!1,null,null,null);t.a=v.exports},sHIo:function(e,t,n){"use strict";t.a=function(){return{inject:{glFeatures:{from:"glFeatures",default:function(){return{}}}}}}},sZvX:function(e,t,n){"use strict";var i=n("yi8e"),r=n("OgyL");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o={name:"PlaceholderNote",components:{userAvatarLink:n("ZHzM").a,TimelineEntryItem:r.a},props:{note:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.d)(["getUserData"]))},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("timeline-entry-item",{staticClass:"note note-wrapper being-posted fade-in-half"},[n("div",{staticClass:"timeline-icon"},[n("user-avatar-link",{attrs:{"link-href":e.getUserData.path,"img-src":e.getUserData.avatar_url,"img-size":40}})],1),e._v(" "),n("div",{ref:"note",staticClass:"timeline-content",class:{discussion:!e.note.individual_note}},[n("div",{staticClass:"note-header"},[n("div",{staticClass:"note-header-info"},[n("a",{attrs:{href:e.getUserData.path}},[n("span",{staticClass:"d-none d-sm-inline-block bold"},[e._v(e._s(e.getUserData.name))]),e._v(" "),n("span",{staticClass:"note-headline-light"},[e._v("@"+e._s(e.getUserData.username))])])])]),e._v(" "),n("div",{staticClass:"note-body"},[n("div",{staticClass:"note-text md"},[n("p",[e._v(e._s(e.note.body))])])])])])}),[],!1,null,null,null);t.a=c.exports},sjqF:function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}},spV8:function(e,t,n){"use strict";var i={name:"DynamicScrollerItem",inject:["vscrollData","vscrollParent","vscrollResizeObserver"],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:"div"}},computed:{id(){return this.vscrollData.simpleArray?this.index:this.item[this.vscrollData.keyField]},size(){return this.vscrollData.validSizes[this.id]&&this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:"updateWatchData",id(){this.size||this.onDataUpdate()},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){var e=this;if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(const t in this.sizeDependencies)this.$watch((function(){return e.sizeDependencies[t]}),this.onDataUpdate);this.vscrollParent.$on("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$on("vscroll:update-size",this.onVscrollUpdateSize)}},mounted(){this.vscrollData.active&&(this.updateSize(),this.observeSize())},beforeDestroy(){this.vscrollParent.$off("vscroll:update",this.onVscrollUpdate),this.vscrollParent.$off("vscroll:update-size",this.onVscrollUpdateSize),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){var e=this;this.watchData?this.$_watchData=this.$watch("data",(function(){e.onDataUpdate()}),{deep:!0}):this.$_watchData&&(this.$_watchData(),this.$_watchData=null)},onVscrollUpdate(e){let{force:t}=e;!this.finalActive&&t&&(this.$_pendingVScrollUpdate=this.id),this.$_forceNextVScrollUpdate!==this.id&&!t&&this.size||this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){var t=this;this.$nextTick((function(){if(t.id===e){const e=t.$el.offsetWidth,n=t.$el.offsetHeight;t.applySize(e,n)}t.$_pendingSizeUpdate=null}))},applySize(e,t){const n=Math.round("vertical"===this.vscrollParent.direction?t:e);n&&this.size!==n&&(this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.$set(this.vscrollData.sizes,this.id,n),this.$set(this.vscrollData.validSizes,this.id,!0),this.emitResize&&this.$emit("resize",this.id))},observeSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.observe(this.$el.parentNode),this.$el.parentNode.addEventListener("resize",this.onResize))},unobserveSize(){this.vscrollResizeObserver&&(this.vscrollResizeObserver.unobserve(this.$el.parentNode),this.$el.parentNode.removeEventListener("resize",this.onResize))},onResize(e){const{width:t,height:n}=e.detail.contentRect;this.applySize(t,n)}},render(e){return e(this.tag,this.$slots.default)}},r=n("tBpV"),s=Object(r.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},tBXH:function(e,t,n){"use strict";n("jaBk"),n("KcQl"),n("GzNv");var i=n("99pJ"),r=n.n(i),s=n("XRO8"),a=n("NmEs"),o=n("hqF9"),l=n("/lV4"),c=n("71Sp"),u=n("k4Ha"),d=n("s5BM");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a={data:()=>({isLoading:!1,hasError:!1,isMakingRequest:!1,updateGraphDropdown:!1,hasMadeRequest:!1}),computed:{shouldRenderPagination(){return!this.isLoading}},beforeMount(){var e=this;this.poll=new o.a({resource:this.service,method:"getPipelines",data:this.requestData?this.requestData:void 0,successCallback:this.successCallback,errorCallback:this.errorCallback,notificationCallback:this.setIsMakingRequest}),r.a.hidden()?this.fetchPipelines():(this.isLoading=!0,this.poll.makeRequest()),r.a.change((function(){r.a.hidden()?e.poll.stop():e.poll.restart()})),d.a.$on("postAction",this.postAction),d.a.$on("retryPipeline",this.postAction),d.a.$on("clickedDropdown",this.updateTable),d.a.$on("updateTable",this.updateTable),d.a.$on("refreshPipelinesTable",this.fetchPipelines),d.a.$on("runMergeRequestPipeline",this.runMergeRequestPipeline)},beforeDestroy(){d.a.$off("postAction",this.postAction),d.a.$off("retryPipeline",this.postAction),d.a.$off("clickedDropdown",this.updateTable),d.a.$off("updateTable",this.updateTable),d.a.$off("refreshPipelinesTable",this.fetchPipelines),d.a.$off("runMergeRequestPipeline",this.runMergeRequestPipeline)},destroyed(){this.poll.stop()},methods:{updateInternalState(e){var t=this;this.poll.stop();const n=Object.keys(e).map((function(n){const i=e[n];return t[n]=i,"".concat(n,"=").concat(encodeURIComponent(i))})).join("&");this.requestData=e,Object(a.u)(Object(a.e)("?".concat(n))),this.isLoading=!0},updateContent(e){var t=this;return this.updateInternalState(e),this.service.getPipelines(this.requestData).then((function(e){t.isLoading=!1,t.successCallback(e),t.poll.enable({data:t.requestData,response:e})})).catch((function(){t.isLoading=!1,t.errorCallback(),t.poll.restart({data:t.requestData})}))},updateTable(){return this.isMakingRequest&&this.service.cancelationSource.cancel(u.b),this.poll.stop(),this.poll.restart()},fetchPipelines(){this.isMakingRequest||(this.isLoading=!0,this.getPipelines())},getPipelines(){var e=this;return this.service.getPipelines(this.requestData).then((function(t){return e.successCallback(t)})).catch((function(t){return e.errorCallback(t)}))},setCommonData(e){this.store.storePipelines(e),this.isLoading=!1,this.updateGraphDropdown=!0,this.hasMadeRequest=!0,this.hasError&&(this.hasError=!1)},errorCallback(e){this.hasMadeRequest=!0,this.isLoading=!1,e&&e.message&&e.message!==u.b&&(this.hasError=!0,this.updateGraphDropdown=!1)},setIsMakingRequest(e){this.isMakingRequest=e,e&&(this.updateGraphDropdown=!1)},postAction(e){var t=this;this.service.postAction(e).then((function(){return t.updateTable()})).catch((function(){return Object(s.c)(Object(l.a)("An error occurred while making the request."))}))},runMergeRequestPipeline(e){var t=this;this.store.toggleIsRunningPipeline(!0),this.service.runMRPipeline(e).then((function(){return t.updateTable()})).catch((function(){Object(s.c)(Object(l.a)("An error occurred while trying to run a new pipeline for this merge request."))})).finally((function(){return t.store.toggleIsRunningPipeline(!1)}))},onChangePage(e){let t={page:Number(e).toString()};this.scope&&(t.scope=this.scope),t=this.onChangeWithFilter(t),this.updateContent(t)},onChangeWithFilter(e){return h(h({},e),Object(c.e)(this.requestData))}}}},tPBq:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return f}));var i=n("FoG6"),r=n("0adK"),s=n("NmEs"),a=n("4ZIW"),o=n("UfEt");function l(){return JSON.parse(Object(s.l)(o.a)||"{}")}function c(e){Object(s.S)(o.a,e)}function u(){return Object(s.p)(o.a)}function d(e){const{data:t}=l();t&&a.a.event(o.a,e,{context:{schema:i.c,data:t}})}function f(){const e=Object(r.b)(o.a);e&&c({data:e})}},tRCE:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("n7CP");class r{constructor(e,t,n,r){var s=this;this.field=e,this.isLocalStorageAvailable=i.a.isLocalStorageAccessSafe(),null!=t.join&&(t=t.join("/")),this.key="autosave/".concat(t),this.fallbackKey=n,this.lockVersionKey="".concat(this.key,"/lockVersion"),this.lockVersion=r,this.field.data("autosave",this),this.restore(),this.field.on("input",(function(){return s.save()}))}restore(){if(!this.isLocalStorageAvailable)return;if(!this.field.length)return;const e=window.localStorage.getItem(this.key),t=window.localStorage.getItem(this.fallbackKey);e?this.field.val(e):t&&this.field.val(t),this.field.trigger("input");const n=new Event("change",{bubbles:!0,cancelable:!1}),i=this.field.get(0);i&&i.dispatchEvent(n)}getSavedLockVersion(){if(this.isLocalStorageAvailable)return window.localStorage.getItem(this.lockVersionKey)}save(){if(!this.field.length)return;const e=this.field.val();return this.isLocalStorageAvailable&&e?(this.fallbackKey&&window.localStorage.setItem(this.fallbackKey,e),void 0!==this.lockVersion&&window.localStorage.setItem(this.lockVersionKey,this.lockVersion),window.localStorage.setItem(this.key,e)):this.reset()}reset(){if(this.isLocalStorageAvailable)return window.localStorage.removeItem(this.lockVersionKey),window.localStorage.removeItem(this.fallbackKey),window.localStorage.removeItem(this.key)}dispose(){this.field.off("input")}}},tWNI:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("OuD2"),a=n("70tN"),o=n("AgLN"),l=n("eclS"),c=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{difference:function(e){var t=a(this),n=new(l(t,s("Set")))(t),i=o(n.delete);return c(e,(function(e){i.call(n,e)})),n}})},"ta8/":function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("70tN"),a=n("AgLN"),o=n("H81m");i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(e){var t=s(this),n=a(t.has);return!o(e,(function(e,i){if(!1===n.call(t,e))return i()}),{INTERRUPTED:!0}).stopped}})},tpMy:function(e,t,n){"use strict";var i=n("4lAS"),r=n("FkSe"),s={components:{ciIcon:n("8zNS").a,GlButton:i.a,GlLoadingIcon:r.a},props:{status:{type:String,required:!0},showDisabledButton:{type:Boolean,required:!1,default:!1}},computed:{isLoading(){return"loading"===this.status},statusObj(){return{group:this.status,icon:"status_".concat(this.status)}}}},a=n("tBpV"),o=Object(a.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-display-flex gl-align-self-start"},[n("div",{staticClass:"square s24 h-auto d-flex-center gl-mr-3"},[e.isLoading?n("div",{staticClass:"mr-widget-icon gl-display-inline-flex"},[n("gl-loading-icon",{staticClass:"mr-loading-icon gl-display-inline-flex",attrs:{size:"md"}})],1):n("ci-icon",{attrs:{status:e.statusObj,size:24}})],1),e._v(" "),e.showDisabledButton?n("gl-button",{attrs:{category:"primary",variant:"success","data-testid":"disabled-merge-button",disabled:!0}},[e._v("\n    "+e._s(e.s__("mrWidget|Merge"))+"\n  ")]):e._e()],1)}),[],!1,null,null,null);t.a=o.exports},tyhI:function(e,t,n){"use strict";var i=n("s1D3"),r=n("MV2A"),s=n("1cpz"),a=n("XqDB"),o=n("/lV4"),l=n("Or2z"),c=n("LLbv"),u={name:"TimeTrackingCollapsedState",components:{GlIcon:i.a},directives:{GlTooltip:c.a},props:{showComparisonState:{type:Boolean,required:!0},showSpentOnlyState:{type:Boolean,required:!0},showEstimateOnlyState:{type:Boolean,required:!0},showNoTimeTrackingState:{type:Boolean,required:!0},timeSpentHumanReadable:{type:String,required:!1,default:""},timeEstimateHumanReadable:{type:String,required:!1,default:""}},computed:{divClass(){return this.showComparisonState?"compare":this.showEstimateOnlyState?"estimate-only":this.showSpentOnlyState?"spend-only":this.showNoTimeTrackingState?"no-tracking":""},spanClass(){return this.showComparisonState?"":this.showEstimateOnlyState||this.showSpentOnlyState?"bold":this.showNoTimeTrackingState?"no-value":""},text(){return this.showComparisonState?"".concat(this.timeSpentHumanReadable," / ").concat(this.timeEstimateHumanReadable):this.showEstimateOnlyState?"-- / ".concat(this.timeEstimateHumanReadable):this.showSpentOnlyState?"".concat(this.timeSpentHumanReadable," / --"):this.showNoTimeTrackingState?Object(o.a)("None"):""},timeTrackedTooltipText(){let e;return this.showComparisonState?e=Object(o.a)("Time remaining"):this.showEstimateOnlyState?e=Object(o.a)("Estimated"):this.showSpentOnlyState&&(e=Object(o.a)("Time spent")),Object(o.f)("%{title}: %{text}",{title:e,text:this.text})},tooltipText(){return this.showNoTimeTrackingState?Object(o.a)("Time tracking"):this.timeTrackedTooltipText}}},d=n("tBpV"),f=Object(d.a)(u,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip:body.viewport.left",arg:"body",modifiers:{viewport:!0,left:!0}}],staticClass:"sidebar-collapsed-icon",attrs:{title:this.tooltipText,"data-testid":"collapsedState"}},[t("gl-icon",{attrs:{name:"timer"}}),this._v(" "),t("div",{staticClass:"time-tracking-collapsed-summary"},[t("div",{class:this.divClass},[t("span",{class:this.spanClass},[this._v(" "+this._s(this.text)+" ")])])])],1)}),[],!1,null,null,null).exports,h=n("J6+Z"),p=n("bOix"),m={name:"TimeTrackingComparisonPane",components:{GlProgressBar:h.a},directives:{GlTooltip:c.a},props:{timeSpent:{type:Number,required:!0},timeEstimate:{type:Number,required:!0},timeSpentHumanReadable:{type:String,required:!0},timeEstimateHumanReadable:{type:String,required:!0},limitToHours:{type:Boolean,required:!1,default:!1}},computed:{parsedTimeRemaining(){const e=this.timeEstimate-this.timeSpent;return Object(p.A)(e,{limitToHours:this.limitToHours})},timeRemainingHumanReadable(){return Object(p.E)(this.parsedTimeRemaining)},timeRemainingTooltip(){const{timeRemainingHumanReadable:e,timeRemainingMinutes:t}=this;return t<0?Object(o.f)(Object(o.e)("TimeTracking|Over by %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e}):Object(o.f)(Object(o.e)("TimeTracking|Time remaining: %{timeRemainingHumanReadable}"),{timeRemainingHumanReadable:e})},timeRemainingMinutes(){return this.timeEstimate-this.timeSpent},timeRemainingPercent(){return Math.floor(this.timeSpent/this.timeEstimate*100)},timeRemainingStatusClass(){return this.timeEstimate>=this.timeSpent?"within_estimate":"over_estimate"},progressBarVariant(){return this.timeRemainingPercent>100?"danger":"primary"}}},g=Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-testid":"timeTrackingComparisonPane"}},[n("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"compare-meter",class:e.timeRemainingStatusClass,attrs:{"data-testid":"compareMeter",title:e.timeRemainingTooltip}},[n("gl-progress-bar",{attrs:{"data-testid":"timeRemainingProgress",value:e.timeRemainingPercent,variant:e.progressBarVariant}}),e._v(" "),n("div",{staticClass:"compare-display-container"},[n("div",{staticClass:"compare-display float-left"},[n("span",{staticClass:"compare-label"},[e._v(e._s(e.s__("TimeTracking|Spent")))]),e._v(" "),n("span",{staticClass:"compare-value spent"},[e._v(e._s(e.timeSpentHumanReadable))])]),e._v(" "),n("div",{staticClass:"compare-display estimated float-right"},[n("span",{staticClass:"compare-label"},[e._v(e._s(e.s__("TimeTrackingEstimated|Est")))]),e._v(" "),n("span",{staticClass:"compare-value"},[e._v(e._s(e.timeEstimateHumanReadable))])])])],1)])}),[],!1,null,null,null).exports,v=n("4lAS"),b=n("3twG"),y={name:"TimeTrackingHelpState",components:{GlButton:v.a},computed:{href:()=>Object(b.p)(gon.relative_url_root||"","/help/user/project/time_tracking.md"),estimateText:()=>Object(o.f)(Object(o.e)("estimateCommand|%{slash_command} will update the estimated time with the latest command."),{slash_command:"<code>/estimate</code>"},!1),spendText:()=>Object(o.f)(Object(o.e)("spendCommand|%{slash_command} will update the sum of the time spent."),{slash_command:"<code>/spend</code>"},!1)}},_=Object(d.a)(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-tracking-help-state",attrs:{"data-testid":"helpPane"}},[n("div",{staticClass:"time-tracking-info"},[n("h4",[e._v(e._s(e.__("Track time with quick actions")))]),e._v(" "),n("p",[e._v(e._s(e.__("Quick actions can be used in the issues description and comment boxes.")))]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.estimateText)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.spendText)}}),e._v(" "),n("gl-button",{attrs:{href:e.href}},[e._v(e._s(e.__("Learn more")))])],1)])}),[],!1,null,null,null).exports,w=n("FkSe"),O=n("znvU"),k=n("XRO8"),S=n("FxFN"),j=n("H3X6");var C={components:{GlLoadingIcon:w.a,GlTable:O.a},inject:["issuableId","issuableType"],props:{limitToHours:{type:Boolean,default:!1,required:!1}},data:()=>({report:[],isLoading:!0}),apollo:{report:{query(){return j.k[this.issuableType].query},variables(){return{id:Object(S.c)(this.getGraphQLEntityType(),this.issuableId)}},update(e){return this.isLoading=!1,this.extractTimelogs(e)},error(){Object(k.b)({message:Object(o.a)("Something went wrong. Please try again.")})}}},methods:{isIssue(){return"issue"===this.issuableType},getGraphQLEntityType(){return this.isIssue()?"Issue":"MergeRequest"},extractTimelogs(e){var t,n;return((null==e?void 0:null===(t=e.issuable)||void 0===t?void 0:null===(n=t.timelogs)||void 0===n?void 0:n.nodes)||[]).slice().sort((function(e,t){return new Date(e.spentAt)-new Date(t.spentAt)}))},formatDate:e=>Object(p.h)(e,'mmmm d, yyyy, HH:MM ("UTC:" o)'),getNote:e=>null==e?void 0:e.body,getTotalTimeSpent(){const e=this.report.reduce((function(e,t){return e+t.timeSpent}),0);return this.formatTimeSpent(e)},formatTimeSpent(e){return(e<0?"- ":"")+Object(p.E)(Object(p.A)(e,{limitToHours:this.limitToHours}))}},fields:[{key:"spentAt",label:Object(o.a)("Spent At"),sortable:!0},{key:"user",label:Object(o.a)("User"),sortable:!0},{key:"timeSpent",label:Object(o.a)("Time Spent"),sortable:!0},{key:"note",label:Object(o.a)("Note"),sortable:!0}]},x=Object(d.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?n("div",[n("gl-loading-icon",{attrs:{size:"md"}})],1):n("gl-table",{attrs:{items:e.report,fields:e.$options.fields,"foot-clone":""},scopedSlots:e._u([{key:"cell(spentAt)",fn:function(t){var i=t.item.spentAt;return[n("div",[e._v(e._s(e.formatDate(i)))])]}},{key:"foot(spentAt)",fn:function(){return[e._v("")]},proxy:!0},{key:"cell(user)",fn:function(t){var i=t.item.user;return[n("div",[e._v(e._s(i.name))])]}},{key:"foot(user)",fn:function(){return[e._v("")]},proxy:!0},{key:"cell(timeSpent)",fn:function(t){var i=t.item.timeSpent;return[n("div",[e._v(e._s(e.formatTimeSpent(i)))])]}},{key:"foot(timeSpent)",fn:function(){return[n("div",[e._v(e._s(e.getTotalTimeSpent()))])]},proxy:!0},{key:"cell(note)",fn:function(t){var i=t.item.note;return[n("div",[e._v(e._s(e.getNote(i)))])]}},{key:"foot(note)",fn:function(){return[e._v("")]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,E={name:"TimeTrackingSpentOnlyPane",props:{timeSpentHumanReadable:{type:String,required:!0}},computed:{timeSpent(){return Object(o.f)(Object(o.e)("TimeTracking|%{startTag}Spent: %{endTag}%{timeSpentHumanReadable}"),{startTag:'<span class="gl-font-weight-bold">',endTag:"</span>",timeSpentHumanReadable:this.timeSpentHumanReadable},!1)}}},D=Object(d.a)(E,(function(){var e=this.$createElement;return(this._self._c||e)("div",{attrs:{"data-testid":"spentOnlyPane"},domProps:{innerHTML:this._s(this.timeSpent)}})}),[],!1,null,null,null).exports,P={name:"IssuableTimeTracker",i18n:{noTimeTrackingText:Object(o.a)("No estimate or time spent"),estimatedOnlyText:Object(o.e)("TimeTracking|Estimated:")},components:{GlIcon:i.a,GlLink:r.a,GlModal:s.a,TimeTrackingCollapsedState:f,TimeTrackingSpentOnlyPane:D,TimeTrackingComparisonPane:g,TimeTrackingHelpState:_,TimeTrackingReport:x},directives:{GlModal:a.a},props:{timeEstimate:{type:Number,required:!0},timeSpent:{type:Number,required:!0},humanTimeEstimate:{type:String,required:!1,default:""},humanTimeSpent:{type:String,required:!1,default:""},limitToHours:{type:Boolean,default:!1,required:!1},showCollapsed:{type:Boolean,default:!0,required:!1}},data:()=>({showHelp:!1}),computed:{hasTimeSpent(){return Boolean(this.timeSpent)},hasTimeEstimate(){return Boolean(this.timeEstimate)},showComparisonState(){return this.hasTimeEstimate&&this.hasTimeSpent},showEstimateOnlyState(){return this.hasTimeEstimate&&!this.hasTimeSpent},showSpentOnlyState(){return this.hasTimeSpent&&!this.hasTimeEstimate},showNoTimeTrackingState(){return!this.hasTimeEstimate&&!this.hasTimeSpent},showHelpState(){return Boolean(this.showHelp)}},created(){l.a.$on("timeTracker:updateData",this.update)},methods:{toggleHelpState(e){this.showHelp=e},update(e){const{timeEstimate:t,timeSpent:n,humanTimeEstimate:i,humanTimeSpent:r}=e;this.timeEstimate=t,this.timeSpent=n,this.humanTimeEstimate=i,this.humanTimeSpent=r}}},T=Object(d.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"time-tracker time-tracking-component-wrap",attrs:{"data-testid":"time-tracker"}},[e.showCollapsed?n("time-tracking-collapsed-state",{attrs:{"show-comparison-state":e.showComparisonState,"show-no-time-tracking-state":e.showNoTimeTrackingState,"show-help-state":e.showHelpState,"show-spent-only-state":e.showSpentOnlyState,"show-estimate-only-state":e.showEstimateOnlyState,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate}}):e._e(),e._v(" "),n("div",{staticClass:"title hide-collapsed gl-mb-3"},[e._v("\n    "+e._s(e.__("Time tracking"))+"\n    "),e.showHelpState?n("div",{staticClass:"close-help-button float-right",attrs:{"data-testid":"closeHelpButton"},on:{click:function(t){return e.toggleHelpState(!1)}}},[n("gl-icon",{attrs:{name:"close"}})],1):n("div",{staticClass:"help-button float-right",attrs:{"data-testid":"helpButton"},on:{click:function(t){return e.toggleHelpState(!0)}}},[n("gl-icon",{attrs:{name:"question-o"}})],1)]),e._v(" "),n("div",{staticClass:"time-tracking-content hide-collapsed"},[e.showEstimateOnlyState?n("div",{attrs:{"data-testid":"estimateOnlyPane"}},[n("span",{staticClass:"gl-font-weight-bold"},[e._v(e._s(e.$options.i18n.estimatedOnlyText)+" ")]),e._v(e._s(e.humanTimeEstimate)+"\n    ")]):e._e(),e._v(" "),e.showSpentOnlyState?n("time-tracking-spent-only-pane",{attrs:{"time-spent-human-readable":e.humanTimeSpent}}):e._e(),e._v(" "),e.showNoTimeTrackingState?n("div",{attrs:{"data-testid":"noTrackingPane"}},[n("span",{staticClass:"gl-text-gray-500"},[e._v(e._s(e.$options.i18n.noTimeTrackingText))])]):e._e(),e._v(" "),e.showComparisonState?n("time-tracking-comparison-pane",{attrs:{"time-estimate":e.timeEstimate,"time-spent":e.timeSpent,"time-spent-human-readable":e.humanTimeSpent,"time-estimate-human-readable":e.humanTimeEstimate,"limit-to-hours":e.limitToHours}}):e._e(),e._v(" "),e.hasTimeSpent?n("gl-link",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:"time-tracking-report",expression:"'time-tracking-report'"}],staticClass:"btn-link",attrs:{"data-testid":"reportLink",href:"#"}},[e._v(e._s(e.__("Time tracking report")))]):e._e(),e._v(" "),n("gl-modal",{attrs:{"modal-id":"time-tracking-report",title:e.__("Time tracking report"),"hide-footer":!0}},[n("time-tracking-report",{attrs:{"limit-to-hours":e.limitToHours}})],1),e._v(" "),n("transition",{attrs:{name:"help-state-toggle"}},[e.showHelpState?n("time-tracking-help-state"):e._e()],1)],1)],1)}),[],!1,null,null,null);t.a=T.exports},tyjs:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return P})),n.d(t,"w",(function(){return N})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return D})),n.d(t,"k",(function(){return L})),n.d(t,"l",(function(){return R})),n.d(t,"m",(function(){return A})),n.d(t,"n",(function(){return F})),n.d(t,"o",(function(){return q})),n.d(t,"p",(function(){return c})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return O})),n.d(t,"t",(function(){return B})),n.d(t,"u",(function(){return $})),n.d(t,"v",(function(){return V})),n.d(t,"B",(function(){return C})),n.d(t,"z",(function(){return x})),n.d(t,"A",(function(){return E})),n.d(t,"C",(function(){return U})),n.d(t,"D",(function(){return p})),n.d(t,"E",(function(){return H}));var i=function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN},r=function(e){var t;return 1===e.length&&(t=e,e=function(e,n){return i(t(e),n)}),{left:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var s=i+r>>>1;e(t[s],n)<0?i=s+1:r=s}return i},right:function(t,n,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){var s=i+r>>>1;e(t[s],n)>0?r=s:i=s+1}return i}}};var s=r(i),a=s.right,o=s.left,l=a,c=function(e,t){null==t&&(t=u);for(var n=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);n<i;)s[n]=t(r,r=e[++n]);return s};function u(e,t){return[e,t]}var d=function(e,t,n){var i,r,s,a,o=e.length,l=t.length,c=new Array(o*l);for(null==n&&(n=u),i=s=0;i<o;++i)for(a=e[i],r=0;r<l;++r,++s)c[s]=n(a,t[r]);return c},f=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},h=function(e){return null===e?NaN:+e},p=function(e,t){var n,i,r=e.length,s=0,a=-1,o=0,l=0;if(null==t)for(;++a<r;)isNaN(n=h(e[a]))||(l+=(i=n-o)*(n-(o+=i/++s)));else for(;++a<r;)isNaN(n=h(t(e[a],a,e)))||(l+=(i=n-o)*(n-(o+=i/++s)));if(s>1)return l/(s-1)},m=function(e,t){var n=p(e,t);return n?Math.sqrt(n):n},g=function(e,t){var n,i,r,s=e.length,a=-1;if(null==t){for(;++a<s;)if(null!=(n=e[a])&&n>=n)for(i=r=n;++a<s;)null!=(n=e[a])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++a<s;)if(null!=(n=t(e[a],a,e))&&n>=n)for(i=r=n;++a<s;)null!=(n=t(e[a],a,e))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},v=Array.prototype,b=v.slice,y=v.map,_=function(e){return function(){return e}},w=function(e){return e},O=function(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),s=new Array(r);++i<r;)s[i]=e+i*n;return s},k=Math.sqrt(50),S=Math.sqrt(10),j=Math.sqrt(2),C=function(e,t,n){var i,r,s,a,o=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(a=x(e,t,n))||!isFinite(a))return[];if(a>0)for(e=Math.ceil(e/a),t=Math.floor(t/a),s=new Array(r=Math.ceil(t-e+1));++o<r;)s[o]=(e+o)*a;else for(e=Math.floor(e*a),t=Math.ceil(t*a),s=new Array(r=Math.ceil(e-t+1));++o<r;)s[o]=(e-o)/a;return i&&s.reverse(),s};function x(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),s=i/Math.pow(10,r);return r>=0?(s>=k?10:s>=S?5:s>=j?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(s>=k?10:s>=S?5:s>=j?2:1)}function E(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),s=i/r;return s>=k?r*=10:s>=S?r*=5:s>=j&&(r*=2),t<e?-r:r}var D=function(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1},P=function(){var e=w,t=g,n=D;function i(i){var r,s,a=i.length,o=new Array(a);for(r=0;r<a;++r)o[r]=e(i[r],r,i);var c=t(o),u=c[0],d=c[1],f=n(o,u,d);Array.isArray(f)||(f=E(u,d,f),f=O(Math.ceil(u/f)*f,Math.floor(d/f)*f,f));for(var h=f.length;f[0]<=u;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var p,m=new Array(h+1);for(r=0;r<=h;++r)(p=m[r]=[]).x0=r>0?f[r-1]:u,p.x1=r<h?f[r]:d;for(r=0;r<a;++r)u<=(s=o[r])&&s<=d&&m[l(f,s,0,h)].push(i[r]);return m}return i.value=function(t){return arguments.length?(e="function"==typeof t?t:_(t),i):e},i.domain=function(e){return arguments.length?(t="function"==typeof e?e:_([e[0],e[1]]),i):t},i.thresholds=function(e){return arguments.length?(n="function"==typeof e?e:Array.isArray(e)?_(b.call(e)):_(e),i):n},i},T=function(e,t,n){if(null==n&&(n=h),i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,s=Math.floor(r),a=+n(e[s],s,e);return a+(+n(e[s+1],s+1,e)-a)*(r-s)}},N=function(e,t,n){return e=y.call(e,h).sort(i),Math.ceil((n-t)/(2*(T(e,.75)-T(e,.25))*Math.pow(e.length,-1/3)))},I=function(e,t,n){return Math.ceil((n-t)/(3.5*m(e)*Math.pow(e.length,-1/3)))},L=function(e,t){var n,i,r=e.length,s=-1;if(null==t){for(;++s<r;)if(null!=(n=e[s])&&n>=n)for(i=n;++s<r;)null!=(n=e[s])&&n>i&&(i=n)}else for(;++s<r;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=n;++s<r;)null!=(n=t(e[s],s,e))&&n>i&&(i=n);return i},R=function(e,t){var n,i=e.length,r=i,s=-1,a=0;if(null==t)for(;++s<i;)isNaN(n=h(e[s]))?--r:a+=n;else for(;++s<i;)isNaN(n=h(t(e[s],s,e)))?--r:a+=n;if(r)return a/r},A=function(e,t){var n,r=e.length,s=-1,a=[];if(null==t)for(;++s<r;)isNaN(n=h(e[s]))||a.push(n);else for(;++s<r;)isNaN(n=h(t(e[s],s,e)))||a.push(n);return T(a.sort(i),.5)},F=function(e){for(var t,n,i,r=e.length,s=-1,a=0;++s<r;)a+=e[s].length;for(n=new Array(a);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--a]=i[t];return n},q=function(e,t){var n,i,r=e.length,s=-1;if(null==t){for(;++s<r;)if(null!=(n=e[s])&&n>=n)for(i=n;++s<r;)null!=(n=e[s])&&i>n&&(i=n)}else for(;++s<r;)if(null!=(n=t(e[s],s,e))&&n>=n)for(i=n;++s<r;)null!=(n=t(e[s],s,e))&&i>n&&(i=n);return i},M=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},B=function(e,t){if(n=e.length){var n,r,s=0,a=0,o=e[a];for(null==t&&(t=i);++s<n;)(t(r=e[s],o)<0||0!==t(o,o))&&(o=r,a=s);return 0===t(o,o)?a:void 0}},$=function(e,t,n){for(var i,r,s=(null==n?e.length:n)-(t=null==t?0:+t);s;)r=Math.random()*s--|0,i=e[s+t],e[s+t]=e[r+t],e[r+t]=i;return e},V=function(e,t){var n,i=e.length,r=-1,s=0;if(null==t)for(;++r<i;)(n=+e[r])&&(s+=n);else for(;++r<i;)(n=+t(e[r],r,e))&&(s+=n);return s},U=function(e){if(!(r=e.length))return[];for(var t=-1,n=q(e,G),i=new Array(n);++t<n;)for(var r,s=-1,a=i[t]=new Array(r);++s<r;)a[s]=e[s][t];return i};function G(e){return e.length}var H=function(){return U(arguments)}},uSO3:function(e,t,n){"use strict";n("jaBk"),n("KcQl");var i=n("LLbv"),r=n("s1D3"),s=n("FkSe"),a=n("j00k"),o=n("XRO8"),l=n("xk0s"),c=n("/lV4"),u=n("kMc5"),d=n("H3X6");var f={tracking:{event:"click_edit_button",label:"right_sidebar",property:"subscriptions"},directives:{GlTooltip:i.a},components:{GlIcon:r.a,GlLoadingIcon:s.a,GlToggle:a.a,SidebarEditableItem:u.a},inject:["canUpdate"],props:{iid:{type:String,required:!0},fullPath:{type:String,required:!0},issuableType:{required:!0,type:String}},data:()=>({subscribed:!1,loading:!1,emailsDisabled:!1}),apollo:{subscribed:{query(){return d.j[this.issuableType].query},variables(){return{fullPath:this.fullPath,iid:String(this.iid)}},update(e){var t,n;return(null===(t=e.workspace)||void 0===t?void 0:null===(n=t.issuable)||void 0===n?void 0:n.subscribed)||!1},result(e){var t,n,i,r,s;let{data:a}=e;this.emailsDisabled=this.parentIsGroup?null===(t=a.workspace)||void 0===t?void 0:t.emailsDisabled:null===(n=a.workspace)||void 0===n?void 0:null===(i=n.issuable)||void 0===i?void 0:i.emailsDisabled,this.$emit("subscribedUpdated",null===(r=a.workspace)||void 0===r?void 0:null===(s=r.issuable)||void 0===s?void 0:s.subscribed)},error(){Object(o.b)({message:Object(c.f)(Object(c.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:this.issuableType})})}}},computed:{isLoading(){var e,t;return(null===(e=this.$apollo.queries)||void 0===e?void 0:null===(t=e.subscribed)||void 0===t?void 0:t.loading)||this.loading},notificationTooltip(){return this.emailsDisabled?this.subscribeDisabledDescription:this.subscribed?this.$options.i18n.labelOn:this.$options.i18n.labelOff},notificationIcon(){return this.emailsDisabled||!this.subscribed?"notifications-off":"notifications"},parentIsGroup(){return this.issuableType===l.c.Epic},subscribeDisabledDescription(){return Object(c.f)(Object(c.a)("Disabled by %{parent} owner"),{parent:this.parentIsGroup?"group":"project"})}},methods:{setSubscribed(e){var t=this;this.loading=!0,this.$apollo.mutate({mutation:d.j[this.issuableType].mutation,variables:{fullPath:this.fullPath,iid:this.iid,subscribedState:e}}).then((function(e){let{data:{updateIssuableSubscription:{errors:t}}}=e;t.length&&Object(o.b)({message:t[0]})})).catch((function(){Object(o.b)({message:Object(c.f)(Object(c.a)("Something went wrong while setting %{issuableType} notifications."),{issuableType:t.issuableType})})})).finally((function(){t.loading=!1}))},toggleSubscribed(){this.emailsDisabled?this.expandSidebar():this.setSubscribed(!this.subscribed)},expandSidebar(){this.$emit("expandSidebar")}},i18n:{notifications:Object(c.a)("Notifications"),labelOn:Object(c.a)("Notifications on"),labelOff:Object(c.a)("Notifications off")}},h=n("tBpV"),p=Object(h.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sidebar-editable-item",{ref:"editable",staticClass:"block subscriptions",attrs:{title:e.$options.i18n.notifications,tracking:e.$options.tracking,loading:e.isLoading,"can-edit":!1},scopedSlots:e._u([{key:"collapsed-right",fn:function(){return[n("gl-toggle",{staticClass:"hide-collapsed gl-ml-auto",attrs:{value:e.subscribed,"is-loading":e.isLoading,disabled:e.emailsDisabled||!e.canUpdate,"data-testid":"subscription-toggle",label:e.$options.i18n.notifications,"label-position":"hidden"},on:{change:e.setSubscribed}})]},proxy:!0},{key:"collapsed",fn:function(){return[n("span",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip.viewport.left",modifiers:{viewport:!0,left:!0}}],ref:"tooltip",staticClass:"sidebar-collapsed-icon",attrs:{title:e.notificationTooltip},on:{click:e.toggleSubscribed}},[e.isLoading?n("gl-loading-icon",{staticClass:"sidebar-item-icon is-active"}):n("gl-icon",{staticClass:"sidebar-item-icon is-active",attrs:{name:e.notificationIcon,size:16}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.emailsDisabled,expression:"emailsDisabled"}],staticClass:"gl-mt-3 hide-collapsed gl-text-gray-500"},[e._v("\n      "+e._s(e.subscribeDisabledDescription)+"\n    ")])]},proxy:!0},{key:"default",fn:function(){},proxy:!0}])})}),[],!1,null,null,null);t.a=p.exports},uSmA:function(e,t,n){var i=n("aOyP");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("34301397",i,!0,{})},uqFy:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));n("z4I3"),n("jaBk"),n("Ag57"),n("GzNv"),n("S26F"),n("pBsb"),n("+xeR"),n("orcL");var i=n("o4PY"),r=n.n(i),s=n("G3fq"),a=n.n(s),o=n("TBBL"),l=n("k5du"),c=n.n(l),u=n("EmJ/"),d=n.n(u),f=n("06tH"),h=n.n(f),p=n("jB52"),m=(n("uK44"),n("Gs6c")),g=n("FYnm"),v=n("tRCE"),b=n("/ode"),y=n("Naob");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n("d5X7").a);var k=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dropdownTrigger=e.dropdownTrigger,this.dropdownList=e.dropdownList,this.noteTypeInput=e.noteTypeInput,this.submitButton=e.submitButton,this.closeButton=e.closeButton,this.reopenButton=e.reopenButton}initDroplab(){this.droplab=new y.a;const e=this.setConfig();this.droplab.init(this.dropdownTrigger,this.dropdownList,[O],e)}setConfig(){const e={InputSetter:[{input:this.noteTypeInput,valueAttribute:"data-value"},{input:this.submitButton,valueAttribute:"data-submit-text"}]};return this.closeButton&&e.InputSetter.push({input:this.closeButton,valueAttribute:"data-close-text"},{input:this.closeButton,valueAttribute:"data-close-text",inputAttribute:"data-alternative-text"}),this.reopenButton&&e.InputSetter.push({input:this.reopenButton,valueAttribute:"data-reopen-text"},{input:this.reopenButton,valueAttribute:"data-reopen-text",inputAttribute:"data-alternative-text"}),e}},S=n("XRO8"),j=n("Jn9D"),C=n("FVJN"),x=n("2ibD"),E=n("NmEs"),D=n("bOix"),P=n("3twG"),T=n("/lV4"),N=n("QBXl");function I(e){return e.replace(/\r\n/g,"\n")}window.autosize=c.a;const L=3,R=/^\/\w+.*$/gm;class A{static initialize(e,t,n,i,r){this.instance||(this.instance=new A(e,t,n,i,r))}static getInstance(){return this.instance}constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:j.b;this.updateTargetButtons=this.updateTargetButtons.bind(this),this.updateComment=this.updateComment.bind(this),this.visibilityChange=this.visibilityChange.bind(this),this.cancelDiscussionForm=this.cancelDiscussionForm.bind(this),this.onAddDiffNote=this.onAddDiffNote.bind(this),this.onAddImageDiffNote=this.onAddImageDiffNote.bind(this),this.setupDiscussionNoteForm=this.setupDiscussionNoteForm.bind(this),this.onReplyToDiscussionNote=this.onReplyToDiscussionNote.bind(this),this.removeNote=this.removeNote.bind(this),this.cancelEdit=this.cancelEdit.bind(this),this.updateNote=this.updateNote.bind(this),this.addDiscussionNote=this.addDiscussionNote.bind(this),this.addNoteError=this.addNoteError.bind(this),this.addNote=this.addNote.bind(this),this.resetMainTargetForm=this.resetMainTargetForm.bind(this),this.refresh=this.refresh.bind(this),this.keydownNoteText=this.keydownNoteText.bind(this),this.toggleCommitList=this.toggleCommitList.bind(this),this.postComment=this.postComment.bind(this),this.clearFlashWrapper=this.clearFlash.bind(this),this.onHashChange=this.onHashChange.bind(this),this.notes_url=e,this.note_ids=t,this.enableGFM=r,this.updatedNotesTrackingMap={},this.last_fetched_at=n,this.noteable_url=document.URL,this.notesCountBadge||(this.notesCountBadge=d()(".issuable-details").find(".notes-tab .badge")),this.basePollingInterval=15e3,this.maxPollingSteps=4,this.$wrapperEl=Object(E.C)()?d()(document).find(".diffs"):d()(document),this.cleanBinding(),this.addBinding(),this.setPollingInterval(),this.setupMainTargetNoteForm(r),this.taskList=new N.a({dataType:"note",fieldName:"note",selector:".notes"}),this.collapseLongCommitList(),this.setViewType(i),"merge_requests"===Object(E.o)(1)&&d()(".note-edit-form").clone().addClass("mr-note-edit-form").insertAfter(".note-edit-form");const s=Object(P.f)(),a=s&&document.getElementById(s);a&&this.loadLazyDiff({currentTarget:a})}setViewType(e){this.view=h.a.get("diff_view")||e}addBinding(){this.$wrapperEl.on("click",".js-note-edit",this.showEditForm.bind(this)),this.$wrapperEl.on("click",".note-edit-cancel",this.cancelEdit),this.$wrapperEl.on("click",".js-comment-submit-button",this.postComment),this.$wrapperEl.on("click",".js-comment-save-button",this.updateComment),this.$wrapperEl.on("keyup input",".js-note-text",this.updateTargetButtons),this.$wrapperEl.on("click",".js-comment-resolve-button",this.postComment),this.$wrapperEl.on("click",".js-note-delete",this.removeNote),this.$wrapperEl.on("click",".js-note-attachment-delete",this.removeAttachment),this.$wrapperEl.on("change",".js-note-attachment-input",this.updateFormAttachment),this.$wrapperEl.on("click",".js-discussion-reply-button",this.onReplyToDiscussionNote),this.$wrapperEl.on("click",".js-add-diff-note-button",this.onAddDiffNote),this.$wrapperEl.on("click",".js-add-image-diff-note-button",this.onAddImageDiffNote),this.$wrapperEl.on("click",".js-close-discussion-note-form",this.cancelDiscussionForm),this.$wrapperEl.on("click",".system-note-commit-list-toggler",this.toggleCommitList),this.$wrapperEl.on("click",".js-toggle-lazy-diff",this.loadLazyDiff),this.$wrapperEl.on("click",".js-toggle-lazy-diff-retry-button",this.onClickRetryLazyLoad.bind(this)),this.$wrapperEl.on("visibilitychange",this.visibilityChange),this.$wrapperEl.on("issuable:change",this.refresh),this.$wrapperEl.on("ajax:success",".js-main-target-form",this.addNote),this.$wrapperEl.on("ajax:success",".js-discussion-note-form",this.addDiscussionNote),this.$wrapperEl.on("ajax:success",".js-main-target-form",this.resetMainTargetForm),this.$wrapperEl.on("ajax:complete",".js-main-target-form",this.reenableTargetFormSubmitButton),this.$wrapperEl.on("keydown",".js-note-text",this.keydownNoteText),d()(window).on("hashchange",this.onHashChange)}cleanBinding(){this.$wrapperEl.off("click",".js-note-edit"),this.$wrapperEl.off("click",".note-edit-cancel"),this.$wrapperEl.off("click",".js-note-delete"),this.$wrapperEl.off("click",".js-note-attachment-delete"),this.$wrapperEl.off("click",".js-discussion-reply-button"),this.$wrapperEl.off("click",".js-add-diff-note-button"),this.$wrapperEl.off("click",".js-add-image-diff-note-button"),this.$wrapperEl.off("visibilitychange"),this.$wrapperEl.off("keyup input",".js-note-text"),this.$wrapperEl.off("click",".js-note-target-reopen"),this.$wrapperEl.off("click",".js-note-target-close"),this.$wrapperEl.off("keydown",".js-note-text"),this.$wrapperEl.off("click",".js-comment-resolve-button"),this.$wrapperEl.off("click",".system-note-commit-list-toggler"),this.$wrapperEl.off("click",".js-toggle-lazy-diff"),this.$wrapperEl.off("click",".js-toggle-lazy-diff-retry-button"),this.$wrapperEl.off("ajax:success",".js-main-target-form"),this.$wrapperEl.off("ajax:success",".js-discussion-note-form"),this.$wrapperEl.off("ajax:complete",".js-main-target-form"),d()(window).off("hashchange",this.onHashChange)}static initCommentTypeToggle(e){const t=e.querySelector(".js-comment-type-dropdown .dropdown-toggle"),n=e.querySelector(".js-comment-type-dropdown .dropdown-menu"),i=e.querySelector("#note_type"),r=e.querySelector(".js-comment-type-dropdown .js-comment-submit-button"),s=e.querySelector(".js-note-target-close"),a=e.querySelector(".js-note-target-reopen");new k({dropdownTrigger:t,dropdownList:n,noteTypeInput:i,submitButton:r,closeButton:s,reopenButton:a}).initDroplab()}keydownNoteText(e){let t,n,i,r,s,a;if(Object(E.G)(e))return;const o=d()(e.target);switch(e.which){case 38:if(""!==o.val())return;if((i=d()("li.note[data-author-id='".concat(gon.current_user_id,"'][data-editable]:last"),o.closest(".note, .notes_holder, #notes"))).length)return(r=i.find(".js-note-edit")).trigger("click",[!0,i]);break;case 27:if((t=o.closest(".js-discussion-note-form")).length){if(""!==o.val()&&!window.confirm(Object(T.a)("Your comment will be discarded.")))return;return void this.removeDiscussionNoteForm(t)}if((n=o.closest(".note")).length){if((a=o.closest("form").data("originalNote"))!==(s=o.val())&&!window.confirm(Object(T.a)("Are you sure you want to discard this comment?")))return;return this.removeNoteEditForm(n)}}}initRefresh(){var e=this;A.interval&&clearInterval(A.interval),A.interval=setInterval((function(){return e.refresh()}),this.pollingInterval)}refresh(){if(!document.hidden)return this.getContent()}getContent(){var e=this;this.refreshing||(this.refreshing=!0,x.a.get("".concat(this.notes_url,"?html=true"),{headers:{"X-Last-Fetched-At":this.last_fetched_at}}).then((function(t){let{data:n}=t;const{notes:i}=n;e.last_fetched_at=n.last_fetched_at,e.setPollingInterval(n.notes.length),d.a.each(i,(function(t,n){return e.renderNote(n)})),e.refreshing=!1})).catch((function(){e.refreshing=!1})))}setPollingInterval(e){null==e&&(e=!0);const t=this.basePollingInterval*Math.pow(2,this.maxPollingSteps-1);return e?this.pollingInterval=this.basePollingInterval:this.pollingInterval<t&&(this.pollingInterval*=2),this.initRefresh()}handleQuickActions(e){let t;e.commands_changes&&("merge"in e.commands_changes&&A.checkMergeRequestStatus(),"emoji_award"in e.commands_changes&&(t=d()(".js-awards-block").eq(0),Object(b.b)().then((function(n){n.addAwardToEmojiBar(t,e.commands_changes.emoji_award),n.scrollToAwards()})).catch((function(){}))))}setupNewNote(e){Object(D.x)(e.find(".js-timeago"),!1),this.collapseLongCommitList(),this.taskList.init(),A.updateNoteTargetSelector(e),this.$noteToCleanHighlight=e}onHashChange(){this.$noteToCleanHighlight&&A.updateNoteTargetSelector(this.$noteToCleanHighlight),this.$noteToCleanHighlight=null}static updateNoteTargetSelector(e){const t=Object(P.f)(),n=Boolean(t&&e.filter("#".concat(t)).length>0);e.toggleClass("target",n)}renderNote(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d()(".main-notes-list");if(e.discussion_html)return this.renderDiscussionNote(e,t);if(!e.valid)return void(e.errors&&e.errors.commands_only&&(e.commands_changes&&Object.keys(e.commands_changes).length>0&&n.find(".system-note.being-posted").remove(),this.addFlash({message:e.errors.commands_only,type:"notice",parent:this.parentTimeline.get(0)}),this.refresh()));const i=n.find("#note_".concat(e.id));if(A.isNewNote(e,this.note_ids)){if(Object(E.C)())return;this.note_ids.push(e.id),n.length&&n.find(".system-note.being-posted").remove();const t=A.animateAppendNote(e.html,n);return this.setupNewNote(t),this.refresh(),this.updateNotesCount(1)}if(A.isUpdatedNote(e,i)){const t=i.hasClass("is-editing"),n=I(i.find(".original-note-content").text().trim()),r=i.find(".js-note-text"),s=r.val(),a=I(e.note),o=s===n||s===a;if(t&&o)r.val(e.note),this.updatedNotesTrackingMap[e.id]=e;else if(t&&!o)this.putConflictEditWarningInPlace(e,i),this.updatedNotesTrackingMap[e.id]=e;else{const t=A.animateUpdateNote(e.html,i);this.setupNewNote(t)}}}isParallelView(){return"parallel"===h.a.get("diff_view")}renderDiscussionNote(e,t){let n,i;if(!A.isNewNote(e,this.note_ids))return;this.note_ids.push(e.id);const r=t||d()('.js-discussion-note-form[data-discussion-id="'.concat(e.discussion_id,'"]'));if(i=r.length||!e.discussion_line_code?r.closest("tr"):d()("#".concat(e.discussion_line_code)),e.on_image&&(i=r),(n=d()('.notes[data-discussion-id="'.concat(e.discussion_id,'"]'))).length||(n=r.closest(".discussion").find(".notes")),0===n.length)if(e.diff_discussion_html){const t=d()(e.diff_discussion_html).renderGFM();if(!this.isParallelView()||i.hasClass("js-temp-notes-holder")||e.on_image)i.after(t);else{const n=t.find('.notes[data-discussion-id="'.concat(e.discussion_id,'"]')),r=n.closest(".notes-content").attr("class").split(" ").join(".");i.find(".".concat(r," .content")).append(n.closest(".content").children())}}else A.animateAppendNote(e.discussion_html,d()(".main-notes-list"));else A.animateAppendNote(e.html,n);return Object(D.x)(d()(".js-timeago"),!1),A.checkMergeRequestStatus(),this.updateNotesCount(1)}getLineHolder(e){return d()(e).closest(".notes_holder").prevAll(".line_holder").first().get(0)}resetMainTargetForm(e){const t=d()(".js-main-target-form");t.find(".js-errors").remove(),t.find(".js-md-write-button").click(),t.find(".js-note-text").val("").trigger("input"),t.find(".js-note-text").data("autosave").reset();const n=document.createEvent("Event");n.initEvent("autosize:update",!0,!1),t.find(".js-autosize")[0].dispatchEvent(n),this.updateTargetButtons(e)}reenableTargetFormSubmitButton(){return d()(".js-main-target-form").find(".js-note-text").trigger("input")}setupMainTargetNoteForm(e){const t=d()(".js-new-note-form");this.formClone=t.clone(),this.setupNoteForm(t,e),t.removeClass("js-new-note-form"),t.addClass("js-main-target-form"),t.find("#note_line_code").remove(),t.find("#note_position").remove(),t.find("#note_type").val(""),t.find("#note_project_id").remove(),t.find("#in_reply_to_discussion_id").remove(),this.parentTimeline=t.parents(".timeline"),t.length&&A.initCommentTypeToggle(t.get(0))}setupNoteForm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.b;this.glForm=new C.a(e,t);const n=e.find(".js-note-text"),i=[Object(T.e)("NoteForm|Note"),e.find("#note_noteable_type").val(),e.find("#note_noteable_id").val(),e.find("#note_commit_id").val(),e.find("#note_type").val(),e.find("#note_project_id").val(),e.find("#in_reply_to_discussion_id").val(),e.find("#note_line_code").val(),e.find("#note_position").val()];return new v.a(n,i)}addNote(e,t){return this.renderNote(t)}addNoteError(e){let t;return e.hasClass("js-main-target-form")?t=e.parents(".timeline"):e.hasClass("js-discussion-note-form")&&(t=e.closest(".discussion-notes").find(".notes")),this.addFlash({message:Object(T.a)("Your comment could not be submitted! Please check your network connection and try again."),type:"alert",parent:t.get(0)})}updateNoteError(){Object(S.b)({message:Object(T.a)("Your comment could not be updated! Please check your network connection and try again.")})}addDiscussionNote(e,t,n){if(null!=e.attr("data-resolve-all")){const t=e.data("discussionId"),n=e.data("noteableIid");null!=ResolveService&&ResolveService.toggleResolveForDiscussion(n,t)}this.renderNote(t,e),n&&this.removeDiscussionNoteForm(e)}updateNote(e,t){const n=d()(e.html);this.revertNoteEditForm(t),n.renderGFM(),d()(".note-row-".concat(e.id)).replaceWith(n),this.setupNewNote(n)}checkContentToAllowEditing(e){const t=e.find(".original-note-content").text().trim();let n=!0;if(e.find(".js-note-text").val()===t)this.removeNoteEditForm(e);else{Object(E.E)(e.get(0))||Object(E.Q)(e),e.find(".js-finish-edit-warning").show(),n=!1}return n}showEditForm(e){e.preventDefault();const t=d()(e.target),n=d()(this.getEditFormSelector(t)),i=t.closest(".note"),r=d()(".note.is-editing:visible");if(r.length){if(!this.checkContentToAllowEditing(r))return}i.find(".js-note-attachment-delete").show(),n.addClass("current-note-edit-form"),i.addClass("is-editing"),this.putEditFormInPlace(t)}cancelEdit(e){e.preventDefault();const t=d()(e.target),n=t.closest(".note"),i=n.attr("data-note-id");if(this.revertNoteEditForm(t),this.updatedNotesTrackingMap[i]){const e=d()(this.updatedNotesTrackingMap[i].html);n.replaceWith(e),this.setupNewNote(e),delete this.updatedNotesTrackingMap[i]}else n.find(".js-finish-edit-warning").hide(),this.removeNoteEditForm(n)}revertNoteEditForm(e){e=e||d()(".note.is-editing:visible");const t=this.getEditFormSelector(e),n=d()(t);n.insertBefore(".diffs"),n.find(".js-comment-save-button").enable(),n.find(".js-finish-edit-warning").hide()}getEditFormSelector(e){let t=".note-edit-form:not(.mr-note-edit-form)";return e.parents("#diffs").length&&(t=".note-edit-form.mr-note-edit-form"),t}removeNoteEditForm(e){const t=e.find(".diffs .current-note-edit-form");return e.removeClass("is-editing"),t.removeClass("current-note-edit-form"),t.find(".js-finish-edit-warning").hide(),t.find(".js-note-text").val(t.find("form.edit-note").data("originalNote"))}removeNote(e){const t=d()(e.currentTarget).closest(".note").attr("id");return d()('.note[id="'.concat(t,'"]')).each((function(e,t){const n=d()(t),i=n.closest(".discussion-notes"),r=d()(".notes",i).data("discussionId");if(n.remove(),0===i.find(".note").length){const e=i.closest("tr");if(i.closest(".timeline-entry").remove(),d()(".js-diff-avatars-".concat(r)).trigger("remove.vue"),e.find(".discussion-notes").length>1||0===e.length){const e=i.closest(".diff-file");if(e.length>0){const t=new CustomEvent("removeBadge.imageDiff",{detail:{badgeNumber:i.index()+1}});e[0].dispatchEvent(t)}i.remove()}else e.length>0&&e.remove()}})),A.checkMergeRequestStatus(),this.updateNotesCount(-1)}removeAttachment(){const e=d()(this).closest(".note");return e.find(".note-attachment").remove(),e.find(".note-body > .note-text").show(),e.find(".note-header").show(),e.find(".diffs .current-note-edit-form").remove()}onReplyToDiscussionNote(e){this.replyToDiscussionNote(e.target)}replyToDiscussionNote(e){const t=this.cleanForm(this.formClone.clone()),n=d()(e).closest(".js-discussion-reply-button");return n.closest(".discussion-reply-holder").hide().after(t),this.setupDiscussionNoteForm(n,t)}setupDiscussionNoteForm(e,t){let n=e.closest(".text-file");0===n.length&&(n=e.closest(".image"));const i=e.data("discussionId");i&&(t.attr("data-discussion-id",i),t.find("#in_reply_to_discussion_id").val(i)),t.find("#note_project_id").val(e.data("discussionProjectId")),t.attr("data-line-code",e.data("lineCode")),t.find("#line_type").val(e.data("lineType")),t.find("#note_noteable_type").val(n.data("noteableType")),t.find("#note_noteable_id").val(n.data("noteableId")),t.find("#note_commit_id").val(n.data("commitId")),t.find("#note_type").val(e.data("noteType")),t.find("#note_line_code").val(e.data("lineCode")),t.find("#note_position").val(e.attr("data-position")),t.append("</div>").find(".js-close-discussion-note-form").show().removeClass("hide"),t.find(".js-note-target-close").remove(),t.find(".js-note-new-discussion").remove(),this.setupNoteForm(t),t.removeClass("js-main-target-form").addClass("discussion-form js-discussion-note-form"),t.find(".js-note-text").focus(),t.find(".js-comment-resolve-button").attr("data-discussion-id",i)}onAddDiffNote(e){e.preventDefault();const t=e.currentTarget||e.target,n=d()(t),i=!n.hasClass("js-diff-comment-avatar");this.toggleDiffNote({target:n,lineType:t.dataset.lineType,showReplyInput:i,currentUsername:gon.current_username,currentUserAvatar:gon.current_user_avatar_url,currentUserFullname:gon.current_user_fullname})}onAddImageDiffNote(e){const t=d()(e.currentTarget||e.target),n=t.closest(".diff-file"),i=new CustomEvent("click.imageDiff",{detail:e});let r;n[0].dispatchEvent(i);const s=t.closest(".diff-viewer").find(".note-container"),a=s.find("> .discussion-form");0===a.length?(r=this.cleanForm(this.formClone.clone())).appendTo(s):r=a,this.setupDiscussionNoteForm(t,r)}toggleDiffNote(e){let t,n,i,r,s,{target:a,lineType:o,forceShow:l,showReplyInput:c=!1}=e;const u=d()(a),f=u.closest("tr"),h=f.next();let p=f;h.is(".notes_holder")&&(p=h);const m=h.is(".notes_holder");t=!1;let g="";s='<tr class="notes_holder js-temp-notes-holder"><td class="notes-content" colspan="3"><div class="content"></div></td></tr>',this.isParallelView()&&(g=".".concat(o),s='<tr class="notes_holder js-temp-notes-holder"><td class="notes_line old"></td><td class="notes-content parallel old"><div class="content"></div></td><td class="notes_line new"></td><td class="notes-content parallel new"><div class="content"></div></td></tr>');const v=".notes-content".concat(g," .content");let b=p.find(v);if(m&&c)p.show(),(b=p.find(v)).length&&(b.show(),(r=b.find(".js-discussion-reply-button:visible")).length?this.replyToDiscussionNote(r[0]):0===(i=b.find(".js-discussion-note-form")).length&&(t=!0));else if(c)f.after(s),b=(p=f.next()).find(v),t=!0;else{const e=p.find(".content:not(:empty)").is(":visible"),t=!0===l||!1===l,n=!0===l||!e&&!t;p.toggleClass("hide",!n),b.toggleClass("hide",!n)}if(t)return(n=this.cleanForm(this.formClone.clone())).appendTo(b),this.setupDiscussionNoteForm(u,n)}removeDiscussionNoteForm(e){const t=e.closest("tr");return e.data("glForm").destroy(),e.find(".js-note-text").data("autosave").reset(),e.prev(".discussion-reply-holder").show(),t.is(".js-temp-notes-holder")?t.remove():e.remove()}cancelDiscussionForm(e){e.preventDefault();const t=d()(e.target).closest(".js-discussion-note-form");if(0===d()(e.target).closest(".discussion-notes").length){const n=t.closest(".diff-file");if(n.length>0){const t=new CustomEvent("blur.imageDiff",{detail:e});n[0].dispatchEvent(t)}}return this.removeDiscussionNoteForm(t)}updateFormAttachment(){const e=d()(this).closest("form"),t=d()(this).val().replace(/^.*[\\\/]/,"");return e.find(".js-attachment-filename").text(t)}visibilityChange(){return this.refresh()}updateTargetButtons(e){let t,n;const i=d()(e.target),r=i.parents("form"),s=r.find(".js-note-target-reopen"),a=r.find(".js-note-target-close");i.val().trim().length>0?(n=s.attr("data-alternative-text"),t=a.attr("data-alternative-text"),s.text()!==n&&s.text(n),a.text()!==t&&a.text(t),s.is(":not(.btn-comment-and-reopen)")&&s.addClass("btn-comment-and-reopen"),a.is(":not(.btn-comment-and-close)")&&a.addClass("btn-comment-and-close")):(n=s.data("originalText"),t=a.data("originalText"),s.text()!==n&&s.text(n),a.text()!==t&&a.text(t),s.is(".btn-comment-and-reopen")&&s.removeClass("btn-comment-and-reopen"),a.is(".btn-comment-and-close")&&a.removeClass("btn-comment-and-close"))}putEditFormInPlace(e){const t=d()(this.getEditFormSelector(e)),n=e.closest(".note");t.insertAfter(n.find(".note-text"));const i=n.find(".original-note-content"),r=i.text().trim(),s=i.data("postUrl"),a=i.data("targetId"),o=i.data("targetType");this.glForm=new C.a(t.find("form"),this.enableGFM),t.find("form").attr("action","".concat(s,"?html=true")).attr("data-remote","true"),t.find(".js-form-target-id").val(a),t.find(".js-form-target-type").val(o),t.find(".js-note-text").focus().val(r),t.find(".js-md-write-button").trigger("click"),t.find(".referenced-users").hide()}putConflictEditWarningInPlace(e,t){if(0===t.find(".js-conflict-edit-warning").length){const n='<a href="#note_'.concat(e.id,'" target="_blank" rel="noopener noreferrer">');d()('<div class="js-conflict-edit-warning alert alert-danger">\n        '.concat(Object(T.f)(Object(T.e)("Notes|This comment has changed since you started editing, please review the %{open_link}updated comment%{close_link} to ensure information is not lost"),{open_link:n,close_link:"</a>"}),"\n      </div>")).insertAfter(t.find(".note-text"))}}updateNotesCount(e){return this.notesCountBadge.text(parseInt(this.notesCountBadge.text(),10)+e)}static renderPlaceholderComponent(e){const t=e.find(".js-code-placeholder").get(0);new p.default({el:t,components:{GlSkeletonLoading:o.a},render:e=>e("gl-skeleton-loading")})}static renderDiffContent(e,t){const{discussion_html:n}=t,i=d()(n).find(".line_holder");i.addClass("fade-in"),e.find(".diff-content > table > tbody").prepend(i);const r=e.find(".file-holder");e.find(".line-holder-placeholder").remove(),Object(g.a)(r)}onClickRetryLazyLoad(e){const t=d()(e.currentTarget);return t.prop("disabled",!0),this.loadLazyDiff(e).then((function(){t.prop("disabled",!1)}))}loadLazyDiff(e){const t=d()(e.currentTarget).closest(".js-toggle-container");if(A.renderPlaceholderComponent(t),t.find(".js-toggle-lazy-diff").removeClass("js-toggle-lazy-diff"),0===t.find("tbody").length)return;const n=t.find(".file-holder").data("linesPath"),i=t.find(".js-error-lazy-load-diff"),r=t.find(".js-success-lazy-load");return n?x.a.get(n).then((function(e){let{data:n}=e;r.removeClass("hidden"),i.addClass("hidden"),A.renderDiffContent(t,n)})).catch((function(){r.addClass("hidden"),i.removeClass("hidden")})):Promise.resolve()}toggleCommitList(e){const t=d()(e.currentTarget),n=t.siblings(".system-note-commit-list"),i=t.find("svg.js-chevron-up"),r=t.find("svg.js-chevron-down");i.toggleClass("gl-display-none"),r.toggleClass("gl-display-none"),n.toggleClass("hide-shade")}collapseLongCommitList(){const e=d()("#notes-list").find("li.system-note").has("ul");d.a.each(e,(function(e,t){const n=d()(t),i=n.find(".note-text").find("p").first().text().replace(":","");n.find(".note-header .system-note-message").html(i),n.find("li").length>L?(n.find(".note-text").addClass("system-note-commit-list"),n.find(".system-note-commit-list-toggler").show()):n.find(".note-text").addClass("system-note-commit-list hide-shade")}))}addFlash(){this.flashContainer=Object(S.b)(...arguments)}clearFlash(){this.flashContainer&&(this.flashContainer.style.display="none",this.flashContainer=null)}cleanForm(e){return e.find(".js-comment-type-dropdown").removeClass("btn-group"),e.find(".dropdown-menu").remove(),e}static isNewNote(e,t){return-1===d.a.inArray(e.id,t)}static isUpdatedNote(e,t){return I(e.note.trim())!==I(t.find(".original-note-content").first().text().trim())}static checkMergeRequestStatus(){"merge_requests"===Object(E.o)(1)&&gl.mrWidget&&gl.mrWidget.checkStatus()}static animateAppendNote(e,t){const n=d()(e);return n.addClass("fade-in-full").renderGFM(),t.append(n),n}static animateUpdateNote(e,t){const n=d()(e);return n.addClass("fade-in").renderGFM(),t.replaceWith(n),n}getFormData(e){const t=e.find(".js-note-text").val();return{formData:e.serialize(),formContent:a()(t),formAction:e.attr("action"),formContentOriginal:t}}hasQuickActions(e){return R.test(e)}stripQuickActions(e){return e.replace(R,"").trim()}getQuickActionDescription(e){let t;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).filter((function(t){return new RegExp("/".concat(t.name)).test(e)}));if(n&&n.length)if(n.length>1)t=Object(T.a)("Applying multiple commands");else{const e=n[0].description.toLowerCase();t=Object(T.f)(Object(T.a)("Applying command to %{commandDescription}"),{commandDescription:e})}else t=Object(T.a)("Applying command");return t}createPlaceholderNote(e){let{formContent:t,uniqueId:n,isDiscussionNote:i,currentUsername:r,currentUserFullname:s,currentUserAvatar:o}=e;const l=i?"discussion":"",c=d()('<li id="'.concat(n,'" class="note being-posted fade-in-half timeline-entry">\n         <div class="timeline-entry-inner">\n            <div class="timeline-icon">\n               <a href="/').concat(a()(r),'">\n                 <img class="avatar s40" src="').concat(o,'" />\n               </a>\n            </div>\n            <div class="timeline-content ').concat(l,'">\n               <div class="note-header">\n                  <div class="note-header-info">\n                     <a href="/').concat(a()(r),'">\n                       <span class="d-none d-sm-inline-block bold">').concat(a()(r),'</span>\n                       <span class="note-headline-light">').concat(a()(r),'</span>\n                     </a>\n                  </div>\n               </div>\n               <div class="note-body">\n                 <div class="note-text">\n                   <p>').concat(t,"</p>\n                 </div>\n               </div>\n            </div>\n         </div>\n      </li>"));return c.find(".d-none.d-sm-inline-block").text(a()(s)),c.find(".note-headline-light").text("@".concat(a()(r))),c}createPlaceholderSystemNote(e){let{formContent:t,uniqueId:n}=e;return d()('<li id="'.concat(n,'" class="note system-note timeline-entry being-posted fade-in-half">\n         <div class="timeline-entry-inner">\n           <div class="timeline-content">\n             <i>').concat(t,"</i>\n           </div>\n         </div>\n       </li>"))}postComment(e){var t=this;e.preventDefault();const n=d()(e.target);n.prop("disabled",!0);let i=n.parents("form");const s=i.find(".js-note-target-close"),a="discussion"===n.parent().find("li.droplab-item-selected").attr("id"),o=i.hasClass("js-main-target-form"),l=i.hasClass("js-discussion-note-form"),c=n.hasClass("js-comment-resolve-button"),{formData:u,formContent:f,formAction:h,formContentOriginal:p}=this.getFormData(i);let g,v,b,y,_=!1;return l?b=i.parent(".discussion-notes").find(".notes"):o&&(b=d()("ul.main-notes-list")),c&&i.find(".js-comment-submit-button").disable(),y=f,this.glForm.supportsQuickActions&&this.hasQuickActions(f)&&(y=this.stripQuickActions(f),_=!0),y&&(g=r()("tempNote_"),b.append(this.createPlaceholderNote({formContent:y,uniqueId:g,isDiscussionNote:a,currentUsername:gon.current_username,currentUserFullname:gon.current_user_fullname,currentUserAvatar:gon.current_user_avatar_url}))),_&&(v=r()("tempSystemNote_"),b.append(this.createPlaceholderSystemNote({formContent:this.getQuickActionDescription(f,m.a.get(gl.GfmAutoComplete.dataSources.commands)),uniqueId:v}))),b.length&&(o?this.resetMainTargetForm(e):l&&this.removeDiscussionNoteForm(i)),s.text(s.data("originalText")),x.a.post("".concat(h,"?html=true"),u).then((function(r){const s=r.data;n.prop("disabled",!1),b.find("#".concat(g)).remove();const a=i.closest(".diff-file");if(a.length>0){const t=new CustomEvent("blur.imageDiff",{detail:e});a[0].dispatchEvent(t)}if(_&&i.find("textarea.js-note-text").trigger("clear-commands-cache.atwho"),t.clearFlashWrapper(),l){b.find(".flash-container").remove(),c&&i.attr("data-discussion-id",n.data("discussionId")).attr("data-resolve-all","true").attr("data-project-path",n.data("projectPath"));const e=0===b.length;if(t.addDiscussionNote(i,s,e),e){const e=i.find("#note_position").val();if(a.length>0&&e.length>0){const{x:t,y:n,width:i,height:r}=JSON.parse(e),o=new CustomEvent("addBadge.imageDiff",{detail:{x:t,y:n,width:i,height:r,noteId:"note_".concat(s.id),discussionId:s.discussion_id}});a[0].dispatchEvent(o)}}b.length&&b.append('<div class="flash-container" style="display: none;"></div>')}else o&&(t.addNote(i,s),t.reenableTargetFormSubmitButton(e));s.commands_changes&&t.handleQuickActions(s),i.trigger("ajax:success",[s])})).catch((function(){b.find("#".concat(g)).remove(),n.prop("disabled",!1);const r=new CustomEvent("blur.imageDiff",{detail:e}),s=i.closest(".diff-file");if(s.length&&s[0].dispatchEvent(r),_&&b.find("#".concat(v)).remove(),l&&b.length){const e=b.parent().find(".js-discussion-reply-button");t.replyToDiscussionNote(e[0]),i=b.parent().find("form")}i.find(".js-note-text").val(p),t.reenableTargetFormSubmitButton(e),t.addNoteError(i)}))}updateComment(e){var t=this;e.preventDefault();const n=d()(e.target).parents("form"),i=n.find(".js-note-target-close"),r=n.parents(".note.is-editing"),s=r.find(".js-task-list-container").find(".note-text"),{formData:o,formContent:l,formAction:c}=this.getFormData(n),u=s.html();return s.html(l),r.removeClass("is-editing fade-in-full").addClass("being-posted fade-in-half"),r.find(".note-headline-meta a").html('<span class="spinner align-text-bottom"></span>'),x.a.post("".concat(c,"?html=true"),o).then((function(e){let{data:n}=e;t.updateNote(n,r)})).catch((function(){s.html(a()(u)),r.removeClass("being-posted fade-in"),r.find(".gl-spinner").remove(),t.updateNoteError()})),i.text(i.data("originalText"))}}window.Notes=A},uvMm:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"usersSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"projectMembers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"Argument",name:{kind:"Name",value:"relations"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"DIRECT"},{kind:"EnumValue",value:"INHERITED"},{kind:"EnumValue",value:"INVITED_GROUPS"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:416}};i.loc.source={body:'#import "../fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery usersSearch($search: String!, $fullPath: ID!) {\n  workspace: project(fullPath: $fullPath) {\n    users: projectMembers(search: $search, relations: [DIRECT, INHERITED, INVITED_GROUPS]) {\n      nodes {\n        user {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.usersSearch=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"usersSearch")},"v6X+":function(e,t,n){(e.exports=n("VNgF")(!1)).push([e.i,"\n@keyframes shadow-fade {\nfrom {\n    box-shadow: 0 0 4px #919191;\n}\nto {\n    box-shadow: 0 0 0 #dfdfdf;\n}\n}\n.diff-file.is-active {\n  box-shadow: 0 0 0 #dfdfdf;\n  animation: shadow-fade 1.2s 0.1s 1;\n}\n",""])},vDPP:function(e,t,n){"use strict";var i=n("0zRR"),r=n("/Szx"),s=n("lgrP"),a=n("Q78f");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=r.a.extend({name:i.r,functional:!0,props:l(l({},a.b),{},{disabled:{type:Boolean,default:!1},formClass:{type:[String,Object,Array]}}),render:function(e,t){var n=t.props,i=t.data,r=t.children,o=i.attrs||{},c=i.on||{};return i.attrs={},i.on={},e("li",Object(s.a)(i,{attrs:{role:"presentation"}}),[e(a.a,{ref:"form",staticClass:"b-dropdown-form",class:[n.formClass,{disabled:n.disabled}],props:n,attrs:l(l({},o),{},{disabled:n.disabled,tabindex:n.disabled?null:"-1"}),on:c},r)])}}),d=n("Pyw5");const f={components:{BDropdownForm:u},inheritAttrs:!1};const h=n.n(d)()({render:function(){var e=this.$createElement;return(this._self._c||e)("b-dropdown-form",this._g(this._b({attrs:{"form-class":"gl-p-0"}},"b-dropdown-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=h},"vZ/O":function(e,t,n){"use strict";var i=n("lx39"),r=n.n(i),s=n("+XPY"),a=n.n(s),o=n("XBTk"),l=n("HnlB"),c=n("4lAS"),u=n("PrLL"),d=n("s1D3"),f=n("Pyw5"),h=n.n(f),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"0".concat(e).slice(-t)};const m={components:{GlFormInput:u.a,GlIcon:d.a,GlButton:c.a},props:{target:{type:String,required:!1,default:""},container:{type:String,required:!1,default:""},value:{type:Date,required:!1,default:null},minDate:{type:Date,required:!1,default:null},maxDate:{type:Date,required:!1,default:null},startRange:{type:Date,required:!1,default:null},endRange:{type:Date,required:!1,default:null},disableDayFn:{type:Function,required:!1,default:null},firstDay:{type:Number,required:!1,default:0},arialLabel:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:o.m},autocomplete:{type:String,required:!1,default:""},disabled:{type:Boolean,required:!1,default:!1},displayField:{type:Boolean,required:!1,default:!0},startOpened:{type:Boolean,required:!1,default:!1},defaultDate:{type:Date,required:!1,default:null},i18n:{type:Object,required:!1,default:null},theme:{type:String,required:!1,default:""},showClearButton:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:null},inputLabel:{type:String,required:!1,default:"Enter date"},inputName:{type:String,required:!1,default:null}},data:function(){return{textInput:""}},computed:{formattedDate:function(){return this.calendar&&this.calendar.toString()},customTrigger:function(){return r()(this.target)&&""!==this.target},triggerOnFocus:function(){return null===this.target},showDefaultField:function(){return!this.customTrigger||this.triggerOnFocus},renderClearButton:function(){return this.showClearButton&&""!==this.textInput&&!this.disabled},inputAutocomplete:function(){return""!==this.autocomplete?this.autocomplete:this.triggerOnFocus?"off":null}},watch:{value:function(e){Object(l.a)(e,this.calendar.getDate())||this.calendar.setDate(e,!0)},minDate:function(e){this.calendar.setMinDate(e)},maxDate:function(e){this.calendar.setMaxDate(e)},startRange:function(e){this.calendar.setStartRange(e)},endRange:function(e){this.calendar.setEndRange(e)}},mounted:function(){var e=this.$parent.$el,t=this.draw.bind(this),n={field:this.$el.querySelector('input[type="text"]'),theme:"gl-datepicker-theme position-absolute ".concat(this.theme),defaultDate:this.defaultDate||this.value,setDefaultDate:Boolean(this.value)||Boolean(this.defaultDate),minDate:this.minDate,maxDate:this.maxDate,format:o.m,disableDayFn:this.disableDayFn,firstDay:this.firstDay,arialLabel:this.ariaLabel,toString:function(e){return function(e){var t=p(e.getDate()),n=p(e.getMonth()+1),i=e.getFullYear();return"".concat(i,"-").concat(n,"-").concat(t)}(e)},onSelect:this.selected.bind(this),onClose:this.closed.bind(this),onOpen:this.opened.bind(this),onDraw:function(e){!function(e){var t=e.el.querySelectorAll(".pika-button"),n=new Date;t.forEach((function(e){var t,i,r=e.dataset,s=r.pikaYear,a=r.pikaMonth,o=r.pikaDay,l=new Date(s,a,o);i=l,(t=n)&&i&&i.getTime()<t.getTime()&&e.classList.add("is-past-date")}))}(e),t()}};if(!this.triggerOnFocus&&!this.disabled){var i=this.customTrigger?e.querySelector(this.target):this.$refs.calendarTriggerBtn.$el;n.trigger=i,!n.field&&this.customTrigger&&(n.field=i)}if(null!==this.container){var r=this.container?e.querySelector(this.container):this.$el;n.container=r}this.i18n&&(n.i18n=this.i18n),this.calendar=new a.a(n),this.startOpened&&this.calendar.show()},beforeDestroy:function(){this.calendar.destroy()},methods:{selected:function(e){this.$emit("input",e)},closed:function(){this.$emit("close")},opened:function(){this.$emit("open")},cleared:function(){this.textInput="",this.$emit("clear")},draw:function(){this.$emit("monthChange")},onKeydown:function(){if(""===this.textInput){var e=this.minDate||null;this.calendar.setDate(e),this.selected(e)}}}};const g=h()({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gl-datepicker d-inline-block"},[e.showDefaultField?n("div",{staticClass:"position-relative"},[e._t("default",[n("gl-form-input",{staticClass:"gl-datepicker-input",class:e.renderClearButton?"gl-pr-9!":"gl-pr-7!",attrs:{id:e.inputId,name:e.inputName,"data-testid":"gl-datepicker-input",value:e.formattedDate,placeholder:e.placeholder,autocomplete:e.inputAutocomplete,disabled:e.disabled,"aria-label":e.inputLabel},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onKeydown(t)}},model:{value:e.textInput,callback:function(t){e.textInput=t},expression:"textInput"}})],{formattedDate:e.formattedDate}),e._v(" "),n("div",{staticClass:"gl-datepicker-actions"},[e.renderClearButton?n("gl-button",{staticClass:"gl-pointer-events-auto",attrs:{"data-testid":"clear-button","aria-label":"Clear date",category:"tertiary",size:"small",icon:"clear"},on:{click:e.cleared}}):e._e(),e._v(" "),e.triggerOnFocus||e.disabled?n("span",{staticClass:"gl-px-2",class:e.disabled?"gl-text-gray-400":"gl-text-gray-500",attrs:{"data-testid":"datepicker-calendar-icon"}},[n("gl-icon",{staticClass:"gl-display-block",attrs:{name:"calendar",size:16}})],1):n("gl-button",{ref:"calendarTriggerBtn",staticClass:"gl-pointer-events-auto",attrs:{"aria-label":"Open datepicker",category:"tertiary",size:"small",icon:"calendar"}})],1)],2):e._t("default",null,{formattedDate:e.formattedDate})],2)},staticRenderFns:[]},void 0,m,void 0,!1,void 0,!1,void 0,void 0,void 0);t.a=g},w9hk:function(e,t,n){var i=n("ZB1U"),r=n("QA6A"),s="[object Map]";e.exports=function(e){return r(e)&&i(e)==s}},wnC9:function(e,t,n){"use strict";n.r(t),n.d(t,"createStore",(function(){return mn}));var i={};n.r(i),n.d(i,"saveDraft",(function(){return k})),n.d(i,"addDraftToDiscussion",(function(){return S})),n.d(i,"createNewDraft",(function(){return j})),n.d(i,"deleteDraft",(function(){return C})),n.d(i,"fetchDrafts",(function(){return x})),n.d(i,"publishSingleDraft",(function(){return E})),n.d(i,"publishReview",(function(){return D})),n.d(i,"updateDiscussionsAfterPublish",(function(){return P})),n.d(i,"updateDraft",(function(){return T})),n.d(i,"scrollToDraft",(function(){return N})),n.d(i,"expandAllDiscussions",(function(){return I})),n.d(i,"toggleResolveDiscussion",(function(){return L}));var r={};n.r(r),n.d(r,"draftsCount",(function(){return A})),n.d(r,"getNotesData",(function(){return F})),n.d(r,"hasDrafts",(function(){return q})),n.d(r,"draftsPerDiscussionId",(function(){return M})),n.d(r,"draftsPerFileHashAndLine",(function(){return B})),n.d(r,"shouldRenderDraftRow",(function(){return $})),n.d(r,"shouldRenderParallelDraftRow",(function(){return V})),n.d(r,"hasParallelDraftLeft",(function(){return U})),n.d(r,"hasParallelDraftRight",(function(){return G})),n.d(r,"shouldRenderDraftRowInDiscussion",(function(){return H})),n.d(r,"draftForDiscussion",(function(){return z})),n.d(r,"draftForLine",(function(){return W})),n.d(r,"draftsForFile",(function(){return Q})),n.d(r,"isPublishingDraft",(function(){return K})),n.d(r,"sortedDrafts",(function(){return Y}));var s={};n.r(s),n.d(s,"setBaseConfig",(function(){return Ce})),n.d(s,"fetchDiffFilesBatch",(function(){return xe})),n.d(s,"fetchDiffFilesMeta",(function(){return Ee})),n.d(s,"fetchCoverageFiles",(function(){return De})),n.d(s,"setHighlightedRow",(function(){return Pe})),n.d(s,"assignDiscussionsToDiff",(function(){return Te})),n.d(s,"removeDiscussionsFromDiff",(function(){return Ne})),n.d(s,"toggleLineDiscussions",(function(){return Ie})),n.d(s,"renderFileForDiscussionId",(function(){return Le})),n.d(s,"startRenderDiffsQueue",(function(){return Re})),n.d(s,"setRenderIt",(function(){return Ae})),n.d(s,"setInlineDiffViewType",(function(){return Fe})),n.d(s,"setParallelDiffViewType",(function(){return qe})),n.d(s,"showCommentForm",(function(){return Me})),n.d(s,"cancelCommentForm",(function(){return Be})),n.d(s,"loadMoreLines",(function(){return $e})),n.d(s,"scrollToLineIfNeededInline",(function(){return Ve})),n.d(s,"scrollToLineIfNeededParallel",(function(){return Ue})),n.d(s,"loadCollapsedDiff",(function(){return Ge})),n.d(s,"toggleFileDiscussions",(function(){return He})),n.d(s,"toggleFileDiscussionWrappers",(function(){return ze})),n.d(s,"saveDiffDiscussion",(function(){return We})),n.d(s,"toggleTreeOpen",(function(){return Qe})),n.d(s,"toggleActiveFileByHash",(function(){return Ke})),n.d(s,"scrollToFile",(function(){return Ye})),n.d(s,"setShowTreeList",(function(){return Xe})),n.d(s,"openDiffFileCommentForm",(function(){return Je})),n.d(s,"closeDiffFileCommentForm",(function(){return Ze})),n.d(s,"setRenderTreeList",(function(){return et})),n.d(s,"setShowWhitespace",(function(){return tt})),n.d(s,"toggleFileFinder",(function(){return nt})),n.d(s,"cacheTreeListWidth",(function(){return it})),n.d(s,"receiveFullDiffError",(function(){return rt})),n.d(s,"setExpandedDiffLines",(function(){return st})),n.d(s,"fetchFullDiff",(function(){return at})),n.d(s,"toggleFullDiff",(function(){return ot})),n.d(s,"switchToFullDiffFromRenamedFile",(function(){return lt})),n.d(s,"setFileCollapsedByUser",(function(){return ct})),n.d(s,"setSuggestPopoverDismissed",(function(){return ut})),n.d(s,"changeCurrentCommit",(function(){return dt})),n.d(s,"moveToNeighboringCommit",(function(){return ft})),n.d(s,"setCurrentDiffFileIdFromNote",(function(){return ht})),n.d(s,"navigateToDiffFileIndex",(function(){return pt})),n.d(s,"setFileByFile",(function(){return mt})),n.d(s,"reviewFile",(function(){return gt}));var a={};n.r(a),n.d(a,"selectedTargetIndex",(function(){return Lt})),n.d(a,"selectedSourceIndex",(function(){return Rt})),n.d(a,"selectedContextCommitsDiffs",(function(){return At})),n.d(a,"diffCompareDropdownTargetVersions",(function(){return Ft})),n.d(a,"diffCompareDropdownSourceVersions",(function(){return qt})),n.d(a,"isParallelView",(function(){return Vt})),n.d(a,"isInlineView",(function(){return Ut})),n.d(a,"whichCollapsedTypes",(function(){return Gt})),n.d(a,"commitId",(function(){return Ht})),n.d(a,"diffHasAllExpandedDiscussions",(function(){return zt})),n.d(a,"diffHasAllCollapsedDiscussions",(function(){return Wt})),n.d(a,"diffHasExpandedDiscussions",(function(){return Qt})),n.d(a,"diffHasDiscussions",(function(){return Kt})),n.d(a,"getDiffFileDiscussions",(function(){return Yt})),n.d(a,"getDiffFileByHash",(function(){return Xt})),n.d(a,"flatBlobsList",(function(){return Jt})),n.d(a,"allBlobs",(function(){return Zt})),n.d(a,"getCommentFormForDiffFile",(function(){return en})),n.d(a,"fileLineCoverage",(function(){return tn})),n.d(a,"currentDiffIndex",(function(){return nn})),n.d(a,"diffLines",(function(){return rn})),n.d(a,"suggestionCommitMessage",(function(){return sn})),n.d(a,"isVirtualScrollingEnabled",(function(){return an}));var o={};n.r(o),n.d(o,"setActiveTab",(function(){return cn})),n.d(o,"setEndpoints",(function(){return un})),n.d(o,"setMrMetadata",(function(){return dn})),n.d(o,"fetchMrMetadata",(function(){return fn}));var l=n("jB52"),c=n("yi8e"),u=(n("jaBk"),n("Q33P")),d=n.n(u),f=n("XRO8"),h=n("NmEs"),p=n("/lV4");var m=n("2ibD");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={createNewDraft(e,t){const n=v(v({},t),{},{draft_note:t.note});return delete n.note,m.a.post(e,n)},deleteDraft:(e,t)=>m.a.delete("".concat(e,"/").concat(t)),publishDraft:(e,t)=>m.a.post(e,{id:t}),addDraftToDiscussion:(e,t)=>m.a.post(e,t),fetchDrafts:e=>m.a.get(e),publish:e=>m.a.post(e),discard:e=>m.a.delete(e),update(e,t){let{draftId:n,note:i,resolveDiscussion:r,position:s}=t;return m.a.put("".concat(e,"/").concat(n),{draft_note:{note:i,resolve_discussion:r,position:s}})}};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=function(e,t){let{dispatch:n}=e;return n("saveNote",w(w({},t),{},{isDraft:!0}),{root:!0})},S=function(e,t){let{commit:n}=e,{endpoint:i,data:r}=t;return y.addDraftToDiscussion(i,r).then((function(e){return e.data})).then((function(e){return n("ADD_NEW_DRAFT",e),e})).catch((function(){Object(f.c)(Object(p.a)("An error occurred adding a draft to the thread."))}))},j=function(e,t){let{commit:n}=e,{endpoint:i,data:r}=t;return y.createNewDraft(i,r).then((function(e){return e.data})).then((function(e){return n("ADD_NEW_DRAFT",e),e})).catch((function(){Object(f.c)(Object(p.a)("An error occurred adding a new draft."))}))},C=function(e,t){let{commit:n,getters:i}=e;return y.deleteDraft(i.getNotesData.draftsPath,t.id).then((function(){n("DELETE_DRAFT",t.id)})).catch((function(){return Object(f.c)(Object(p.a)("An error occurred while deleting the comment"))}))},x=function(e){let{commit:t,getters:n}=e;return y.fetchDrafts(n.getNotesData.draftsPath).then((function(e){return e.data})).then((function(e){return t("SET_BATCH_COMMENTS_DRAFTS",e)})).catch((function(){return Object(f.c)(Object(p.a)("An error occurred while fetching pending comments"))}))},E=function(e,t){let{commit:n,dispatch:i,getters:r}=e;n("REQUEST_PUBLISH_DRAFT",t),y.publishDraft(r.getNotesData.draftsPublishPath,t).then((function(){return i("updateDiscussionsAfterPublish")})).then((function(){return n("RECEIVE_PUBLISH_DRAFT_SUCCESS",t)})).catch((function(){return n("RECEIVE_PUBLISH_DRAFT_ERROR",t)}))},D=function(e){let{commit:t,dispatch:n,getters:i}=e;return t("REQUEST_PUBLISH_REVIEW"),y.publish(i.getNotesData.draftsPublishPath).then((function(){return n("updateDiscussionsAfterPublish")})).then((function(){return t("RECEIVE_PUBLISH_REVIEW_SUCCESS")})).catch((function(){return t("RECEIVE_PUBLISH_REVIEW_ERROR")}))},P=async function(e){var t,n;let{dispatch:i,getters:r,rootGetters:s}=e;(null===(t=window.gon)||void 0===t?void 0:null===(n=t.features)||void 0===n?void 0:n.paginatedNotes)?(await i("stopPolling",null,{root:!0}),await i("fetchData",null,{root:!0}),await i("restartPolling",null,{root:!0})):await i("fetchDiscussions",{path:r.getNotesData.discussionsPath},{root:!0}),i("diffs/assignDiscussionsToDiff",s.discussionsStructuredByLineCode,{root:!0})},T=function(e,t){let{commit:n,getters:i}=e,{note:r,noteText:s,resolveDiscussion:a,position:o,callback:l}=t;const c={draftId:r.id,note:s,resolveDiscussion:a};return d()(o)||(c.position=JSON.stringify(o)),y.update(i.getNotesData.draftsPath,c).then((function(e){return e.data})).then((function(e){return n("RECEIVE_DRAFT_UPDATE_SUCCESS",e)})).then(l).catch((function(){return Object(f.c)(Object(p.a)("An error occurred while updating the comment"))}))},N=function(e,t){let{dispatch:n,rootGetters:i}=e;const r=t.discussion_id&&i.getDiscussion(t.discussion_id),s=t.file_hash||r&&r.diff_discussion?"diffs":"show",a="diffs"===s?"diffs":"notes",o="note_".concat(t.id),l=document.querySelector("#".concat(a," #").concat(o));window.location.hash=o,window.mrTabs.currentAction!==s&&window.mrTabs.tabShown(s),r&&n("expandDiscussion",{discussionId:r.id},{root:!0}),l&&setTimeout((function(){return Object(h.Q)(l.closest(".draft-note-component"))}))},I=function(e){let{dispatch:t,state:n}=e;return n.drafts.filter((function(e){return e.discussion_id})).forEach((function(e){t("expandDiscussion",{discussionId:e.discussion_id},{root:!0})}))},L=function(e,t){let{commit:n}=e;n("TOGGLE_RESOLVE_DISCUSSION",t)};n("orcL");var R=n("+FvQ");const A=function(e){return e.drafts.length},F=function(e,t,n,i){return i.getNotesData},q=function(e){return e.drafts.length>0},M=function(e){return e.drafts.reduce((function(e,t){return t.discussion_id&&(e[t.discussion_id]=t),e}),{})},B=function(e){return e.drafts.reduce((function(e,t){return t.file_hash&&(e[t.file_hash]||(e[t.file_hash]={}),e[t.file_hash][t.line_code]=t),e}),{})},$=function(e,t){return function(e,n){return Boolean(e in t.draftsPerFileHashAndLine&&t.draftsPerFileHashAndLine[e][n.line_code])}},V=function(e,t){return function(e,n){const i=t.draftsPerFileHashAndLine[e],[r,s]=[Object(R.c)(n,"left"),Object(R.c)(n,"right")];return!!i&&Boolean(i[r]||i[s])}},U=function(e,t){return function(e,n){const i=t.draftsPerFileHashAndLine[e],r=Object(R.c)(n,"left");return!!i&&Boolean(i[r])}},G=function(e,t){return function(e,n){const i=t.draftsPerFileHashAndLine[e],r=Object(R.c)(n,"left");return!!i&&Boolean(i[r])}},H=function(e,t){return function(e){return void 0!==t.draftsPerDiscussionId[e]}},z=function(e,t){return function(e){return t.draftsPerDiscussionId[e]||{}}},W=function(e,t){return function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=t.draftsPerFileHashAndLine[e],s=null!==i?Object(R.c)(n,i):n.line_code;if(r){const e=r[s];if(e&&Object(R.d)(n,i))return e}return{}}},Q=function(e){return function(t){return e.drafts.filter((function(e){return e.file_hash===t}))}},K=function(e){return function(t){return-1!==e.currentlyPublishingDrafts.indexOf(t)}},Y=function(e){return[...e.drafts].sort((function(e,t){return e.id>t.id}))};function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee=function(e){return J(J({},e),{},{isDraft:!0})};var te={ADD_NEW_DRAFT(e,t){e.drafts.push(ee(t))},DELETE_DRAFT(e,t){e.drafts=e.drafts.filter((function(e){return e.id!==t}))},SET_BATCH_COMMENTS_DRAFTS(e,t){e.drafts=t.map(ee)},REQUEST_PUBLISH_DRAFT(e,t){e.currentlyPublishingDrafts.push(t)},RECEIVE_PUBLISH_DRAFT_SUCCESS(e,t){e.currentlyPublishingDrafts=e.currentlyPublishingDrafts.filter((function(e){return e!==t})),e.drafts=e.drafts.filter((function(e){return e.id!==t}))},RECEIVE_PUBLISH_DRAFT_ERROR(e,t){e.currentlyPublishingDrafts=e.currentlyPublishingDrafts.filter((function(e){return e!==t}))},REQUEST_PUBLISH_REVIEW(e){e.isPublishing=!0},RECEIVE_PUBLISH_REVIEW_SUCCESS(e){e.isPublishing=!1,e.drafts=[]},RECEIVE_PUBLISH_REVIEW_ERROR(e){e.isPublishing=!1},RECEIVE_DRAFT_UPDATE_SUCCESS(e,t){const n=e.drafts.findIndex((function(e){return e.id===t.id}));n>=0&&e.drafts.splice(n,1,ee(t))},TOGGLE_RESOLVE_DISCUSSION(e,t){e.drafts=e.drafts.map((function(e){return e.id===t?J(J({},e),{},{resolve_discussion:!e.resolve_discussion}):e}))}},ne=(n("EWC9"),n("Ag57"),n("GzNv"),n("S26F"),n("pBsb"),n("dHQd"),n("yoDG"),n("tWNI"),n("8d6S"),n("VwWG"),n("IYHS"),n("MViX"),n("GDOA"),n("a0mT"),n("ta8/"),n("IKCR"),n("nmTw"),n("W2kU"),n("58fc"),n("Rhav"),n("eppl"),n("06tH")),ie=n.n(ne),re=n("qPgm"),se=n("BAGK"),ae=n("QwBj"),oe=n("hqF9"),le=n("3twG"),ce=n("J7NB"),ue=n("pIt4"),de=n("T22c"),fe=n("Gtn5"),he=n("i3g2"),pe=n("LlB7"),me=n("rrF/"),ge=n.n(me);const ve="SET_BASE_CONFIG",be="SET_DIFF_FILES",ye="SET_MR_FILE_REVIEWS",_e="SET_CURRENT_VIEW_DIFF_FILE_LINES",we="SET_DIFF_FILE_VIEWER";var Oe=n("04nr");function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ce=function(e,t){let{commit:n}=e;const{endpoint:i,endpointMetadata:r,endpointBatch:s,endpointCoverage:a,endpointUpdateUser:o,projectPath:l,dismissEndpoint:c,showSuggestPopover:u,defaultSuggestionCommitMessage:d,viewDiffsFileByFile:f,mrReviews:h}=t;n(ve,{endpoint:i,endpointMetadata:r,endpointBatch:s,endpointCoverage:a,endpointUpdateUser:o,projectPath:l,dismissEndpoint:c,showSuggestPopover:u,defaultSuggestionCommitMessage:d,viewDiffsFileByFile:f,mrReviews:h})},xe=function(e){var t,i,r,s;let{commit:a,state:o,dispatch:l}=e;const c=null===(t=window.gon)||void 0===t?void 0:null===(i=t.features)||void 0===i?void 0:i.diffsGradualLoad;let u=ue.m,d=1.4;c&&(u=o.viewDiffsFileByFile?1:5);const f=c?0:1,p=null===(r=window)||void 0===r?void 0:null===(s=r.location)||void 0===s?void 0:s.hash,g=0===p.indexOf("#note"),v={w:o.showWhitespace?"0":"1",view:"inline"};let b=0;a("SET_BATCH_LOADING",!0),a("SET_RETRIEVING_BATCHES",!0),de.a.$emit(ue.C);return function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return m.a.get(Object(le.q)(Se(Se({},v),{},{page:t,per_page:u}),o.endpointBatch)).then((function(e){let{data:{pagination:i,diff_files:r}}=e;var s;if(b+=r.length,a("SET_DIFF_DATA_BATCH",{diff_files:r}),a("SET_BATCH_LOADING",!1),g||o.currentDiffFileId||a("VIEW_DIFF_FILE",r[0].file_hash),g&&l("setCurrentDiffFileIdFromNote",p.split("_").pop()),c&&(b===i.total_pages||null===i.total_pages)||!c&&!i.next_page)return a("SET_RETRIEVING_BATCHES",!1),!o.currentDiffFileId||o.diffFiles.some((function(e){return e.file_hash===o.currentDiffFileId}))||g||a("VIEW_DIFF_FILE",o.diffFiles[0].file_hash),(null===(s=o.diffFiles)||void 0===s?void 0:s.length)&&Promise.all([n.e(140),n.e(474)]).then(n.bind(null,"uOOt")).then((function(e){return e.default({blobs:o.diffFiles.filter((function(e){return e.code_navigation_path})).map((function(e){return{path:e.new_path,codeNavigationPath:e.code_navigation_path}})),definitionPathPrefix:o.definitionPathPrefix})})),null;if(c){const e=t+u;return u=Math.min(Math.ceil(u*d),30),d=Math.min(d+.2,2),e}return i.next_page})).then((function(t){return l("startRenderDiffsQueue"),t?e(t):null})).catch((function(){return a("SET_RETRIEVING_BATCHES",!1)}))}().then(h.t).catch((function(){return null}))},Ee=function(e){let{commit:t,state:n}=e;const i=new ge.a;return t("SET_LOADING",!0),de.a.$emit(ue.E),i.addEventListener("message",(function(e){let{data:n}=e;t("SET_TREE_DATA",n),de.a.$emit(ue.D),i.terminate()})),m.a.get(Object(le.q)({view:"inline"},n.endpointMetadata)).then((function(e){let{data:n}=e;const r=Se({},n);return delete r.diff_files,t("SET_LOADING",!1),t("SET_MERGE_REQUEST_DIFFS",n.merge_request_diffs||[]),t("SET_DIFF_METADATA",r),i.postMessage(n.diff_files),n})).catch((function(){return i.terminate()}))},De=function(e){let{commit:t,state:n}=e;const i=new oe.a({resource:{getCoverageReports:function(e){return m.a.get(e)}},data:n.endpointCoverage,method:"getCoverageReports",successCallback:function(e){let{status:n,data:r}=e;n===ae.a.OK&&(t("SET_COVERAGE_DATA",r),i.stop())},errorCallback:function(){return Object(f.c)(Object(p.a)("Something went wrong on our end. Please try again!"))}});i.makeRequest()},Pe=function(e,t){let{commit:n}=e;const i=t.split("_")[0];n("SET_HIGHLIGHTED_ROW",t),n("VIEW_DIFF_FILE",i)},Te=function(e){var t,n;let{commit:i,state:r,rootState:s,dispatch:a}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.notes.discussions;const c=null===(t=window)||void 0===t?void 0:null===(n=t.location)||void 0===n?void 0:n.hash,u=0===c.indexOf("#note"),d=Object(Oe.h)(r.diffFiles),f=Object(le.f)();o.filter((function(e){return e.diff_discussion})).forEach((function(e){i("SET_LINE_DISCUSSIONS_FOR_FILE",{discussion:e,diffPositionByLineCode:d,hash:f})})),u&&a("setCurrentDiffFileIdFromNote",c.split("_").pop()),l.default.nextTick((function(){ce.a.$emit("scrollToDiscussion")}))},Ne=function(e,t){let{commit:n}=e;const{file_hash:i,line_code:r,id:s}=t;n("REMOVE_LINE_DISCUSSIONS_FOR_FILE",{fileHash:i,lineCode:r,id:s})},Ie=function(e,t){let{commit:n}=e;n("TOGGLE_LINE_DISCUSSIONS",t)},Le=function(e,t){let{commit:n,rootState:i,state:r}=e;const s=i.notes.discussions.find((function(e){return e.id===t}));if(s&&s.diff_file){const e=r.diffFiles.find((function(e){return e.file_hash===s.diff_file.file_hash}));e&&(e.renderIt||n("RENDER_FILE",e),e.viewer.automaticallyCollapsed?(ce.a.$emit("loadCollapsedDiff/".concat(e.file_hash)),Object(h.Q)(document.getElementById(e.file_hash))):e.viewer.manuallyCollapsed?(n("SET_FILE_COLLAPSED",{filePath:e.file_path,collapsed:!1,trigger:ue.p}),ce.a.$emit("scrollToDiscussion")):ce.a.$emit("scrollToDiscussion"))}},Re=function(e){let{state:t,commit:n}=e;const i=t.diffFiles.filter((function(e){return!e.renderIt&&e.viewer&&(!Object(fe.c)(e)||e.viewer.name!==se.v.text)}));let r=0;i.length&&function e(){const t=i[r];if(t){let i=0;r+=1,n("RENDER_FILE",t),function t(){return requestIdleCallback((function(n){n.timeRemaining()>=5||i>4?e():(t(),i+=1)}))}()}}()},Ae=function(e,t){let{commit:n}=e;return n("RENDER_FILE",t)},Fe=function(e){var t,n;let{commit:i}=e;i("SET_DIFF_VIEW_TYPE",ue.J),ie.a.set(ue.w,ue.J);const r=Object(le.q)({view:ue.J},window.location.href);Object(h.u)(r),(null===(t=window.gon)||void 0===t?void 0:null===(n=t.features)||void 0===n?void 0:n.diffSettingsUsageData)&&(re.a.trackRedisHllUserEvent(ue.mb),re.a.trackRedisHllUserEvent(ue.qb))},qe=function(e){var t,n;let{commit:i}=e;i("SET_DIFF_VIEW_TYPE",ue.eb),ie.a.set(ue.w,ue.eb);const r=Object(le.q)({view:ue.eb},window.location.href);Object(h.u)(r),(null===(t=window.gon)||void 0===t?void 0:null===(n=t.features)||void 0===n?void 0:n.diffSettingsUsageData)&&(re.a.trackRedisHllUserEvent(ue.mb),re.a.trackRedisHllUserEvent(ue.rb))},Me=function(e,t){let{commit:n}=e,{lineCode:i,fileHash:r}=t;n("TOGGLE_LINE_HAS_FORM",{lineCode:i,fileHash:r,hasForm:!0})},Be=function(e,t){let{commit:n}=e,{lineCode:i,fileHash:r}=t;n("TOGGLE_LINE_HAS_FORM",{lineCode:i,fileHash:r,hasForm:!1})},$e=function(e,t){let{commit:n}=e;const{endpoint:i,params:r,lineNumbers:s,fileHash:a,isExpandDown:o,nextLineNumbers:l}=t;return r.from_merge_request=!0,m.a.get(i,{params:r}).then((function(e){const t=e.data||[];n("ADD_CONTEXT_LINES",{lineNumbers:s,contextLines:t,params:r,fileHash:a,isExpandDown:o,nextLineNumbers:l})}))},Ve=function(e,t){const n=Object(le.f)();n&&t.line_code===n&&Object(h.t)()},Ue=function(e,t){const n=Object(le.f)();n&&(t.left&&t.left.line_code===n||t.right&&t.right.line_code===n)&&Object(h.t)()},Ge=function(e,t){let{commit:n,getters:i,state:r}=e;return m.a.get(t.load_collapsed_diff_url,{params:{commit_id:i.commitId,w:r.showWhitespace?"0":"1"}}).then((function(e){n("ADD_COLLAPSED_DIFFS",{file:t,data:e.data})}))},He=function(e,t){let{getters:n,dispatch:i}=e;const r=n.getDiffFileDiscussions(t),s=n.diffHasAllExpandedDiscussions(t),a=n.diffHasAllCollapsedDiscussions(t);r.forEach((function(e){const t={discussionId:e.id};s?i("collapseDiscussion",t,{root:!0}):!a&&(s||a||e.expanded)||i("expandDiscussion",t,{root:!0})}))},ze=function(e,t){let{commit:n}=e;const i=Object(Oe.c)(t),r=new Set;t[ue.I].filter((function(e){return Boolean(null==e?void 0:e.discussions.length)})).forEach((function(e){return r.add(e.line_code)})),r.size&&Array.from(r).forEach((function(e){n("TOGGLE_LINE_DISCUSSIONS",{fileHash:t.file_hash,expanded:!i,lineCode:e})}))},We=function(e,t){let{state:n,dispatch:i}=e,{note:r,formData:s}=t;const a=Object(Oe.j)(Se({commit:n.commit,note:r},s));return i("saveNote",a,{root:!0}).then((function(e){return i("updateDiscussion",e.discussion,{root:!0})})).then((function(e){return i("assignDiscussionsToDiff",[e])})).then((function(){return i("updateResolvableDiscussionsCounts",null,{root:!0})})).then((function(){return i("closeDiffFileCommentForm",s.diffFile.file_hash)})).catch((function(){return Object(f.c)(Object(p.e)("MergeRequests|Saving the comment failed"))}))},Qe=function(e,t){let{commit:n}=e;n("TOGGLE_FOLDER_OPEN",t)},Ke=function(e,t){let{commit:n}=e;n("VIEW_DIFF_FILE",t)},Ye=function(e,t){let{state:n,commit:i}=e;if(!n.treeEntries[t])return;const{fileHash:r}=n.treeEntries[t];document.location.hash=r,i("VIEW_DIFF_FILE",r)},Xe=function(e,t){let{commit:n}=e,{showTreeList:i,saving:r=!0}=t;n("SET_SHOW_TREE_LIST",i),r&&localStorage.setItem(ue.W,i)},Je=function(e,t){let{commit:n,getters:i}=e;n(i.getCommentFormForDiffFile(t.fileHash)?"UPDATE_DIFF_FILE_COMMENT_FORM":"OPEN_DIFF_FILE_COMMENT_FORM",t)},Ze=function(e,t){let{commit:n}=e;n("CLOSE_DIFF_FILE_COMMENT_FORM",t)},et=function(e,t){var n,i;let{commit:r}=e;r("SET_RENDER_TREE_LIST",t),localStorage.setItem(ue.Db,t),(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.diffSettingsUsageData)&&(re.a.trackRedisHllUserEvent(ue.nb),t?re.a.trackRedisHllUserEvent(ue.tb):re.a.trackRedisHllUserEvent(ue.sb))},tt=function(e,t){var n,i;let{commit:r}=e,{showWhitespace:s,pushState:a=!1}=t;r("SET_SHOW_WHITESPACE",s);const o=s?ue.gb:ue.ab;ie.a.set(ue.y,o),a&&Object(h.u)(Object(le.q)({w:o},window.location.href)),ce.a.$emit("refetchDiffData"),(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.diffSettingsUsageData)&&(re.a.trackRedisHllUserEvent(ue.pb),s?re.a.trackRedisHllUserEvent(ue.xb):re.a.trackRedisHllUserEvent(ue.wb))},nt=function(e,t){let{commit:n}=e;n("TOGGLE_FILE_FINDER_VISIBLE",t)},it=function(e,t){localStorage.setItem(ue.Eb,t)},rt=function(e,t){let{commit:n}=e;n("RECEIVE_FULL_DIFF_ERROR",t),Object(f.c)(Object(p.e)("MergeRequest|Error loading full diff. Please try again."))},st=function(e,t){let{commit:n}=e,{file:i,data:r}=t;const s=Object(Oe.d)({diffLines:i[ue.I],typeKey:ue.Gb,oldLineKey:ue.bb,newLineKey:ue.X,data:r,mapLine:function(e){let{line:t,oldLine:n,newLine:r}=e;return Object.assign(t,{old_line:n,new_line:r,line_code:"".concat(i.file_hash,"_").concat(n,"_").concat(r)})}});if(s.length>ue.S){let e=ue.hb;n(_e,{filePath:i.file_path,lines:s.slice(0,e)}),n("TOGGLE_DIFF_FILE_RENDERING_MORE",i.file_path);const t=function t(r){const a=e;for(;r.timeRemaining()>=ue.U&&e!==s.length&&e-a!==ue.R;){const t=s[e];t&&(n("ADD_CURRENT_VIEW_DIFF_FILE_LINES",{filePath:i.file_path,line:t}),e+=1)}e!==s.length?Object(Oe.l)(t):n("TOGGLE_DIFF_FILE_RENDERING_MORE",i.file_path)};Object(Oe.l)(t)}else n(_e,{filePath:i.file_path,lines:s})},at=function(e,t){let{commit:n,dispatch:i}=e;return m.a.get(t.context_lines_path,{params:{full:!0,from_merge_request:!0}}).then((function(e){let{data:r}=e;n("RECEIVE_FULL_DIFF_SUCCESS",{filePath:t.file_path}),i("setExpandedDiffLines",{file:t,data:r})})).catch((function(){return i("receiveFullDiffError",t.file_path)}))},ot=function(e,t){let{dispatch:n,commit:i,getters:r,state:s}=e;const a=s.diffFiles.find((function(e){return e.file_path===t}));i("REQUEST_FULL_DIFF",t),a.isShowingFullFile?n("loadCollapsedDiff",a).then((function(){return n("assignDiscussionsToDiff",r.getDiffFileDiscussions(a))})).catch((function(){return n("receiveFullDiffError",t)})):n("fetchFullDiff",a)};function lt(e,t){let{commit:n,dispatch:i}=e,{diffFile:r}=t;return m.a.get(r.context_lines_path,{params:{full:!0,from_merge_request:!0}}).then((function(e){let{data:t}=e;const s=t.map((function(e,t){return Object(Oe.p)({diffViewType:"inline",line:e,diffFile:r,index:t})}));n(we,{filePath:r.file_path,viewer:Se(Se({},r.alternate_viewer),{},{automaticallyCollapsed:!1,manuallyCollapsed:!1})}),n(_e,{filePath:r.file_path,lines:s}),i("startRenderDiffsQueue")}))}const ct=function(e,t){let{commit:n}=e,{filePath:i,collapsed:r}=t;n("SET_FILE_COLLAPSED",{filePath:i,collapsed:r,trigger:ue.s})},ut=function(e){let{commit:t,state:n}=e;return m.a.post(n.dismissEndpoint,{feature_name:"suggest_popover_dismissed"}).then((function(){t("SET_SHOW_SUGGEST_POPOVER")})).catch((function(){Object(f.c)(Object(p.e)("MergeRequest|Error dismissing suggestion popover. Please try again."))}))};function dt(e,t){let{dispatch:n,commit:i,state:r}=e,{commitId:s}=t;if(!s)return Promise.reject(new Error("`commitId` is a required argument"));if(!r.commit)return Promise.reject(new Error("`state` must already contain a valid `commit`"));const a=new RegExp(r.commit.id,"g");return i(be,[]),i(ve,Se(Se({},r),{},{endpoint:r.endpoint.replace(a,s),endpointBatch:r.endpointBatch.replace(a,s),endpointMetadata:r.endpointMetadata.replace(a,s)})),n("fetchDiffFilesMeta")}function ft(e,t){var n,i;let{dispatch:r,state:s}=e,{direction:a}=t;const o=null===(n=s.commit)||void 0===n?void 0:n.prev_commit_id,l=null===(i=s.commit)||void 0===i?void 0:i.next_commit_id,c=!s.isLoading&&l,u=!s.isLoading&&o;let d;"next"===a&&c?d=l:"previous"===a&&u&&(d=o),d&&r("changeCurrentCommit",{commitId:d})}const ht=function(e,t){var n;let{commit:i,state:r,rootGetters:s}=e;const a=s.notesById[t];if(!a)return;const o=null===(n=s.getDiscussion(a.discussion_id).diff_file)||void 0===n?void 0:n.file_hash;o&&r.diffFiles.some((function(e){return e.file_hash===o}))&&i("VIEW_DIFF_FILE",o)},pt=function(e,t){let{commit:n,state:i}=e;const r=i.diffFiles[t].file_hash;document.location.hash=r,n("VIEW_DIFF_FILE",r)},mt=function(e,t){var n,i;let{state:r,commit:s}=e,{fileByFile:a}=t;const o=a?ue.x:ue.v;return s("SET_FILE_BY_FILE",a),ie.a.set(ue.q,o),(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.diffSettingsUsageData)&&(re.a.trackRedisHllUserEvent(ue.ob),a?re.a.trackRedisHllUserEvent(ue.vb):re.a.trackRedisHllUserEvent(ue.ub)),m.a.put(r.endpointUpdateUser,{view_diffs_file_by_file:a}).then((function(){}))};function gt(e,t){let{commit:n,state:i}=e,{file:r,reviewed:s=!0}=t;const{mrPath:a}=Object(pe.a)({endpoint:r.load_collapsed_diff_url}),o=Object(he.b)(i.mrReviews,r,s);Object(he.e)(a,o),n(ye,o)}var vt=n("aTm7");const bt=ie.a.get(ue.w),yt=ue.J,_t=Object(le.g)("w")[0],wt=ie.a.get(ue.y);function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){Object.assign(e,{renderIt:!0})}var Ct={[ve](e,t){const{endpoint:n,endpointMetadata:i,endpointBatch:r,endpointCoverage:s,endpointUpdateUser:a,projectPath:o,dismissEndpoint:l,showSuggestPopover:c,defaultSuggestionCommitMessage:u,viewDiffsFileByFile:d,mrReviews:f}=t;Object.assign(e,{endpoint:n,endpointMetadata:i,endpointBatch:r,endpointCoverage:s,endpointUpdateUser:a,projectPath:o,dismissEndpoint:l,showSuggestPopover:c,defaultSuggestionCommitMessage:u,viewDiffsFileByFile:d,mrReviews:f})},SET_LOADING(e,t){Object.assign(e,{isLoading:t})},SET_BATCH_LOADING(e,t){Object.assign(e,{isBatchLoading:t})},SET_RETRIEVING_BATCHES(e,t){Object.assign(e,{retrievingBatches:t})},[be](e,t){!function(e,t){Object.assign(e,{diffFiles:t})}(e,t)},SET_DIFF_METADATA(e,t){Object.assign(e,kt({},Object(h.h)(t)))},SET_DIFF_DATA_BATCH(e,t){e.diffFiles=Object(Oe.o)({diff:t,priorFiles:e.diffFiles})},SET_COVERAGE_DATA(e,t){Object.assign(e,{coverageFiles:t})},RENDER_FILE(e,t){jt(t)},SET_MERGE_REQUEST_DIFFS(e,t){Object.assign(e,{mergeRequestDiffs:t})},SET_DIFF_VIEW_TYPE(e,t){Object.assign(e,{diffViewType:t})},TOGGLE_LINE_HAS_FORM(e,t){let{lineCode:n,fileHash:i,hasForm:r}=t;const s=e.diffFiles.find((function(e){return e.file_hash===i}));s&&(s[ue.I].find((function(e){return e.line_code===n})).hasForm=r)},ADD_CONTEXT_LINES(e,t){const{lineNumbers:n,contextLines:i,fileHash:r,isExpandDown:s,nextLineNumbers:a}=t,{bottom:o}=t.params,l=Object(Oe.e)(e.diffFiles,r);Object(Oe.q)(l,n,o);const c=Object(Oe.b)(i,n,o,s,a).map((function(e){const t="match"===e.type?"".concat(r,"_").concat(e.meta_data.old_pos,"_").concat(e.meta_data.new_pos,"_match"):e.line_code||"".concat(r,"_").concat(e.old_line,"_").concat(e.new_line);return kt(kt({},e),{},{line_code:t,discussions:e.discussions||[],hasForm:!1})}));Object(Oe.a)({inlineLines:l[ue.I],contextLines:c,bottom:o,lineNumbers:n,isExpandDown:s})},ADD_COLLAPSED_DIFFS(e,t){let{file:n,data:i}=t;const r=Object(Oe.o)({diff:i}),[s]=r.filter((function(e){return e.file_hash===n.file_hash})),a=e.diffFiles.find((function(e){return e.file_hash===n.file_hash}));Object.assign(a,kt({},s))},SET_LINE_DISCUSSIONS_FOR_FILE(e,t){var n,i,r;let{discussion:s,diffPositionByLineCode:a,hash:o}=t;const{latestDiff:l}=e,c=null===(n=s.original_position)||void 0===n?void 0:null===(i=n.line_range)||void 0===i?void 0:null===(r=i.start)||void 0===r?void 0:r.line_code,u=[s.line_code,c,...s.line_codes||[]],d=s.diff_file.file_hash,f=function(e){return u.some((function(t){return e.line_code===t&&Object(Oe.m)({discussion:s,diffPosition:a[e.line_code],latestDiff:l})}))};e.diffFiles.forEach((function(e){if(e.file_hash===d&&(e[ue.I].length&&e[ue.I].forEach((function(e){Object.assign(e,function(e){const t=e.discussions&&e.discussions.some((function(e){return e.notes&&e.notes.find((function(e){return o==="note_".concat(e.id)}))}));return kt(kt({},e),{},{discussionsExpanded:!(!e.discussions||!e.discussions.length)&&(e.discussions.some((function(e){return!e.resolved}))||t)})}(f(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return kt(kt({},e),{},{discussions:t()?e.discussions&&e.discussions.filter((function(){return!e.discussions.some((function(e){let{id:t}=e;return s.id===t}))})).concat(f(e)?s:e.discussions):[]})}(e):e))})),!e[ue.I].length)){const t=(e.discussions||[]).filter((function(e){return e.id!==s.id})).concat(s);Object.assign(e,{discussions:t})}}))},REMOVE_LINE_DISCUSSIONS_FOR_FILE(e,t){let{fileHash:n,lineCode:i}=t;const r=e.diffFiles.find((function(e){return e.file_hash===n}));r&&(Object(Oe.s)(r,i,(function(e){return Object.assign(e,{discussions:e.discussions.filter((function(e){return e.notes.length}))})})),r.discussions&&r.discussions.length&&(r.discussions=r.discussions.filter((function(e){return e.notes.length}))))},TOGGLE_LINE_DISCUSSIONS(e,t){let{fileHash:n,lineCode:i,expanded:r}=t;const s=e.diffFiles.find((function(e){return e.file_hash===n}));Object(Oe.s)(s,i,(function(e){Object.assign(e,{discussionsExpanded:r})}))},TOGGLE_FOLDER_OPEN(e,t){e.treeEntries[t].opened=!e.treeEntries[t].opened},SET_SHOW_TREE_LIST(e,t){e.showTreeList=t},VIEW_DIFF_FILE(e,t){e.currentDiffFileId=t,l.default.set(e.viewedDiffFileIds,t,!0)},OPEN_DIFF_FILE_COMMENT_FORM(e,t){e.commentForms.push(kt({},t))},UPDATE_DIFF_FILE_COMMENT_FORM(e,t){const{fileHash:n}=t;e.commentForms=e.commentForms.map((function(e){return e.fileHash===n?kt({},t):e}))},CLOSE_DIFF_FILE_COMMENT_FORM(e,t){e.commentForms=e.commentForms.filter((function(e){return e.fileHash!==t}))},SET_HIGHLIGHTED_ROW(e,t){e.highlightedRow=t},SET_TREE_DATA(e,t){let{treeEntries:n,tree:i}=t;e.treeEntries=n,e.tree=i,e.isTreeLoaded=!0},SET_RENDER_TREE_LIST(e,t){e.renderTreeList=t},SET_SHOW_WHITESPACE(e,t){e.showWhitespace=t,e.diffFiles=[]},TOGGLE_FILE_FINDER_VISIBLE(e,t){e.fileFinderVisible=t},REQUEST_FULL_DIFF(e,t){Object(Oe.e)(e.diffFiles,t,"file_path").isLoadingFullFile=!0},RECEIVE_FULL_DIFF_ERROR(e,t){Object(Oe.e)(e.diffFiles,t,"file_path").isLoadingFullFile=!1},RECEIVE_FULL_DIFF_SUCCESS(e,t){let{filePath:n}=t;const i=Object(Oe.e)(e.diffFiles,n,"file_path");i.isShowingFullFile=!0,i.isLoadingFullFile=!1},SET_FILE_COLLAPSED(e,t){let{filePath:n,collapsed:i,trigger:r=ue.p}=t;const s=e.diffFiles.find((function(e){return e.file_path===n}));s&&s.viewer&&(r===ue.s?(s.viewer.automaticallyCollapsed=!1,s.viewer.manuallyCollapsed=i):r===ue.p&&(s.viewer.automaticallyCollapsed=i,s.viewer.manuallyCollapsed=null)),s&&!i&&jt(s)},[_e](e,t){let{filePath:n,lines:i}=t;e.diffFiles.find((function(e){return e.file_path===n}))[ue.I]=i},ADD_CURRENT_VIEW_DIFF_FILE_LINES(e,t){let{filePath:n,line:i}=t;e.diffFiles.find((function(e){return e.file_path===n}))[ue.I].push(i)},TOGGLE_DIFF_FILE_RENDERING_MORE(e,t){const n=e.diffFiles.find((function(e){return e.file_path===t}));n.renderingLines=!n.renderingLines},[we](e,t){let{filePath:n,viewer:i}=t;Object(Oe.e)(e.diffFiles,n,"file_path").viewer=i},SET_SHOW_SUGGEST_POPOVER(e){e.showSuggestPopover=!1},SET_FILE_BY_FILE(e,t){e.viewDiffsFileByFile=t},[ye](e,t){e.mrReviews=t}};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e){return Object.entries(e).reduce((function(e,t){let[n,i]=t;const r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){Et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return(i||0===i)&&(r[n]=i),r}),{})}function Pt(){let{message:e,values:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=Dt(t),i=Object.keys(n).map((function(e){return"%{".concat(e,"}")})).join("|"),r=new RegExp("(".concat(i,")"),"gm");return e.replace(r,(function(e){const t=e.replace(/(^%{|}$)/gm,"");return n[t]}))}function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lt=function(e){var t;return(null===(t=e.startVersion)||void 0===t?void 0:t.version_index)||ue.n},Rt=function(e){return e.mergeRequestDiff.version_index},At=function(e){return e.contextCommitsDiff&&e.contextCommitsDiff.showing_context_commits_diff},Ft=function(e,t){var n,i;const r=(null===(n=window.gon)||void 0===n?void 0:null===(i=n.features)||void 0===i?void 0:i.defaultMergeRefForDiffs)||!1,s=Object(h.p)("diff_head"),a=Object(h.K)(s)||!s&&r,o=!e.startVersion&&!a,l=!e.startVersion&&a;let c=null;(!r||r&&!e.mergeRequestDiff.head_version_path)&&(c={versionName:e.targetBranchName,version_index:ue.n,href:e.mergeRequestDiff.base_version_path,isBase:!0,selected:o||r&&!e.mergeRequestDiff.head_version_path});const u={versionName:e.targetBranchName,version_index:ue.o,href:e.mergeRequestDiff.head_version_path,isHead:!0,selected:l};return[...e.mergeRequestDiffs.slice(1).map((function(e){return Nt({href:e.compare_path,versionName:Object(p.f)(Object(p.a)("version %{versionIndex}"),{versionIndex:e.version_index}),selected:e.version_index===t.selectedTargetIndex},e)})),c,e.mergeRequestDiff.head_version_path&&u].filter((function(e){return e}))},qt=function(e,t){const n=e.mergeRequestDiffs.map((function(e,n){const i=0===n;return Nt(Nt({},e),{},{href:e.version_path,commitsText:Object(p.d)("%d commit,","%d commits,",e.commits_count),isLatestVersion:i,versionName:i?Object(p.a)("latest version"):Object(p.f)(Object(p.a)("version %{versionIndex}"),{versionIndex:e.version_index}),selected:e.version_index===t.selectedSourceIndex&&!t.selectedContextCommitsDiffs})})),{contextCommitsDiff:i}=e;return i&&n.push({href:i.diffs_path,commitsText:Object(p.d)("%d commit","%d commits",i.commits_count),versionName:Object(p.a)("previously merged commits"),selected:t.selectedContextCommitsDiffs,addDivider:e.mergeRequestDiffs.length>0}),n};function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){$t(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vt=function(e){return e.diffViewType===ue.eb},Ut=function(e){return e.diffViewType===ue.J},Gt=function(e){const t=e.diffFiles.some((function(e){var t;return null===(t=e.viewer)||void 0===t?void 0:t.automaticallyCollapsed})),n=e.diffFiles.some((function(e){var t;return null===(t=e.viewer)||void 0===t?void 0:t.manuallyCollapsed}));return{any:t||n,automatic:t,manual:n}},Ht=function(e){return e.commit&&e.commit.id?e.commit.id:null},zt=function(e,t){return function(e){const n=t.getDiffFileDiscussions(e);return n&&n.length&&n.every((function(e){return e.expanded}))||!1}},Wt=function(e,t){return function(e){const n=t.getDiffFileDiscussions(e);return n&&n.length&&n.every((function(e){return!e.expanded}))||!1}},Qt=function(){return function(e){return e[ue.I].filter((function(e){return e.discussions.length>=1})).some((function(e){return e.discussionsExpanded}))}},Kt=function(){return function(e){return e[ue.I].some((function(e){return e.discussions.length>=1}))}},Yt=function(e,t,n,i){return function(e){return i.discussions.filter((function(t){return t.diff_discussion&&t.diff_file.file_hash===e.file_hash}))||[]}},Xt=function(e){return function(t){return e.diffFiles.find((function(e){return e.file_hash===t}))}},Jt=function(e){return Object.values(e.treeEntries).filter((function(e){return"blob"===e.type}))},Zt=function(e,t){return t.flatBlobsList.reduce((function(e,t){const{parentPath:n}=t;return n&&!e.some((function(e){return e.path===n}))&&e.push({path:n,isHeader:!0,tree:[]}),e.find((function(e){return e.path===n})).tree.push(t),e}),[])},en=function(e){return function(t){return e.commentForms.find((function(e){return e.fileHash===t}))}},tn=function(e){return function(t,n){if(!e.coverageFiles.files)return{};const i=e.coverageFiles.files[t];if(!i)return{};const r=i[String(n)];return 0===r?{text:Object(p.a)("No test coverage"),class:"no-coverage"}:r>=0?{text:Object(p.d)("Test coverage: %d hit","Test coverage: %d hits",r),class:"coverage"}:{}}},nn=function(e){return Math.max(0,e.diffFiles.findIndex((function(t){return t.file_hash===e.currentDiffFileId})))},rn=function(e){return function(t,n){return n||e.diffViewType!==ue.J?Object(Oe.n)(t.highlighted_diff_lines||[],e.diffViewType===ue.J):null}};function sn(e,t,n){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Pt({message:e.defaultSuggestionCommitMessage,values:Bt({branch_name:n.page.mrMetadata.branch_name,project_path:n.page.mrMetadata.project_path,project_name:n.page.mrMetadata.project_name,username:n.page.mrMetadata.username,user_full_name:n.page.mrMetadata.user_full_name},t)})}}const an=function(e){var t,n;return!e.viewDiffsFileByFile&&(null===(t=window.gon)||void 0===t?void 0:null===(n=t.features)||void 0===n?void 0:n.diffsVirtualScrolling)};var on=n("Ocj7"),ln={SET_ACTIVE_TAB:"SET_ACTIVE_TAB",SET_ENDPOINTS:"SET_ENDPOINTS",SET_MR_METADATA:"SET_MR_METADATA"};function cn(e,t){let{commit:n}=e;n(ln.SET_ACTIVE_TAB,t)}function un(e,t){let{commit:n}=e;n(ln.SET_ENDPOINTS,t)}function dn(e,t){let{commit:n}=e;n(ln.SET_MR_METADATA,t)}function fn(e){var t;let{dispatch:n,state:i}=e;(null===(t=i.endpoints)||void 0===t?void 0:t.metadata)&&m.a.get(i.endpoints.metadata).then((function(e){n("setMrMetadata",e.data)})).catch((function(){}))}var hn={isLoggedIn:(e,t)=>Boolean(t.getUserData.id)},pn={[ln.SET_ACTIVE_TAB](e,t){Object.assign(e,{activeTab:t})},[ln.SET_ENDPOINTS](e,t){Object.assign(e,{endpoints:t})},[ln.SET_MR_METADATA](e,t){Object.assign(e,{mrMetadata:t})}};l.default.use(c.b);const mn=function(){return new c.b.Store({modules:{page:{state:{endpoints:{},activeTab:null,mrMetadata:{}},actions:o,getters:hn,mutations:pn},notes:Object(on.a)(),diffs:{namespaced:!0,state:{isLoading:!0,isTreeLoaded:!1,isBatchLoading:!1,retrievingBatches:!1,addedLines:null,removedLines:null,endpoint:"",endpointUpdateUser:"",basePath:"",commit:null,startVersion:null,diffFiles:[],coverageFiles:{},mergeRequestDiffs:[],mergeRequestDiff:null,diffViewType:Object(le.g)("view")[0]||bt||yt,tree:[],treeEntries:{},showTreeList:!0,currentDiffFileId:"",projectPath:"",viewedDiffFileIds:{},commentForms:[],highlightedRow:null,renderTreeList:!0,showWhitespace:Object(Oe.f)(_t,wt),viewDiffsFileByFile:Object(vt.a)(),fileFinderVisible:!1,dismissEndpoint:"",showSuggestPopover:!0,defaultSuggestionCommitMessage:"",mrReviews:{},latestDiff:!0},getters:a,actions:s,mutations:Ct},batchComments:{namespaced:!0,state:{withBatchComments:!0,isDraftsFetched:!1,drafts:[],isPublishing:!1,currentlyPublishingDrafts:[]},mutations:te,actions:i,getters:r}}})};t.default=mn()},wryt:function(e,t,n){"use strict";var i={name:"FileTree",props:{fileRowComponent:{type:Object,required:!0},level:{type:Number,required:!0},file:{type:Object,required:!0}},computed:{childFilesLevel(){return this.file.isHeader?0:this.level+1}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.fileRowComponent,e._g(e._b({tag:"component",attrs:{level:e.level,file:e.file}},"component",e.$attrs,!1),e.$listeners)),e._v(" "),e.file.opened||e.file.isHeader?e._l(e.file.tree,(function(t){return n("file-tree",e._g(e._b({key:t.key,attrs:{"file-row-component":e.fileRowComponent,level:e.childFilesLevel,file:t}},"file-tree",e.$attrs,!1),e.$listeners))})):e._e()],2)}),[],!1,null,null,null);t.a=s.exports},"x/Tb":function(e,t,n){"use strict";var i=n("BAGK"),r=n("CdyC");const s={replaced:"replaced",new:"new",deleted:"deleted",renamed:"renamed"},a={twoup:"twoup",swipe:"swipe",onion:"onion"};var o={components:{DownloadViewer:r.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},projectPath:{type:String,required:!1,default:""}},diffModes:s},l=n("tBpV"),c=Object(l.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[n("div",{staticClass:"diff-viewer"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"two-up view row"},[n("div",{staticClass:"col-sm-6 deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1),e._v(" "),n("div",{staticClass:"col-sm-6 added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1)]):e.diffMode===e.$options.diffModes.new?n("div",{staticClass:"added"},[n("download-viewer",{attrs:{path:e.newPath,"project-path":e.projectPath}})],1):n("div",{staticClass:"deleted"},[n("download-viewer",{attrs:{path:e.oldPath,"project-path":e.projectPath}})],1)])])}),[],!1,null,null,null).exports,u=n("JCWm");function d(e){return e?"".concat(e,"px"):""}var f={components:{ImageViewer:u.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({onionMaxWidth:void 0,onionMaxHeight:void 0,onionOldImgInfo:null,onionNewImgInfo:null,onionDraggerPos:0,onionOpacity:1,dragging:!1}),computed:{onionMaxPixelWidth(){return d(this.onionMaxWidth)},onionMaxPixelHeight(){return d(this.onionMaxHeight)},onionDraggerPixelPos(){return d(this.onionDraggerPos)}},beforeDestroy(){document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},methods:{dragMove(e){if(!this.dragging)return;const t=(e.pageX||e.touches[0].pageX)-this.$refs.dragTrack.getBoundingClientRect().left,n=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100;let i=t;i<0&&(i=0),i>n&&(i=n),this.onionOpacity=t/n,this.onionDraggerPos=i},startDrag(){this.dragging=!0,document.body.style.userSelect="none",document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.style.userSelect="",document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareOnionSkin(){this.onionOldImgInfo&&this.onionNewImgInfo&&(this.onionMaxWidth=Math.max(this.onionOldImgInfo.renderedWidth,this.onionNewImgInfo.renderedWidth),this.onionMaxHeight=Math.max(this.onionOldImgInfo.renderedHeight,this.onionNewImgInfo.renderedHeight),this.onionOpacity=1,this.onionDraggerPos=this.$refs.dragTrack.clientWidth-this.$refs.dragger.clientWidth||100,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},onionNewImgLoaded(e){this.onionNewImgInfo=e,this.prepareOnionSkin()},onionOldImgLoaded(e){this.onionOldImgInfo=e,this.prepareOnionSkin()}}},h=Object(l.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"onion-skin view"},[n("div",{staticClass:"onion-skin-frame",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("div",{staticClass:"frame deleted",style:{width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionOldImg",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.onionOldImgLoaded}})],1),e._v(" "),n("div",{ref:"addedFrame",staticClass:"added frame",style:{opacity:e.onionOpacity,width:e.onionMaxPixelWidth,height:e.onionMaxPixelHeight}},[n("image-viewer",{key:"onionNewImg",attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.onionNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}],null,!0)})],1),e._v(" "),n("div",{staticClass:"controls"},[n("div",{staticClass:"transparent"}),e._v(" "),n("div",{ref:"dragTrack",staticClass:"drag-track",on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("div",{ref:"dragger",staticClass:"dragger",style:{left:e.onionDraggerPixelPos}})]),e._v(" "),n("div",{staticClass:"opaque"})])])])}),[],!1,null,null,null).exports,p=n("h7kv"),m=n.n(p),g={components:{ImageViewer:u.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0}},data:()=>({dragging:!1,swipeOldImgInfo:null,swipeNewImgInfo:null,swipeMaxWidth:void 0,swipeMaxHeight:void 0,swipeBarPos:1,swipeWrapWidth:0}),computed:{swipeMaxPixelWidth(){return d(this.swipeMaxWidth)},swipeMaxPixelHeight(){return d(this.swipeMaxHeight)},swipeWrapPixelWidth(){return d(this.swipeWrapWidth)},swipeBarPixelPos(){return d(this.swipeBarPos)}},beforeDestroy(){window.removeEventListener("resize",this.resizeThrottled,!1),document.body.removeEventListener("mouseup",this.stopDrag),document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchend",this.stopDrag),document.body.removeEventListener("touchmove",this.dragMove)},mounted(){window.addEventListener("resize",this.resize,!1)},methods:{dragMove(e){if(!this.dragging)return;let t=(e.pageX||e.touches[0].pageX)-this.$refs.swipeFrame.getBoundingClientRect().left;const{clientWidth:n}=this.$refs.swipeFrame;t<=0?t=0:t>n&&(t=n),this.swipeWrapWidth=t/n*100,this.swipeBarPos=t},startDrag(){this.dragging=!0,document.body.addEventListener("mousemove",this.dragMove),document.body.addEventListener("touchmove",this.dragMove)},stopDrag(){this.dragging=!1,document.body.removeEventListener("mousemove",this.dragMove),document.body.removeEventListener("touchmove",this.dragMove)},prepareSwipe(){this.swipeOldImgInfo&&this.swipeNewImgInfo&&this.swipeOldImgInfo.renderedWidth>0&&(this.swipeMaxWidth=Math.max(this.swipeOldImgInfo.renderedWidth,this.swipeNewImgInfo.renderedWidth)+2,this.swipeMaxHeight=Math.max(this.swipeOldImgInfo.renderedHeight,this.swipeNewImgInfo.renderedHeight)+2,document.body.addEventListener("mouseup",this.stopDrag),document.body.addEventListener("touchend",this.stopDrag))},swipeNewImgLoaded(e){this.swipeNewImgInfo=e,this.prepareSwipe()},swipeOldImgLoaded(e){this.swipeOldImgInfo=e,this.prepareSwipe()},resize:m()((function(){this.swipeBarPos=0,this.swipeWrapWidth=0,this.prepareSwipe()}),400)}},v=Object(l.a)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swipe view"},[n("div",{ref:"swipeFrame",staticClass:"swipe-frame",style:{width:e.swipeMaxPixelWidth,height:e.swipeMaxPixelHeight,"user-select":e.dragging?"none":null}},[n("image-viewer",{key:"swipeOldImg",ref:"swipeOldImg",staticClass:"frame deleted",attrs:{"render-info":!1,path:e.oldPath},on:{imgLoaded:e.swipeOldImgLoaded}}),e._v(" "),n("div",{ref:"swipeWrap",staticClass:"swipe-wrap",style:{width:e.swipeWrapWidth+"%"}},[n("image-viewer",{key:"swipeNewImg",staticClass:"frame added",style:{width:e.swipeMaxPixelWidth},attrs:{"render-info":!1,path:e.newPath},on:{imgLoaded:e.swipeNewImgLoaded},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}],null,!0)})],1),e._v(" "),n("span",{ref:"swipeBar",staticClass:"swipe-bar",style:{left:e.swipeBarPixelPos},on:{mousedown:e.startDrag,mouseup:e.stopDrag,touchstart:e.startDrag,touchend:e.stopDrag}},[n("span",{staticClass:"top-handle"}),e._v(" "),n("span",{staticClass:"bottom-handle"})])],1)])}),[],!1,null,null,null).exports,b={components:{ImageViewer:u.a},props:{newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}}},y=Object(l.a)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"two-up view d-flex"},[n("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.oldPath,"file-size":e.oldSize,"render-info":!0,"inner-css-classes":"frame deleted"}}),e._v(" "),n("image-viewer",{staticClass:"wrap w-50",attrs:{path:e.newPath,"file-size":e.newSize,"render-info":!0,"inner-css-classes":["frame","added"]},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}],null,!0)})],1)}),[],!1,null,null,null).exports,_={components:{ImageViewer:u.a},props:{diffMode:{type:String,required:!0},newPath:{type:String,required:!0},oldPath:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldSize:{type:Number,required:!1,default:0}},data:()=>({mode:a.twoup}),computed:{imageViewComponent(){switch(this.mode){case a.twoup:return y;case a.swipe:return v;case a.onion:return h;default:return}},isNew(){return this.diffMode===s.new},isRenamed(){return this.diffMode===s.renamed},imagePath(){return this.isNew||this.isRenamed?this.newPath:this.oldPath}},methods:{changeMode(e){this.mode=e}},diffModes:s,imageViewMode:a},w=Object(l.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"diff-file-container"},[e.diffMode===e.$options.diffModes.replaced?n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image js-replaced-image"},[n(e.imageViewComponent,e._b({tag:"component",scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}],null,!0)},"component",e.$props,!1))],1),e._v(" "),n("div",{staticClass:"view-modes"},[n("ul",{staticClass:"view-modes-menu"},[n("li",{class:{active:e.mode===e.$options.imageViewMode.twoup},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.twoup)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|2-up"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.swipe},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.swipe)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Swipe"))+"\n        ")]),e._v(" "),n("li",{class:{active:e.mode===e.$options.imageViewMode.onion},on:{click:function(t){return e.changeMode(e.$options.imageViewMode.onion)}}},[e._v("\n          "+e._s(e.s__("ImageDiffViewer|Onion skin"))+"\n        ")])])])]):n("div",{staticClass:"diff-viewer"},[n("div",{staticClass:"image"},[n("image-viewer",{attrs:{path:e.imagePath,"file-size":e.isNew?e.newSize:e.oldSize,"inner-css-classes":["frame",{added:e.isNew,deleted:e.diffMode===e.$options.diffModes.deleted}]},scopedSlots:e._u([e.isNew||e.isRenamed?{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}:null],null,!0)})],1)])])}),[],!1,null,null,null).exports,O=n("/lV4"),k={props:{aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{outputText(){return Object(O.f)(Object(O.a)("File mode changed from %{a_mode} to %{b_mode}"),{a_mode:this.aMode,b_mode:this.bMode})}}},S=Object(l.a)(k,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"nothing-here-block"},[this._v(this._s(this.outputText))])}),[],!1,null,null,null).exports,j=n("dsWN"),C=n("MV2A"),x=n("FkSe"),E=n("30su"),D=n("yi8e"),P=n("pIt4"),T=n("0AwG");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={STATE_LOADING:P.kb,STATE_ERRORED:P.ib,TRANSITIONS:P.fb,uiText:{showLink:Object(O.a)("Show file contents"),commitLink:Object(O.a)("View file @ %{commitSha}"),description:Object(O.a)("File renamed with no changes."),loadError:Object(O.a)("Unable to load file contents. Try again later.")},components:{GlAlert:j.a,GlLink:C.a,GlLoadingIcon:x.a,GlSprintf:E.a},props:{diffFile:{type:Object,required:!0}},data:()=>({state:P.jb}),computed:{shortSha(){return Object(T.u)(this.diffFile.content_sha)},canLoadFullDiff(){return"text"===this.diffFile.alternate_viewer.name}},methods:I(I({},Object(D.c)("diffs",["switchToFullDiffFromRenamedFile"])),{},{transition(e){const t="".concat(this.state,":").concat(e);this.$options.TRANSITIONS[t]&&(this.state=this.$options.TRANSITIONS[t])},is(e){return this.state===e},switchToFull(){var e=this;this.transition(P.Ab),this.switchToFullDiffFromRenamedFile({diffFile:this.diffFile}).then((function(){e.transition(P.Bb)})).catch((function(){e.transition(P.zb)}))},clickLink(e){this.canLoadFullDiff&&(e.preventDefault(),this.switchToFull())},dismissError(){this.transition(P.yb)}})},A=Object(l.a)(R,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nothing-here-block"},[e.is(e.$options.STATE_LOADING)?n("gl-loading-icon"):[n("gl-alert",{directives:[{name:"show",rawName:"v-show",value:e.is(e.$options.STATE_ERRORED),expression:"is($options.STATE_ERRORED)"}],staticClass:"gl-mb-5 gl-text-left",attrs:{variant:"danger"},on:{dismiss:e.dismissError}},[e._v(e._s(e.$options.uiText.loadError))]),e._v(" "),n("span",{attrs:{"test-id":"plaintext"}},[e._v(e._s(e.$options.uiText.description))]),e._v(" "),n("gl-link",{attrs:{href:e.diffFile.view_path},on:{click:e.clickLink}},[e.canLoadFullDiff?n("span",[e._v(e._s(e.$options.uiText.showLink))]):n("gl-sprintf",{attrs:{message:e.$options.uiText.commitLink},scopedSlots:e._u([{key:"commitSha",fn:function(){return[e._v(e._s(e.shortSha))]},proxy:!0}])})],1)]],2)}),[],!1,null,null,null).exports,F={props:{diffFile:{type:Object,required:!0},diffMode:{type:String,required:!0},diffViewerMode:{type:String,required:!0},newPath:{type:String,required:!0},newSha:{type:String,required:!0},newSize:{type:Number,required:!1,default:0},oldPath:{type:String,required:!0},oldSha:{type:String,required:!0},oldSize:{type:Number,required:!1,default:0},projectPath:{type:String,required:!1,default:""},aMode:{type:String,required:!1,default:null},bMode:{type:String,required:!1,default:null}},computed:{viewer(){if(this.diffViewerMode===i.v.renamed)return A;if(this.diffMode===i.t.mode_changed)return S;if(!this.newPath)return null;switch(this.diffViewerMode){case i.v.image:return w;default:return c}},basePath(){return 0===this.projectPath.indexOf("/")?"":"".concat(gon.relative_url_root,"/")},fullOldPath(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.oldSha,"/").concat(this.oldPath)},fullNewPath(){return"".concat(this.basePath).concat(this.projectPath,"/-/raw/").concat(this.newSha,"/").concat(this.newPath)}}},q=Object(l.a)(F,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.viewer?n("div",{staticClass:"diff-file preview-container"},[n(e.viewer,{tag:"component",attrs:{"diff-file":e.diffFile,"diff-mode":e.diffMode,"new-path":e.fullNewPath,"old-path":e.fullOldPath,"old-size":e.oldSize,"new-size":e.newSize,"project-path":e.projectPath,"a-mode":e.aMode,"b-mode":e.bMode},scopedSlots:e._u([{key:"image-overlay",fn:function(t){var n=t.renderedWidth,i=t.renderedHeight;return[e._t("image-overlay",null,{renderedWidth:n,renderedHeight:i})]}}],null,!0)}),e._v(" "),e._t("default")],2):e._e()}),[],!1,null,null,null);t.a=q.exports},xSH3:function(e,t,n){"use strict";var i=n("4lAS"),r=n("qPgm"),s=n("/lV4"),a=n("tpMy"),o=n("HOYf"),l=n("sHIo"),c=n("Zpbh"),u=n("DfSJ"),d={name:"ReportSection",components:{GlButton:i.a,IssuesList:u.a,Popover:o.a,StatusIcon:a.a},mixins:[Object(l.a)()],props:{alwaysOpen:{type:Boolean,required:!1,default:!1},component:{type:String,required:!1,default:""},status:{type:String,required:!0},loadingText:{type:String,required:!1,default:""},errorText:{type:String,required:!1,default:""},successText:{type:String,required:!1,default:""},unresolvedIssues:{type:Array,required:!1,default:function(){return[]}},resolvedIssues:{type:Array,required:!1,default:function(){return[]}},neutralIssues:{type:Array,required:!1,default:function(){return[]}},infoText:{type:[String,Boolean],required:!1,default:!1},hasIssues:{type:Boolean,required:!0},popoverOptions:{type:Object,default:function(){return{}},required:!1},showReportSectionStatusIcon:{type:Boolean,required:!1,default:!0},issuesUlElementClass:{type:String,required:!1,default:void 0},issuesListContainerClass:{type:String,required:!1,default:void 0},issueItemClass:{type:String,required:!1,default:void 0},shouldEmitToggleEvent:{type:Boolean,required:!1,default:!1},trackAction:{type:String,required:!1,default:null}},data:()=>({isCollapsed:!0}),computed:{collapseText(){return this.isCollapsed?Object(s.a)("Expand"):Object(s.a)("Collapse")},isLoading(){return this.status===c.n.LOADING},loadingFailed(){return this.status===c.n.ERROR},isSuccess(){return this.status===c.n.SUCCESS},isCollapsible(){return!this.alwaysOpen&&this.hasIssues},isExpanded(){return this.alwaysOpen||!this.isCollapsed},statusIconName(){return this.isLoading?"loading":this.loadingFailed||this.unresolvedIssues.length||this.neutralIssues.length?"warning":"success"},headerText(){return this.isLoading?this.loadingText:this.isSuccess?this.successText:this.loadingFailed?this.errorText:""},hasPopover(){return Object.keys(this.popoverOptions).length>0},slotName(){return this.isSuccess?c.h:this.isLoading?c.g:c.f}},methods:{toggleCollapsed(){this.trackAction&&this.glFeatures.usersExpandingWidgetsUsageData&&r.a.trackRedisHllUserEvent(this.trackAction),this.shouldEmitToggleEvent&&this.$emit("toggleEvent"),this.isCollapsed=!this.isCollapsed}}},f=n("tBpV"),h=Object(f.a)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"media-section"},[n("div",{staticClass:"media"},[n("status-icon",{staticClass:"align-self-center",attrs:{status:e.statusIconName,size:24}}),e._v(" "),n("div",{staticClass:"media-body d-flex flex-align-self-center align-items-center"},[n("div",{staticClass:"js-code-text code-text",attrs:{"data-testid":"report-section-code-text"}},[n("div",{staticClass:"gl-display-flex gl-align-items-center"},[n("p",{staticClass:"gl-line-height-normal gl-m-0"},[e._v(e._s(e.headerText))]),e._v(" "),e._t(e.slotName),e._v(" "),e.hasPopover?n("popover",{staticClass:"gl-ml-2 gl-display-inline-flex",attrs:{options:e.popoverOptions}}):e._e()],2),e._v(" "),e._t("sub-heading")],2),e._v(" "),e._t("action-buttons",null,{isCollapsible:e.isCollapsible}),e._v(" "),e.isCollapsible?n("gl-button",{staticClass:"js-collapse-btn",attrs:{"data-testid":"report-section-expand-button","data-qa-selector":"expand_report_button"},on:{click:e.toggleCollapsed}},[e._v("\n        "+e._s(e.collapseText)+"\n      ")]):e._e()],2)],1),e._v(" "),e.hasIssues?n("div",{directives:[{name:"show",rawName:"v-show",value:e.isExpanded,expression:"isExpanded"}],staticClass:"js-report-section-container"},[e._t("body",[n("issues-list",{class:e.issuesListContainerClass,attrs:{"unresolved-issues":e.unresolvedIssues,"resolved-issues":e.resolvedIssues,"neutral-issues":e.neutralIssues,component:e.component,"show-report-section-status-icon":e.showReportSectionStatusIcon,"issues-ul-element-class":e.issuesUlElementClass,"issue-item-class":e.issueItemClass}})])],2):e._e()])}),[],!1,null,null,null);t.a=h.exports},xk0s:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return c}));var i=n("/lV4");const r={Closed:"closed",Open:"opened",Reopened:"reopened"},s={[r.Closed]:Object(i.a)("Closed"),[r.Open]:Object(i.a)("Open"),[r.Reopened]:Object(i.a)("Open")},a={Issue:"issue",Epic:"epic",MergeRequest:"merge_request"},o={Close:"CLOSE",Reopen:"REOPEN"},l=Object(i.a)("Published on status page"),c=Object(i.a)("Join Zoom meeting")},yVak:function(e,t,n){var i=n("XII9");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("qic4").default)("68de9542",i,!0,{})},ydqu:function(e,t,n){"use strict";var i=n("LLbv"),r=n("FkSe"),s=n("99pJ"),a=n.n(s),o=n("XRO8"),l=n("hqF9"),c=n("/lV4"),u=n("8zNS"),d=n("2ibD");class f{constructor(e){this.endpoint=e}fetchData(){return d.a.get(this.endpoint)}}var h={directives:{GlTooltip:i.a},components:{ciIcon:u.a,GlLoadingIcon:r.a},props:{endpoint:{type:String,required:!0}},data:()=>({ciStatus:{},isLoading:!0}),computed:{statusTitle(){return Object(c.f)(Object(c.e)("PipelineStatusTooltip|Pipeline: %{ciStatus}"),{ciStatus:this.ciStatus.text})}},mounted(){this.service=new f(this.endpoint),this.initPolling()},beforeDestroy(){this.poll.stop()},methods:{successCallback(e){const{pipelines:t}=e.data;t.length>0&&(this.ciStatus=t[0].details.status),this.isLoading=!1},errorCallback(){this.ciStatus={text:Object(c.a)("not found"),icon:"status_notfound",group:"notfound"},this.isLoading=!1,Object(o.c)(Object(c.e)("Something went wrong on our end"))},initPolling(){var e=this;this.poll=new l.a({resource:this.service,method:"fetchData",successCallback:function(t){return e.successCallback(t)},errorCallback:this.errorCallback}),a.a.hidden()?this.fetchPipelineCommitData():(this.isLoading=!0,this.poll.makeRequest()),a.a.change((function(){a.a.hidden()?e.poll.stop():e.poll.restart()}))},fetchPipelineCommitData(){this.service.fetchData().then(this.successCallback).catch(this.errorCallback)}}},p=n("tBpV"),m=Object(p.a)(h,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"ci-status-link"},[this.isLoading?t("gl-loading-icon",{attrs:{size:"lg",label:"Loading pipeline status"}}):t("a",{attrs:{href:this.ciStatus.details_path}},[t("ci-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:this.statusTitle,"aria-label":this.statusTitle,status:this.ciStatus,size:24,"data-container":"body"}})],1)],1)}),[],!1,null,null,null);t.a=m.exports},yoDG:function(e,t,n){"use strict";var i=n("ZfjD"),r=n("PpKG"),s=n("sieV");i({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return s.apply(this,arguments)}})},ywIy:function(e,t,n){"use strict";var i=n("EmJ/"),r=n.n(i),s=n("/lV4"),a=n("tRCE"),o=n("0AwG");t.a={methods:{initAutoSave(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[Object(s.e)("Autosave|Note"),Object(o.b)(e.noteable_type||e.noteableType),e.id];t&&(n=n.concat(t)),this.autosave=new a.a(r()(this.$refs.noteForm.$refs.textarea),n)},resetAutoSave(){this.autosave.reset()},setAutoSave(){this.autosave.save()},disposeAutoSave(){this.autosave.dispose()}}}},z3Iu:function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));n("QifN"),n("orcL");var i=n("rc4H"),r=n.n(i);function s(e){return"new"===e?"+":"old"===e?"-":""}function a(e,t){var n;if(!e||!t||!e[t])return"";const{new_line:i,old_line:r,type:a}=e[t],o=a?null:null===(n=e["start"===t?"end":"start"])||void 0===n?void 0:n.type,l=a||"";let c=r;return"new"!==l&&"new"!==o||(c=i),c&&s(l)+c||""}function o(e){return a(e,"start")}function l(e){return a(e,"end")}function c(e){const t="string"==typeof e?e.charAt(0):s(null==e?void 0:e.type);return"+"!==t&&"-"!==t?"":["gl-px-1 gl-rounded-small gl-border-solid gl-border-1 gl-border-white",{"gl-bg-green-100 gl-text-green-800":"+"===t,"gl-bg-red-100 gl-text-red-800":"-"===t}]}function u(e,t,n){const i="left"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left")?"old_line":"new_line",a="new_line"===i?"old_line":"new_line",o=[...e],l=t.line_code,c=o.findIndex((function(e){return e.line_code===n})),u=o.slice(0,c+1),d=r()(u,(function(e){return"match"!==e.type}));return d.findIndex((function(e){return e.line_code===l}))<0&&d.unshift(t),d.map((function(e){const{line_code:t,type:n,old_line:r,new_line:o}=e;return{value:{line_code:t,type:n,old_line:r,new_line:o},text:"".concat(s(n)).concat(e[i]||e[a])}}))}function d(e,t){const n=function(e){let{line_code:t,type:n,old_line:i,new_line:r}=e;return{line_code:t,type:n,old_line:i,new_line:r}};return{start:n(e),end:n(t)}}function f(e,t){if(!e)return{startLine:t.length+1,endLine:t.length+1};const n=function(e){return function(t){var n,i;return[t.line_code,null===(n=t.left)||void 0===n?void 0:n.line_code,null===(i=t.right)||void 0===i?void 0:i.line_code].includes(e.line_code)}},{start:i,end:r}=e;return{startLine:t.findIndex(n(i)),endLine:t.findIndex(n(r))}}},"z9/d":function(e,t,n){var i=n("haxF"),r=n("uF7Z"),s=n("B0jI");e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:i(r(e))}},zFql:function(e,t,n){"use strict";n("jB52")},zKHu:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"issueDueDate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"issue"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dueDate"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:195}};n.loc.source={body:"query issueDueDate($fullPath: ID!, $iid: String) {\n  workspace: project(fullPath: $fullPath) {\n    __typename\n    issuable: issue(iid: $iid) {\n      __typename\n      id\n      dueDate\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.issueDueDate=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var s=i[t]||new Set,a=new Set,o=new Set;for(s.forEach((function(e){o.add(e)}));o.size>0;){var l=o;o=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){o.add(e)})))}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(n,"issueDueDate")},zPTW:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},zZPN:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getMrAssignees"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fullPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"iid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"fullPath"},value:{kind:"Variable",name:{kind:"Name",value:"fullPath"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"issuable"},name:{kind:"Name",value:"mergeRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"iid"},value:{kind:"Variable",name:{kind:"Name",value:"iid"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignees"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"User"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvailability"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:391}};i.loc.source={body:'#import "~/graphql_shared/fragments/user.fragment.graphql"\n#import "~/graphql_shared/fragments/user_availability.fragment.graphql"\n\nquery getMrAssignees($fullPath: ID!, $iid: String!) {\n  workspace: project(fullPath: $fullPath) {\n    issuable: mergeRequest(iid: $iid) {\n      id\n      assignees {\n        nodes {\n          ...User\n          ...UserAvailability\n        }\n      }\n    }\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function s(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))}i.definitions=i.definitions.concat(s(n("aBoS").definitions)),i.definitions=i.definitions.concat(s(n("6u3F").definitions));var a={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),a[e.name.value]=t}})),e.exports=i,e.exports.getMrAssignees=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,r=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){r.has(e)||(r.add(e),(a[e]||new Set).forEach((function(e){s.add(e)})))}))}return r.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"getMrAssignees")},zkom:function(e,t,n){"use strict";var i={name:"PlaceholderSystemNote",components:{TimelineEntryItem:n("OgyL").a},props:{note:{type:Object,required:!0}}},r=n("tBpV"),s=Object(r.a)(i,(function(){var e=this.$createElement,t=this._self._c||e;return t("timeline-entry-item",{staticClass:"note system-note being-posted fade-in-half"},[t("div",{staticClass:"timeline-content"},[t("em",[this._v(this._s(this.note.body))])])])}),[],!1,null,null,null);t.a=s.exports},zvOv:function(e,t,n){"use strict";function i(e){return e[0]}function r(e){return e[1]}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))}},[[176,1,0,6,2,3,4,5,7,9,10,11,12,13,14,16,15,17,18,21,22]]]);
//# sourceMappingURL=pages.projects.merge_requests.show.63e826ef.chunk.js.map