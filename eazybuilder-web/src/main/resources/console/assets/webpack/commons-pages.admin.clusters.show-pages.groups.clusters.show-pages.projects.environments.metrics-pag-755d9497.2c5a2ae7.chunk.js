(this.webpackJsonp=this.webpackJsonp||[]).push([[64,98,145],{"16r0":function(t,e,r){"use strict";var n=r("2FGo"),o=r.n(n),a=r("kPIO"),i=r("WkA6"),s=r("hXLA"),l=r("XBTk"),c=r("Qog8"),u=r("93Ww"),d=r("J7jM"),p=r("Gx1T"),h=r("sCiu"),f=r("Pyw5"),m=r.n(f);function g(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){g(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _=v(v({},a.s),{},{nameLocation:"center",axisTick:{show:!1}});const x={components:{Chart:p.a,ChartTooltip:h.a,TooltipDefaultFormat:d.a},mixins:[u.a],inheritAttrs:!1,props:{bars:{type:Array,required:!1,default:function(){return[]}},lines:{type:Array,required:!1,default:function(){return[]}},secondaryData:{type:Array,required:!1,default:function(){return[]}},option:{type:Object,required:!1,default:function(){return{}}},yAxisTitle:{type:String,required:!0},secondaryDataTitle:{type:String,required:!1,default:""},xAxisTitle:{type:String,required:!0},xAxisType:{type:String,required:!0,validator:function(t){return-1!==["value","category","time","log"].indexOf(t)}}},data:function(){return{chart:null,showTooltip:!1,tooltipTitle:"",tooltipContent:{},tooltipPosition:{left:"0",top:"0"},debouncedMoveShowTooltip:Object(c.b)(this.moveShowTooltip)}},computed:{hasSecondaryAxis:function(){return Boolean(this.secondaryData.length)},barSeries:function(){var t=this;return this.bars.map((function(e,r){var n=e.name,o=e.data,i=Object(s.a)(r);return Object(a.g)({stack:t.groupBy,name:n,data:o,color:i})}))},lineSeries:function(){var t=this.bars.length;return this.lines.map((function(e,r){var n=e.name,o=e.data,i=Object(s.a)(t+r);return Object(a.h)({name:n,data:o,color:i})}))},secondarySeries:function(){var t=this.bars.length+this.lines.length;return this.secondaryData.map((function(e,r){var n=e.name,o=e.data,c=e.type,u=e.stack,d=void 0===u?l.l.tiled:u,p=Object(s.a)(t+r);return c===i.e?Object(a.h)({color:p,name:n,data:o,yAxisIndex:1}):Object(a.g)({color:p,name:n,data:o,yAxisIndex:1,stack:d})}))},series:function(){return[].concat(y(this.barSeries),y(this.lineSeries),y(this.secondarySeries))},options:function(){var t=o()({},a.b,{grid:this.hasSecondaryAxis?a.m:a.l,xAxis:{boundaryGap:!0,axisLabel:{margin:20,verticalAlign:"bottom"},axisLine:{show:!1},axisPointer:{show:!0,type:"none",label:{formatter:this.onLabelChange}},name:this.xAxisTitle,type:this.xAxisType},yAxis:[v(v({},_),{},{name:this.yAxisTitle}),v(v({},_),{},{name:this.secondaryDataTitle,show:this.hasSecondaryAxis})],legend:{show:!1}},this.option,Object(a.a)(this.option.dataZoom),this.toolboxAdjustments);return Object(a.p)(t,this.series)}},beforeDestroy:function(){this.chart.getDom().removeEventListener("mousemove",this.debouncedMoveShowTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedMoveShowTooltip)},methods:{moveShowTooltip:function(t){this.tooltipPosition={left:"".concat(t.zrX+i.m,"px"),top:"".concat(t.zrY,"px")},this.showTooltip=this.chart.containPixel("grid",[t.zrX,t.zrY])},onCreated:function(t){t.getDom().addEventListener("mousemove",this.debouncedMoveShowTooltip),t.getDom().addEventListener("mouseout",this.debouncedMoveShowTooltip),this.chart=t,this.$emit("created",t)},onLabelChange:function(t){var e=Object(a.i)(t,this.yAxisTitle),r=e.xLabels,n=e.tooltipContent;this.$set(this,"tooltipContent",n),this.tooltipTitle=r.join(", ")}}};const w=m()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"position-relative"},[r("chart",t._g(t._b({attrs:{options:t.options},on:{created:t.onCreated}},"chart",t.$attrs,!1),t.$listeners)),t._v(" "),t.chart?r("chart-tooltip",{attrs:{show:t.showTooltip,chart:t.chart,top:t.tooltipPosition.top,left:t.tooltipPosition.left}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.tooltipTitle)+" ("+t._s(t.xAxisTitle)+")")]),t._v(" "),r("tooltip-default-format",{attrs:{"tooltip-content":t.tooltipContent}})],1):t._e()],1)},staticRenderFns:[]},void 0,x,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=w},"1fc5":function(t,e,r){"use strict";var n=r("0zRR"),o=r("/Szx"),a=r("lgrP"),i=r("t8l0");var s={vertical:{type:Boolean,default:!1},size:{type:String,default:function(){return Object(i.b)(n.g,"size")}},tag:{type:String,default:"div"},ariaRole:{type:String,default:"group"}},l=o.a.extend({name:n.i,functional:!0,props:s,render:function(t,e){var r,n,o,i=e.props,s=e.data,l=e.children;return t(i.tag,Object(a.a)(s,{class:(r={"btn-group":!i.vertical,"btn-group-vertical":i.vertical},n="btn-group-".concat(i.size),o=i.size,n in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r),attrs:{role:i.ariaRole}}),l)}}),c=r("Pyw5");const u={components:{BButtonGroup:l}};const d=r.n(c)()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-button-group",this._g(this._b({},"b-button-group",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},"3E1d":function(t,e,r){"use strict";var n=r("ZfjD"),o=r("Tx+D"),a=[].reverse,i=[1,2];n({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),a.call(this)}})},"4wRe":function(t,e,r){"use strict";var n=r("HVP3"),o=r("SGKy"),a=r("OQy4"),i=r("Pyw5"),s=r.n(i),l=n.a.options.model;const c={components:{BFormRadioGroup:n.a,GlFormRadio:a.a},mixins:[o.a],inheritAttrs:!1,model:l};const u=s()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form-radio-group",t._g(t._b({staticClass:"gl-form-checkbox-group",attrs:{stacked:""},on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},"b-form-radio-group",t.$attrs,!1),t.$listeners),[t._t("first"),t._v(" "),t._l(t.formOptions,(function(e,n){return r("gl-form-radio",{key:n,attrs:{value:e.value,disabled:e.disabled}},[e.html?r("span",{domProps:{innerHTML:t._s(e.html)}}):r("span",[t._v(t._s(e.text))])])})),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,c,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=u},"58fc":function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("FUyg"),s=r("ayhe"),l=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{some:function(t){var e=a(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0,3);return l(r,(function(t,r){if(n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},"5tFN":function(t,e,r){"use strict";r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return a}));const n="Escape",o="Enter",a="Backspace"},"62Hi":function(t,e){t.exports=function(t,e,r){var n;return r(t,(function(t,r,o){if(e(t,r,o))return n=r,!1})),n}},"7zBL":function(t,e,r){var n=r("/wvS").isFinite;t.exports=function(t){return"number"==typeof t&&n(t)}},"8Bzx":function(t,e,r){var n=r("NDsS");t.exports=function(t){return"number"==typeof t&&t==n(t)}},"8d6S":function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("FUyg"),s=r("ayhe"),l=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{every:function(t){var e=a(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0,3);return!l(r,(function(t,r){if(!n(t,t,e))return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},BwV9:function(t,e,r){"use strict";(function(t){var r=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var r=-1;return t.some((function(t,n){return t[0]===e&&(r=n,!0)})),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var r=t(this.__entries__,e),n=this.__entries__[r];return n&&n[1]},e.prototype.set=function(e,r){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=r:this.__entries__.push([e,r])},e.prototype.delete=function(e){var r=this.__entries__,n=t(r,e);~n&&r.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var r=0,n=this.__entries__;r<n.length;r++){var o=n[r];t.call(e,o[1],o[0])}},e}()}(),n="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},i=2;var s=20,l=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,u=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var r=!1,n=!1,o=0;function s(){r&&(r=!1,t()),n&&c()}function l(){a(s)}function c(){var t=Date.now();if(r){if(t-o<i)return;n=!0}else r=!0,n=!1,setTimeout(l,e);o=t}return c}(this.refresh.bind(this),s)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,r=e.indexOf(t);~r&&e.splice(r,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){n&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){n&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,r=void 0===e?"":e;l.some((function(t){return!!~r.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),d=function(t,e){for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},p=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||o},h=y(0,0,0,0);function f(t){return parseFloat(t)||0}function m(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce((function(e,r){return e+f(t["border-"+r+"-width"])}),0)}function g(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return h;var n=p(t).getComputedStyle(t),o=function(t){for(var e={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var o=n[r],a=t["padding-"+o];e[o]=f(a)}return e}(n),a=o.left+o.right,i=o.top+o.bottom,s=f(n.width),l=f(n.height);if("border-box"===n.boxSizing&&(Math.round(s+a)!==e&&(s-=m(n,"left","right")+a),Math.round(l+i)!==r&&(l-=m(n,"top","bottom")+i)),!function(t){return t===p(t).document.documentElement}(t)){var c=Math.round(s+a)-e,u=Math.round(l+i)-r;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return y(o.left,o.top,s,l)}var b="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof p(t).SVGGraphicsElement}:function(t){return t instanceof p(t).SVGElement&&"function"==typeof t.getBBox};function v(t){return n?b(t)?function(t){var e=t.getBBox();return y(0,0,e.width,e.height)}(t):g(t):h}function y(t,e,r,n){return{x:t,y:e,width:r,height:n}}var O=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=v(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),_=function(t,e){var r,n,o,a,i,s,l,c=(n=(r=e).x,o=r.y,a=r.width,i=r.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),d(l,{x:n,y:o,width:a,height:i,top:o,right:n+a,bottom:i+o,left:n}),l);d(this,{target:t,contentRect:c})},x=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new O(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof p(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new _(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),w="undefined"!=typeof WeakMap?new WeakMap:new r,j=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=u.getInstance(),n=new x(e,r,this);w.set(this,n)};["observe","unobserve","disconnect"].forEach((function(t){j.prototype[t]=function(){var e;return(e=w.get(this))[t].apply(e,arguments)}}));var S=void 0!==o.ResizeObserver?o.ResizeObserver:j;e.a=S}).call(this,r("uKge"))},F6ad:function(t,e,r){"use strict";var n=r("Q78f"),o=r("Pyw5"),a=r.n(o);const i={components:{BForm:n.a},inheritAttrs:!1};const s=a()({render:function(){var t=this.$createElement;return(this._self._c||t)("b-form",this._g(this._b({},"b-form",this.$attrs,!1),this.$listeners),[this._t("default")],2)},staticRenderFns:[]},void 0,i,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=s},GDOA:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("AgLN"),s=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{isDisjointFrom:function(t){var e=a(this),r=i(e.has);return!s(t,(function(t,n){if(!0===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}})},HCER:function(t,e,r){var n=r("4ips"),o=1/0;t.exports=function(t){return(null==t?0:t.length)?n(t,o):[]}},HVP3:function(t,e,r){"use strict";r.d(e,"a",(function(){return b}));var n=r("0zRR"),o=r("/Szx"),a=r("DXSV"),i=r("Vxxt"),s=r("SGKy"),l=r("6nFr"),c=r("NSGy"),u=r("EQ0+"),d=r("rPnh"),p=r("MUaa"),h=r("nq4Y"),f={mixins:[u.a],model:{prop:"checked",event:"input"},props:{validated:{type:Boolean,default:!1},ariaInvalid:{type:[Boolean,String],default:!1},stacked:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},buttons:{type:Boolean,default:!1},buttonVariant:{type:String,default:"secondary"}},computed:{inline:function(){return!this.stacked},groupName:function(){return this.name||this.safeId()},groupClasses:function(){return this.buttons?["btn-group-toggle",this.inline?"btn-group":"btn-group-vertical",this.size?"btn-group-".concat(this.size):"",this.validated?"was-validated":""]:[this.validated?"was-validated":""]},computedAriaInvalid:function(){var t=this.ariaInvalid;return!0===t||"true"===t||""===t?"true":!1===this.computedState?"true":null}},watch:{checked:function(t){Object(c.a)(t,this.localChecked)||(this.localChecked=t)},localChecked:function(t,e){Object(c.a)(t,e)||this.$emit("input",t)}},render:function(t){var e=this,r=this.formOptions.map((function(r,n){var o="BV_option_".concat(n);return t(e.isRadioGroup?h.a:p.a,{props:{id:e.safeId(o),value:r.value,disabled:r.disabled||!1},key:o},[t("span",{domProps:Object(d.a)(r.html,r.text)})])}));return t("div",{class:[this.groupClasses,"bv-no-focus-ring"],attrs:{id:this.safeId(),role:this.isRadioGroup?"radiogroup":"group",tabindex:"-1","aria-required":this.required?"true":null,"aria-invalid":this.computedAriaInvalid}},[this.normalizeSlot(l.e),r,this.normalizeSlot()])}},m=r("Tu1i"),g=r("QlUp"),b=o.a.extend({name:n.E,mixins:[a.a,i.a,f,s.a,m.a,g.a],provide:function(){return{bvRadioGroup:this}},props:{checked:{default:null}},data:function(){return{localChecked:this.checked}},computed:{isRadioGroup:function(){return!0}}})},IKCR:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("ayhe"),s=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{join:function(t){var e=a(this),r=i(e),n=void 0===t?",":String(t),o=[];return s(r,o.push,{that:o,IS_ITERATOR:!0}),o.join(n)}})},IYHS:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("FUyg"),s=r("ayhe"),l=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{find:function(t){var e=a(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0,3);return l(r,(function(t,r){if(n(t,t,e))return r(t)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},Lzak:function(t,e,r){"use strict";var n=r("0zRR"),o=r("/Szx"),a=r("lgrP"),i=r("t8l0"),s=r("7bmO"),l=r("ua/H"),c=r("U9NU"),u=r("1m+M");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var h=Object(s.k)(u.b,["event","routerTag"]);delete h.href.default,delete h.to.default;var f=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({tag:{type:String,default:"span"},variant:{type:String,default:function(){return Object(i.b)(n.c,"variant")}},pill:{type:Boolean,default:!1}},h),m=o.a.extend({name:n.c,functional:!0,props:f,render:function(t,e){var r=e.props,n=e.data,o=e.children,i=Object(c.d)(r),s=i?u.a:r.tag,d={staticClass:"badge",class:[r.variant?"badge-".concat(r.variant):"badge-secondary",{"badge-pill":r.pill,active:r.active,disabled:r.disabled}],props:i?Object(l.a)(h,r):{}};return t(s,Object(a.a)(n,d),o)}}),g=r("XBTk"),b=r("s1D3"),v=r("Pyw5"),y=r.n(v);const O={components:{BBadge:m,GlIcon:b.a},inheritAttrs:!1,props:{size:{type:String,default:g.h.md,validator:function(t){return void 0!==g.h[t]},required:!1},variant:{type:String,default:g.i.muted,validator:function(t){return void 0!==g.i[t]},required:!1},icon:{type:String,required:!1,default:null}},computed:{hasIconOnly:function(){return Boolean(this.icon&&0===Object.keys(this.$slots).length)},role:function(){return this.hasIconOnly?"img":void 0}}};const _=y()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-badge",t._b({class:["gl-badge",t.size],attrs:{variant:t.variant,role:t.role,pill:""}},"b-badge",t.$attrs,!1),[t.icon?r("gl-icon",{staticClass:"gl-badge-icon",class:{"gl-mr-2":!t.hasIconOnly},attrs:{name:t.icon}}):t._e(),t._v(" "),t._t("default")],2)},staticRenderFns:[]},void 0,O,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=_},MViX:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("eclS"),c=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{intersection:function(t){var e=i(this),r=new(l(e,a("Set"))),n=s(e.has),o=s(r.add);return c(t,(function(t){n.call(e,t)&&o.call(r,t)})),r}})},OQy4:function(t,e,r){"use strict";var n=r("nq4Y"),o=r("Pyw5"),a=r.n(o),i=n.a.options.model;const s={name:"GlFormRadio",components:{BFormRadio:n.a},inheritAttrs:!1,model:i};const l=a()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form-radio",t._g(t._b({staticClass:"gl-form-radio",on:{input:function(e){return t.$emit("input",e)},change:function(e){return t.$emit("change",e)}}},"b-form-radio",t.$attrs,!1),t.$listeners),[t._t("default"),t._v(" "),t.$scopedSlots.help?r("p",{staticClass:"help-text"},[t._t("help")],2):t._e()],2)},staticRenderFns:[]},void 0,s,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=l},Q78f:function(t,e,r){"use strict";r.d(e,"b",(function(){return i})),r.d(e,"a",(function(){return s}));var n=r("0zRR"),o=r("/Szx"),a=r("lgrP"),i={id:{type:String},inline:{type:Boolean,default:!1},novalidate:{type:Boolean,default:!1},validated:{type:Boolean,default:!1}},s=o.a.extend({name:n.w,functional:!0,props:i,render:function(t,e){var r=e.props,n=e.data,o=e.children;return t("form",Object(a.a)(n,{class:{"form-inline":r.inline,"was-validated":r.validated},attrs:{id:r.id,novalidate:r.novalidate}}),o)}})},Rhav:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("eclS"),c=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{symmetricDifference:function(t){var e=i(this),r=new(l(e,a("Set")))(e),n=s(r.delete),o=s(r.add);return c(t,(function(t){n.call(r,t)||o.call(r,t)})),r}})},RyA9:function(t,e,r){"use strict";r("QifN"),r("orcL"),r("pETN");var n=r("osXd"),o=r.n(n),a=r("yMGJ"),i=r.n(a),s=r("s1D3"),l=r("MV2A"),c=r("FkSe"),u=r("DZUU"),d=r("Yyc1"),p=r("wP8z"),h=r("koWC"),f=r("1cpz"),m=r("30su"),g=r("waGw"),b=r("XqDB"),v=r("LLbv"),y=r("yi8e"),O=r("GuZl"),_=r("BR6W"),x=r("kRJI"),w=r("3twG"),j=r("/lV4"),S=r("yA3Z"),P=r("R9PN");r("QzWB"),r("TXLM"),r("S26F"),r("Ag57"),r("GzNv");function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){T(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function T(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const k=function(t,e){return function(t,e){if(!t)return"";const r=e[t.toLowerCase().replace(" ","_")];return r?"".concat(t,": ").concat(r):""}(t,e)||function(t,e){return t?(Object.entries(e).map((function(e){let[r,n]=e;const o=new RegExp("{{\\s*".concat(r,"\\s*}}"),"g");t=t.replace(o,n)})),t):""}(t,e)||function(t){return Object.entries(t).map((function(t){let[e,r]=t;return"".concat(e,": ").concat(r)})).join(", ")}(e)||t},C=function(t,e){return t.map((function(t){return A(A({},e),{},{data:t.values,name:k(e.name,t.metric)})}))},M=function(t,e){return e.flatMap((function(e){let{label:r,result:n}=e;return n.map((function(e){let{metric:n}=e;return function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return"".concat(t," > ").concat(k(e,r))}(t,r,n)}))}))},E=function(t){const e="\r\n",{metrics:r=[],y_label:n}=t,o=r.filter((function(t){return t.result})),a=M(n,o),i=function(t){return t.flatMap((function(t){let{result:e}=t;return e.map((function(t){return t.values||[]}))}))}(o),{headers:s,rows:l}=function(t,e){const r={};e.forEach((function(t,e){t.forEach((function(t){let[n,o]=t;r[n]||(r[n]=[]),r[n][e]=o}))}));const n=Object.keys(r).sort().map((function(e){return r[e].length=t.length,[e,...r[e]]}));return{headers:["timestamp",...t.map((function(t){return'"'.concat(t.replace(/"/g,'""'),'"')}))],rows:n}}(a,i);return 0===l.length?"":s.join(",")+e+l.map((function(t){return t.join(",")})).join(e)+e};var L=r("1aG2"),I=(r("jaBk"),r("B42D")),R=r.n(I),q=r("R9Wj"),$=r.n(q),G=r("Lzak"),N=r("XRO8"),B=r("2ibD");function F(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}const U=function(t){let{runbook_url:e}=t;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?F(Object(r),!0).forEach((function(e){z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({runbookUrl:e},V(t,["runbook_url"]))};class H{constructor(t){let{alertsEndpoint:e}=t;this.alertsEndpoint=e}getAlerts(){return B.a.get(this.alertsEndpoint).then((function(t){return U(t.data)}))}createAlert(t){let{prometheus_metric_id:e,operator:r,threshold:n,runbookUrl:o}=t;return B.a.post(this.alertsEndpoint,{prometheus_metric_id:e,operator:r,threshold:n,runbook_url:o}).then((function(t){return U(t.data)}))}readAlert(t){return B.a.get(t).then((function(t){return U(t.data)}))}updateAlert(t,e){let{operator:r,threshold:n,runbookUrl:o}=e;return B.a.put(t,{operator:r,threshold:n,runbook_url:o}).then((function(t){return U(t.data)}))}deleteAlert(t){return B.a.delete(t).then((function(t){return t.data}))}}const Q=function(t){return!t||Object(w.o)(t)};function W(t){return Object.keys(t).every((function(e){const r=t[e];return r.alert_path&&e===r.alert_path&&r.metricId&&"string"==typeof r.metricId&&r.operator&&"number"==typeof r.threshold&&Q(r.runbookUrl)}))}function K(t){return t.every((function(t){return t.metricId&&"string"==typeof t.metricId&&"string"==typeof t.label}))}var Z=r("hJLR"),Y=r.n(Z),X=r("Q33P"),J=r.n(X),tt=r("4lAS"),et=r("1fc5"),rt=r("l5WF"),nt=r("PrLL"),ot=r("jB52"),at=r("sHIo"),it=r("0KyK");ot.default.use(it.a);const st={create:Object(j.a)("Add"),update:Object(j.a)("Save"),delete:Object(j.a)("Delete")},lt={create:"btn-success",update:"btn-success",delete:"btn-danger"};var ct={components:{GlButton:tt.a,GlButtonGroup:et.a,GlFormGroup:rt.a,GlFormInput:nt.a,GlDropdown:d.a,GlDropdownItem:p.a,GlModal:f.a,GlLink:l.a,GlIcon:s.a},directives:{GlTooltip:v.a,TrackEvent:S.a},mixins:[Object(at.a)()],props:{disabled:{type:Boolean,required:!0},errorMessage:{type:String,required:!1,default:""},configuredAlert:{type:String,required:!1,default:""},alertsToManage:{type:Object,required:!1,default:function(){return{}},validator:W},relevantQueries:{type:Array,required:!0,validator:K},modalId:{type:String,required:!0}},data:()=>({operators:P.c,operator:null,threshold:null,prometheusMetricId:null,runbookUrl:null,selectedAlert:{},alertQuery:""}),computed:{isValidQuery(){return!!this.alertQuery.length||null},currentQuery(){var t=this;return this.relevantQueries.find((function(e){return e.metricId===t.prometheusMetricId}))||{}},formDisabled(){return this.disabled||!(this.prometheusMetricId||this.isValidQuery)},supportsComputedAlerts(){return this.glFeatures.prometheusComputedAlerts},queryDropdownLabel(){return this.currentQuery.label||Object(j.e)("PrometheusAlerts|Select query")},haveValuesChanged(){return this.operator&&this.threshold===Number(this.threshold)&&(this.operator!==this.selectedAlert.operator||this.threshold!==this.selectedAlert.threshold||this.runbookUrl!==this.selectedAlert.runbookUrl)},submitAction(){return J()(this.selectedAlert)?"create":this.haveValuesChanged?"update":"delete"},submitActionText(){return st[this.submitAction]},submitButtonClass(){return lt[this.submitAction]},isSubmitDisabled(){return this.disabled||"create"===this.submitAction&&!this.haveValuesChanged},dropdownTitle(){return"create"===this.submitAction?Object(j.e)("PrometheusAlerts|Add alert"):Object(j.e)("PrometheusAlerts|Edit alert")}},watch:{alertsToManage(){this.resetAlertData()},submitAction(){this.$emit("setAction",this.submitAction)}},methods:{selectQuery(t){const e=Y()(this.alertsToManage,(function(e){return e.metricId===t})),r=this.alertsToManage[e];if(r){const{operator:t,threshold:e,runbookUrl:n}=r;this.selectedAlert=r,this.operator=t,this.threshold=e,this.runbookUrl=n}else this.selectedAlert={},this.operator=this.operators.greaterThan,this.threshold=null,this.runbookUrl=null;this.prometheusMetricId=t},handleHidden(){this.resetAlertData(),this.$emit("cancel")},handleSubmit(){this.$emit(this.submitAction,{alert:this.selectedAlert.alert_path,operator:this.operator,threshold:this.threshold,prometheus_metric_id:this.prometheusMetricId,runbookUrl:this.runbookUrl})},handleShown(){this.configuredAlert?this.selectQuery(this.configuredAlert):1===this.relevantQueries.length&&this.selectQuery(this.relevantQueries[0].metricId)},resetAlertData(){this.operator=null,this.threshold=null,this.prometheusMetricId=null,this.selectedAlert={},this.runbookUrl=null},getAlertFormActionTrackingOption(){const t="".concat(this.submitAction,"_alert");return{category:document.body.dataset.page,action:"click_button",label:t}}},alertQueryText:{label:Object(j.a)("Query"),validFeedback:Object(j.a)("Query is valid"),invalidFeedback:Object(j.a)("Invalid query"),descriptionTooltip:Object(j.a)("Example: Usage = single query. (Requested) / (Capacity) = multiple queries combined into a formula.")}},ut=r("tBpV");function dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(r),!0).forEach((function(e){ht(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ft={components:{AlertWidgetForm:Object(ut.a)(ct,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-modal",{ref:"alertModal",attrs:{title:t.dropdownTitle,"modal-id":t.modalId,"ok-variant":"delete"===t.submitAction?"danger":"success","ok-disabled":t.formDisabled},on:{ok:function(e){return e.preventDefault(),t.handleSubmit(e)},hidden:t.handleHidden,shown:t.handleShown},scopedSlots:t._u([{key:"modal-ok",fn:function(){return[r("gl-link",{directives:[{name:"track-event",rawName:"v-track-event",value:t.getAlertFormActionTrackingOption(),expression:"getAlertFormActionTrackingOption()"}],staticClass:"text-reset text-decoration-none"},[t._v("\n      "+t._s(t.submitActionText)+"\n    ")])]},proxy:!0}])},[t.errorMessage?r("div",{staticClass:"alert-modal-message danger_message"},[t._v(t._s(t.errorMessage))]):t._e(),t._v(" "),r("div",{staticClass:"alert-form"},[t.supportsComputedAlerts?r("gl-form-group",{attrs:{label:t.$options.alertQueryText.label,"label-for":"alert-query-input","valid-feedback":t.$options.alertQueryText.validFeedback,"invalid-feedback":t.$options.alertQueryText.invalidFeedback,state:t.isValidQuery},scopedSlots:t._u([{key:"description",fn:function(){return[r("div",{staticClass:"d-flex align-items-center"},[t._v("\n          "+t._s(t.__("Single or combined queries"))+"\n          "),r("gl-icon",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip",value:t.$options.alertQueryText.descriptionTooltip,expression:"$options.alertQueryText.descriptionTooltip"}],staticClass:"gl-ml-2",attrs:{name:"question"}})],1)]},proxy:!0}],null,!1,849297128)},[r("gl-form-input",{attrs:{id:"alert-query-input",state:t.isValidQuery},model:{value:t.alertQuery,callback:function(e){t.alertQuery="string"==typeof e?e.trim():e},expression:"alertQuery"}})],1):r("gl-form-group",{attrs:{"label-for":"alert-query-dropdown",label:t.$options.alertQueryText.label}},[r("gl-dropdown",{attrs:{id:"alert-query-dropdown",text:t.queryDropdownLabel,"toggle-class":"dropdown-menu-toggle gl-border-1! qa-alert-query-dropdown"}},t._l(t.relevantQueries,(function(e){return r("gl-dropdown-item",{key:e.metricId,attrs:{"data-qa-selector":"alert_query_option"},on:{click:function(r){return t.selectQuery(e.metricId)}}},[t._v("\n          "+t._s(e.label)+"\n        ")])})),1)],1),t._v(" "),r("gl-button-group",{staticClass:"mb-3",attrs:{label:t.s__("PrometheusAlerts|Operator")}},[r("gl-button",{class:{active:t.operator===t.operators.greaterThan},attrs:{disabled:t.formDisabled},on:{click:function(e){t.operator=t.operators.greaterThan}}},[t._v("\n        "+t._s(t.operators.greaterThan)+"\n      ")]),t._v(" "),r("gl-button",{class:{active:t.operator===t.operators.equalTo},attrs:{disabled:t.formDisabled},on:{click:function(e){t.operator=t.operators.equalTo}}},[t._v("\n        "+t._s(t.operators.equalTo)+"\n      ")]),t._v(" "),r("gl-button",{class:{active:t.operator===t.operators.lessThan},attrs:{disabled:t.formDisabled},on:{click:function(e){t.operator=t.operators.lessThan}}},[t._v("\n        "+t._s(t.operators.lessThan)+"\n      ")])],1),t._v(" "),r("gl-form-group",{attrs:{label:t.s__("PrometheusAlerts|Threshold"),"label-for":"alerts-threshold"}},[r("gl-form-input",{attrs:{id:"alerts-threshold",disabled:t.formDisabled,type:"number","data-qa-selector":"alert_threshold_field"},model:{value:t.threshold,callback:function(e){t.threshold=t._n(e)},expression:"threshold"}})],1),t._v(" "),r("gl-form-group",{attrs:{label:t.s__("PrometheusAlerts|Runbook URL (optional)"),"label-for":"alert-runbook"}},[r("gl-form-input",{attrs:{id:"alert-runbook",disabled:t.formDisabled,"data-testid":"alertRunbookField",type:"text",placeholder:t.s__("PrometheusAlerts|https://gitlab.com/gitlab-com/runbooks")},model:{value:t.runbookUrl,callback:function(e){t.runbookUrl=e},expression:"runbookUrl"}})],1)],1)])}),[],!1,null,null,null).exports,GlBadge:G.a,GlLoadingIcon:c.a,GlIcon:s.a,GlTooltip:u.a,GlSprintf:m.a},directives:{GlModal:b.a},props:{alertsEndpoint:{type:String,required:!0},showLoadingState:{type:Boolean,required:!1,default:!0},alertsToManage:{type:Object,required:!1,default:function(){return{}},validator:W},relevantQueries:{type:Array,required:!0,validator:K},modalId:{type:String,required:!0}},data:()=>({service:null,errorMessage:null,isLoading:!1,apiAction:"create"}),i18n:{alertsCountMsg:Object(j.e)("PrometheusAlerts|%{count} alerts applied"),singleFiringMsg:Object(j.e)("PrometheusAlerts|Firing: %{alert}"),multipleFiringMsg:Object(j.e)("PrometheusAlerts|%{firingCount} firing"),firingAlertsTooltip:Object(j.e)("PrometheusAlerts|Firing: %{alerts}")},computed:{singleAlertSummary(){return{message:this.isFiring?this.$options.i18n.singleFiringMsg:this.thresholds[0],alert:this.thresholds[0]}},multipleAlertsSummary(){return{message:this.isFiring?"".concat(this.$options.i18n.alertsCountMsg,", ").concat(this.$options.i18n.multipleFiringMsg):this.$options.i18n.alertsCountMsg,count:this.thresholds.length,firingCount:this.firingAlerts.length}},shouldShowLoadingIcon(){return this.showLoadingState&&this.isLoading},thresholds(){return Object.keys(this.alertsToManage).map(this.formatAlertSummary)},hasAlerts(){return Boolean(Object.keys(this.alertsToManage).length)},hasMultipleAlerts(){return this.thresholds.length>1},isFiring(){return Boolean(this.firingAlerts.length)},firingAlerts(){var t=this;return $()(this.alertsToManage).filter((function(e){return t.passedAlertThreshold(t.getQueryData(e),e)}))},formattedFiringAlerts(){var t=this;return this.firingAlerts.map((function(e){return t.formatAlertSummary(e.alert_path)}))},configuredAlert(){return this.hasAlerts?$()(this.alertsToManage)[0].metricId:""}},created(){this.service=new H({alertsEndpoint:this.alertsEndpoint}),this.fetchAlertData()},methods:{fetchAlertData(){var t=this;this.isLoading=!0;const e=this.relevantQueries.filter((function(t){return t.alert_path}));return Promise.all(e.map((function(e){return t.service.readAlert(e.alert_path).then((function(r){return t.setAlert(r,e.metricId)}))}))).then((function(){t.isLoading=!1})).catch((function(){Object(N.c)(Object(j.e)("PrometheusAlerts|Error fetching alert")),t.isLoading=!1}))},setAlert(t,e){this.$emit("setAlerts",t.alert_path,pt(pt({},t),{},{metricId:e}))},removeAlert(t){this.$emit("setAlerts",t,null)},formatAlertSummary(t){const e=this.alertsToManage[t],r=this.relevantQueries.find((function(t){return t.metricId===e.metricId}));return"".concat(r.label," ").concat(e.operator," ").concat(e.threshold)},passedAlertThreshold(t,e){const{threshold:r,operator:n}=e;switch(n){case P.c.greaterThan:return t.some((function(t){return t>r}));case P.c.lessThan:return t.some((function(t){return t<r}));case P.c.equalTo:return t.some((function(t){return t===r}));default:return!1}},getQueryData(t){const e=this.relevantQueries.find((function(e){return e.metricId===t.metricId}));return R()(e,"result[0].values",[]).map((function(t){return R()(t,"[1]",null)}))},showModal(){this.$root.$emit(O.c,this.modalId)},hideModal(){this.errorMessage=null,this.$root.$emit(O.a,this.modalId)},handleSetApiAction(t){this.apiAction=t},handleCreate(t){var e=this;let{operator:r,threshold:n,prometheus_metric_id:o,runbookUrl:a}=t;const i={operator:r,threshold:n,prometheus_metric_id:o,runbookUrl:a};this.isLoading=!0,this.service.createAlert(i).then((function(t){e.setAlert(t,o),e.isLoading=!1,e.hideModal()})).catch((function(){e.errorMessage=Object(j.e)("PrometheusAlerts|Error creating alert"),e.isLoading=!1}))},handleUpdate(t){var e=this;let{alert:r,operator:n,threshold:o,runbookUrl:a}=t;const i={operator:n,threshold:o,runbookUrl:a};this.isLoading=!0,this.service.updateAlert(r,i).then((function(t){e.setAlert(t,e.alertsToManage[r].metricId),e.isLoading=!1,e.hideModal()})).catch((function(){e.errorMessage=Object(j.e)("PrometheusAlerts|Error saving alert"),e.isLoading=!1}))},handleDelete(t){var e=this;let{alert:r}=t;this.isLoading=!0,this.service.deleteAlert(r).then((function(){e.removeAlert(r),e.isLoading=!1,e.hideModal()})).catch((function(){e.errorMessage=Object(j.e)("PrometheusAlerts|Error deleting alert"),e.isLoading=!1}))}}},mt=Object(ut.a)(ft,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"prometheus-alert-widget dropdown flex-grow-2 overflow-hidden"},[t.shouldShowLoadingIcon?r("gl-loading-icon",{attrs:{inline:!0}}):t.errorMessage?r("span",{ref:"alertErrorMessage",staticClass:"alert-error-message"},[t._v(t._s(t.errorMessage))]):t.hasAlerts?r("span",{ref:"alertCurrentSetting",staticClass:"alert-current-setting cursor-pointer d-flex",on:{click:t.showModal}},[r("gl-badge",{staticClass:"d-flex-center text-truncate",attrs:{variant:t.isFiring?"danger":"neutral"}},[r("gl-icon",{staticClass:"flex-shrink-0",attrs:{name:"warning",size:16}}),t._v(" "),r("span",{staticClass:"text-truncate gl-pl-2"},[r("gl-sprintf",{attrs:{message:t.hasMultipleAlerts?t.multipleAlertsSummary.message:t.singleAlertSummary.message},scopedSlots:t._u([{key:"alert",fn:function(){return[t._v("\n            "+t._s(t.singleAlertSummary.alert)+"\n          ")]},proxy:!0},{key:"count",fn:function(){return[t._v("\n            "+t._s(t.multipleAlertsSummary.count)+"\n          ")]},proxy:!0},{key:"firingCount",fn:function(){return[t._v("\n            "+t._s(t.multipleAlertsSummary.firingCount)+"\n          ")]},proxy:!0}])})],1)],1),t._v(" "),t.hasMultipleAlerts&&t.isFiring?r("gl-tooltip",{attrs:{target:function(){return t.$refs.alertCurrentSetting}}},[r("gl-sprintf",{attrs:{message:t.$options.i18n.firingAlertsTooltip},scopedSlots:t._u([{key:"alerts",fn:function(){return t._l(t.formattedFiringAlerts,(function(e){return r("div",{key:e.alert_path},[t._v("\n            "+t._s(e)+"\n          ")])}))},proxy:!0}],null,!1,2717757754)})],1):t._e()],1):t._e(),t._v(" "),r("alert-widget-form",{ref:"widgetForm",attrs:{disabled:t.isLoading,"alerts-to-manage":t.alertsToManage,"relevant-queries":t.relevantQueries,"error-message":t.errorMessage,"configured-alert":t.configuredAlert,"modal-id":t.modalId},on:{create:t.handleCreate,update:t.handleUpdate,delete:t.handleDelete,cancel:t.hideModal,setAction:t.handleSetApiAction}})],1)}),[],!1,null,null,null).exports,gt=(r("MoW5"),r("6npM")),bt=r.n(gt),vt=r("HCER"),yt=r.n(vt),Ot=r("tu2K"),_t=r("b9Gi"),xt=r("JTkt"),wt=r("NmEs"),jt=r("h7kv"),St=r.n(jt),Pt=r("r7AW"),Dt=r.n(Pt),At=r("mlng"),Tt=r("8gQS"),kt=r("bO+A"),Ct=r("DJiL");r("z4I3");const Mt=0,Et=3,Lt={show:!1,min:Mt,max:100,axisLabel:{formatter:function(){}}},It=function(t){return t.reduce((function(t,e){return t.lines.push({xAxis:e.startingAt,lineStyle:{color:P.l.primaryColor}}),t.points.push({name:"annotations",xAxis:e.startingAt,yAxis:Mt,tooltipData:{title:e.startingAt,content:e.description}}),t}),{lines:[],points:[]})};var Rt=r("lVi8"),qt=r.n(Rt),$t=r("TKCn"),Gt=r.n($t),Nt=r("d+lS"),Bt=r.n(Nt),Ft=r("7zBL"),zt=r.n(Ft),Vt=r("gnBj");function Ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(r),!0).forEach((function(e){Qt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const Wt=[.1,.1],Kt=Vt.a.engineering,Zt=Kt,Yt=2,Xt=Kt,Jt=3,te=63,ee=10,re=te-12,ne="category",oe="time",ae=function(t){let{format:e,precision:r,name:n}=t;const o=Object(Vt.b)(e);return{name:n,nameLocation:"center",scale:!0,axisLabel:{formatter:function(t){return o(t,r,8)}}}},ie=function(){let{name:t=Object(j.e)("Metrics|Values"),format:e=Zt,precision:r=Yt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ht({nameGap:re,scale:!0,boundaryGap:Wt},ae({name:t,format:e,precision:r}))},se=function(){let{timezone:t=Ct.c.LOCAL,format:e=Ct.b.shortDateTime}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:Object(j.a)("Time"),type:oe,axisLabel:{formatter:function(r){return Object(Ct.a)(r,{format:e,timezone:t})}},axisPointer:{snap:!1}}},le=function(){let{left:t=te,right:e=ee}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{left:t,right:e}};function ce(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ue(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ce(Object(r),!0).forEach((function(e){de(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function de(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const pe=function(t){return new Date(t).toISOString()},he="datazoom";var fe={components:{GlAreaChart:At.a,GlLineChart:Tt.a,GlTooltip:u.a,GlChartSeriesLabel:Ot.a,GlLink:l.a,GlIcon:s.a},directives:{GlResizeObserverDirective:g.a},inheritAttrs:!1,props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!1)},option:{type:Object,required:!1,default:function(){return{}}},timeRange:{type:Object,required:!1,default:function(){return{}}},seriesConfig:{type:Object,required:!1,default:function(){return{}}},deploymentData:{type:Array,required:!1,default:function(){return[]}},annotations:{type:Array,required:!1,default:function(){return[]}},projectPath:{type:String,required:!1,default:""},height:{type:Number,required:!1,default:P.k},thresholds:{type:Array,required:!1,default:function(){return[]}},legendLayout:{type:String,required:!1,default:P.r.table},legendAverageText:{type:String,required:!1,default:Object(j.e)("Metrics|Avg")},legendCurrentText:{type:String,required:!1,default:Object(j.e)("Metrics|Current")},legendMaxText:{type:String,required:!1,default:Object(j.e)("Metrics|Max")},legendMinText:{type:String,required:!1,default:Object(j.e)("Metrics|Min")},groupId:{type:String,required:!1,default:""},timezone:{type:String,required:!1,default:Ct.c.LOCAL}},data:()=>({tooltip:{type:"",title:"",content:[],commitUrl:"",sha:""},width:0,svgs:{},primaryColor:null,throttledDatazoom:null}),computed:{chartData(){var t=this;return this.graphData.metrics.reduce((function(e,r){const{appearance:n}=r,o=n&&n.line&&n.line.type?n.line.type:P.s.default,a=n&&n.line&&n.line.width?n.line.width:P.t.default,i={opacity:n&&n.area&&"number"==typeof n.area.opacity?n.area.opacity:void 0},s=C(r.result||[],ue({name:t.formatLegendLabel(r),lineStyle:{type:o,width:a},showSymbol:!1,areaStyle:"area-chart"===t.graphData.type?i:void 0},t.seriesConfig));return e.concat(s)}),[])},chartOptionSeries(){return(this.option.series||[]).concat(function(){let{deployments:t=[],annotations:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.map((function(t){return{name:"deployments",value:[t.createdAt,Et],symbol:t.icon,symbolSize:P.y.default,itemStyle:{color:t.color},tooltipData:{sha:t.sha.substring(0,8),commitUrl:t.commitUrl}}})),n=It(e),o={symbol:"none",silent:!0,data:n.lines},a={symbol:P.i,symbolSize:"8",symbolOffset:[0," 60%"],data:n.points};return{name:"annotations",type:P.o.annotationsData,yAxisIndex:1,data:r,markLine:o,markPoint:a}}({deployments:this.recentDeployments,annotations:this.annotations}))},chartOptions(){const{yAxis:t,xAxis:e}=this.option,r=Dt()(this.option,["series","yAxis","xAxis"]),n=J()(this.timeRange)?{}:{min:this.timeRange.start,max:this.timeRange.end},o=ue(ue(ue({},se({timezone:this.timezone})),e),n),a=ue(ue({},ie(this.graphData.yAxis)),t);return ue({series:this.chartOptionSeries,xAxis:o,yAxis:[a,Lt],grid:le(),dataZoom:[this.dataZoomConfig]},r)},dataZoomConfig(){const t=this.svgs["scroll-handle"];return t?{handleIcon:t}:{}},earliestDatapoint(){return this.chartData.reduce((function(t,e){const{data:r}=e,{length:n}=r;if(!n)return t;const[o]=r[0],[a]=r[n-1],i=o<a?o:a;return i<t||null===t?i:t}),null)},glChartComponent(){return{[P.w.AREA_CHART]:At.a,[P.w.LINE_CHART]:Tt.a}[this.graphData.type]||At.a},isMultiSeries(){return this.tooltip.content.length>1},recentDeployments(){var t=this;return this.deploymentData.reduce((function(e,r){if(r.created_at>=t.earliestDatapoint){const{id:n,created_at:o,sha:a,ref:i,tag:s}=r;e.push({id:n,createdAt:o,sha:a,commitUrl:"".concat(t.projectPath,"/-/commit/").concat(a),tag:s,tagUrl:s?"".concat(t.tagsPath,"/").concat(i.name):null,ref:i.name,showDeploymentFlag:!1,icon:t.svgs.rocket,color:t.primaryColor})}return e}),[])},tooltipYFormatter(){var t;return function(){let{format:t=Xt,precision:e=Jt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Object(Vt.b)(t);return function(t){return r(t,e)}}({format:null===(t=this.graphData.yAxis)||void 0===t?void 0:t.format})}},created(){this.setSvg("rocket"),this.setSvg("scroll-handle")},destroyed(){this.throttledDatazoom&&this.throttledDatazoom.cancel()},methods:{formatLegendLabel:t=>t.label,isTooltipOfType:(t,e)=>t===e,formatAnnotationsTooltipText(t){var e,r,n,o;return{title:Object(Ct.a)(null===(e=t.data)||void 0===e?void 0:null===(r=e.tooltipData)||void 0===r?void 0:r.title,{timezone:this.timezone}),content:null===(n=t.data)||void 0===n?void 0:null===(o=n.tooltipData)||void 0===o?void 0:o.content}},formatTooltipText(t){var e=this;this.tooltip.title=Object(Ct.a)(t.value,{timezone:this.timezone}),this.tooltip.content=[],t.seriesData.forEach((function(t){if(t.value){const[,o]=t.value;if(e.tooltip.type=t.name,"deployments"===e.tooltip.type){var r,n;const{data:o={}}=t;e.tooltip.sha=null==o?void 0:null===(r=o.tooltipData)||void 0===r?void 0:r.sha,e.tooltip.commitUrl=null==o?void 0:null===(n=o.tooltipData)||void 0===n?void 0:n.commitUrl}else{const{seriesName:r,color:n,dataIndex:a}=t;e.tooltip.content.push({name:r,dataIndex:a,value:e.tooltipYFormatter(o),color:n})}}}))},setSvg(t){var e=this;Object(kt.a)(t).then((function(r){r&&e.$set(e.svgs,t,"path://".concat(r))})).catch((function(t){console.error("SVG could not be rendered correctly: ",t)}))},onChartUpdated(t){[this.primaryColor]=t.getOption().color},onChartCreated(t){var e=this;this.throttledDatazoom&&this.throttledDatazoom.cancel(),this.throttledDatazoom=St()((function(){const{startValue:r,endValue:n}=t.getOption().dataZoom[0];e.$emit(he,{start:pe(r),end:pe(n)})}),1e3,{leading:!1}),t.off("datazoom"),t.on("datazoom",this.throttledDatazoom)},onResize(){if(!this.$refs.chart)return;const{width:t}=this.$refs.chart.$el.getBoundingClientRect();this.width=t}}},me=Object(ut.a)(fe,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r(t.glChartComponent,t._b({ref:"chart",tag:"component",attrs:{"group-id":t.groupId,data:t.chartData,option:t.chartOptions,"format-tooltip-text":t.formatTooltipText,"format-annotations-tooltip-text":t.formatAnnotationsTooltipText,thresholds:t.thresholds,width:t.width,height:t.height,"legend-layout":t.legendLayout,"legend-average-text":t.legendAverageText,"legend-current-text":t.legendCurrentText,"legend-max-text":t.legendMaxText,"legend-min-text":t.legendMinText},on:{created:t.onChartCreated,updated:t.onChartUpdated}},"component",t.$attrs,!1),["deployments"===t.tooltip.type?[r("template",{slot:"tooltip-title"},[t._v("\n        "+t._s(t.__("Deployed"))+"\n      ")]),t._v(" "),r("div",{staticClass:"d-flex align-items-center",attrs:{slot:"tooltip-content"},slot:"tooltip-content"},[r("gl-icon",{staticClass:"mr-2",attrs:{name:"commit"}}),t._v(" "),r("gl-link",{attrs:{href:t.tooltip.commitUrl}},[t._v(t._s(t.tooltip.sha))])],1)]:[r("template",{slot:"tooltip-title"},[r("div",{staticClass:"text-nowrap"},[t._v("\n          "+t._s(t.tooltip.title)+"\n        ")])]),t._v(" "),r("template",{attrs:{tooltip:t.tooltip},slot:"tooltip-content"},t._l(t.tooltip.content,(function(e,n){return r("div",{key:n,staticClass:"d-flex justify-content-between"},[r("gl-chart-series-label",{attrs:{color:t.isMultiSeries?e.color:""}},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),r("div",{staticClass:"gl-ml-7"},[t._v("\n            "+t._s(e.value)+"\n          ")])],1)})),0)]],2)],1)}),[],!1,null,null,null).exports;function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(r),!0).forEach((function(e){ve(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ve(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ye=P.l.anomalyAreaColor,Oe=P.j.default,_e="rgba(".concat(Object(xt.b)(ye).join(","),",").concat(Oe,")");var xe={components:{GlChartSeriesLabel:Ot.a,MonitorTimeSeriesChart:me},inheritAttrs:!1,props:{graphData:{type:Object,required:!0,validator:L.g}},computed:{series(){return this.graphData.metrics.map((function(t){const e=t.result&&t.result[0]?t.result[0].values:[];return{label:t.label,data:e.filter((function(t){let[,e]=t;return!Number.isNaN(e)}))}}))},yOffset(){const t=yt()(this.series.map((function(t){return t.data.map((function(t){let[,e]=t;return e}))}))),e=t.length?Math.floor(Math.min(...t)):0;return e<0?-e:0},metricData(){var t=this;const e=this.graphData.metrics[0],r=Object(_t.a)(e,(function(e){e.result[0].values=e.result[0].values.map((function(e){let[r,n]=e;return[r,n+t.yOffset]}))}));return be(be({},this.graphData),{},{type:P.w.LINE_CHART,metrics:[r]})},metricSeriesConfig(){var t=this;return{type:"line",symbol:"circle",symbolSize:function(e,r){return t.isDatapointAnomaly(r.dataIndex)?P.y.anomaly:.001},showSymbol:!0,itemStyle:{color:function(e){return t.isDatapointAnomaly(e.dataIndex)?P.l.anomalySymbol:P.l.primaryColor}}}},chartOptions(){var t=this;const[,e,r]=this.series,n=function(t,e){return t.map((function(t,r){const[n,o]=t;return[n,o+e(r)]}))},o={axisLabel:{formatter:function(e){return Object(wt.O)(e-t.yOffset,3).toString()}}},a=[];return e.data.length&&r.data.length&&(a.push(this.makeBoundarySeries({name:this.formatLegendLabel(r),data:n(r.data,(function(){return t.yOffset}))})),a.push(this.makeBoundarySeries({name:this.formatLegendLabel(e),data:n(e.data,(function(e){return-t.yValue(2,e)})),areaStyle:{color:ye,opacity:Oe}}))),{yAxis:o,series:a}}},methods:{formatLegendLabel:t=>t.label,yValue(t,e){const r=this.series[t].data[e];return r&&r[1]},yValueFormatted(t,e){const r=this.yValue(t,e);return bt()(r)?r.toFixed(3):""},isDatapointAnomaly(t){const e=this.yValue(0,t),r=this.yValue(1,t),n=this.yValue(2,t);return bt()(r)&&e>r||bt()(n)&&e<n},makeBoundarySeries:t=>be({type:"line",stack:"anomaly-boundary-series-stack",lineStyle:{width:0,color:_e},color:_e,symbol:"none"},t)}},we=Object(ut.a)(xe,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("monitor-time-series-chart",t._b({attrs:{"graph-data":t.metricData,option:t.chartOptions,"series-config":t.metricSeriesConfig},scopedSlots:t._u([{key:"tooltip-content",fn:function(e){return t._l(e.tooltip.content,(function(e,n){return r("div",{key:n,staticClass:"d-flex justify-content-between"},[r("gl-chart-series-label",{attrs:{color:e.color}},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),r("div",{staticClass:"gl-ml-7"},[t._v("\n        "+t._s(t.yValueFormatted(n,e.dataIndex))+"\n      ")])],1)}))}}])},"monitor-time-series-chart",t.$attrs,!1),[t._t("default")],2)}),[],!1,null,null,null).exports,je=r("2FGo"),Se=r.n(je),Pe=r("SQMQ"),De=r.n(Pe),Ae=r("kPIO"),Te=r("WkA6"),ke=r("hXLA"),Ce=r("/CIc"),Me=r("Qog8"),Ee=r("93Ww"),Le=r("J7jM"),Ie=r("Gx1T"),Re=r("sCiu"),qe=r("Pyw5"),$e=r.n(qe);function Ge(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ne(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ne(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Be={grid:Ae.l,xAxis:{nameLocation:"center",axisLabel:{formatter:function(t){return Object(Ce.b)(t,2)}}},yAxis:{nameGap:50,boundaryGap:!0,nameLocation:"center",splitLine:{show:!1},axisLabel:{interval:0,formatter:function(t){return De()(t,{length:7,separator:"..."})}}}};const Fe={components:{Chart:Ie.a,ChartTooltip:Re.a,TooltipDefaultFormat:Le.a},mixins:[Ee.a],inheritAttrs:!1,props:{data:{type:Object,required:!0},option:{type:Object,required:!1,default:function(){return{}}},yAxisTitle:{type:String,required:!0},xAxisTitle:{type:String,required:!0},xAxisType:{type:String,required:!1,default:"value"}},data:function(){return{chart:null,showTooltip:!1,tooltipTitle:"",tooltipContent:{},tooltipPosition:{left:"0",top:"0"},debouncedMoveShowTooltip:Object(Me.b)(this.moveShowTooltip)}},computed:{series:function(){var t=this;return Object.keys(this.data).map((function(e,r){var n=Object(ke.a)(r);return{name:e,data:t.data[e],type:"bar",stack:"chart",itemStyle:{color:Object(Me.d)(n,.2),barBorderColor:n,barBorderWidth:1},emphasis:{itemStyle:{color:Object(Me.d)(n,.4)}},barMaxWidth:"50%"}}))},options:function(){var t=Se()({},Be,{xAxis:{axisLine:{show:!1},name:this.xAxisTitle,type:this.xAxisType},yAxis:{name:this.yAxisTitle,type:"category",axisTick:{show:!0},axisPointer:{show:!0,type:"none",label:{formatter:this.onLabelChange}}},legend:{show:!1}},this.option,Object(Ae.a)(this.option.dataZoom),this.toolboxAdjustments);return Object(Ae.p)(t,this.series)}},beforeDestroy:function(){this.chart&&(this.chart.getDom().removeEventListener("mousemove",this.debouncedMoveShowTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedMoveShowTooltip))},methods:{moveShowTooltip:function(t){this.tooltipPosition={left:"".concat(t.zrX+Te.m,"px"),top:"".concat(t.zrY,"px")},this.showTooltip=this.chart.containPixel("grid",[t.zrX,t.zrY])},onCreated:function(t){this.chart=t,this.$emit("created",t),t.getDom().addEventListener("mousemove",this.debouncedMoveShowTooltip),t.getDom().addEventListener("mouseout",this.debouncedMoveShowTooltip)},onLabelChange:function(t){var e=this.getDefaultTooltipContent(t,this.xAxisTitle),r=e.yLabels,n=e.tooltipContent;this.$set(this,"tooltipContent",n),this.tooltipTitle=r.join(", ")},getDefaultTooltipContent:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.seriesData.length,n=t.seriesData.reduce((function(t,n){var o=Ge(n.value||[],2),a=o[0],i=o[1],s=1===r&&e?e:n.seriesName,l=1===r?"":n.color;return t.tooltipContent[s]={value:a,color:l},t.yLabels.includes(i)||t.yLabels.push(i),t}),{yLabels:[],tooltipContent:{}}),o=n.yLabels,a=n.tooltipContent;return{yLabels:o,tooltipContent:a}}}};var ze={components:{GlBarChart:$e()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"position-relative"},[r("chart",t._g(t._b({attrs:{options:t.options},on:{created:t.onCreated}},"chart",t.$attrs,!1),t.$listeners)),t._v(" "),t.chart?r("chart-tooltip",{attrs:{show:t.showTooltip,chart:t.chart,top:t.tooltipPosition.top,left:t.tooltipPosition.left}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.tooltipTitle)+" ("+t._s(t.yAxisTitle)+")")]),t._v(" "),r("tooltip-default-format",{attrs:{"tooltip-content":t.tooltipContent}})],1):t._e()],1)},staticRenderFns:[]},void 0,Fe,void 0,!1,void 0,!1,void 0,void 0,void 0)},directives:{GlResizeObserverDirective:g.a},props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!1)}},data:()=>({width:0,height:P.k,svgs:{}}),computed:{chartData(){return Object(L.a)(this.graphData.metrics)},chartOptions(){return{dataZoom:[this.dataZoomConfig]}},xAxisTitle(){const{xLabel:t=""}=this.graphData;return t},yAxisTitle(){const{y_label:t=""}=this.graphData;return t},xAxisType(){const{x_type:t="value"}=this.graphData;return t},dataZoomConfig(){const t=this.svgs["scroll-handle"];return t?{handleIcon:t}:{}}},created(){this.setSvg("scroll-handle")},methods:{formatLegendLabel:t=>t.label,onResize(){if(!this.$refs.barChart)return;const{width:t}=this.$refs.barChart.$el.getBoundingClientRect();this.width=t},setSvg(t){var e=this;Object(kt.a)(t).then((function(r){r&&e.$set(e.svgs,t,"path://".concat(r))})).catch((function(t){console.error("SVG could not be rendered correctly: ",t)}))}}},Ve=Object(ut.a)(ze,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r("gl-bar-chart",t._b({ref:"barChart",attrs:{data:t.chartData,option:t.chartOptions,width:t.width,height:t.height,"x-axis-title":t.xAxisTitle,"y-axis-title":t.yAxisTitle,"x-axis-type":t.xAxisType}},"gl-bar-chart",t.$attrs,!1))],1)}),[],!1,null,null,null).exports;function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach((function(e){Qe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var We={components:{GlColumnChart:r("16r0").a},directives:{GlResizeObserverDirective:g.a},props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!1)},timezone:{type:String,required:!1,default:Ct.c.LOCAL}},data:()=>({width:0,height:P.k,svgs:{}}),computed:{barChartData(){var t=this;return this.graphData.metrics.reduce((function(e,r){const n=C(r.result||[],{name:t.formatLegendLabel(r)});return e.concat(n)}),[])},chartOptions(){const t=se({timezone:this.timezone}),e=He(He({},ie(this.graphData.yAxis)),{},{scale:!1});return{grid:le(),xAxis:t,yAxis:e,dataZoom:[this.dataZoomConfig]}},xAxisTitle(){return void 0!==this.graphData.metrics[0].result[0].x_label?this.graphData.metrics[0].result[0].x_label:""},yAxisTitle(){return this.chartOptions.yAxis.name},xAxisType(){return void 0!==this.graphData.x_type?this.graphData.x_type:"category"},dataZoomConfig(){const t=this.svgs["scroll-handle"];return t?{handleIcon:t}:{}}},created(){this.setSvg("scroll-handle")},methods:{formatLegendLabel:t=>t.label,onResize(){if(!this.$refs.columnChart)return;const{width:t}=this.$refs.columnChart.$el.getBoundingClientRect();this.width=t},setSvg(t){var e=this;Object(kt.a)(t).then((function(r){r&&e.$set(e.svgs,t,"path://".concat(r))})).catch((function(){}))}}},Ke=Object(ut.a)(We,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r("gl-column-chart",t._b({ref:"columnChart",attrs:{bars:t.barChartData,option:t.chartOptions,width:t.width,height:t.height,"x-axis-title":t.xAxisTitle,"y-axis-title":t.yAxisTitle,"x-axis-type":t.xAxisType}},"gl-column-chart",t.$attrs,!1))],1)}),[],!1,null,null,null).exports,Ze={data:()=>({height:P.k}),computed:{svgContainerStyle(){return{height:"".concat(this.height,"px")}}},created(){this.chartEmptyStateIllustration='<svg height="92" viewBox="0 0 342 92" width="342" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="translate(2)"><path d="M11 57.156l22.322 16.94L115 4l54 42 54.596-32.634L291 88l42-36" stroke="#fef0e8" stroke-dasharray="1" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/><circle cx="291" cy="88" fill="#fee1d3" r="4"/><circle cx="291" cy="88" fill="#fee1d3" r="4"/><circle cx="115" cy="4" fill="#fdc4a8" r="4"/><g fill="#fff" stroke="#fc6d26" stroke-width="4"><circle cx="5" cy="52" r="5"/><circle cx="333" cy="52" r="5"/></g></g></svg>'}},Ye=Object(ut.a)(Ze,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"d-flex flex-column justify-content-center"},[e("div",{staticClass:"gl-mt-3 svg-w-100 d-flex align-items-center",style:this.svgContainerStyle,domProps:{innerHTML:this._s(this.chartEmptyStateIllustration)}}),this._v(" "),e("h5",{staticClass:"text-center gl-mt-3"},[this._v(this._s(this.__("No data to display")))])])}),[],!1,null,null,null).exports,Xe=(r("pBsb"),r("8Bzx")),Je=r.n(Xe),tr=r("P/Kr"),er=r.n(tr);function rr(t){return function(t){if(Array.isArray(t))return nr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return nr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}const or={components:{Chart:Ie.a},mixins:[Ee.a],props:{value:{type:Number,required:!0},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},thresholds:{type:Array,required:!1,default:function(){return[]},validator:function(t){return null==t||!t.length||t.every((function(t){return zt()(t)}))}},text:{type:String,required:!1,default:""},splitNumber:{type:Number,required:!1,default:10},option:{type:Object,required:!1,default:function(){return{}}}},computed:{options:function(){var t,e,r,n,o,a,i;return Se()({},{series:(t={value:this.value,text:this.text,min:this.min,max:this.max,splitNumber:this.splitNumber,axisColor:this.axisColor},e=t.value,r=t.text,n=t.min,o=t.max,a=t.splitNumber,i=t.axisColor,[{type:"gauge",detail:{show:!0,formatter:function(){var t=zt()(e)?e:null;return r||(null!=t?t:"--")},color:"".concat(ke.c[0]),fontSize:30,fontFamily:"sans-serif",fontWeight:"bold"},axisLabel:{show:!0,fontSize:14,formatter:function(t){return zt()(t)?t:"--"},color:"".concat(ke.c[1])},axisLine:{lineStyle:{color:i}},radius:"80%",pointer:{length:"65%",width:5},data:[{value:e}],min:n,max:o,splitNumber:a}])},this.option,this.toolboxAdjustments)},validThresholds:function(){var t=this.thresholds,e=this.min,r=this.max;if(null==t||!t.length)return[];var n=Bt()(t).filter((function(t){return zt()(t)&&t>e&&t<r})),o=n.length>2?[n[0],n[1]]:rr(n);return Gt()(o)},valueIsInLastThreshold:function(){var t=this.validThresholds,e=this.value;return t.length>0&&e>=t[t.length-1]},axisColor:function(){var t,e=this.validThresholds,r=this.max;return 0===e.length?t=[[1,ke.d[0]]]:1===e.length?t=[[e[0]/r,ke.d[0]],[1,ke.e]]:e.length>=2&&(t=[[e[0]/r,ke.d[0]],[e[1]/r,ke.d[1]],[1,ke.e]]),t}},methods:{onCreated:function(t){this.$emit("created",t)}}};var ar={components:{GlGaugeChart:$e()({render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("chart",this._g(this._b({attrs:{options:this.options},on:{created:this.onCreated}},"chart",this.$attrs,!1),this.$listeners))],1)},staticRenderFns:[]},void 0,or,void 0,!1,void 0,!1,void 0,void 0,void 0)},directives:{GlResizeObserverDirective:g.a},props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!0)}},data:()=>({width:0}),computed:{rangeValues(){let t=0,e=100;const{minValue:r,maxValue:n}=this.graphData;return zt()(r)&&zt()(n)&&r<n&&(t=r,e=n),{min:t,max:e}},validThresholds(){var t;const{mode:e,values:r}=(null===(t=this.graphData)||void 0===t?void 0:t.thresholds)||{},n=this.rangeValues;return er()(r)?function(){let{mode:t,range:e={},values:r=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[P.z.ABSOLUTE,P.z.PERCENTAGE],{min:o,max:a}=e;if(!zt()(o)||!zt()(a)||o>=a||!qt()(n,t))return[];const i=Bt()(r),s=i.filter((function(t){return zt()(t)})),l=s.filter((function(e){let r;return t===P.z.PERCENTAGE?r=e>0&&e<100:t===P.z.ABSOLUTE&&(r=e>o&&e<a),r})),c=l.map((function(e){let r;return r="percentage"===t?e/100*(a-o):e})),u=Gt()(c),d=u.length>2?[u[0],u[1]]:[...u];return d}({mode:e,range:n,values:r}):[]},queryResult(){var t,e,r;return null===(t=this.graphData)||void 0===t?void 0:null===(e=t.metrics[0])||void 0===e?void 0:null===(r=e.result[0])||void 0===r?void 0:r.value[1]},splitValue(){const{split:t}=this.graphData;return Je()(t)&&t>0?t:10},textValue(){var t;const e=this.graphData.format,r=Vt.a.engineering,n=null!==(t=Vt.a[e])&&void 0!==t?t:r,{queryResult:o}=this,a=Object(Vt.b)(n);return zt()(o)?a(o):"--"},thresholdsValue(){const{min:t,max:e}=this.rangeValues,r=[.95*(e-t)];return this.validThresholds.length?this.validThresholds:r},value(){return this.queryResult||NaN}},methods:{onResize(){if(!this.$refs.gaugeChart)return;const{width:t}=this.$refs.gaugeChart.$el.getBoundingClientRect();this.width=t}}},ir=Object(ut.a)(ar,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r("gl-gauge-chart",t._b({ref:"gaugeChart",attrs:{value:t.value,min:t.rangeValues.min,max:t.rangeValues.max,thresholds:t.thresholdsValue,text:t.textValue,"split-number":t.splitValue,width:t.width}},"gl-gauge-chart",t.$attrs,!1))],1)}),[],!1,null,null,null).exports,sr=r("YsYx");function lr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ur(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cr(Object(r),!0).forEach((function(e){lr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return pr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pr(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hr={visualMap:{show:!1,inRange:{color:ke.f}},series:{type:"heatmap"}};function fr(t){return t.reduce((function(t,e){var r=e[2]||0;return r<t.min&&(t.min=r),r>t.max&&(t.max=r),t}),{min:0,max:0})}const mr={components:{Chart:Ie.a,ChartLegend:sr.a,ChartTooltip:Re.a,TooltipDefaultFormat:Le.a},directives:{resizeObserver:g.a},mixins:[Ee.a],props:{options:{type:Object,required:!1,default:function(){return{}}},dataSeries:{type:Array,required:!0},xAxisLabels:{type:Array,required:!1,default:function(){return[]}},yAxisLabels:{type:Array,required:!1,default:function(){return[]}},xAxisName:{type:String,required:!1,default:""},yAxisName:{type:String,required:!1,default:""},formatTooltipText:{type:Function,required:!1,default:null},legendAverageText:{type:String,required:!1,default:"Avg"},legendMaxText:{type:String,required:!1,default:"Max"},responsive:{type:Boolean,required:!1,default:!0}},data:function(){return{chart:null,tooltip:{show:!1,title:"",content:{},left:"0",top:"0"},debouncedShowHideTooltip:Object(Me.b)(this.showHideTooltip),selectedFormatTooltipText:this.formatTooltipText||this.defaultFormatTooltipText}},computed:{computedOptions:function(){var t=fr(this.dataSeries),e=t.min,r=t.max;return Se()({},hr,{series:{data:this.dataSeries,z:2},grid:{left:"64px",right:"32px",show:!0,borderWidth:0,backgroundColor:"#dbdbdb"},visualMap:{min:e,max:r},xAxis:{data:this.xAxisLabels,z:3,axisTick:!1,axisLabel:{margin:2},name:this.xAxisName,nameGap:16,nameLocation:"middle",nameTextStyle:{verticalAlign:"middle"},offset:0,splitLine:{show:!0,interval:0,lineStyle:{color:"#fff",width:2}},axisPointer:{show:!0,label:{formatter:this.onLabelChange}}},yAxis:{data:this.yAxisLabels,z:3,type:"category",axisTick:!1,axisLabel:{margin:8},name:this.yAxisName,nameLocation:"center",nameGap:50,nameRotate:90,splitLine:{show:!0,interval:0,lineStyle:{color:"#fff",width:2}}}},this.toolboxAdjustments,this.options)},legendStyle:function(){return{paddingLeft:this.computedOptions.grid.left,marginTop:"-32px"}},compiledOptions:function(){return this.chart?this.chart.getOption():null},seriesInfo:function(){var t=fr(this.dataSeries),e=t.min,r=(t.max-e)/ke.f.length;return ke.f.map((function(t,n){var o=Object(Ce.b)(e+r*n),a=Object(Ce.b)(e+r*(n+1));return{name:"".concat(o," - ").concat(a),color:t,type:"solid"}}))}},beforeDestroy:function(){this.chart.getDom().removeEventListener("mousemove",this.debouncedShowHideTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedShowHideTooltip)},methods:{defaultFormatTooltipText:function(t){var e=Object(Ae.i)(t,this.computedOptions.yAxis.name),r=e.xLabels,n=e.tooltipContent;this.$set(this.tooltip,"content",n),this.tooltip.title=r.join(", ")},onCreated:function(t){t.getDom().addEventListener("mousemove",this.debouncedShowHideTooltip),t.getDom().addEventListener("mouseout",this.debouncedShowHideTooltip),this.chart=t,this.$emit("created",t)},handleResize:function(){return this.responsive&&this.chart.resize()},showHideTooltip:function(t){this.tooltip.show=this.chart.containPixel("grid",[t.zrX,t.zrY])},onLabelChange:function(t){this.selectedFormatTooltipText(t);var e=t.seriesData,r=void 0===e?[]:e;if(r.length&&r[0].value){var n=r[0],o=n.seriesId,a=n.value,i=dr(this.chart.convertToPixel({seriesId:o},a),2),s=i[0],l=i[1];this.tooltip=ur(ur({},this.tooltip),{},{left:"".concat(s+Te.m,"px"),top:"".concat(l,"px")})}}}};var gr={components:{GlHeatmap:$e()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"resize-observer",rawName:"v-resize-observer",value:t.handleResize,expression:"handleResize"}],staticClass:"gl-heatmap"},[r("chart",{attrs:{options:t.computedOptions},on:{created:t.onCreated}}),t._v(" "),t.chart?r("chart-tooltip",{attrs:{show:t.tooltip.show,chart:t.chart,top:t.tooltip.top,left:t.tooltip.left},scopedSlots:t._u([{key:"title",fn:function(){return[t.formatTooltipText?t._t("tooltip-title"):r("div",[t._v("\n        "+t._s(t.tooltip.title)+"\n        "),t.computedOptions.xAxis.name?[t._v("("+t._s(t.computedOptions.xAxis.name)+")")]:t._e()],2)]},proxy:!0}],null,!0)},[t._v(" "),t.formatTooltipText?t._t("tooltip-content"):r("tooltip-default-format",{attrs:{"tooltip-content":t.tooltip.content}})],2):t._e(),t._v(" "),t.compiledOptions?r("chart-legend",{style:t.legendStyle,attrs:{chart:t.chart,"series-info":t.seriesInfo,"text-style":t.compiledOptions.textStyle,"max-text":t.legendMaxText,"average-text":t.legendAverageText}}):t._e()],1)},staticRenderFns:[]},void 0,mr,void 0,!1,void 0,!1,void 0,void 0,void 0)},directives:{GlResizeObserverDirective:g.a},props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!1)},timezone:{type:String,required:!1,default:Ct.c.LOCAL}},data:()=>({width:0}),computed:{chartData(){return this.metrics.result.reduce((function(t,e,r){return[...t,...e.values.map((function(t,e){return[r,e,t[1]]}))]}),[])},xAxisName(){return this.graphData.xLabel||""},yAxisName(){return this.graphData.y_label||""},xAxisLabels(){return this.metrics.result.map((function(t){return Object.values(t.metric)[0]}))},yAxisLabels(){var t=this;return this.result.values.map((function(e){const[r]=e;return Object(Ct.a)(new Date(r),{format:Ct.b.shortTime,timezone:t.timezone})}))},result(){return this.metrics.result[0]},metrics(){return this.graphData.metrics[0]}},methods:{onResize(){if(this.$refs.heatmapChart)return;const{width:t}=this.$refs.heatmapChart.$el.getBoundingClientRect();this.width=t}}},br=Object(ut.a)(gr,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r("gl-heatmap",t._b({ref:"heatmapChart",attrs:{"data-series":t.chartData,"x-axis-name":t.xAxisName,"y-axis-name":t.yAxisName,"x-axis-labels":t.xAxisLabels,"y-axis-labels":t.yAxisLabels,width:t.width}},"gl-heatmap",t.$attrs,!1))],1)}),[],!1,null,null,null).exports,vr=r("W6ad");const yr=Object(j.a)("No data to display");var Or={components:{GlSingleStat:vr.a},inheritAttrs:!1,props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!0)}},computed:{queryInfo(){return this.graphData.metrics[0]},queryMetric(){var t;return null===(t=this.queryInfo.result[0])||void 0===t?void 0:t.metric},queryResult(){var t;return null===(t=this.queryInfo.result[0])||void 0===t?void 0:t.value[1]},statValue(){var t,e;let r;var n,o;return(null===(t=this.graphData)||void 0===t?void 0:t.field)?null!==(n=null===(o=this.queryMetric)||void 0===o?void 0:o[this.graphData.field])&&void 0!==n?n:yr:(null===(e=this.graphData)||void 0===e?void 0:e.maxValue)?(r=Object(Vt.b)(Vt.a.number))(this.queryResult/Number(this.graphData.maxValue)*100,2):(r=Object(Vt.b)(Vt.a.number),"".concat(r(this.queryResult,2)))},unit(){var t;return(null===(t=this.graphData)||void 0===t?void 0:t.maxValue)?"%":this.queryInfo.unit},graphTitle(){return this.queryInfo.label}}},_r=Object(ut.a)(Or,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("gl-single-stat",{attrs:{value:this.statValue,title:this.graphTitle,unit:this.unit,variant:"success"}})],1)}),[],!1,null,null,null).exports,xr=r("XBTk");function wr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jr(Object(r),!0).forEach((function(e){wr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pr(t){return function(t){if(Array.isArray(t))return Dr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Dr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dr(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ar=Sr(Sr({},Ae.s),{},{nameLocation:"center",axisTick:{show:!1}});const Tr={components:{Chart:Ie.a,ChartTooltip:Re.a,ChartLegend:sr.a,TooltipDefaultFormat:Le.a},mixins:[Ee.a],inheritAttrs:!1,props:{bars:{type:Array,required:!1,default:function(){return[]}},lines:{type:Array,required:!1,default:function(){return[]}},secondaryData:{type:Array,required:!1,default:function(){return[]}},option:{type:Object,required:!1,default:function(){return{}}},presentation:{type:String,required:!1,default:"stacked",validator:function(t){return-1!==["stacked","tiled"].indexOf(t)}},groupBy:{type:Array,required:!0},xAxisType:{type:String,required:!0,validator:function(t){return-1!==["value","category","time","log"].indexOf(t)}},xAxisTitle:{type:String,required:!0},yAxisTitle:{type:String,required:!0},secondaryDataTitle:{type:String,required:!1,default:""},seriesNames:{type:Array,required:!1,default:function(){return[]}},legendAverageText:{type:String,required:!1,default:Te.g},legendMaxText:{type:String,required:!1,default:Te.k},legendMinText:{type:String,required:!1,default:Te.l},legendCurrentText:{type:String,required:!1,default:Te.h},legendLayout:{type:String,required:!1,default:Te.i,validator:function(t){return-1!==[Te.i,Te.j].indexOf(t)}}},data:function(){return{chart:null,showTooltip:!1,tooltipTitle:"",tooltipContent:{},tooltipPosition:{left:"0",top:"0"},debouncedMoveShowTooltip:Object(Me.b)(this.moveShowTooltip)}},computed:{hasSecondaryAxis:function(){return Boolean(this.secondaryData.length)},barSeries:function(){var t=this;return this.bars.map((function(e,r){var n=e.name,o=e.data,a="stacked"===t.presentation?t.groupBy:null,i=Object(ke.a)(r);return Object(Ae.g)({stack:a,name:n,data:o,color:i})}))},lineSeries:function(){var t=this.bars.length;return this.lines.map((function(e,r){var n=e.name,o=e.data,a=Object(ke.a)(t+r);return Object(Ae.h)({name:n,data:o,color:a})}))},secondarySeries:function(){var t=this.bars.length+this.lines.length;return this.secondaryData.map((function(e,r){var n=e.name,o=e.data,a=e.type,i=e.stack,s=void 0===i?xr.l.tiled:i,l=Object(ke.a)(t+r);return a===Te.e?Object(Ae.h)({color:l,name:n,data:o,yAxisIndex:1}):Object(Ae.g)({color:l,name:n,data:o,yAxisIndex:1,stack:s})}))},series:function(){return[].concat(Pr(this.barSeries),Pr(this.lineSeries),Pr(this.secondarySeries))},options:function(){var t=Se()({},Ae.b,{grid:this.hasSecondaryAxis?Ae.m:Ae.l,xAxis:{boundaryGap:!0,axisLabel:{margin:20,verticalAlign:"bottom"},axisLine:{show:!1},axisPointer:{show:!0,type:"none",label:{formatter:this.onLabelChange}},data:this.groupBy,name:this.xAxisTitle,type:this.xAxisType},yAxis:[Sr(Sr({},Ar),{},{name:this.yAxisTitle}),Sr(Sr({},Ar),{},{name:this.secondaryDataTitle,show:this.hasSecondaryAxis})],legend:{show:!1}},this.option,Object(Ae.a)(this.option.dataZoom),this.toolboxAdjustments);return Object(Ae.p)(t,this.series)},legendStyle:function(){return{paddingLeft:"".concat(Ae.l.left,"px")}},compiledOptions:function(){return this.chart?this.chart.getOption():null},seriesInfo:function(){return this.compiledOptions.series.reduce((function(t,e,r){return t.push({name:e.name,type:e.type,color:Object(ke.a)(r),data:e.data.map((function(t){return t})),yAxisIndex:e.yAxisIndex}),t}),[])}},beforeDestroy:function(){this.chart.getDom().removeEventListener("mousemove",this.debouncedMoveShowTooltip),this.chart.getDom().removeEventListener("mouseout",this.debouncedMoveShowTooltip)},methods:{moveShowTooltip:function(t){this.tooltipPosition={left:"".concat(t.zrX,"px"),top:"".concat(t.zrY,"px")},this.showTooltip=this.chart.containPixel("grid",[t.zrX,t.zrY])},onCreated:function(t){t.getDom().addEventListener("mousemove",this.debouncedMoveShowTooltip),t.getDom().addEventListener("mouseout",this.debouncedMoveShowTooltip),this.chart=t,this.$emit("created",t)},onLabelChange:function(t){var e=t.seriesData.reverse().reduce((function(t,e){var r=Object(ke.a)(e.seriesIndex);return t.tooltipContent[e.seriesName]={value:e.value,index:e.seriesIndex,color:r},t}),{tooltipContent:{}}).tooltipContent;this.tooltipTitle=t.value,this.$set(this,"tooltipContent",e)}}};function kr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kr(Object(r),!0).forEach((function(e){Mr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Er={components:{GlStackedColumnChart:$e()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"position-relative"},[r("chart",t._g(t._b({attrs:{options:t.options},on:{created:t.onCreated}},"chart",t.$attrs,!1),t.$listeners)),t._v(" "),t.chart?r("chart-tooltip",{attrs:{show:t.showTooltip,chart:t.chart,top:t.tooltipPosition.top,left:t.tooltipPosition.left}},[r("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.tooltipTitle)+" ("+t._s(t.xAxisTitle)+")")]),t._v(" "),r("tooltip-default-format",{attrs:{"tooltip-content":t.tooltipContent}})],1):t._e(),t._v(" "),t.compiledOptions?r("chart-legend",{style:t.legendStyle,attrs:{chart:t.chart,"series-info":t.seriesInfo,"text-style":t.compiledOptions.textStyle,"min-text":t.legendMinText,"max-text":t.legendMaxText,"average-text":t.legendAverageText,"current-text":t.legendCurrentText,layout:t.legendLayout}}):t._e()],1)},staticRenderFns:[]},void 0,Tr,void 0,!1,void 0,!1,void 0,void 0,void 0)},directives:{GlResizeObserverDirective:g.a},props:{graphData:{type:Object,required:!0,validator:L.h.bind(null,!1)},timezone:{type:String,required:!1,default:Ct.c.LOCAL},legendLayout:{type:String,required:!1,default:P.r.table},legendAverageText:{type:String,required:!1,default:Object(j.e)("Metrics|Avg")},legendCurrentText:{type:String,required:!1,default:Object(j.e)("Metrics|Current")},legendMaxText:{type:String,required:!1,default:Object(j.e)("Metrics|Max")},legendMinText:{type:String,required:!1,default:Object(j.e)("Metrics|Min")}},data:()=>({width:0,height:P.k,svgs:{}}),computed:{chartData(){return this.graphData.metrics.map((function(t){let{label:e,result:r}=t;return r&&0!==r.length?{name:e,data:r[0].values.map((function(t){return t[1]}))}:[]})).slice(0,1)},xAxisTitle(){return void 0!==this.graphData.x_label?this.graphData.x_label:""},yAxisTitle(){return void 0!==this.graphData.y_label?this.graphData.y_label:""},xAxisType:()=>ne,groupBy(){const{result:t}=this.graphData.metrics[0];return t&&0!==t.length?t[0].values.map((function(t){return t[0]})):[]},dataZoomConfig(){const t=this.svgs["scroll-handle"];return t?{handleIcon:t}:{}},chartOptions(){return{xAxis:Cr(Cr({},se({timezone:this.timezone,format:Ct.b.shortTime})),{},{type:this.xAxisType}),dataZoom:[this.dataZoomConfig]}},seriesNames(){return this.graphData.metrics.map((function(t){return t.label}))}},created(){this.setSvg("scroll-handle")},methods:{setSvg(t){var e=this;Object(kt.a)(t).then((function(r){r&&e.$set(e.svgs,t,"path://".concat(r))})).catch((function(t){console.error("SVG could not be rendered correctly: ",t)}))},onResize(){if(!this.$refs.chart)return;const{width:t}=this.$refs.chart.$el.getBoundingClientRect();this.width=t}}},Lr=Object(ut.a)(Er,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer-directive",rawName:"v-gl-resize-observer-directive",value:t.onResize,expression:"onResize"}]},[r("gl-stacked-column-chart",t._b({ref:"chart",attrs:{bars:t.chartData,option:t.chartOptions,"x-axis-title":t.xAxisTitle,"y-axis-title":t.yAxisTitle,"x-axis-type":t.xAxisType,"group-by":t.groupBy,width:t.width,height:t.height,"legend-layout":t.legendLayout,"legend-average-text":t.legendAverageText,"legend-current-text":t.legendCurrentText,"legend-max-text":t.legendMaxText,"legend-min-text":t.legendMinText}},"gl-stacked-column-chart",t.$attrs,!1))],1)}),[],!1,null,null,null).exports;function Ir(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(r),!0).forEach((function(e){qr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ir(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const $r="timerangezoom",Gr="expand";var Nr={components:{MonitorEmptyChart:Ye,AlertWidget:mt,GlIcon:s.a,GlLink:l.a,GlLoadingIcon:c.a,GlTooltip:u.a,GlDropdown:d.a,GlDropdownItem:p.a,GlDropdownDivider:h.a,GlModal:f.a,GlSprintf:m.a},directives:{GlResizeObserver:g.a,GlModal:b.a,GlTooltip:v.a,TrackEvent:S.a},props:{clipboardText:{type:String,required:!1,default:""},graphData:{type:Object,required:!1,default:null},groupId:{type:String,required:!1,default:"dashboard-panel"},namespace:{type:String,required:!1,default:"monitoringDashboard"},alertsEndpoint:{type:String,required:!1,default:null},prometheusAlertsAvailable:{type:Boolean,required:!1,default:!1},settingsPath:{type:String,required:!1,default:null}},data(){return{showTitleTooltip:!1,zoomedTimeRange:null,allAlerts:{},expandBtnAvailable:Boolean(this.$listeners[Gr])}},computed:Rr(Rr({},Object(y.f)({deploymentData(t){return t[this.namespace].deploymentData},annotations(t){return t[this.namespace].annotations},projectPath(t){return t[this.namespace].projectPath},logsPath(t){return t[this.namespace].logsPath},timeRange(t){return t[this.namespace].timeRange},dashboardTimezone(t){return t[this.namespace].dashboardTimezone},metricsSavedToDb(t,e){return e["".concat(this.namespace,"/metricsSavedToDb")]},selectedDashboard(t,e){return e["".concat(this.namespace,"/selectedDashboard")]}})),{},{fixedCurrentTimeRange(){try{return Object(_.a)(this.timeRange)}catch(t){return{}}},title(){var t;return(null===(t=this.graphData)||void 0===t?void 0:t.title)||""},graphDataHasResult(){var t;return((null===(t=this.graphData)||void 0===t?void 0:t.metrics)||[]).some((function(t){let{result:e}=t;return(null==e?void 0:e.length)>0}))},graphDataIsLoading(){var t;return((null===(t=this.graphData)||void 0===t?void 0:t.metrics)||[]).some((function(t){let{loading:e}=t;return e}))},logsPathWithTimeRange(){const t=this.zoomedTimeRange||this.timeRange;return this.logsPath&&this.logsPath!==x.a&&t?Object(L.o)(t,this.logsPath):null},csvText(){return this.graphData?E(this.graphData):null},downloadCsv(){const t=new Blob([this.csvText],{type:"text/plain"});return window.URL.createObjectURL(t)},basicChartComponent(){return this.isPanelType(P.w.SINGLE_STAT)?_r:this.isPanelType(P.w.GAUGE_CHART)?ir:this.isPanelType(P.w.HEATMAP)?br:this.isPanelType(P.w.BAR)?Ve:this.isPanelType(P.w.COLUMN)?Ke:this.isPanelType(P.w.STACKED_COLUMN)?Lr:this.isPanelType(P.w.ANOMALY_CHART)?we:null},timeSeriesChartComponent(){return this.isPanelType(P.w.ANOMALY_CHART)?we:me},isContextualMenuShown(){return!!this.graphDataHasResult&&(this.isPanelType(P.w.AREA_CHART)||this.isPanelType(P.w.LINE_CHART)||this.isPanelType(P.w.SINGLE_STAT)||this.isPanelType(P.w.GAUGE_CHART))},editCustomMetricLink(){var t;return this.graphData.metrics.length>1?this.settingsPath:null===(t=this.graphData)||void 0===t?void 0:t.metrics[0].edit_path},editCustomMetricLinkText(){return Object(j.d)("Metrics|Edit metric","Metrics|Edit metrics",this.graphData.metrics.length)},hasMetricsInDb(){var t=this;const{metrics:e=[]}=this.graphData;return e.some((function(e){let{metricId:r}=e;return t.metricsSavedToDb.includes(r)}))},alertWidgetAvailable(){return(this.isPanelType(P.w.AREA_CHART)||this.isPanelType(P.w.LINE_CHART))&&this.prometheusAlertsAvailable&&this.alertsEndpoint&&this.graphData&&this.hasMetricsInDb},alertModalId(){return"alert-modal-".concat(this.graphData.id)}}),mounted(){this.refreshTitleTooltip()},methods:{getGraphAlerts(t){if(!this.allAlerts)return{};const e=t.map((function(t){return t.metricId}));return o()(this.allAlerts,(function(t){return e.includes(t.metricId)}))},getGraphAlertValues(t){return Object.values(this.getGraphAlerts(t))},isPanelType(t){var e;return(null===(e=this.graphData)||void 0===e?void 0:e.type)===t},showToast(){this.$toast.show(Object(j.a)("Link copied"))},refreshTitleTooltip(){const{graphTitle:t}=this.$refs;this.showTitleTooltip=Boolean(t)&&t.scrollWidth>t.offsetWidth},downloadCSVOptions:L.c,generateLinkToChartOptions:L.e,onResize(){this.refreshTitleTooltip()},onDatazoom(t){let{start:e,end:r}=t;this.zoomedTimeRange={start:e,end:r},this.$emit($r,{start:e,end:r})},onExpand(){this.$emit(Gr)},onExpandFromKeyboardShortcut(){this.isContextualMenuShown&&this.onExpand()},setAlerts(t,e){e?this.$set(this.allAlerts,t,e):this.$delete(this.allAlerts,t)},safeUrl:t=>Object(w.o)(t)?t:"#",showAlertModal(){this.$root.$emit(O.c,this.alertModalId)},showAlertModalFromKeyboardShortcut(){this.isContextualMenuShown&&this.showAlertModal()},visitLogsPage(){this.logsPathWithTimeRange&&Object(w.D)(Object(w.v)(this.logsPathWithTimeRange,Object(w.d)()))},visitLogsPageFromKeyboardShortcut(){this.isContextualMenuShown&&this.visitLogsPage()},downloadCsvFromKeyboardShortcut(){this.csvText&&this.isContextualMenuShown&&this.$refs.downloadCsvLink.$el.firstChild.click()},copyChartLinkFromKeyboardShotcut(){this.clipboardText&&this.isContextualMenuShown&&this.$refs.copyChartLink.$el.firstChild.click()},getAlertRunbooks(t){const e=o()(this.getGraphAlerts(t),(function(t){return Boolean(t.runbookUrl)}));return i()(e,(function(e){const r=t.find((function(t){return t.metricId===e.metricId}));return{key:e.metricId,href:e.runbookUrl,label:r.label}}))}},panelTypes:P.w},Br=Object(ut.a)(Nr,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"gl-resize-observer",rawName:"v-gl-resize-observer",value:t.onResize,expression:"onResize"}],staticClass:"prometheus-graph"},[r("div",{staticClass:"d-flex align-items-center"},[t._t("top-left"),t._v(" "),r("h5",{ref:"graphTitle",staticClass:"prometheus-graph-title gl-font-lg font-weight-bold text-truncate gl-mr-3"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),r("gl-tooltip",{attrs:{target:function(){return t.$refs.graphTitle},disabled:!t.showTitleTooltip}},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),t.isContextualMenuShown&&t.alertWidgetAvailable?r("alert-widget",{staticClass:"mx-1",attrs:{"modal-id":t.alertModalId,"alerts-endpoint":t.alertsEndpoint,"relevant-queries":t.graphData.metrics,"alerts-to-manage":t.getGraphAlerts(t.graphData.metrics)},on:{setAlerts:t.setAlerts}}):t._e(),t._v(" "),r("div",{staticClass:"flex-grow-1"}),t._v(" "),t.graphDataIsLoading?r("div",{staticClass:"mx-1 mt-1"},[r("gl-loading-icon")],1):t._e(),t._v(" "),t.isContextualMenuShown?r("div",{ref:"contextualMenu",attrs:{"data-qa-selector":"prometheus_graph_widgets"}},[r("div",{staticClass:"d-flex align-items-center",attrs:{"data-testid":"dropdown-wrapper"}},[r("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"toggle-class":"gl-px-3!","no-caret":"","data-qa-selector":"prometheus_widgets_dropdown",right:"",title:t.__("More actions")},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("gl-icon",{staticClass:"gl-mr-0!",attrs:{name:"ellipsis_v"}})]},proxy:!0}],null,!1,2765562597)},[t._v(" "),t.expandBtnAvailable?r("gl-dropdown-item",{ref:"expandBtn",attrs:{href:t.clipboardText},on:{click:function(e){return e.preventDefault(),t.onExpand(e)}}},[t._v("\n            "+t._s(t.s__("Metrics|Expand panel"))+"\n          ")]):t._e(),t._v(" "),t.editCustomMetricLink?r("gl-dropdown-item",{ref:"editMetricLink",attrs:{href:t.editCustomMetricLink}},[t._v("\n            "+t._s(t.editCustomMetricLinkText)+"\n          ")]):t._e(),t._v(" "),t.logsPathWithTimeRange?r("gl-dropdown-item",{ref:"viewLogsLink",attrs:{href:t.logsPathWithTimeRange}},[t._v("\n            "+t._s(t.s__("Metrics|View logs"))+"\n          ")]):t._e(),t._v(" "),t.csvText?r("gl-dropdown-item",{directives:[{name:"track-event",rawName:"v-track-event",value:t.downloadCSVOptions(t.title),expression:"downloadCSVOptions(title)"}],ref:"downloadCsvLink",attrs:{href:t.downloadCsv,download:"chart_metrics.csv"}},[t._v("\n            "+t._s(t.__("Download CSV"))+"\n          ")]):t._e(),t._v(" "),t.clipboardText?r("gl-dropdown-item",{directives:[{name:"track-event",rawName:"v-track-event",value:t.generateLinkToChartOptions(t.clipboardText),expression:"generateLinkToChartOptions(clipboardText)"}],ref:"copyChartLink",attrs:{"data-clipboard-text":t.clipboardText,"data-qa-selector":"generate_chart_link_menu_item"},on:{click:function(e){return t.showToast(t.clipboardText)}}},[t._v("\n            "+t._s(t.__("Copy link to chart"))+"\n          ")]):t._e(),t._v(" "),t.alertWidgetAvailable?r("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.alertModalId,expression:"alertModalId"}],attrs:{"data-qa-selector":"alert_widget_menu_item"}},[t._v("\n            "+t._s(t.__("Alerts"))+"\n          ")]):t._e(),t._v(" "),t._l(t.getAlertRunbooks(t.graphData.metrics),(function(e){return r("gl-dropdown-item",{key:e.key,attrs:{href:t.safeUrl(e.href),"data-testid":"runbookLink",target:"_blank",rel:"noopener noreferrer"}},[r("span",{staticClass:"gl-display-flex gl-justify-content-space-between gl-align-items-center"},[r("span",[r("gl-sprintf",{attrs:{message:t.s__("Metrics|View runbook - %{label}")},scopedSlots:t._u([{key:"label",fn:function(){return[t._v("\n                    "+t._s(e.label)+"\n                  ")]},proxy:!0}],null,!0)})],1),t._v(" "),r("gl-icon",{attrs:{name:"external-link"}})],1)])})),t._v(" "),t.graphData.links&&t.graphData.links.length?[r("gl-dropdown-divider"),t._v(" "),t._l(t.graphData.links,(function(e,n){return r("gl-dropdown-item",{key:n,staticClass:"text-break",attrs:{href:t.safeUrl(e.url)}},[t._v(t._s(e.title))])}))]:t._e(),t._v(" "),t.selectedDashboard&&t.selectedDashboard.can_edit?[r("gl-dropdown-divider"),t._v(" "),r("gl-dropdown-item",{ref:"manageLinksItem",attrs:{href:t.selectedDashboard.project_blob_path}},[t._v(t._s(t.s__("Metrics|Manage chart links")))])]:t._e()],2)],1)]):t._e()],2),t._v(" "),t.graphDataHasResult?t.basicChartComponent?r(t.basicChartComponent,t._g(t._b({tag:"component",attrs:{"graph-data":t.graphData,timezone:t.dashboardTimezone}},"component",t.$attrs,!1),t.$listeners)):r(t.timeSeriesChartComponent,t._g(t._b({ref:"timeSeriesChart",tag:"component",attrs:{"graph-data":t.graphData,"deployment-data":t.deploymentData,annotations:t.annotations,"project-path":t.projectPath,thresholds:t.getGraphAlertValues(t.graphData.metrics),"group-id":t.groupId,timezone:t.dashboardTimezone,"time-range":t.fixedCurrentTimeRange},on:{datazoom:t.onDatazoom}},"component",t.$attrs,!1),t.$listeners)):r("monitor-empty-chart")],1)}),[],!1,null,null,null);e.a=Br.exports},SGKy:function(t,e,r){"use strict";var n=r("A7+L"),o=r("rPnh"),a=r("BrvI"),i=r("7bmO"),s=r("kI/X");e.a={props:{options:{type:[Array,Object],default:function(){return[]}},valueField:{type:String,default:"value"},textField:{type:String,default:"text"},htmlField:{type:String,default:"html"},disabledField:{type:String,default:"disabled"}},computed:{formOptions:function(){return this.normalizeOptions(this.options)}},methods:{normalizeOption:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(a.i)(t)){var r=Object(n.a)(t,this.valueField),i=Object(n.a)(t,this.textField);return{value:Object(a.m)(r)?e||i:r,text:Object(o.b)(String(Object(a.m)(i)?e:i)),html:Object(n.a)(t,this.htmlField),disabled:Boolean(Object(n.a)(t,this.disabledField))}}return{value:e||t,text:Object(o.b)(String(t)),disabled:!1}},normalizeOptions:function(t){var e=this;return Object(a.a)(t)?t.map((function(t){return e.normalizeOption(t)})):Object(a.i)(t)?(Object(s.a)('Setting prop "options" to an object is deprecated. Use the array format instead.',this.$options.name),Object(i.i)(t).map((function(r){return e.normalizeOption(t[r]||{},r)}))):[]}}}},VwWG:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("FUyg"),c=r("eclS"),u=r("ayhe"),d=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{filter:function(t){var e=i(this),r=u(e),n=l(t,arguments.length>1?arguments[1]:void 0,3),o=new(c(e,a("Set"))),p=s(o.add);return d(r,(function(t){n(t,t,e)&&p.call(o,t)}),{IS_ITERATOR:!0}),o}})},W2kU:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("AgLN"),s=r("ayhe"),l=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{reduce:function(t){var e=a(this),r=s(e),n=arguments.length<2,o=n?void 0:arguments[1];if(i(t),l(r,(function(r){n?(n=!1,o=r):o=t(o,r,r,e)}),{IS_ITERATOR:!0}),n)throw TypeError("Reduce of empty set with no initial value");return o}})},W6ad:function(t,e,r){"use strict";var n=r("XBTk"),o=r("Lzak"),a=r("s1D3"),i=r("Pyw5"),s=r.n(i);const l={name:"AnimatedNumber",props:{number:{type:Number,required:!0},duration:{type:Number,required:!1,default:2e3},decimalPlaces:{type:Number,required:!1,default:0}},data:function(){return{displayNumber:0,startTime:null}},computed:{animatedNumber:function(){return this.displayNumber.toFixed(this.decimalPlaces)}},ready:function(){this.displayNumber=this.number?this.number:0},watch:{number:function(){window.requestAnimationFrame(this.count)}},mounted:function(){window.requestAnimationFrame(this.count)},methods:{count:function(t){if(this.startTime||(this.startTime=t),t-this.startTime<this.duration){if(this.displayNumber!==this.number){var e=(this.number-this.displayNumber)/(this.duration/100);this.displayNumber+=e}window.requestAnimationFrame(this.count)}else this.displayNumber=this.number,this.startTime=null}}};var c=s()({render:function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v(this._s(this.animatedNumber))])},staticRenderFns:[]},void 0,l,void 0,!1,void 0,!1,void 0,void 0,void 0);const u={components:{GlIcon:a.a,GlBadge:o.a,GlAnimatedNumber:c},props:{title:{type:String,required:!0},value:{type:String,required:!0},unit:{type:[String,Number],required:!1,default:null},variant:{type:String,required:!1,default:n.i.muted,validator:function(t){return Object.values(n.i).includes(t)}},titleIcon:{type:String,required:!1,default:null},metaIcon:{type:String,required:!1,default:null},metaText:{type:String,required:!1,default:null},shouldAnimate:{type:Boolean,required:!1,default:!1},animationDecimalPlaces:{type:Number,required:!1,default:0}},computed:{showMetaIcon:function(){return Boolean(this.metaIcon&&!this.metaText)},showBadge:function(){return Boolean(this.metaText)},showTitleIcon:function(){return Boolean(this.titleIcon)},textColor:function(){return n.F[this.variant]},canAnimate:function(){return this.shouldAnimate&&!Number.isNaN(Number(this.value))}}};const d=s()({render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gl-single-stat gl-display-flex gl-flex-direction-column gl-p-2"},[r("div",{staticClass:"gl-display-flex gl-align-items-center gl-text-gray-700 gl-mb-2"},[t.showTitleIcon?r("gl-icon",{staticClass:"gl-mr-2",attrs:{name:t.titleIcon,"data-testid":"title-icon"}}):t._e(),t._v(" "),r("span",{staticClass:"gl-font-base gl-font-weight-normal",attrs:{"data-testid":"title-text"}},[t._v(t._s(t.title))])],1),t._v(" "),r("div",{staticClass:"gl-display-flex gl-align-items-baseline gl-font-weight-bold gl-text-gray-900"},[r("span",{staticClass:"gl-font-size-h-display",class:{"gl-mr-2":!t.unit},attrs:{"data-testid":"displayValue"}},[t.canAnimate?r("gl-animated-number",{attrs:{number:Number(t.value),"decimal-places":t.animationDecimalPlaces}}):r("span",{attrs:{"data-testid":"non-animated-value"}},[t._v(t._s(t.value))])],1),t._v(" "),t.unit?r("span",{staticClass:"gl-font-sm gl-mr-2",attrs:{"data-testid":"unit"}},[t._v(t._s(t.unit))]):t._e(),t._v(" "),t.showMetaIcon?r("gl-icon",{class:t.textColor,attrs:{name:t.metaIcon,"data-testid":"meta-icon"}}):t._e(),t._v(" "),t.showBadge?r("gl-badge",{attrs:{variant:t.variant,icon:t.metaIcon,"data-testid":"meta-badge"}},[t._v(t._s(t.metaText))]):t._e()],1)])},staticRenderFns:[]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0);e.a=d},YfZl:function(t,e,r){"use strict";var n=r("yWhq"),o=r("jB52"),a=r("lRsd"),i=r("yi8e"),s=(r("QifN"),r("orcL"),r("s1D3")),l=r("4lAS"),c=r("XqDB"),u=r("LLbv"),d=r("t6Yz"),p=r.n(d),h=r("wAfB"),f=r.n(h),m=r("XRO8"),g=r("kRJI"),b=r("5tFN"),v=r("3twG"),y=r("/lV4"),O=r("OgzN"),_=r("5c3i"),x=r("yA3Z"),w=r("R9PN"),j=r("1aG2"),S=r("Tmea"),P=r.n(S),D=r("Yyc1"),A=r("FkSe"),T=r("wP8z"),k=r("arQV"),C=r("iN9h"),M=r("/Qmv"),E=r("DJiL"),L=r("koWC"),I=r("1cpz"),R=r("lvxy");var q=r("30su"),$={components:{GlButton:l.a,GlModal:I.a,GlSprintf:q.a},props:{modalId:{type:String,required:!0},projectPath:{type:String,required:!0,validator:v.o},addDashboardDocumentationPath:{type:String,required:!0}},methods:{cancelHandler(){this.$refs.modal.hide()}},i18n:{titleText:Object(y.e)("Metrics|Create your dashboard configuration file"),mainText:Object(y.e)("Metrics|To create a new dashboard, add a new YAML file to %{codeStart}.gitlab/dashboards%{codeEnd} at the root of this project.")}},G=r("tBpV"),N=Object(G.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-modal",{ref:"modal",attrs:{"modal-id":t.modalId,title:t.$options.i18n.titleText},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[r("gl-button",{attrs:{category:"secondary"},on:{click:t.cancelHandler}},[t._v(t._s(t.s__("Metrics|Cancel")))]),t._v(" "),r("gl-button",{attrs:{category:"secondary",variant:"info",target:"_blank",href:t.addDashboardDocumentationPath,"data-testid":"create-dashboard-modal-docs-button"}},[t._v("\n      "+t._s(t.s__("Metrics|View documentation"))+"\n    ")]),t._v(" "),r("gl-button",{attrs:{variant:"success","data-testid":"create-dashboard-modal-repo-button",href:t.projectPath}},[t._v("\n      "+t._s(t.s__("Metrics|Open repository"))+"\n    ")])]},proxy:!0}])},[r("p",[r("gl-sprintf",{attrs:{message:t.$options.i18n.mainText},scopedSlots:t._u([{key:"code",fn:function(e){var n=e.content;return[r("code",[t._v(t._s(n))])]}}])})],1)])}),[],!1,null,null,null).exports,B=r("dsWN"),F=(r("3E1d"),r("AVOg"),r("pBsb"),r("G3fq")),z=r.n(F),V=r("l5WF"),U=r("PrLL"),H=r("4wRe"),Q=r("47in");function W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?W(Object(r),!0).forEach((function(e){Z(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Z(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Y={components:{GlFormGroup:V.a,GlFormInput:U.a,GlFormRadioGroup:H.a,GlFormTextarea:Q.a},props:{dashboard:{type:Object,required:!0},defaultBranch:{type:String,required:!0}},radioVals:{DEFAULT:"DEFAULT",NEW:"NEW"},data(){return{form:{dashboard:this.dashboard.path,fileName:(t=this.dashboard,t.path.split("/").reverse()[0]),commitMessage:""},branchName:"",branchOption:this.$options.radioVals.NEW,branchOptions:[{value:this.$options.radioVals.DEFAULT,html:Object(y.f)(Object(y.a)("Commit to %{branchName} branch"),{branchName:"<strong>".concat(z()(this.defaultBranch),"</strong>")},!1)},{value:this.$options.radioVals.NEW,text:Object(y.a)("Create new branch")}]};var t},computed:{defaultCommitMsg(){return Object(y.f)(Object(y.e)("Metrics|Create custom dashboard %{fileName}"),{fileName:this.form.fileName})},fileNameState(){return!(this.form.fileName&&!this.form.fileName.endsWith(".yml"))},fileNameFeedback(){return this.fileNameState?"":Object(y.e)("The file name should have a .yml extension")}},mounted(){this.change()},methods:{change(){this.$emit("change",K(K({},this.form),{},{commitMessage:this.form.commitMessage||this.defaultCommitMsg,branch:this.branchOption===this.$options.radioVals.NEW?this.branchName:this.defaultBranch}))},focus(t){var e=this;t===this.$options.radioVals.NEW&&this.$nextTick((function(){e.$refs.branchName.$el.focus()}))}}},X=Object(G.a)(Y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{on:{change:t.change}},[r("p",{staticClass:"text-muted"},[t._v("\n    "+t._s(t.s__("Metrics|You can save a copy of this dashboard to your repository\n    so it can be customized. Select a file name and branch to save it."))+"\n  ")]),t._v(" "),r("gl-form-group",{ref:"fileNameFormGroup",attrs:{label:t.__("File name"),state:t.fileNameState,"invalid-feedback":t.fileNameFeedback,"label-size":"sm","label-for":"fileName"}},[r("gl-form-input",{ref:"fileName",attrs:{id:"fileName","data-qa-selector":"duplicate_dashboard_filename_field",required:!0},model:{value:t.form.fileName,callback:function(e){t.$set(t.form,"fileName",e)},expression:"form.fileName"}})],1),t._v(" "),r("gl-form-group",{attrs:{label:t.__("Branch"),"label-size":"sm","label-for":"branch"}},[r("gl-form-radio-group",{ref:"branchOption",attrs:{checked:t.$options.radioVals.NEW,stacked:!0,options:t.branchOptions},on:{change:t.focus},model:{value:t.branchOption,callback:function(e){t.branchOption=e},expression:"branchOption"}}),t._v(" "),r("gl-form-input",{directives:[{name:"show",rawName:"v-show",value:t.branchOption===t.$options.radioVals.NEW,expression:"branchOption === $options.radioVals.NEW"}],ref:"branchName",attrs:{id:"branchName"},model:{value:t.branchName,callback:function(e){t.branchName=e},expression:"branchName"}})],1),t._v(" "),r("gl-form-group",{attrs:{label:t.__("Commit message (optional)"),"label-size":"sm","label-for":"commitMessage"}},[r("gl-form-textarea",{ref:"commitMessage",attrs:{id:"commitMessage",placeholder:t.defaultCommitMsg},model:{value:t.form.commitMessage,callback:function(e){t.$set(t.form,"commitMessage",e)},expression:"form.commitMessage"}})],1)],1)}),[],!1,null,null,null).exports;function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){et(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const rt="dashboardDuplicated";var nt={components:{GlAlert:B.a,GlLoadingIcon:A.a,GlModal:I.a,DuplicateDashboardForm:X},props:{defaultBranch:{type:String,required:!0},modalId:{type:String,required:!0}},data:()=>({alert:null,loading:!1,form:{}}),computed:tt(tt({},Object(i.d)("monitoringDashboard",["selectedDashboard"])),{},{okButtonText(){return this.loading?Object(y.e)("Metrics|Duplicating..."):Object(y.e)("Metrics|Duplicate")}}),methods:tt(tt({},Object(i.c)("monitoringDashboard",["duplicateSystemDashboard"])),{},{ok(t){var e=this;t.preventDefault(),this.loading=!0,this.alert=null,this.duplicateSystemDashboard(this.form).then((function(t){e.loading=!1,e.alert=null,e.$refs.duplicateDashboardModal.hide();const r=e.form.branch===e.defaultBranch?t:e.selectedDashboard;e.$emit(rt,r)})).catch((function(t){e.loading=!1,e.alert=t}))},hide(){this.alert=null},formChange(t){this.form=t}})},ot=Object(G.a)(nt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-modal",{ref:"duplicateDashboardModal",attrs:{"modal-id":t.modalId,title:t.s__("Metrics|Duplicate dashboard"),"ok-variant":"success"},on:{ok:t.ok,hide:t.hide},scopedSlots:t._u([{key:"modal-ok",fn:function(){return[t.loading?r("gl-loading-icon",{attrs:{inline:"",color:"light"}}):t._e(),t._v("\n    "+t._s(t.okButtonText)+"\n  ")]},proxy:!0}])},[t.alert?r("gl-alert",{staticClass:"mb-3",attrs:{variant:"danger"},on:{dismiss:function(e){t.alert=null}}},[t._v("\n    "+t._s(t.alert)+"\n  ")]):t._e(),t._v(" "),r("duplicate-dashboard-form",{attrs:{dashboard:t.selectedDashboard,"default-branch":t.defaultBranch},on:{change:t.formChange}})],1)}),[],!1,null,null,null).exports;function at(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?at(Object(r),!0).forEach((function(e){st(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function st(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lt={components:{GlButton:l.a,GlDropdown:D.a,GlDropdownDivider:L.a,GlDropdownItem:T.a,GlModal:I.a,GlIcon:s.a,DuplicateDashboardModal:ot,CreateDashboardModal:N,CustomMetricsFormFields:R.a},directives:{GlModal:c.a,GlTooltip:u.a,TrackEvent:x.a},props:{addingMetricsAvailable:{type:Boolean,required:!1,default:!1},customMetricsPath:{type:String,required:!1,default:g.a},validateQueryPath:{type:String,required:!1,default:g.a},defaultBranch:{type:String,required:!0},isOotbDashboard:{type:Boolean,required:!0}},data:()=>({customMetricsFormIsValid:null}),computed:it(it(it({},Object(i.f)("monitoringDashboard",["projectPath","isUpdatingStarredValue","addDashboardDocumentationPath"])),Object(i.d)("monitoringDashboard",["selectedDashboard"])),{},{isOutOfTheBoxDashboard(){var t;return null===(t=this.selectedDashboard)||void 0===t?void 0:t.out_of_the_box_dashboard},isMenuItemEnabled(){var t;return{addPanel:!this.isOotbDashboard,createDashboard:Boolean(this.projectPath),editDashboard:null===(t=this.selectedDashboard)||void 0===t?void 0:t.can_edit}},isMenuItemShown(){return{duplicateDashboard:this.isOutOfTheBoxDashboard}},newPanelPageLocation(){var t;const{params:e,query:r}=null!==(t=this.$route)&&void 0!==t?t:{};return{name:"panel_new",params:e,query:r}}}),methods:it(it({},Object(i.c)("monitoringDashboard",["toggleStarredValue"])),{},{setFormValidity(t){this.customMetricsFormIsValid=t},hideAddMetricModal(){this.$refs.addMetricModal.hide()},getAddMetricTrackingOptions:j.f,submitCustomMetricsForm(){this.$refs.customMetricsForm.submit()},selectDashboard(t){const e="".concat(this.projectPath,"/-/metrics"),r=encodeURIComponent(t.out_of_the_box_dashboard?t.path:t.display_name);Object(v.t)("".concat(e,"/").concat(r))}}),modalIds:{addMetric:"addMetric",createDashboard:"createDashboard",duplicateDashboard:"duplicateDashboard"},i18n:{actionsMenu:Object(y.e)("Metrics|More actions"),duplicateDashboard:Object(y.e)("Metrics|Duplicate current dashboard"),starDashboard:Object(y.e)("Metrics|Star dashboard"),unstarDashboard:Object(y.e)("Metrics|Unstar dashboard"),addMetric:Object(y.e)("Metrics|Add metric"),addPanel:Object(y.e)("Metrics|Add panel"),addPanelInfo:Object(y.e)("Metrics|Duplicate this dashboard to add panel or edit dashboard YAML."),editDashboardInfo:Object(y.e)("Metrics|Duplicate this dashboard to add panel or edit dashboard YAML."),editDashboard:Object(y.e)("Metrics|Edit dashboard YAML"),createDashboard:Object(y.e)("Metrics|Create new dashboard")}},ct=Object(G.a)(lt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-testid":"actions-menu","data-qa-selector":"actions_menu_dropdown",right:"","no-caret":"","toggle-class":"gl-px-3!",title:t.$options.i18n.actionsMenu},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("gl-icon",{staticClass:"gl-mr-0!",attrs:{name:"ellipsis_v"}})]},proxy:!0}])},[t._v(" "),t.addingMetricsAvailable?[r("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.$options.modalIds.addMetric,expression:"$options.modalIds.addMetric"}],attrs:{"data-qa-selector":"add_metric_button","data-testid":"add-metric-item"}},[t._v("\n      "+t._s(t.$options.i18n.addMetric)+"\n    ")]),t._v(" "),r("gl-modal",{ref:"addMetricModal",attrs:{"modal-id":t.$options.modalIds.addMetric,title:t.$options.i18n.addMetric,"data-testid":"add-metric-modal"}},[r("form",{ref:"customMetricsForm",attrs:{action:t.customMetricsPath,method:"post"}},[r("custom-metrics-form-fields",{attrs:{"validate-query-path":t.validateQueryPath,"form-operation":"post"},on:{formValidation:t.setFormValidity}})],1),t._v(" "),r("div",{attrs:{slot:"modal-footer"},slot:"modal-footer"},[r("gl-button",{on:{click:t.hideAddMetricModal}},[t._v("\n          "+t._s(t.__("Cancel"))+"\n        ")]),t._v(" "),r("gl-button",{directives:[{name:"track-event",rawName:"v-track-event",value:t.getAddMetricTrackingOptions(),expression:"getAddMetricTrackingOptions()"}],attrs:{"data-testid":"add-metric-modal-submit-button",disabled:!t.customMetricsFormIsValid,variant:"success"},on:{click:t.submitCustomMetricsForm}},[t._v("\n          "+t._s(t.__("Save changes"))+"\n        ")])],1)])]:t._e(),t._v(" "),t.isMenuItemEnabled.addPanel?r("gl-dropdown-item",{attrs:{"data-testid":"add-panel-item-enabled",to:t.newPanelPageLocation}},[t._v("\n    "+t._s(t.$options.i18n.addPanel)+"\n  ")]):r("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:t.$options.i18n.addPanelInfo}},[r("gl-dropdown-item",{staticClass:"gl-cursor-not-allowed",attrs:{alt:t.$options.i18n.addPanelInfo,to:t.newPanelPageLocation,"data-testid":"add-panel-item-disabled",disabled:""}},[r("span",{staticClass:"gl-text-gray-400"},[t._v(t._s(t.$options.i18n.addPanel))])])],1),t._v(" "),t.isMenuItemEnabled.editDashboard?r("gl-dropdown-item",{attrs:{href:t.selectedDashboard?t.selectedDashboard.project_blob_path:null,"data-qa-selector":"edit_dashboard_button_enabled","data-testid":"edit-dashboard-item-enabled"}},[t._v("\n    "+t._s(t.$options.i18n.editDashboard)+"\n  ")]):r("div",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:t.$options.i18n.editDashboardInfo}},[r("gl-dropdown-item",{staticClass:"gl-cursor-not-allowed",attrs:{alt:t.$options.i18n.editDashboardInfo,href:t.selectedDashboard?t.selectedDashboard.project_blob_path:null,"data-testid":"edit-dashboard-item-disabled",disabled:""}},[r("span",{staticClass:"gl-text-gray-400"},[t._v(t._s(t.$options.i18n.editDashboard))])])],1),t._v(" "),t.isMenuItemShown.duplicateDashboard?[r("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.$options.modalIds.duplicateDashboard,expression:"$options.modalIds.duplicateDashboard"}],attrs:{"data-testid":"duplicate-dashboard-item"}},[t._v("\n      "+t._s(t.$options.i18n.duplicateDashboard)+"\n    ")]),t._v(" "),r("duplicate-dashboard-modal",{attrs:{"default-branch":t.defaultBranch,"modal-id":t.$options.modalIds.duplicateDashboard,"data-testid":"duplicate-dashboard-modal"},on:{dashboardDuplicated:t.selectDashboard}})]:t._e(),t._v(" "),t.selectedDashboard?r("gl-dropdown-item",{attrs:{"data-testid":"star-dashboard-item",disabled:t.isUpdatingStarredValue},on:{click:function(e){return t.toggleStarredValue()}}},[t._v("\n    "+t._s(t.selectedDashboard.starred?t.$options.i18n.unstarDashboard:t.$options.i18n.starDashboard)+"\n  ")]):t._e(),t._v(" "),r("gl-dropdown-divider"),t._v(" "),r("gl-dropdown-item",{directives:[{name:"gl-modal",rawName:"v-gl-modal",value:t.$options.modalIds.createDashboard,expression:"$options.modalIds.createDashboard"}],class:{"monitoring-actions-item-disabled":!t.isMenuItemEnabled.createDashboard},attrs:{"data-testid":"create-dashboard-item",disabled:!t.isMenuItemEnabled.createDashboard}},[t._v("\n    "+t._s(t.$options.i18n.createDashboard)+"\n  ")]),t._v(" "),t.isMenuItemEnabled.createDashboard?[r("create-dashboard-modal",{attrs:{"data-testid":"create-dashboard-modal","add-dashboard-documentation-path":t.addDashboardDocumentationPath,"modal-id":t.$options.modalIds.createDashboard,"project-path":t.projectPath}})]:t._e()],2)}),[],!1,null,null,null).exports;function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(r),!0).forEach((function(e){pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const ht="selectDashboard";var ft={components:{GlIcon:s.a,GlDropdown:D.a,GlDropdownItem:T.a,GlDropdownSectionHeader:k.a,GlDropdownDivider:L.a,GlSearchBoxByType:C.a},directives:{GlModal:c.a},props:{defaultBranch:{type:String,required:!0}},data:()=>({searchTerm:""}),computed:dt(dt(dt({},Object(i.f)("monitoringDashboard",["allDashboards"])),Object(i.d)("monitoringDashboard",["selectedDashboard"])),{},{selectedDashboardText(){var t;return null===(t=this.selectedDashboard)||void 0===t?void 0:t.display_name},selectedDashboardPath(){var t;return null===(t=this.selectedDashboard)||void 0===t?void 0:t.path},filteredDashboards(){var t=this;return this.allDashboards.filter((function(e){let{display_name:r=""}=e;return r.toLowerCase().includes(t.searchTerm.toLowerCase())}))},shouldShowNoMsgContainer(){return 0===this.filteredDashboards.length},starredDashboards(){return this.filteredDashboards.filter((function(t){let{starred:e}=t;return e}))},nonStarredDashboards(){return this.filteredDashboards.filter((function(t){let{starred:e}=t;return!e}))}}),methods:{dashboardDisplayName:t=>t.display_name||t.path||"",selectDashboard(t){this.$emit(ht,t)}}},mt=Object(G.a)(ft,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-dropdown",{attrs:{"toggle-class":"dropdown-menu-toggle","menu-class":"monitor-dashboard-dropdown-menu",text:t.selectedDashboardText}},[r("div",{staticClass:"d-flex flex-column overflow-hidden"},[r("gl-dropdown-section-header",[t._v(t._s(t.__("Dashboard")))]),t._v(" "),r("gl-search-box-by-type",{ref:"monitorDashboardsDropdownSearch",model:{value:t.searchTerm,callback:function(e){t.searchTerm=e},expression:"searchTerm"}}),t._v(" "),r("div",{staticClass:"flex-fill overflow-auto"},[t._l(t.starredDashboards,(function(e){return r("gl-dropdown-item",{key:e.path,attrs:{"is-check-item":!0,"is-checked":e.path===t.selectedDashboardPath},on:{click:function(r){return t.selectDashboard(e)}}},[r("div",{staticClass:"gl-display-flex"},[r("span",{staticClass:"gl-flex-grow-1 gl-min-w-0 gl-overflow-hidden gl-overflow-wrap-break"},[t._v("\n            "+t._s(t.dashboardDisplayName(e))+"\n          ")]),t._v(" "),r("gl-icon",{staticClass:"text-muted gl-flex-shrink-0 gl-ml-3 gl-align-self-center",attrs:{name:"star"}})],1)])})),t._v(" "),t.starredDashboards.length&&t.nonStarredDashboards.length?r("gl-dropdown-divider",{ref:"starredListDivider"}):t._e(),t._v(" "),t._l(t.nonStarredDashboards,(function(e){return r("gl-dropdown-item",{key:e.path,attrs:{"is-check-item":!0,"is-checked":e.path===t.selectedDashboardPath},on:{click:function(r){return t.selectDashboard(e)}}},[r("span",{staticClass:"gl-overflow-hidden gl-overflow-wrap-break"},[t._v("\n          "+t._s(t.dashboardDisplayName(e))+"\n        ")])])}))],2),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowNoMsgContainer,expression:"shouldShowNoMsgContainer"}],ref:"monitorDashboardsDropdownMsg",staticClass:"text-secondary no-matches-message"},[t._v("\n      "+t._s(t.__("No matching results"))+"\n    ")])],1)])}),[],!1,null,null,null).exports,gt=(r("jaBk"),r("KcQl"),r("1fc5")),bt=r("99pJ"),vt=r.n(bt),yt=r("sHIo");function Ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _t(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(r),!0).forEach((function(e){xt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const wt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s";const r="".concat(t).concat(e);switch(e){case"d":return{interval:24*t*60*60*1e3,shortLabel:r,label:Object(y.d)("%d day","%d days",t)};case"h":return{interval:60*t*60*1e3,shortLabel:r,label:Object(y.d)("%d hour","%d hours",t)};case"m":return{interval:60*t*1e3,shortLabel:r,label:Object(y.d)("%d minute","%d minutes",t)};case"s":default:return{interval:1e3*t,shortLabel:r,label:Object(y.d)("%d second","%d seconds",t)}}};var jt={i18n:{refreshDashboard:Object(y.e)("Metrics|Refresh dashboard")},components:{GlButtonGroup:gt.a,GlButton:l.a,GlDropdown:D.a,GlDropdownItem:T.a,GlDropdownDivider:L.a},directives:{GlTooltip:u.a},mixins:[Object(yt.a)()],data:()=>({refreshInterval:null,timeoutId:null}),computed:{disableMetricDashboardRefreshRate(){return this.glFeatures.disableMetricDashboardRefreshRate},dropdownText(){var t,e;return null!==(t=null===(e=this.refreshInterval)||void 0===e?void 0:e.shortLabel)&&void 0!==t?t:Object(y.a)("Off")}},watch:{refreshInterval(){null!==this.refreshInterval?this.startAutoRefresh():this.stopAutoRefresh()}},destroyed(){this.stopAutoRefresh()},methods:_t(_t({},Object(i.c)("monitoringDashboard",["fetchDashboardData"])),{},{refresh(){this.fetchDashboardData()},startAutoRefresh(){var t=this;const e=function(){t.refreshInterval&&(t.timeoutId=setTimeout(t.startAutoRefresh,t.refreshInterval.interval))};this.stopAutoRefresh(),vt.a.hidden()?e():this.fetchDashboardData().finally(e)},stopAutoRefresh(){clearTimeout(this.timeoutId),this.timeoutId=null},setRefreshInterval(t){this.refreshInterval=t},removeRefreshInterval(){this.refreshInterval=null},isChecked(t){return!!this.refreshInterval&&t.interval===this.refreshInterval.interval}}),refreshIntervals:[wt(5),wt(10),wt(30),wt(5,"m"),wt(30,"m"),wt(1,"h"),wt(2,"h"),wt(12,"h"),wt(1,"d")]},St=Object(G.a)(jt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-button-group",[r("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-flex-grow-1",attrs:{variant:"default",title:t.$options.i18n.refreshDashboard,"aria-label":t.$options.i18n.refreshDashboard,icon:"retry"},on:{click:t.refresh}}),t._v(" "),t.disableMetricDashboardRefreshRate?t._e():r("gl-dropdown",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{title:t.s__("Metrics|Set refresh rate"),text:t.dropdownText}},[r("gl-dropdown-item",{attrs:{"is-check-item":!0,"is-checked":null===t.refreshInterval},on:{click:function(e){return t.removeRefreshInterval()}}},[t._v(t._s(t.__("Off")))]),t._v(" "),r("gl-dropdown-divider"),t._v(" "),t._l(t.$options.refreshIntervals,(function(e,n){return r("gl-dropdown-item",{key:n,attrs:{"is-check-item":!0,"is-checked":t.isChecked(e)},on:{click:function(r){return t.setRefreshInterval(e)}}},[t._v(t._s(e.label))])}))],2)],1)}),[],!1,null,null,null).exports;function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){At(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function At(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Tt={i18n:{metricsSettings:Object(y.e)("Metrics|Metrics Settings")},components:{GlIcon:s.a,GlButton:l.a,GlDropdown:D.a,GlLoadingIcon:A.a,GlDropdownItem:T.a,GlDropdownSectionHeader:k.a,GlSearchBoxByType:C.a,DateTimePicker:M.a,DashboardsDropdown:mt,RefreshButton:St,ActionsMenu:ct},directives:{GlModal:c.a,GlTooltip:u.a},props:{defaultBranch:{type:String,required:!0},rearrangePanelsAvailable:{type:Boolean,required:!1,default:!1},customMetricsAvailable:{type:Boolean,required:!1,default:!1},customMetricsPath:{type:String,required:!1,default:g.a},validateQueryPath:{type:String,required:!1,default:g.a},isRearrangingPanels:{type:Boolean,required:!0},selectedTimeRange:{type:Object,required:!0}},computed:Dt(Dt(Dt({},Object(i.f)("monitoringDashboard",["emptyState","environmentsLoading","currentEnvironmentName","dashboardTimezone","projectPath","canAccessOperationsSettings","operationsSettingsPath","currentDashboard","externalDashboardUrl"])),Object(i.d)("monitoringDashboard",["selectedDashboard","filteredEnvironments"])),{},{shouldShowEmptyState(){return Boolean(this.emptyState)},shouldShowEnvironmentsDropdownNoMatchedMsg(){return!this.environmentsLoading&&0===this.filteredEnvironments.length},addingMetricsAvailable(){var t;return this.customMetricsAvailable&&!this.shouldShowEmptyState&&(null===(t=this.selectedDashboard)||void 0===t?void 0:t.out_of_the_box_dashboard)},showRearrangePanelsBtn(){return!this.shouldShowEmptyState&&this.rearrangePanelsAvailable},environmentDropdownText(){var t;return null!==(t=this.currentEnvironmentName)&&void 0!==t?t:""},displayUtc(){return this.dashboardTimezone===E.c.UTC},shouldShowSettingsButton(){return this.canAccessOperationsSettings&&this.operationsSettingsPath},isOOTBDashboard(){var t,e;return null!==(t=null===(e=this.selectedDashboard)||void 0===e?void 0:e.out_of_the_box_dashboard)&&void 0!==t&&t}}),methods:Dt(Dt({},Object(i.c)("monitoringDashboard",["filterEnvironments"])),{},{selectDashboard(t){const e="".concat(this.projectPath,"/-/metrics"),r=encodeURIComponent(t.out_of_the_box_dashboard?t.path:t.display_name);Object(v.t)("".concat(e,"/").concat(r))},debouncedEnvironmentsSearch:P()((function(t){this.filterEnvironments(t)}),500),onDateTimePickerInput(t){Object(v.t)(Object(j.o)(t))},onDateTimePickerInvalid(){this.$emit("dateTimePickerInvalid")},toggleRearrangingPanels(){this.$emit("setRearrangingPanels",!this.isRearrangingPanels)},getEnvironmentPath(t){const e="".concat(this.projectPath,"/-/metrics"),r=encodeURIComponent(this.currentDashboard||""),n=r?"".concat(e,"/").concat(r):e;return Object(v.q)({environment:t},n)}}),timeRanges:_.d},kt=Object(G.a)(Tt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"prometheusGraphsHeader"},[r("div",{staticClass:"mb-2 mr-2 d-flex d-sm-block"},[r("dashboards-dropdown",{staticClass:"flex-grow-1",attrs:{id:"monitor-dashboards-dropdown","data-qa-selector":"dashboards_filter_dropdown","toggle-class":"dropdown-menu-toggle","default-branch":t.defaultBranch},on:{selectDashboard:t.selectDashboard}})],1),t._v(" "),r("span",{staticClass:"gl-pl-3 border-left gl-mb-3 d-none d-sm-block",attrs:{"aria-hidden":"true"}}),t._v(" "),r("div",{staticClass:"mb-2 pr-2 d-flex d-sm-block"},[r("gl-dropdown",{ref:"monitorEnvironmentsDropdown",staticClass:"flex-grow-1",attrs:{id:"monitor-environments-dropdown","data-qa-selector":"environments_dropdown","toggle-class":"dropdown-menu-toggle","menu-class":"monitor-environment-dropdown-menu",text:t.environmentDropdownText}},[r("div",{staticClass:"d-flex flex-column overflow-hidden"},[r("gl-dropdown-section-header",[t._v(t._s(t.__("Environment")))]),t._v(" "),r("gl-search-box-by-type",{on:{input:t.debouncedEnvironmentsSearch}}),t._v(" "),t.environmentsLoading?r("gl-loading-icon",{attrs:{inline:!0}}):r("div",{staticClass:"flex-fill overflow-auto"},t._l(t.filteredEnvironments,(function(e){return r("gl-dropdown-item",{key:e.id,attrs:{"is-check-item":!0,"is-checked":e.name===t.currentEnvironmentName,href:t.getEnvironmentPath(e.id)}},[t._v("\n            "+t._s(e.name)+"\n          ")])})),1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowEnvironmentsDropdownNoMatchedMsg,expression:"shouldShowEnvironmentsDropdownNoMatchedMsg"}],ref:"monitorEnvironmentsDropdownMsg",staticClass:"text-secondary no-matches-message"},[t._v("\n          "+t._s(t.__("No matching results"))+"\n        ")])],1)])],1),t._v(" "),r("div",{staticClass:"mb-2 pr-2 d-flex d-sm-block"},[r("date-time-picker",{ref:"dateTimePicker",staticClass:"flex-grow-1 show-last-dropdown",attrs:{"data-qa-selector":"range_picker_dropdown",value:t.selectedTimeRange,options:t.$options.timeRanges,utc:t.displayUtc},on:{input:t.onDateTimePickerInput,invalid:t.onDateTimePickerInvalid}})],1),t._v(" "),r("div",{staticClass:"mb-2 pr-2 d-flex d-sm-block"},[r("refresh-button")],1),t._v(" "),r("div",{staticClass:"flex-grow-1"}),t._v(" "),r("div",{staticClass:"d-sm-flex"},[t.showRearrangePanelsBtn?r("div",{staticClass:"mb-2 mr-2 d-flex"},[r("gl-button",{staticClass:"flex-grow-1 js-rearrange-button",attrs:{pressed:t.isRearrangingPanels,variant:"default"},on:{click:t.toggleRearrangingPanels}},[t._v("\n        "+t._s(t.__("Arrange charts"))+"\n      ")])],1):t._e(),t._v(" "),t.externalDashboardUrl&&t.externalDashboardUrl.length?r("div",{staticClass:"mb-2 mr-2 d-flex d-sm-block"},[r("gl-button",{staticClass:"flex-grow-1 js-external-dashboard-link",attrs:{variant:"info",category:"primary",href:t.externalDashboardUrl,target:"_blank",rel:"noopener noreferrer"}},[t._v("\n        "+t._s(t.__("View full dashboard"))+" "),r("gl-icon",{attrs:{name:"external-link"}})],1)],1):t._e(),t._v(" "),r("div",{staticClass:"gl-mb-3 gl-mr-3 d-flex d-sm-block"},[r("actions-menu",{attrs:{"adding-metrics-available":t.addingMetricsAvailable,"custom-metrics-path":t.customMetricsPath,"validate-query-path":t.validateQueryPath,"default-branch":t.defaultBranch,"is-ootb-dashboard":t.isOOTBDashboard}})],1),t._v(" "),t.shouldShowSettingsButton?[r("span",{staticClass:"gl-pl-3 border-left gl-mb-3 d-none d-sm-block",attrs:{"aria-hidden":"true"}}),t._v(" "),r("div",{staticClass:"mb-2 mr-2 d-flex d-sm-block"},[r("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-testid":"metrics-settings-button",icon:"settings",href:t.operationsSettingsPath,title:t.$options.i18n.metricsSettings,"aria-label":t.$options.i18n.metricsSettings}})],1)]:t._e()],2)])}),[],!1,null,null,null).exports,Ct=r("RyA9"),Mt=r("dsLq"),Et={components:{GlLoadingIcon:A.a,GlEmptyState:Mt.a},props:{selectedState:{type:String,required:!0,validator:function(t){return Object.values(w.m).includes(t)}},documentationPath:{type:String,required:!0},settingsPath:{type:String,required:!1,default:""},clustersPath:{type:String,required:!1,default:""},emptyGettingStartedSvgPath:{type:String,required:!0},emptyLoadingSvgPath:{type:String,required:!0},emptyNoDataSvgPath:{type:String,required:!0},emptyNoDataSmallSvgPath:{type:String,required:!0},emptyUnableToConnectSvgPath:{type:String,required:!0},compact:{type:Boolean,required:!1,default:!1}},data(){return{states:{[w.m.GETTING_STARTED]:{svgPath:this.emptyGettingStartedSvgPath,title:Object(y.a)("Get started with performance monitoring"),description:Object(y.a)("Stay updated about the performance and health\n              of your environment by configuring Prometheus to monitor your deployments."),primaryButtonText:Object(y.a)("Install on clusters"),primaryButtonLink:this.clustersPath,secondaryButtonText:Object(y.a)("Configure existing installation"),secondaryButtonLink:this.settingsPath},[w.m.NO_DATA]:{svgPath:this.emptyNoDataSvgPath,title:Object(y.a)("No data found"),description:Object(y.a)("You are connected to the Prometheus server, but there is currently\n              no data to display."),primaryButtonText:Object(y.a)("Configure Prometheus"),primaryButtonLink:this.settingsPath,secondaryButtonText:"",secondaryButtonLink:""},[w.m.UNABLE_TO_CONNECT]:{svgPath:this.emptyUnableToConnectSvgPath,title:Object(y.a)("Unable to connect to Prometheus server"),description:Object(y.a)("Ensure connectivity is available from the GitLab server to the Prometheus server"),primaryButtonText:Object(y.a)("View documentation"),primaryButtonLink:this.documentationPath,secondaryButtonText:Object(y.a)("Configure Prometheus"),secondaryButtonLink:this.settingsPath}}}},computed:{isLoading(){return this.selectedState===w.m.LOADING},currentState(){return this.states[this.selectedState]}}},Lt=Object(G.a)(Et,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isLoading?r("gl-loading-icon",{staticClass:"gl-my-9",attrs:{size:"xl"}}):t._e(),t._v(" "),t.currentState?r("gl-empty-state",t._b({attrs:{compact:t.compact}},"gl-empty-state",t.currentState,!1)):t._e()],1)}),[],!1,null,null,null).exports,It={components:{GlLoadingIcon:A.a,GlIcon:s.a},props:{name:{type:String,required:!0},showPanels:{type:Boolean,required:!1,default:!0},isLoading:{type:Boolean,required:!1,default:!1},collapseGroup:{type:Boolean,required:!1,default:!1}},data(){return{isCollapsed:this.collapseGroup}},computed:{caretIcon(){return this.isCollapsed?"angle-right":"angle-down"}},watch:{collapseGroup(t){this.showPanels&&!t&&(this.isCollapsed=!1)}},methods:{collapse(){this.isCollapsed=!this.isCollapsed}}},Rt=Object(G.a)(It,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showPanels?r("div",{ref:"graph-group",staticClass:"card prometheus-panel"},[r("div",{staticClass:"card-header d-flex align-items-center"},[r("h4",{staticClass:"flex-grow-1"},[t._v(t._s(t.name))]),t._v(" "),t.isLoading?r("gl-loading-icon",{attrs:{name:"loading"}}):t._e(),t._v(" "),r("a",{staticClass:"js-graph-group-toggle gl-display-flex gl-ml-2 gl-text-gray-900",attrs:{"data-testid":"group-toggle-button","aria-label":t.__("Toggle collapse"),icon:t.caretIcon,role:"button",tabindex:"0"},on:{click:t.collapse,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.collapse(e)}}},[r("gl-icon",{attrs:{name:t.caretIcon}})],1)],1),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCollapsed,expression:"!isCollapsed"}],ref:"graph-group-content",staticClass:"card-body prometheus-graph-group p-0"},[t._t("default")],2)]):r("div",{ref:"graph-group-content",staticClass:"prometheus-graph-group"},[t._t("default")],2)}),[],!1,null,null,null).exports,qt=r("R0j4"),$t={components:{GlEmptyState:Mt.a},directives:{SafeHtml:qt.a},props:{documentationPath:{type:String,required:!0},settingsPath:{type:String,required:!0},selectedState:{type:String,required:!0},svgPath:{type:String,required:!0}},data(){const t='<a href="'.concat(this.documentationPath,'">').concat(Object(y.a)("More information"),"</a>");return{states:{[w.v.NO_DATA]:{title:Object(y.a)("No data to display"),slottedDescription:Object(y.f)(Object(y.a)("The data source is connected, but there is no data to display. %{documentationLink}"),{documentationLink:t},!1)},[w.v.TIMEOUT]:{title:Object(y.a)("Connection timed out"),slottedDescription:Object(y.f)(Object(y.a)("Charts can't be displayed as the request for data has timed out. %{documentationLink}"),{documentationLink:t},!1)},[w.v.CONNECTION_FAILED]:{title:Object(y.a)("Connection failed"),description:Object(y.a)("We couldn't reach the Prometheus server.\n            Either the server no longer exists or the configuration details need updating."),buttonText:Object(y.a)("Verify configuration"),buttonPath:this.settingsPath},[w.v.BAD_QUERY]:{title:Object(y.a)("Query cannot be processed"),slottedDescription:Object(y.f)(Object(y.a)('The Prometheus server responded with "bad request".\n              Please check your queries are correct and are supported in your Prometheus version. %{documentationLink}'),{documentationLink:t},!1),buttonText:Object(y.a)("Verify configuration"),buttonPath:this.settingsPath},[w.v.LOADING]:{title:Object(y.a)("Waiting for performance data"),description:Object(y.a)("Creating graphs uses the data from the Prometheus server.\n            If this takes a long time, ensure that data is available.")},[w.v.UNKNOWN_ERROR]:{title:Object(y.a)("An error has occurred"),description:Object(y.a)("An error occurred while loading the data. Please try again.")}}}},computed:{currentState(){return this.states[this.selectedState]||this.states[w.v.UNKNOWN_ERROR]}}},Gt=Object(G.a)($t,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-empty-state",{attrs:{title:t.currentState.title,"primary-button-text":t.currentState.buttonText,"primary-button-link":t.currentState.buttonPath,description:t.currentState.description,"svg-path":t.svgPath,compact:!0},scopedSlots:t._u([t.currentState.slottedDescription?{key:"description",fn:function(){return[r("div",{directives:[{name:"safe-html",rawName:"v-safe-html",value:t.currentState.slottedDescription,expression:"currentState.slottedDescription"}]})]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null).exports,Nt=r("MV2A");function Bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ft(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zt={components:{GlIcon:s.a,GlLink:Nt.a},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(r),!0).forEach((function(e){Ft(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(i.d)("monitoringDashboard",{links:"linksWithMetadata"}))},Vt=Object(G.a)(zt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"linksSection",staticClass:"gl-sm-display-flex gl-sm-flex-wrap gl-mt-5 gl-p-3 gl-bg-gray-10 border gl-rounded-base links-section"},t._l(t.links,(function(e,n){return r("div",{key:n,staticClass:"gl-mb-1 gl-mr-5 gl-display-flex gl-sm-display-block gl-hover-text-blue-600-children gl-word-break-all"},[r("gl-link",{staticClass:"gl-text-gray-900 gl-text-decoration-none!",attrs:{href:e.url}},[r("gl-icon",{staticClass:"gl-text-gray-500 gl-vertical-align-text-bottom gl-mr-2",attrs:{name:"link"}}),t._v(t._s(e.title)+"\n    ")],1)],1)})),0)}),[],!1,null,null,null).exports,Ut={components:{GlFormGroup:V.a,GlDropdown:D.a,GlDropdownItem:T.a},props:{name:{type:String,required:!0},label:{type:String,required:!0},value:{type:String,required:!1,default:""},options:{type:Object,required:!0}},computed:{text(){var t,e=this;const r=null===(t=this.options.values)||void 0===t?void 0:t.find((function(t){return t.value===e.value}));return(null==r?void 0:r.text)||this.value}},methods:{onUpdate(t){this.$emit("input",t)}}},Ht=Object(G.a)(Ut,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-form-group",{attrs:{label:t.label}},[r("gl-dropdown",{attrs:{"toggle-class":"dropdown-menu-toggle",text:t.text||t.s__("Metrics|Select a value")}},t._l(t.options.values,(function(e){return r("gl-dropdown-item",{key:e.value,on:{click:function(r){return t.onUpdate(e.value)}}},[t._v(t._s(e.text))])})),1)],1)}),[],!1,null,null,null).exports,Qt={components:{GlFormGroup:V.a,GlFormInput:U.a},props:{name:{type:String,required:!0},label:{type:String,required:!0},value:{type:String,required:!0}},methods:{onUpdate(t){this.$emit("input",t.target.value)}}},Wt=Object(G.a)(Qt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("gl-form-group",{attrs:{label:t.label}},[r("gl-form-input",{attrs:{value:t.value,name:t.name},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onUpdate(e)},blur:function(e){return t.onUpdate(e)}}})],1)}),[],!1,null,null,null).exports;function Kt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(r),!0).forEach((function(e){Yt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xt={components:{DropdownField:Ht,TextField:Wt},computed:Zt({},Object(i.f)("monitoringDashboard",["variables"])),methods:Zt(Zt({},Object(i.c)("monitoringDashboard",["updateVariablesAndFetchData"])),{},{refreshDashboard(t,e){t.value!==e&&(this.updateVariablesAndFetchData({name:t.name,value:e}),Object(j.k)(this.variables))},variableField:t=>t===w.h.custom||t===w.h.metric_label_values?Ht:Wt})},Jt=Object(G.a)(Xt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"variablesSection",staticClass:"d-sm-flex flex-sm-wrap pt-2 pr-1 pb-0 pl-2 variables-section",attrs:{"data-qa-selector":"variables_content"}},t._l(t.variables,(function(e){return r("div",{key:e.name,staticClass:"mb-1 pr-2 d-flex d-sm-block"},[r(t.variableField(e.type),{tag:"component",staticClass:"mb-0 flex-grow-1",attrs:{label:e.label,value:e.value,name:e.name,options:e.options,"data-qa-selector":"variable_item"},on:{input:function(r){return t.refreshDashboard(e,r)}}})],1)})),0)}),[],!1,null,null,null).exports;function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){re(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ne={components:{AlertsDeprecationWarning:O.a,VueDraggable:f.a,DashboardHeader:kt,DashboardPanel:Ct.a,GlIcon:s.a,GlButton:l.a,GraphGroup:Rt,EmptyState:Lt,GroupEmptyState:Gt,VariablesSection:Jt,LinksSection:Vt},directives:{GlModal:c.a,GlTooltip:u.a,TrackEvent:x.a},props:{hasMetrics:{type:Boolean,required:!1,default:!0},showHeader:{type:Boolean,required:!1,default:!0},showPanels:{type:Boolean,required:!1,default:!0},documentationPath:{type:String,required:!0},settingsPath:{type:String,required:!0},clustersPath:{type:String,required:!0},tagsPath:{type:String,required:!0},defaultBranch:{type:String,required:!1,default:""},emptyGettingStartedSvgPath:{type:String,required:!0},emptyLoadingSvgPath:{type:String,required:!0},emptyNoDataSvgPath:{type:String,required:!0},emptyNoDataSmallSvgPath:{type:String,required:!0},emptyUnableToConnectSvgPath:{type:String,required:!0},customMetricsAvailable:{type:Boolean,required:!1,default:!1},customMetricsPath:{type:String,required:!1,default:g.a},validateQueryPath:{type:String,required:!1,default:g.a},smallEmptyState:{type:Boolean,required:!1,default:!1},alertsEndpoint:{type:String,required:!1,default:null},prometheusAlertsAvailable:{type:Boolean,required:!1,default:!1},rearrangePanelsAvailable:{type:Boolean,required:!1,default:!1}},data:()=>({selectedTimeRange:Object(j.n)()||_.c,isRearrangingPanels:!1,originalDocumentTitle:document.title,hoveredPanel:""}),computed:ee(ee(ee({},Object(i.f)("monitoringDashboard",["dashboard","emptyState","expandedPanel","variables","links","currentDashboard","hasDashboardValidationWarnings"])),Object(i.d)("monitoringDashboard",["selectedDashboard","getMetricStates"])),{},{shouldShowEmptyState(){return Boolean(this.emptyState)},shouldShowVariablesSection(){return Boolean(this.variables.length)},shouldShowLinksSection(){return Object.keys(this.links).length>0}}),watch:{dashboard(t){try{const e=Object(j.d)(t);e&&this.setExpandedPanel(e)}catch(t){Object(m.c)(Object(y.e)("Metrics|Link contains invalid chart information, please verify the link to see the expanded panel."))}},expandedPanel:{handler(t){var e;let{group:r,panel:n}=t;const o=this.currentDashboard||(null===(e=this.selectedDashboard)||void 0===e?void 0:e.path);Object(v.A)({url:Object(j.i)(o,Object(j.b)(this.variables),r,n),title:document.title})},deep:!0},selectedDashboard(t){this.prependToDocumentTitle(null==t?void 0:t.display_name)},hasDashboardValidationWarnings(t){t&&Object(m.c)(Object(y.e)("Metrics|Your dashboard schema is invalid. Edit the dashboard to correct the YAML schema."),"warning")}},created(){window.addEventListener("keyup",this.onKeyup),p.a.bind(Object.values(w.q),this.runShortcut)},destroyed(){window.removeEventListener("keyup",this.onKeyup),p.a.unbind(Object.values(w.q))},mounted(){this.hasMetrics?(this.setTimeRange(this.selectedTimeRange),this.fetchData()):this.setGettingStartedEmptyState()},methods:ee(ee({},Object(i.c)("monitoringDashboard",["setTimeRange","fetchData","setGettingStartedEmptyState","setPanelGroupMetrics","setExpandedPanel","clearExpandedPanel"])),{},{updatePanels(t,e){this.setPanelGroupMetrics({panels:e,key:t})},removePanel(t,e,r){this.setPanelGroupMetrics({panels:e.filter((function(t,e){return e!==r})),key:t})},generatePanelUrl(t,e){var r;const n=this.currentDashboard||(null===(r=this.selectedDashboard)||void 0===r?void 0:r.path);return Object(j.i)(n,Object(j.b)(this.variables),t,e)},groupSingleEmptyState(t){const e=this.getMetricStates(t);return 1===e.length&&e[0]!==w.v.OK?e[0]:null},isGroupLoading(t){return this.groupSingleEmptyState(t)===w.v.LOADING},collapseGroup(t){return!this.getMetricStates(t).includes(w.v.OK)},prependToDocumentTitle(t){t&&(document.title="".concat(t,"  ").concat(this.originalDocumentTitle))},onTimeRangeZoom(t){let{start:e,end:r}=t;Object(v.A)({url:Object(v.q)({start:e,end:r},window.location.href),title:document.title}),this.selectedTimeRange={start:e,end:r},this.setTimeRange(this.selectedTimeRange)},onExpandPanel(t,e){this.setExpandedPanel({group:t,panel:e})},onGoBack(){this.clearExpandedPanel()},onKeyup(t){const{key:e}=t;e===b.c&&this.clearExpandedPanel()},onSetRearrangingPanels(t){this.isRearrangingPanels=t},onDateTimePickerInvalid(){Object(m.c)(Object(y.e)("Metrics|Link contains an invalid time window, please verify the link to see the requested time range.")),this.selectedTimeRange=_.c},isPanelHalfWidth:(t,e)=>e%2==0||!(t===e-1),runShortcut(t){const e=this.$refs[this.hoveredPanel];if(!e)return;const[r]=e;let n="";switch(t.key){case w.q.EXPAND:n="onExpandFromKeyboardShortcut";break;case w.q.VISIT_LOGS:n="visitLogsPageFromKeyboardShortcut";break;case w.q.SHOW_ALERT:n="showAlertModalFromKeyboardShortcut";break;case w.q.DOWNLOAD_CSV:n="downloadCsvFromKeyboardShortcut";break;case w.q.CHART_COPY:n="copyChartLinkFromKeyboardShotcut";break;default:n="onExpandFromKeyboardShortcut"}r[n]()},setHoveredPanel(t,e){this.hoveredPanel="dashboard-panel-".concat(t,"-").concat(e)},clearHoveredPanel(){this.hoveredPanel=""}}),i18n:{collapsePanelLabel:Object(y.e)("Metrics|Collapse panel"),collapsePanelTooltip:Object(y.e)("Metrics|Collapse panel (Esc)")}};function oe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ae(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ie={components:{Dashboard:Object(G.a)(ne,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"prometheus-graphs",attrs:{"data-qa-selector":"prometheus_graphs"}},[r("alerts-deprecation-warning"),t._v(" "),t.showHeader?r("dashboard-header",{ref:"prometheusGraphsHeader",staticClass:"prometheus-graphs-header d-sm-flex flex-sm-wrap pt-2 pr-1 pb-0 pl-2 border-bottom bg-gray-light",attrs:{"default-branch":t.defaultBranch,"rearrange-panels-available":t.rearrangePanelsAvailable,"custom-metrics-available":t.customMetricsAvailable,"custom-metrics-path":t.customMetricsPath,"validate-query-path":t.validateQueryPath,"is-rearranging-panels":t.isRearrangingPanels,"selected-time-range":t.selectedTimeRange},on:{dateTimePickerInvalid:t.onDateTimePickerInvalid,setRearrangingPanels:t.onSetRearrangingPanels}}):t._e(),t._v(" "),t.shouldShowEmptyState?r("empty-state",{attrs:{"selected-state":t.emptyState,"documentation-path":t.documentationPath,"settings-path":t.settingsPath,"clusters-path":t.clustersPath,"empty-getting-started-svg-path":t.emptyGettingStartedSvgPath,"empty-loading-svg-path":t.emptyLoadingSvgPath,"empty-no-data-svg-path":t.emptyNoDataSvgPath,"empty-no-data-small-svg-path":t.emptyNoDataSmallSvgPath,"empty-unable-to-connect-svg-path":t.emptyUnableToConnectSvgPath,compact:t.smallEmptyState}}):[t.shouldShowVariablesSection?r("variables-section"):t._e(),t._v(" "),t.shouldShowLinksSection?r("links-section"):t._e(),t._v(" "),r("dashboard-panel",{directives:[{name:"show",rawName:"v-show",value:t.expandedPanel.panel,expression:"expandedPanel.panel"}],ref:"expandedPanel",attrs:{"settings-path":t.settingsPath,"clipboard-text":t.generatePanelUrl(t.expandedPanel.group,t.expandedPanel.panel),"graph-data":t.expandedPanel.panel,"alerts-endpoint":t.alertsEndpoint,height:600,"prometheus-alerts-available":t.prometheusAlertsAvailable},on:{timerangezoom:t.onTimeRangeZoom},scopedSlots:t._u([{key:"top-left",fn:function(){return[r("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],ref:"goBackBtn",staticClass:"mr-3 my-3",attrs:{title:t.$options.i18n.collapsePanelTooltip},on:{click:t.onGoBack}},[t._v("\n          "+t._s(t.$options.i18n.collapsePanelLabel)+"\n        ")])]},proxy:!0}],null,!1,671295204)}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!t.expandedPanel.panel,expression:"!expandedPanel.panel"}]},t._l(t.dashboard.panelGroups,(function(e){return r("graph-group",{key:e.group+"."+e.priority,attrs:{name:e.group,"show-panels":t.showPanels,"is-loading":t.isGroupLoading(e.key),"collapse-group":t.collapseGroup(e.key)}},[t.groupSingleEmptyState(e.key)?r("div",{staticClass:"py-5 col col-sm-10 col-md-8 col-lg-7 col-xl-6"},[r("group-empty-state",{ref:"empty-group",refInFor:!0,attrs:{"documentation-path":t.documentationPath,"settings-path":t.settingsPath,"selected-state":t.groupSingleEmptyState(e.key),"svg-path":t.emptyNoDataSmallSvgPath}})],1):r("vue-draggable",{attrs:{value:e.panels,group:"metrics-dashboard","component-data":{attrs:{class:"row mx-0 w-100"}},disabled:!t.isRearrangingPanels},on:{input:function(r){return t.updatePanels(e.key,r)}}},t._l(e.panels,(function(n,o){return r("div",{key:"dashboard-panel-"+o,staticClass:"col-12 px-2 mb-2 draggable",class:{"draggable-enabled":t.isRearrangingPanels,"col-lg-6":t.isPanelHalfWidth(o,e.panels.length)},attrs:{"data-testid":"dashboard-panel-layout-wrapper"},on:{mouseover:function(r){return t.setHoveredPanel(e.key,o)},mouseout:t.clearHoveredPanel}},[r("div",{staticClass:"position-relative draggable-panel js-draggable-panel"},[t.isRearrangingPanels?r("div",{staticClass:"draggable-remove js-draggable-remove p-2 w-100 position-absolute d-flex justify-content-end",on:{click:function(r){return t.removePanel(e.key,e.panels,o)}}},[r("a",{staticClass:"mx-2 p-2 draggable-remove-link",attrs:{"aria-label":t.__("Remove")}},[r("gl-icon",{attrs:{name:"close"}})],1)]):t._e(),t._v(" "),r("dashboard-panel",{ref:"dashboard-panel-"+e.key+"-"+o,refInFor:!0,attrs:{"settings-path":t.settingsPath,"clipboard-text":t.generatePanelUrl(e.group,n),"graph-data":n,"alerts-endpoint":t.alertsEndpoint,"prometheus-alerts-available":t.prometheusAlertsAvailable},on:{timerangezoom:t.onTimeRangeZoom,expand:function(r){return t.onExpandPanel(e.group,n)}}})],1)])})),0)],1)})),1)]],2)}),[],!1,null,null,null).exports},props:{dashboardProps:{type:Object,required:!0}},created(){const t=this.$route.query.dashboard||this.$route.params.dashboard,e=t?decodeURIComponent(t):null;this.setCurrentDashboard({currentDashboard:e})},methods:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oe(Object(r),!0).forEach((function(e){ae(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},Object(i.c)("monitoringDashboard",["setCurrentDashboard"]))},se=Object(G.a)(ie,(function(){var t=this.$createElement;return(this._self._c||t)("dashboard",this._b({},"dashboard",Object.assign({},this.dashboardProps),!1))}),[],!1,null,null,null).exports,le=r("BXQK"),ce=r("F6ad");function ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ue(Object(r),!0).forEach((function(e){pe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var he={i18n:{refreshButtonLabel:Object(y.e)("Metrics|Refresh Prometheus data")},components:{GlCard:le.a,GlForm:ce.a,GlFormGroup:V.a,GlFormTextarea:Q.a,GlButton:l.a,GlSprintf:q.a,GlAlert:B.a,DashboardPanel:Ct.a,DateTimePicker:M.a},directives:{GlTooltip:u.a},data:()=>({yml:"title: Go heap size\ntype: area-chart\ny_axis:\n  format: 'bytes'\nmetrics:\n  - metric_id: 'go_memstats_alloc_bytes_1'\n    query_range: 'go_memstats_alloc_bytes'\n"}),computed:de({},Object(i.f)("monitoringDashboard",["panelPreviewIsLoading","panelPreviewError","panelPreviewGraphData","panelPreviewTimeRange","panelPreviewIsShown","projectPath","addDashboardDocumentationPath"])),methods:de(de({},Object(i.c)("monitoringDashboard",["fetchPanelPreview","fetchPanelPreviewMetrics","setPanelPreviewTimeRange"])),{},{onSubmit(){this.fetchPanelPreview(this.yml)},onDateTimePickerInput(t){this.setPanelPreviewTimeRange(t),this.panelPreviewIsShown&&!this.panelPreviewError&&this.fetchPanelPreviewMetrics()},onRefresh(){this.panelPreviewIsShown&&!this.panelPreviewError&&this.fetchPanelPreviewMetrics()}}),timeRanges:_.d},fe=Object(G.a)(he,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"prometheus-panel-builder"},[r("div",{staticClass:"gl-xs-flex-direction-column gl-display-flex gl-mx-n3"},[r("gl-card",{staticClass:"gl-flex-grow-1 gl-flex-basis-0 gl-mx-3 gl-mb-5",scopedSlots:t._u([{key:"header",fn:function(){return[r("h2",{staticClass:"gl-font-size-h2 gl-my-3"},[t._v(t._s(t.s__("Metrics|1. Define and preview panel")))])]},proxy:!0},{key:"default",fn:function(){return[r("p",[t._v(t._s(t.s__("Metrics|Define panel YAML below to preview panel.")))]),t._v(" "),r("gl-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("gl-form-group",{attrs:{label:t.s__("Metrics|Panel YAML"),"label-for":"panel-yml-input"}},[r("gl-form-textarea",{staticClass:"gl-h-200! gl-font-monospace! gl-font-size-monospace!",attrs:{id:"panel-yml-input"},model:{value:t.yml,callback:function(e){t.yml=e},expression:"yml"}})],1),t._v(" "),r("div",{staticClass:"gl-text-right"},[r("gl-button",{ref:"clipboardCopyBtn",staticClass:"gl-xs-w-full gl-xs-mb-3",attrs:{variant:"success",category:"secondary","data-clipboard-text":t.yml},on:{click:function(e){t.$toast.show(t.s__("Metrics|Panel YAML copied"))}}},[t._v("\n              "+t._s(t.s__("Metrics|Copy YAML"))+"\n            ")]),t._v(" "),r("gl-button",{staticClass:"js-no-auto-disable gl-xs-w-full",attrs:{type:"submit",variant:"success",disabled:t.panelPreviewIsLoading}},[t._v("\n              "+t._s(t.s__("Metrics|Preview panel"))+"\n            ")])],1)],1)]},proxy:!0}])}),t._v(" "),r("gl-card",{staticClass:"gl-flex-grow-1 gl-flex-basis-0 gl-mx-3 gl-mb-5",attrs:{"body-class":"gl-display-flex gl-flex-direction-column"},scopedSlots:t._u([{key:"header",fn:function(){return[r("h2",{staticClass:"gl-font-size-h2 gl-my-3"},[t._v("\n          "+t._s(t.s__("Metrics|2. Paste panel YAML into dashboard"))+"\n        ")])]},proxy:!0},{key:"default",fn:function(){return[r("div",{staticClass:"gl-flex-grow-1 gl-display-flex gl-flex-direction-column gl-justify-content-center"},[r("p",[t._v("\n            "+t._s(t.s__("Metrics|Copy and paste the panel YAML into your dashboard YAML file."))+"\n            "),r("br"),t._v(" "),r("gl-sprintf",{attrs:{message:t.s__("Metrics|Dashboard files can be found in %{codeStart}.gitlab/dashboards%{codeEnd} at the root of this project.")},scopedSlots:t._u([{key:"code",fn:function(e){var n=e.content;return[r("code",[t._v(t._s(n))])]}}])})],1)]),t._v(" "),r("div",{staticClass:"gl-text-right"},[r("gl-button",{ref:"viewDocumentationBtn",staticClass:"gl-xs-w-full gl-xs-mb-3",attrs:{category:"secondary",variant:"info",target:"_blank",href:t.addDashboardDocumentationPath}},[t._v("\n            "+t._s(t.s__("Metrics|View documentation"))+"\n          ")]),t._v(" "),r("gl-button",{ref:"openRepositoryBtn",staticClass:"gl-xs-w-full",attrs:{variant:"success",href:t.projectPath}},[t._v("\n            "+t._s(t.s__("Metrics|Open repository"))+"\n          ")])],1)]},proxy:!0}])})],1),t._v(" "),t.panelPreviewError?r("gl-alert",{attrs:{variant:"warning",dismissible:!1}},[t._v("\n    "+t._s(t.panelPreviewError)+"\n  ")]):t._e(),t._v(" "),r("date-time-picker",{ref:"dateTimePicker",staticClass:"gl-flex-grow-1 preview-date-time-picker gl-xs-mb-3",attrs:{value:t.panelPreviewTimeRange,options:t.$options.timeRanges},on:{input:t.onDateTimePickerInput}}),t._v(" "),r("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],attrs:{"data-testid":"previewRefreshButton",icon:"retry",title:t.$options.i18n.refreshButtonLabel,"aria-label":t.$options.i18n.refreshButtonLabel},on:{click:t.onRefresh}}),t._v(" "),r("dashboard-panel",{attrs:{"graph-data":t.panelPreviewGraphData}})],1)}),[],!1,null,null,null).exports;function me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ge(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?me(Object(r),!0).forEach((function(e){be(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function be(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ve={components:{GlButton:l.a,DashboardPanelBuilder:fe},directives:{GlTooltip:u.a},computed:ge(ge({},Object(i.f)("monitoringDashboard",["panelPreviewYml"])),{},{dashboardPageLocation(){return ge(ge({},this.$route),{},{name:"dashboard"})}}),i18n:{backToDashboard:Object(y.e)("Metrics|Back to dashboard")}},ye=[{name:"panel_new",path:"/:dashboard(.+)?/panel/new",component:Object(G.a)(ve,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gl-mt-5"},[r("div",{staticClass:"gl-display-flex gl-align-items-baseline gl-mb-5"},[r("gl-button",{directives:[{name:"gl-tooltip",rawName:"v-gl-tooltip"}],staticClass:"gl-mr-5",attrs:{icon:"go-back",to:t.dashboardPageLocation,"aria-label":t.$options.i18n.backToDashboard,title:t.$options.i18n.backToDashboard}}),t._v(" "),r("h1",{staticClass:"gl-font-size-h1 gl-my-0"},[t._v(t._s(t.s__("Metrics|Add panel")))])],1),t._v(" "),r("dashboard-panel-builder")],1)}),[],!1,null,null,null).exports},{name:"dashboard",path:"/:dashboard(.+)?",component:se}];function Oe(t){return new a.a({base:t,mode:"history",routes:ye})}o.default.use(a.a);var _e=r("930T");function xe(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(r),!0).forEach((function(e){je(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function je(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Se(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}o.default.use(n.a);e.a=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=document.getElementById("prometheus-graphs");if(e&&e.dataset){const r=e.dataset,{metricsDashboardBasePath:n}=r,a=Se(r,["metricsDashboardBasePath"]),i=Object(j.l)(a),{initState:s,dataProps:{hasManagedPrometheus:l}}=i,c=Se(i.dataProps,["hasManagedPrometheus"]),u=Object(_e.createStore)(s),d=Oe(n);new o.default({el:e,store:u,router:d,provide:{hasManagedPrometheus:l},data:()=>({dashboardProps:we(we({},c),t)}),render(t){return t("RouterView",{attrs:{dashboardProps:this.dashboardProps}})}})}}},a0mT:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("1M6e"),c=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{isSubsetOf:function(t){var e=l(this),r=i(t),n=r.has;return"function"!=typeof n&&(r=new(a("Set"))(t),n=s(r.has)),!c(e,(function(t,e){if(!1===n.call(r,t))return e()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},ayhe:function(t,e,r){var n=r("PpKG"),o=r("1M6e");t.exports=n?o:function(t){return Set.prototype.values.call(t)}},"bO+A":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("htNe"),o=r.n(n),a=r("2ibD");const i=o()((function(){return a.a.get(gon.sprite_icons).then((function(t){let{data:e}=t;return(new DOMParser).parseFromString(e,"text/xml")})).catch((function(t){throw i.cache.clear(),t}))})),s=function(t){return i().then((function(e){return e.querySelector("#".concat(t," path")).getAttribute("d")})).catch((function(){return null}))}},"d+lS":function(t,e,r){var n=r("dA+0");t.exports=function(t){return t&&t.length?n(t):[]}},dHQd:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("o34M");n({target:"Set",proto:!0,real:!0,forced:o},{addAll:function(){return a.apply(this,arguments)}})},eppl:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("eclS"),c=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{union:function(t){var e=i(this),r=new(l(e,a("Set")))(e);return c(t,s(r.add),{that:r}),r}})},hJLR:function(t,e,r){var n=r("62Hi"),o=r("4cIi"),a=r("nHTl");t.exports=function(t,e){return n(t,a(e,3),o)}},lRsd:function(t,e,r){"use strict";
/*!
  * vue-router v3.4.9
  * (c) 2020 Evan You
  * @license MIT
  */function n(t,e){for(var r in e)t[r]=e[r];return t}var o=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},i=/%2C/g,s=function(t){return encodeURIComponent(t).replace(o,a).replace(i,",")};function l(t){try{return decodeURIComponent(t)}catch(t){0}return t}var c=function(t){return null==t||"object"==typeof t?t:String(t)};function u(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var r=t.replace(/\+/g," ").split("="),n=l(r.shift()),o=r.length>0?l(r.join("=")):null;void 0===e[n]?e[n]=o:Array.isArray(e[n])?e[n].push(o):e[n]=[e[n],o]})),e):e}function d(t){var e=t?Object.keys(t).map((function(e){var r=t[e];if(void 0===r)return"";if(null===r)return s(e);if(Array.isArray(r)){var n=[];return r.forEach((function(t){void 0!==t&&(null===t?n.push(s(e)):n.push(s(e)+"="+s(t)))})),n.join("&")}return s(e)+"="+s(r)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function h(t,e,r,n){var o=n&&n.options.stringifyQuery,a=e.query||{};try{a=f(a)}catch(t){}var i={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:b(e,o),matched:t?g(t):[]};return r&&(i.redirectedFrom=b(r,o)),Object.freeze(i)}function f(t){if(Array.isArray(t))return t.map(f);if(t&&"object"==typeof t){var e={};for(var r in t)e[r]=f(t[r]);return e}return t}var m=h(null,{path:"/"});function g(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function b(t,e){var r=t.path,n=t.query;void 0===n&&(n={});var o=t.hash;return void 0===o&&(o=""),(r||"/")+(e||d)(n)+o}function v(t,e){return e===m?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&t.hash===e.hash&&y(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&y(t.query,e.query)&&y(t.params,e.params)))}function y(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var r=Object.keys(t).sort(),n=Object.keys(e).sort();return r.length===n.length&&r.every((function(r,o){var a=t[r];if(n[o]!==r)return!1;var i=e[r];return null==a||null==i?a===i:"object"==typeof a&&"object"==typeof i?y(a,i):String(a)===String(i)}))}function O(t){for(var e=0;e<t.matched.length;e++){var r=t.matched[e];for(var n in r.instances){var o=r.instances[n],a=r.enteredCbs[n];if(o&&a){delete r.enteredCbs[n];for(var i=0;i<a.length;i++)o._isBeingDestroyed||a[i](o)}}}}var _={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var r=e.props,o=e.children,a=e.parent,i=e.data;i.routerView=!0;for(var s=a.$createElement,l=r.name,c=a.$route,u=a._routerViewCache||(a._routerViewCache={}),d=0,p=!1;a&&a._routerRoot!==a;){var h=a.$vnode?a.$vnode.data:{};h.routerView&&d++,h.keepAlive&&a._directInactive&&a._inactive&&(p=!0),a=a.$parent}if(i.routerViewDepth=d,p){var f=u[l],m=f&&f.component;return m?(f.configProps&&x(m,i,f.route,f.configProps),s(m,i,o)):s()}var g=c.matched[d],b=g&&g.components[l];if(!g||!b)return u[l]=null,s();u[l]={component:b},i.registerRouteInstance=function(t,e){var r=g.instances[l];(e&&r!==t||!e&&r===t)&&(g.instances[l]=e)},(i.hook||(i.hook={})).prepatch=function(t,e){g.instances[l]=e.componentInstance},i.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[l]&&(g.instances[l]=t.componentInstance),O(c)};var v=g.props&&g.props[l];return v&&(n(u[l],{route:c,configProps:v}),x(b,i,c,v)),s(b,i,o)}};function x(t,e,r,o){var a=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(r,o);if(a){a=e.props=n({},a);var i=e.attrs=e.attrs||{};for(var s in a)t.props&&s in t.props||(i[s]=a[s],delete a[s])}}function w(t,e,r){var n=t.charAt(0);if("/"===n)return t;if("?"===n||"#"===n)return e+t;var o=e.split("/");r&&o[o.length-1]||o.pop();for(var a=t.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var s=a[i];".."===s?o.pop():"."!==s&&o.push(s)}return""!==o[0]&&o.unshift(""),o.join("/")}function j(t){return t.replace(/\/\//g,"/")}var S=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},P=N,D=M,A=function(t,e){return L(M(t,e),e)},T=L,k=G,C=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function M(t,e){for(var r,n=[],o=0,a=0,i="",s=e&&e.delimiter||"/";null!=(r=C.exec(t));){var l=r[0],c=r[1],u=r.index;if(i+=t.slice(a,u),a=u+l.length,c)i+=c[1];else{var d=t[a],p=r[2],h=r[3],f=r[4],m=r[5],g=r[6],b=r[7];i&&(n.push(i),i="");var v=null!=p&&null!=d&&d!==p,y="+"===g||"*"===g,O="?"===g||"*"===g,_=r[2]||s,x=f||m;n.push({name:h||o++,prefix:p||"",delimiter:_,optional:O,repeat:y,partial:v,asterisk:!!b,pattern:x?R(x):b?".*":"[^"+I(_)+"]+?"})}}return a<t.length&&(i+=t.substr(a)),i&&n.push(i),n}function E(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function L(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(r[n]=new RegExp("^(?:"+t[n].pattern+")$",$(e)));return function(e,n){for(var o="",a=e||{},i=(n||{}).pretty?E:encodeURIComponent,s=0;s<t.length;s++){var l=t[s];if("string"!=typeof l){var c,u=a[l.name];if(null==u){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(S(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=i(u[d]),!r[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");o+=(0===d?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(u).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})):i(u),!r[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');o+=l.prefix+c}}else o+=l}return o}}function I(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function q(t,e){return t.keys=e,t}function $(t){return t&&t.sensitive?"":"i"}function G(t,e,r){S(e)||(r=e||r,e=[]);for(var n=(r=r||{}).strict,o=!1!==r.end,a="",i=0;i<t.length;i++){var s=t[i];if("string"==typeof s)a+=I(s);else{var l=I(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),a+=c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var u=I(r.delimiter||"/"),d=a.slice(-u.length)===u;return n||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=o?"$":n&&d?"":"(?="+u+"|$)",q(new RegExp("^"+a,$(r)),e)}function N(t,e,r){return S(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?function(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(t,e)}(t,e):S(t)?function(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(N(t[o],e,r).source);return q(new RegExp("(?:"+n.join("|")+")",$(r)),e)}(t,e,r):function(t,e,r){return G(M(t,r),e,r)}(t,e,r)}P.parse=D,P.compile=A,P.tokensToFunction=T,P.tokensToRegExp=k;var B=Object.create(null);function F(t,e,r){e=e||{};try{var n=B[t]||(B[t]=P.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),n(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function z(t,e,r,o){var a="string"==typeof t?{path:t}:t;if(a._normalized)return a;if(a.name){var i=(a=n({},t)).params;return i&&"object"==typeof i&&(a.params=n({},i)),a}if(!a.path&&a.params&&e){(a=n({},a))._normalized=!0;var s=n(n({},e.params),a.params);if(e.name)a.name=e.name,a.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;a.path=F(l,s,e.path)}else 0;return a}var d=function(t){var e="",r="",n=t.indexOf("#");n>=0&&(e=t.slice(n),t=t.slice(0,n));var o=t.indexOf("?");return o>=0&&(r=t.slice(o+1),t=t.slice(0,o)),{path:t,query:r,hash:e}}(a.path||""),p=e&&e.path||"/",h=d.path?w(d.path,p,r||a.append):p,f=function(t,e,r){void 0===e&&(e={});var n,o=r||u;try{n=o(t||"")}catch(t){n={}}for(var a in e){var i=e[a];n[a]=Array.isArray(i)?i.map(c):c(i)}return n}(d.query,a.query,o&&o.options.parseQuery),m=a.hash||d.hash;return m&&"#"!==m.charAt(0)&&(m="#"+m),{_normalized:!0,path:h,query:f,hash:m}}var V,U=[String,Object],H=[String,Array],Q=function(){},W={name:"RouterLink",props:{to:{type:U,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:H,default:"click"}},render:function(t){var e=this,r=this.$router,o=this.$route,a=r.resolve(this.to,o,this.append),i=a.location,s=a.route,l=a.href,c={},u=r.options.linkActiveClass,d=r.options.linkExactActiveClass,f=null==u?"router-link-active":u,m=null==d?"router-link-exact-active":d,g=null==this.activeClass?f:this.activeClass,b=null==this.exactActiveClass?m:this.exactActiveClass,y=s.redirectedFrom?h(null,z(s.redirectedFrom),null,r):s;c[b]=v(o,y),c[g]=this.exact?c[b]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var r in e)if(!(r in t))return!1;return!0}(t.query,e.query)}(o,y);var O=c[b]?this.ariaCurrentValue:null,_=function(t){K(t)&&(e.replace?r.replace(i,Q):r.push(i,Q))},x={click:K};Array.isArray(this.event)?this.event.forEach((function(t){x[t]=_})):x[this.event]=_;var w={class:c},j=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:_,isActive:c[g],isExactActive:c[b]});if(j){if(1===j.length)return j[0];if(j.length>1||!j.length)return 0===j.length?t():t("span",{},j)}if("a"===this.tag)w.on=x,w.attrs={href:l,"aria-current":O};else{var S=function t(e){if(e)for(var r,n=0;n<e.length;n++){if("a"===(r=e[n]).tag)return r;if(r.children&&(r=t(r.children)))return r}}(this.$slots.default);if(S){S.isStatic=!1;var P=S.data=n({},S.data);for(var D in P.on=P.on||{},P.on){var A=P.on[D];D in x&&(P.on[D]=Array.isArray(A)?A:[A])}for(var T in x)T in P.on?P.on[T].push(x[T]):P.on[T]=_;var k=S.data.attrs=n({},S.data.attrs);k.href=l,k["aria-current"]=O}else w.on=x}return t(this.tag,w,this.$slots.default)}};function K(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}var Z="undefined"!=typeof window;function Y(t,e,r,n){var o=e||[],a=r||Object.create(null),i=n||Object.create(null);t.forEach((function(t){!function t(e,r,n,o,a,i){var s=o.path;var l=o.name;0;var c=o.pathToRegexpOptions||{};var u=function(t,e,r){r||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return j(e.path+"/"+t)}(s,a,c.strict);"boolean"==typeof o.caseSensitive&&(c.sensitive=o.caseSensitive);var d={path:u,regex:X(u,c),components:o.components||{default:o.component},instances:{},enteredCbs:{},name:l,parent:a,matchAs:i,redirect:o.redirect,beforeEnter:o.beforeEnter,meta:o.meta||{},props:null==o.props?{}:o.components?o.props:{default:o.props}};o.children&&o.children.forEach((function(o){var a=i?j(i+"/"+o.path):void 0;t(e,r,n,o,d,a)}));r[d.path]||(e.push(d.path),r[d.path]=d);if(void 0!==o.alias)for(var p=Array.isArray(o.alias)?o.alias:[o.alias],h=0;h<p.length;++h){0;var f={path:p[h],children:o.children};t(e,r,n,f,a,d.path||"/")}l&&(n[l]||(n[l]=d))}(o,a,i,t)}));for(var s=0,l=o.length;s<l;s++)"*"===o[s]&&(o.push(o.splice(s,1)[0]),l--,s--);return{pathList:o,pathMap:a,nameMap:i}}function X(t,e){return P(t,[],e)}function J(t,e){var r=Y(t),n=r.pathList,o=r.pathMap,a=r.nameMap;function i(t,r,i){var s=z(t,r,!1,e),c=s.name;if(c){var u=a[c];if(!u)return l(null,s);var d=u.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!=typeof s.params&&(s.params={}),r&&"object"==typeof r.params)for(var p in r.params)!(p in s.params)&&d.indexOf(p)>-1&&(s.params[p]=r.params[p]);return s.path=F(u.path,s.params),l(u,s,i)}if(s.path){s.params={};for(var h=0;h<n.length;h++){var f=n[h],m=o[f];if(tt(m.regex,s.path,s.params))return l(m,s,i)}}return l(null,s)}function s(t,r){var n=t.redirect,o="function"==typeof n?n(h(t,r,null,e)):n;if("string"==typeof o&&(o={path:o}),!o||"object"!=typeof o)return l(null,r);var s=o,c=s.name,u=s.path,d=r.query,p=r.hash,f=r.params;if(d=s.hasOwnProperty("query")?s.query:d,p=s.hasOwnProperty("hash")?s.hash:p,f=s.hasOwnProperty("params")?s.params:f,c){a[c];return i({_normalized:!0,name:c,query:d,hash:p,params:f},void 0,r)}if(u){var m=function(t,e){return w(t,e.parent?e.parent.path:"/",!0)}(u,t);return i({_normalized:!0,path:F(m,f),query:d,hash:p},void 0,r)}return l(null,r)}function l(t,r,n){return t&&t.redirect?s(t,n||r):t&&t.matchAs?function(t,e,r){var n=i({_normalized:!0,path:F(r,e.params)});if(n){var o=n.matched,a=o[o.length-1];return e.params=n.params,l(a,e)}return l(null,e)}(0,r,t.matchAs):h(t,r,n,e)}return{match:i,addRoutes:function(t){Y(t,n,o,a)}}}function tt(t,e,r){var n=e.match(t);if(!n)return!1;if(!r)return!0;for(var o=1,a=n.length;o<a;++o){var i=t.keys[o-1];i&&(r[i.name||"pathMatch"]="string"==typeof n[o]?l(n[o]):n[o])}return!0}var et=Z&&window.performance&&window.performance.now?window.performance:Date;function rt(){return et.now().toFixed(3)}var nt=rt();function ot(){return nt}function at(t){return nt=t}var it=Object.create(null);function st(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),r=n({},window.history.state);return r.key=ot(),window.history.replaceState(r,"",e),window.addEventListener("popstate",ut),function(){window.removeEventListener("popstate",ut)}}function lt(t,e,r,n){if(t.app){var o=t.options.scrollBehavior;o&&t.app.$nextTick((function(){var a=function(){var t=ot();if(t)return it[t]}(),i=o.call(t,e,r,n?a:null);i&&("function"==typeof i.then?i.then((function(t){mt(t,a)})).catch((function(t){0})):mt(i,a))}))}}function ct(){var t=ot();t&&(it[t]={x:window.pageXOffset,y:window.pageYOffset})}function ut(t){ct(),t.state&&t.state.key&&at(t.state.key)}function dt(t){return ht(t.x)||ht(t.y)}function pt(t){return{x:ht(t.x)?t.x:window.pageXOffset,y:ht(t.y)?t.y:window.pageYOffset}}function ht(t){return"number"==typeof t}var ft=/^#\d/;function mt(t,e){var r,n="object"==typeof t;if(n&&"string"==typeof t.selector){var o=ft.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(o){var a=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-r.left-e.x,y:n.top-r.top-e.y}}(o,a={x:ht((r=a).x)?r.x:0,y:ht(r.y)?r.y:0})}else dt(t)&&(e=pt(t))}else n&&dt(t)&&(e=pt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var gt,bt=Z&&((-1===(gt=window.navigator.userAgent).indexOf("Android 2.")&&-1===gt.indexOf("Android 4.0")||-1===gt.indexOf("Mobile Safari")||-1!==gt.indexOf("Chrome")||-1!==gt.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function vt(t,e){ct();var r=window.history;try{if(e){var o=n({},r.state);o.key=ot(),r.replaceState(o,"",t)}else r.pushState({key:at(rt())},"",t)}catch(r){window.location[e?"replace":"assign"](t)}}function yt(t){vt(t,!0)}function Ot(t,e,r){var n=function(o){o>=t.length?r():t[o]?e(t[o],(function(){n(o+1)})):n(o+1)};n(0)}var _t={redirected:2,aborted:4,cancelled:8,duplicated:16};function xt(t,e){return jt(t,e,_t.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return St.forEach((function(r){r in t&&(e[r]=t[r])})),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function wt(t,e){return jt(t,e,_t.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function jt(t,e,r,n){var o=new Error(n);return o._isRouter=!0,o.from=t,o.to=e,o.type=r,o}var St=["params","query","hash"];function Pt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Dt(t,e){return Pt(t)&&t._isRouter&&(null==e||t.type===e)}function At(t){return function(e,r,n){var o=!1,a=0,i=null;Tt(t,(function(t,e,r,s){if("function"==typeof t&&void 0===t.cid){o=!0,a++;var l,c=Mt((function(e){var o;((o=e).__esModule||Ct&&"Module"===o[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:V.extend(e),r.components[s]=e,--a<=0&&n()})),u=Mt((function(t){var e="Failed to resolve async component "+s+": "+t;i||(i=Pt(t)?t:new Error(e),n(i))}));try{l=t(c,u)}catch(t){u(t)}if(l)if("function"==typeof l.then)l.then(c,u);else{var d=l.component;d&&"function"==typeof d.then&&d.then(c,u)}}})),o||n()}}function Tt(t,e){return kt(t.map((function(t){return Object.keys(t.components).map((function(r){return e(t.components[r],t.instances[r],t,r)}))})))}function kt(t){return Array.prototype.concat.apply([],t)}var Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function Mt(t){var e=!1;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];if(!e)return e=!0,t.apply(this,r)}}var Et=function(t,e){this.router=t,this.base=function(t){if(!t)if(Z){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=m,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Lt(t,e,r,n){var o=Tt(t,(function(t,n,o,a){var i=function(t,e){"function"!=typeof t&&(t=V.extend(t));return t.options[e]}(t,e);if(i)return Array.isArray(i)?i.map((function(t){return r(t,n,o,a)})):r(i,n,o,a)}));return kt(n?o.reverse():o)}function It(t,e){if(e)return function(){return t.apply(e,arguments)}}Et.prototype.listen=function(t){this.cb=t},Et.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Et.prototype.onError=function(t){this.errorCbs.push(t)},Et.prototype.transitionTo=function(t,e,r){var n,o=this;try{n=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach((function(e){e(t)})),t}var a=this.current;this.confirmTransition(n,(function(){o.updateRoute(n),e&&e(n),o.ensureURL(),o.router.afterHooks.forEach((function(t){t&&t(n,a)})),o.ready||(o.ready=!0,o.readyCbs.forEach((function(t){t(n)})))}),(function(t){r&&r(t),t&&!o.ready&&(Dt(t,_t.redirected)&&a===m||(o.ready=!0,o.readyErrorCbs.forEach((function(e){e(t)}))))}))},Et.prototype.confirmTransition=function(t,e,r){var n=this,o=this.current;this.pending=t;var a,i,s=function(t){!Dt(t)&&Pt(t)&&(n.errorCbs.length?n.errorCbs.forEach((function(e){e(t)})):console.error(t)),r&&r(t)},l=t.matched.length-1,c=o.matched.length-1;if(v(t,o)&&l===c&&t.matched[l]===o.matched[c])return this.ensureURL(),s(((i=jt(a=o,t,_t.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",i));var u=function(t,e){var r,n=Math.max(t.length,e.length);for(r=0;r<n&&t[r]===e[r];r++);return{updated:e.slice(0,r),activated:e.slice(r),deactivated:t.slice(r)}}(this.current.matched,t.matched),d=u.updated,p=u.deactivated,h=u.activated,f=[].concat(function(t){return Lt(t,"beforeRouteLeave",It,!0)}(p),this.router.beforeHooks,function(t){return Lt(t,"beforeRouteUpdate",It)}(d),h.map((function(t){return t.beforeEnter})),At(h)),m=function(e,r){if(n.pending!==t)return s(wt(o,t));try{e(t,o,(function(e){!1===e?(n.ensureURL(!0),s(function(t,e){return jt(t,e,_t.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,t))):Pt(e)?(n.ensureURL(!0),s(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(s(xt(o,t)),"object"==typeof e&&e.replace?n.replace(e):n.push(e)):r(e)}))}catch(t){s(t)}};Ot(f,m,(function(){Ot(function(t){return Lt(t,"beforeRouteEnter",(function(t,e,r,n){return function(t,e,r){return function(n,o,a){return t(n,o,(function(t){"function"==typeof t&&(e.enteredCbs[r]||(e.enteredCbs[r]=[]),e.enteredCbs[r].push(t)),a(t)}))}}(t,r,n)}))}(h).concat(n.router.resolveHooks),m,(function(){if(n.pending!==t)return s(wt(o,t));n.pending=null,e(t),n.router.app&&n.router.app.$nextTick((function(){O(t)}))}))}))},Et.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Et.prototype.setupListeners=function(){},Et.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=m,this.pending=null};var Rt=function(t){function e(e,r){t.call(this,e,r),this._startLocation=qt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,r=e.options.scrollBehavior,n=bt&&r;n&&this.listeners.push(st());var o=function(){var r=t.current,o=qt(t.base);t.current===m&&o===t._startLocation||t.transitionTo(o,(function(t){n&&lt(e,t,r,!0)}))};window.addEventListener("popstate",o),this.listeners.push((function(){window.removeEventListener("popstate",o)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,(function(t){vt(j(n.base+t.fullPath)),lt(n.router,t,o,!1),e&&e(t)}),r)},e.prototype.replace=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,(function(t){yt(j(n.base+t.fullPath)),lt(n.router,t,o,!1),e&&e(t)}),r)},e.prototype.ensureURL=function(t){if(qt(this.base)!==this.current.fullPath){var e=j(this.base+this.current.fullPath);t?vt(e):yt(e)}},e.prototype.getCurrentLocation=function(){return qt(this.base)},e}(Et);function qt(t){var e=window.location.pathname;return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var $t=function(t){function e(e,r,n){t.call(this,e,r),n&&function(t){var e=qt(t);if(!/^\/#/.test(e))return window.location.replace(j(t+"/#"+e)),!0}(this.base)||Gt()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,r=bt&&e;r&&this.listeners.push(st());var n=function(){var e=t.current;Gt()&&t.transitionTo(Nt(),(function(n){r&&lt(t.router,n,e,!0),bt||zt(n.fullPath)}))},o=bt?"popstate":"hashchange";window.addEventListener(o,n),this.listeners.push((function(){window.removeEventListener(o,n)}))}},e.prototype.push=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,(function(t){Ft(t.fullPath),lt(n.router,t,o,!1),e&&e(t)}),r)},e.prototype.replace=function(t,e,r){var n=this,o=this.current;this.transitionTo(t,(function(t){zt(t.fullPath),lt(n.router,t,o,!1),e&&e(t)}),r)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;Nt()!==e&&(t?Ft(e):zt(e))},e.prototype.getCurrentLocation=function(){return Nt()},e}(Et);function Gt(){var t=Nt();return"/"===t.charAt(0)||(zt("/"+t),!1)}function Nt(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function Bt(t){var e=window.location.href,r=e.indexOf("#");return(r>=0?e.slice(0,r):e)+"#"+t}function Ft(t){bt?vt(Bt(t)):window.location.hash=t}function zt(t){bt?yt(Bt(t)):window.location.replace(Bt(t))}var Vt=function(t){function e(e,r){t.call(this,e,r),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,r){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index+1).concat(t),n.index++,e&&e(t)}),r)},e.prototype.replace=function(t,e,r){var n=this;this.transitionTo(t,(function(t){n.stack=n.stack.slice(0,n.index).concat(t),e&&e(t)}),r)},e.prototype.go=function(t){var e=this,r=this.index+t;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,(function(){var t=e.current;e.index=r,e.updateRoute(n),e.router.afterHooks.forEach((function(e){e&&e(n,t)}))}),(function(t){Dt(t,_t.duplicated)&&(e.index=r)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Et),Ut=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=J(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!bt&&!1!==t.fallback,this.fallback&&(e="hash"),Z||(e="abstract"),this.mode=e,e){case"history":this.history=new Rt(this,t.base);break;case"hash":this.history=new $t(this,t.base,this.fallback);break;case"abstract":this.history=new Vt(this,t.base);break;default:0}},Ht={currentRoute:{configurable:!0}};function Qt(t,e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}Ut.prototype.match=function(t,e,r){return this.matcher.match(t,e,r)},Ht.currentRoute.get=function(){return this.history&&this.history.current},Ut.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var r=e.apps.indexOf(t);r>-1&&e.apps.splice(r,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var r=this.history;if(r instanceof Rt||r instanceof $t){var n=function(t){r.setupListeners(),function(t){var n=r.current,o=e.options.scrollBehavior;bt&&o&&"fullPath"in t&&lt(e,t,n,!1)}(t)};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},Ut.prototype.beforeEach=function(t){return Qt(this.beforeHooks,t)},Ut.prototype.beforeResolve=function(t){return Qt(this.resolveHooks,t)},Ut.prototype.afterEach=function(t){return Qt(this.afterHooks,t)},Ut.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ut.prototype.onError=function(t){this.history.onError(t)},Ut.prototype.push=function(t,e,r){var n=this;if(!e&&!r&&"undefined"!=typeof Promise)return new Promise((function(e,r){n.history.push(t,e,r)}));this.history.push(t,e,r)},Ut.prototype.replace=function(t,e,r){var n=this;if(!e&&!r&&"undefined"!=typeof Promise)return new Promise((function(e,r){n.history.replace(t,e,r)}));this.history.replace(t,e,r)},Ut.prototype.go=function(t){this.history.go(t)},Ut.prototype.back=function(){this.go(-1)},Ut.prototype.forward=function(){this.go(1)},Ut.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},Ut.prototype.resolve=function(t,e,r){var n=z(t,e=e||this.history.current,r,this),o=this.match(n,e),a=o.redirectedFrom||o.fullPath;return{location:n,route:o,href:function(t,e,r){var n="hash"===r?"#"+e:e;return t?j(t+"/"+n):n}(this.history.base,a,this.mode),normalizedTo:n,resolved:o}},Ut.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==m&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ut.prototype,Ht),Ut.install=function t(e){if(!t.installed||V!==e){t.installed=!0,V=e;var r=function(t){return void 0!==t},n=function(t,e){var n=t.$options._parentVnode;r(n)&&r(n=n.data)&&r(n=n.registerRouteInstance)&&n(t,e)};e.mixin({beforeCreate:function(){r(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",_),e.component("RouterLink",W);var o=e.config.optionMergeStrategies;o.beforeRouteEnter=o.beforeRouteLeave=o.beforeRouteUpdate=o.created}},Ut.version="3.4.9",Ut.isNavigationFailure=Dt,Ut.NavigationFailureType=_t,Z&&window.Vue&&window.Vue.use(Ut),e.a=Ut},lVi8:function(t,e,r){var n=r("q+Dt"),o=r("20jF"),a=r("lx39"),i=r("NDsS"),s=r("R9Wj"),l=Math.max;t.exports=function(t,e,r,c){t=o(t)?t:s(t),r=r&&!c?i(r):0;var u=t.length;return r<0&&(r=l(u+r,0)),a(t)?r<=u&&t.indexOf(e,r)>-1:!!u&&n(t,e,r)>-1}},lvxy:function(t,e,r){"use strict";var n=r("Tmea"),o=r.n(n),a=r("PrLL"),i=r("MV2A"),s=r("l5WF"),l=r("4wRe"),c=r("FkSe"),u=r("s1D3"),d=r("2ibD"),p=r("NmEs"),h=r("Qhxq"),f=r("QwBj"),m=r("/lV4"),g=r("zXS2");function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const O=1e4,_=d.a.CancelToken;let x;var w={components:{GlFormInput:a.a,GlLink:i.a,GlFormGroup:s.a,GlFormRadioGroup:l.a,GlLoadingIcon:c.a,GlIcon:u.a},props:{formOperation:{type:String,required:!0},formData:{type:Object,required:!1,default:function(){return{title:"",yLabel:"",query:"",unit:"",group:"",legend:""}},validator:g.a},metricPersisted:{type:Boolean,required:!1,default:!1},validateQueryPath:{type:String,required:!0}},data(){const t=this.formData.group.length?this.formData.group:g.b.business;return v(v({queryIsValid:null,queryValidateInFlight:!1},this.formData),{},{group:t})},computed:{formIsValid(){return Boolean(this.queryIsValid&&this.title.length&&this.yLabel.length&&this.unit.length&&this.group.length)},validQueryMsg(){return this.queryIsValid?Object(m.e)("Metrics|PromQL query is valid"):""},invalidQueryMsg(){return this.queryIsValid?"":this.errorMessage}},watch:{formIsValid(t){this.$emit("formValidation",t)}},beforeMount(){this.metricPersisted&&this.validateQuery()},methods:{requestValidation(t,e){var r,n=this;return r=function(){return d.a.post(n.validateQueryPath,{query:t},{cancelToken:e})},Object(p.d)((function(t,e){r().then((function(r){r.status===f.a.OK?e(r):t()})).catch((function(t){return d.a.isCancel(t)?void 0:e(t)}))}),O)},setFormState(t,e,r){this.queryIsValid=t,this.queryValidateInFlight=e,this.errorMessage=r},validateQuery(){var t=this;this.query?(this.setFormState(null,!0,""),x&&x.cancel(),x=_.source(),this.requestValidation(this.query,x.token).then((function(e){const r=e.data,{valid:n,error:o}=r.query;if(!r.success)throw new Error(Object(m.a)("There was an error trying to validate your query"));t.setFormState(n,!1,n?"":o)})).catch((function(){t.setFormState(!1,!1,Object(m.e)("Metrics|There was an error trying to validate your query"))}))):this.setFormState(null,!1,"")},debouncedValidateQuery:o()((function(){this.validateQuery()}),500)},csrfToken:h.a.token||"",formGroupOptions:[{text:Object(m.a)("Business"),value:g.b.business},{text:Object(m.a)("Response"),value:g.b.response},{text:Object(m.a)("System"),value:g.b.system}]},j=r("tBpV"),S=Object(j.a)(w,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("input",{ref:"method",attrs:{type:"hidden",name:"_method"},domProps:{value:t.formOperation}}),t._v(" "),r("input",{attrs:{type:"hidden",name:"authenticity_token"},domProps:{value:t.$options.csrfToken}}),t._v(" "),r("gl-form-group",{attrs:{label:t.__("Name"),"label-for":"prometheus_metric_title","label-class":"label-bold"}},[r("gl-form-input",{staticClass:"form-control",attrs:{id:"prometheus_metric_title",name:"prometheus_metric[title]",placeholder:t.s__("Metrics|e.g. Throughput"),"data-qa-selector":"custom_metric_prometheus_title_field",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),r("span",{staticClass:"form-text text-muted"},[t._v(t._s(t.s__("Metrics|Used as a title for the chart")))])],1),t._v(" "),r("gl-form-group",{attrs:{label:t.__("Type"),"label-for":"prometheus_metric_group","label-class":"label-bold"}},[r("gl-form-radio-group",{attrs:{id:"metric-group",options:t.$options.formGroupOptions,checked:t.group,name:"prometheus_metric[group]"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}}),t._v(" "),r("span",{staticClass:"form-text text-muted"},[t._v(t._s(t.s__("Metrics|For grouping similar metrics")))])],1),t._v(" "),r("gl-form-group",{attrs:{label:t.__("Query"),"label-for":"prometheus_metric_query","label-class":"label-bold",state:t.queryIsValid}},[r("gl-form-input",{staticClass:"form-control",attrs:{id:"prometheus_metric_query","data-qa-selector":"custom_metric_prometheus_query_field",name:"prometheus_metric[query]",placeholder:t.s__("Metrics|e.g. rate(http_requests_total[5m])"),required:"",state:t.queryIsValid},on:{input:t.debouncedValidateQuery},model:{value:t.query,callback:function(e){t.query="string"==typeof e?e.trim():e},expression:"query"}}),t._v(" "),t.queryValidateInFlight?r("span",{staticClass:"form-text text-muted"},[r("gl-loading-icon",{staticClass:"mr-1 align-middle",attrs:{inline:!0}}),t._v("\n      "+t._s(t.s__("Metrics|Validating query"))+"\n    ")],1):t._e(),t._v(" "),t.queryValidateInFlight?t._e():t._t("valid-feedback",[r("span",{staticClass:"form-text cgreen"},[t._v("\n        "+t._s(t.validQueryMsg)+"\n      ")])]),t._v(" "),t.queryValidateInFlight?t._e():t._t("invalid-feedback",[r("span",{staticClass:"form-text cred"},[t._v("\n        "+t._s(t.invalidQueryMsg)+"\n      ")])]),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:0===t.query.length,expression:"query.length === 0"}],staticClass:"form-text text-muted"},[t._v("\n      "+t._s(t.s__("Metrics|Must be a valid PromQL query."))+"\n      "),r("gl-link",{attrs:{href:"https://prometheus.io/docs/prometheus/latest/querying/basics/",tabindex:"-1"}},[t._v("\n        "+t._s(t.s__("Metrics|Prometheus Query Documentation"))+"\n        "),r("gl-icon",{attrs:{name:"external-link",size:12}})],1)],1)],2),t._v(" "),r("gl-form-group",{attrs:{label:t.s__("Metrics|Y-axis label"),"label-for":"prometheus_metric_y_label","label-class":"label-bold"}},[r("gl-form-input",{staticClass:"form-control",attrs:{id:"prometheus_metric_y_label","data-qa-selector":"custom_metric_prometheus_y_label_field",name:"prometheus_metric[y_label]",placeholder:t.s__("Metrics|e.g. Requests/second"),required:""},model:{value:t.yLabel,callback:function(e){t.yLabel=e},expression:"yLabel"}}),t._v(" "),r("span",{staticClass:"form-text text-muted"},[t._v("\n      "+t._s(t.s__("Metrics|Label of the y-axis (usually the unit). The x-axis always represents time."))+"\n    ")])],1),t._v(" "),r("gl-form-group",{attrs:{label:t.s__("Metrics|Unit label"),"label-for":"prometheus_metric_unit","label-class":"label-bold"}},[r("gl-form-input",{staticClass:"form-control",attrs:{id:"prometheus_metric_unit","data-qa-selector":"custom_metric_prometheus_unit_label_field",name:"prometheus_metric[unit]",placeholder:t.s__("Metrics|e.g. req/sec"),required:""},model:{value:t.unit,callback:function(e){t.unit=e},expression:"unit"}})],1),t._v(" "),r("gl-form-group",{attrs:{label:t.s__("Metrics|Legend label (optional)"),"label-for":"prometheus_metric_legend","label-class":"label-bold"}},[r("gl-form-input",{staticClass:"form-control",attrs:{id:"prometheus_metric_legend","data-qa-selector":"custom_metric_prometheus_legend_label_field",name:"prometheus_metric[legend]",placeholder:t.s__("Metrics|e.g. HTTP requests"),required:""},model:{value:t.legend,callback:function(e){t.legend=e},expression:"legend"}}),t._v(" "),r("span",{staticClass:"form-text text-muted"},[t._v("\n      "+t._s(t.s__("Metrics|Used if the query returns a single series. If it returns multiple series, their legend labels will be picked up from the response."))+"\n    ")])],1)],1)}),[],!1,null,null,null);e.a=S.exports},nmTw:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("FUyg"),c=r("eclS"),u=r("ayhe"),d=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{map:function(t){var e=i(this),r=u(e),n=l(t,arguments.length>1?arguments[1]:void 0,3),o=new(c(e,a("Set"))),p=s(o.add);return d(r,(function(t){p.call(o,n(t,t,e))}),{IS_ITERATOR:!0}),o}})},nq4Y:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r("0zRR"),o=r("/Szx"),a=r("DXSV"),i=r("Vxxt"),s=r("QlUp"),l=r("Tu1i"),c=r("lOuV"),u=r("NSGy"),d=o.a.extend({name:n.D,mixins:[a.a,c.a,i.a,l.a,s.a],inject:{bvGroup:{from:"bvRadioGroup",default:!1}},props:{checked:{default:null}},computed:{isChecked:function(){return Object(u.a)(this.value,this.computedLocalChecked)},isRadio:function(){return!0},isCheck:function(){return!1}},watch:{computedLocalChecked:function(){this.$emit("input",this.computedLocalChecked)}},methods:{handleChange:function(t){var e=t.target.checked,r=this.value;this.computedLocalChecked=r,this.$emit("change",e?r:null),this.isGroup&&this.bvGroup.$emit("change",e?r:null)}}})},o34M:function(t,e,r){"use strict";var n=r("70tN"),o=r("AgLN");t.exports=function(){for(var t=n(this),e=o(t.add),r=0,a=arguments.length;r<a;r++)e.call(t,arguments[r]);return t}},sHIo:function(t,e,r){"use strict";e.a=function(){return{inject:{glFeatures:{from:"glFeatures",default:function(){return{}}}}}}},tWNI:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("OuD2"),i=r("70tN"),s=r("AgLN"),l=r("eclS"),c=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{difference:function(t){var e=i(this),r=new(l(e,a("Set")))(e),n=s(r.delete);return c(t,(function(t){n.call(r,t)})),r}})},"ta8/":function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("70tN"),i=r("AgLN"),s=r("H81m");n({target:"Set",proto:!0,real:!0,forced:o},{isSupersetOf:function(t){var e=a(this),r=i(e.has);return!s(t,(function(t,n){if(!1===r.call(e,t))return n()}),{INTERRUPTED:!0}).stopped}})},wAfB:function(t,e,r){t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s="fb15")}({"02f4":function(t,e,r){var n=r("4588"),o=r("be13");t.exports=function(t){return function(e,r){var a,i,s=String(o(e)),l=n(r),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?t?s.charAt(l):a:t?s.slice(l,l+2):i-56320+(a-55296<<10)+65536}}},"0390":function(t,e,r){"use strict";var n=r("02f4")(!0);t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},"07e3":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0fc9":function(t,e,r){var n=r("3a38"),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):a(t,e)}},1654:function(t,e,r){"use strict";var n=r("71c1")(!0);r("30f1")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})}))},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(t,e,r){var n=r("63b6");n(n.S,"Array",{isArray:r("9003")})},"1bc3":function(t,e,r){var n=r("f772");t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,r){var n=r("f772"),o=r("e53d").document,a=n(o)&&n(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},"20fd":function(t,e,r){"use strict";var n=r("d9f6"),o=r("aebd");t.exports=function(t,e,r){e in t?n.f(t,e,o(0,r)):t[e]=r}},"214f":function(t,e,r){"use strict";r("b0c5");var n=r("2aba"),o=r("32e9"),a=r("79e5"),i=r("be13"),s=r("2b4c"),l=r("520a"),c=s("species"),u=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();t.exports=function(t,e,r){var p=s(t),h=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),f=h?!a((function(){var e=!1,r=/a/;return r.exec=function(){return e=!0,null},"split"===t&&(r.constructor={},r.constructor[c]=function(){return r}),r[p](""),!e})):void 0;if(!h||!f||"replace"===t&&!u||"split"===t&&!d){var m=/./[p],g=r(i,p,""[t],(function(t,e,r,n,o){return e.exec===l?h&&!o?{done:!0,value:m.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}})),b=g[0],v=g[1];n(String.prototype,t,b),o(RegExp.prototype,p,2==e?function(t,e){return v.call(t,this,e)}:function(t){return v.call(t,this)})}}},"230e":function(t,e,r){var n=r("d3f4"),o=r("7726").document,a=n(o)&&n(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},"23c6":function(t,e,r){var n=r("2d95"),o=r("2b4c")("toStringTag"),a="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?n(e):"Object"==(i=n(e))&&"function"==typeof e.callee?"Arguments":i}},"241e":function(t,e,r){var n=r("25eb");t.exports=function(t){return Object(n(t))}},"25eb":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"2aba":function(t,e,r){var n=r("7726"),o=r("32e9"),a=r("69a8"),i=r("ca5a")("src"),s=r("fa5b"),l=(""+s).split("toString");r("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,r,s){var c="function"==typeof r;c&&(a(r,"name")||o(r,"name",e)),t[e]!==r&&(c&&(a(r,i)||o(r,i,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=r:s?t[e]?t[e]=r:o(t,e,r):(delete t[e],o(t,e,r)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[i]||s.call(this)}))},"2b4c":function(t,e,r){var n=r("5537")("wks"),o=r("ca5a"),a=r("7726").Symbol,i="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=i&&a[t]||(i?a:o)("Symbol."+t))}).store=n},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"2fdb":function(t,e,r){"use strict";var n=r("5ca1"),o=r("d2c8");n(n.P+n.F*r("5147")("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(t,e,r){"use strict";var n=r("b8e3"),o=r("63b6"),a=r("9138"),i=r("35e8"),s=r("481b"),l=r("8f60"),c=r("45f2"),u=r("53e2"),d=r("5168")("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};t.exports=function(t,e,r,f,m,g,b){l(r,e,f);var v,y,O,_=function(t){if(!p&&t in S)return S[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},x=e+" Iterator",w="values"==m,j=!1,S=t.prototype,P=S[d]||S["@@iterator"]||m&&S[m],D=P||_(m),A=m?w?_("entries"):D:void 0,T="Array"==e&&S.entries||P;if(T&&(O=u(T.call(new t)))!==Object.prototype&&O.next&&(c(O,x,!0),n||"function"==typeof O[d]||i(O,d,h)),w&&P&&"values"!==P.name&&(j=!0,D=function(){return P.call(this)}),n&&!b||!p&&!j&&S[d]||i(S,d,D),s[e]=D,s[x]=h,m)if(v={values:w?D:_("values"),keys:g?D:_("keys"),entries:A},b)for(y in v)y in S||a(S,y,v[y]);else o(o.P+o.F*(p||j),e,v);return v}},"32a6":function(t,e,r){var n=r("241e"),o=r("c3a1");r("ce7e")("keys",(function(){return function(t){return o(n(t))}}))},"32e9":function(t,e,r){var n=r("86cc"),o=r("4630");t.exports=r("9e1e")?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},"32fc":function(t,e,r){var n=r("e53d").document;t.exports=n&&n.documentElement},"335c":function(t,e,r){var n=r("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,r){var n=r("d9f6"),o=r("aebd");t.exports=r("8e60")?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},"36c3":function(t,e,r){var n=r("335c"),o=r("25eb");t.exports=function(t){return n(o(t))}},3702:function(t,e,r){var n=r("481b"),o=r("5168")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[o]===t)}},"3a38":function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},"40c3":function(t,e,r){var n=r("6b4c"),o=r("5168")("toStringTag"),a="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:a?n(e):"Object"==(i=n(e))&&"function"==typeof e.callee?"Arguments":i}},4588:function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},"45f2":function(t,e,r){var n=r("d9f6").f,o=r("07e3"),a=r("5168")("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("7d7b")},"481b":function(t,e){t.exports={}},"4aa6":function(t,e,r){t.exports=r("dc62")},"4bf8":function(t,e,r){var n=r("be13");t.exports=function(t){return Object(n(t))}},"4ee1":function(t,e,r){var n=r("5168")("iterator"),o=!1;try{var a=[7][n]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var a=[7],i=a[n]();i.next=function(){return{done:r=!0}},a[n]=function(){return i},t(a)}catch(t){}return r}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,r){var n=r("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},5168:function(t,e,r){var n=r("dbdb")("wks"),o=r("62a0"),a=r("e53d").Symbol,i="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=i&&a[t]||(i?a:o)("Symbol."+t))}).store=n},5176:function(t,e,r){t.exports=r("51b6")},"51b6":function(t,e,r){r("a3c3"),t.exports=r("584a").Object.assign},"520a":function(t,e,r){"use strict";var n,o,a=r("0bfb"),i=RegExp.prototype.exec,s=String.prototype.replace,l=i,c=(n=/a/,o=/b*/g,i.call(n,"a"),i.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,r,n,o,l=this;return u&&(r=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),c&&(e=l.lastIndex),n=i.call(l,t),c&&n&&(l.lastIndex=l.global?n.index+n[0].length:e),u&&n&&n.length>1&&s.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),t.exports=l},"53e2":function(t,e,r){var n=r("07e3"),o=r("241e"),a=r("5559")("IE_PROTO"),i=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?i:null}},"549b":function(t,e,r){"use strict";var n=r("d864"),o=r("63b6"),a=r("241e"),i=r("b0dc"),s=r("3702"),l=r("b447"),c=r("20fd"),u=r("7cd6");o(o.S+o.F*!r("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,r,o,d,p=a(t),h="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,b=0,v=u(p);if(g&&(m=n(m,f>2?arguments[2]:void 0,2)),null==v||h==Array&&s(v))for(r=new h(e=l(p.length));e>b;b++)c(r,b,g?m(p[b],b):p[b]);else for(d=v.call(p),r=new h;!(o=d.next()).done;b++)c(r,b,g?i(d,m,[o.value,b],!0):o.value);return r.length=b,r}})},"54a1":function(t,e,r){r("6c1c"),r("1654"),t.exports=r("95d5")},5537:function(t,e,r){var n=r("8378"),o=r("7726"),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,r){var n=r("dbdb")("keys"),o=r("62a0");t.exports=function(t){return n[t]||(n[t]=o(t))}},"584a":function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},"5b4e":function(t,e,r){var n=r("36c3"),o=r("b447"),a=r("0fc9");t.exports=function(t){return function(e,r,i){var s,l=n(e),c=o(l.length),u=a(i,c);if(t&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===r)return t||u||0;return!t&&-1}}},"5ca1":function(t,e,r){var n=r("7726"),o=r("8378"),a=r("32e9"),i=r("2aba"),s=r("9b43"),l=function(t,e,r){var c,u,d,p,h=t&l.F,f=t&l.G,m=t&l.S,g=t&l.P,b=t&l.B,v=f?n:m?n[e]||(n[e]={}):(n[e]||{}).prototype,y=f?o:o[e]||(o[e]={}),O=y.prototype||(y.prototype={});for(c in f&&(r=e),r)d=((u=!h&&v&&void 0!==v[c])?v:r)[c],p=b&&u?s(d,n):g&&"function"==typeof d?s(Function.call,d):d,v&&i(v,c,d,t&l.U),y[c]!=d&&a(y,c,p),g&&O[c]!=d&&(O[c]=d)};n.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5d73":function(t,e,r){t.exports=r("469f")},"5f1b":function(t,e,r){"use strict";var n=r("23c6"),o=RegExp.prototype.exec;t.exports=function(t,e){var r=t.exec;if("function"==typeof r){var a=r.call(t,e);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},"626a":function(t,e,r){var n=r("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},"62a0":function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},"63b6":function(t,e,r){var n=r("e53d"),o=r("584a"),a=r("d864"),i=r("35e8"),s=r("07e3"),l=function(t,e,r){var c,u,d,p=t&l.F,h=t&l.G,f=t&l.S,m=t&l.P,g=t&l.B,b=t&l.W,v=h?o:o[e]||(o[e]={}),y=v.prototype,O=h?n:f?n[e]:(n[e]||{}).prototype;for(c in h&&(r=e),r)(u=!p&&O&&void 0!==O[c])&&s(v,c)||(d=u?O[c]:r[c],v[c]=h&&"function"!=typeof O[c]?r[c]:g&&u?a(d,n):b&&O[c]==d?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(d):m&&"function"==typeof d?a(Function.call,d):d,m&&((v.virtual||(v.virtual={}))[c]=d,t&l.R&&y&&!y[c]&&i(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},6762:function(t,e,r){"use strict";var n=r("5ca1"),o=r("c366")(!0);n(n.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("includes")},6821:function(t,e,r){var n=r("626a"),o=r("be13");t.exports=function(t){return n(o(t))}},"69a8":function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},"6a99":function(t,e,r){var n=r("d3f4");t.exports=function(t,e){if(!n(t))return t;var r,o;if(e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;if("function"==typeof(r=t.valueOf)&&!n(o=r.call(t)))return o;if(!e&&"function"==typeof(r=t.toString)&&!n(o=r.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},"6b4c":function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},"6c1c":function(t,e,r){r("c367");for(var n=r("e53d"),o=r("35e8"),a=r("481b"),i=r("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=n[c],d=u&&u.prototype;d&&!d[i]&&o(d,i,c),a[c]=a.Array}},"71c1":function(t,e,r){var n=r("3a38"),o=r("25eb");t.exports=function(t){return function(e,r){var a,i,s=String(o(e)),l=n(r),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(i=s.charCodeAt(l+1))<56320||i>57343?t?s.charAt(l):a:t?s.slice(l,l+2):i-56320+(a-55296<<10)+65536}}},7726:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"774e":function(t,e,r){t.exports=r("d2d5")},"77f1":function(t,e,r){var n=r("4588"),o=Math.max,a=Math.min;t.exports=function(t,e){return(t=n(t))<0?o(t+e,0):a(t,e)}},"794b":function(t,e,r){t.exports=!r("8e60")&&!r("294c")((function(){return 7!=Object.defineProperty(r("1ec9")("div"),"a",{get:function(){return 7}}).a}))},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},"7cd6":function(t,e,r){var n=r("40c3"),o=r("5168")("iterator"),a=r("481b");t.exports=r("584a").getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||a[n(t)]}},"7d7b":function(t,e,r){var n=r("e4ae"),o=r("7cd6");t.exports=r("584a").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},"7e90":function(t,e,r){var n=r("d9f6"),o=r("e4ae"),a=r("c3a1");t.exports=r("8e60")?Object.defineProperties:function(t,e){o(t);for(var r,i=a(e),s=i.length,l=0;s>l;)n.f(t,r=i[l++],e[r]);return t}},8378:function(t,e){var r=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=r)},8436:function(t,e){t.exports=function(){}},"86cc":function(t,e,r){var n=r("cb7c"),o=r("c69a"),a=r("6a99"),i=Object.defineProperty;e.f=r("9e1e")?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),o)try{return i(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},"8aae":function(t,e,r){r("32a6"),t.exports=r("584a").Object.keys},"8e60":function(t,e,r){t.exports=!r("294c")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"8f60":function(t,e,r){"use strict";var n=r("a159"),o=r("aebd"),a=r("45f2"),i={};r("35e8")(i,r("5168")("iterator"),(function(){return this})),t.exports=function(t,e,r){t.prototype=n(i,{next:o(1,r)}),a(t,e+" Iterator")}},9003:function(t,e,r){var n=r("6b4c");t.exports=Array.isArray||function(t){return"Array"==n(t)}},9138:function(t,e,r){t.exports=r("35e8")},9306:function(t,e,r){"use strict";var n=r("c3a1"),o=r("9aa9"),a=r("355d"),i=r("241e"),s=r("335c"),l=Object.assign;t.exports=!l||r("294c")((function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=l({},t)[r]||Object.keys(l({},e)).join("")!=n}))?function(t,e){for(var r=i(t),l=arguments.length,c=1,u=o.f,d=a.f;l>c;)for(var p,h=s(arguments[c++]),f=u?n(h).concat(u(h)):n(h),m=f.length,g=0;m>g;)d.call(h,p=f[g++])&&(r[p]=h[p]);return r}:l},9427:function(t,e,r){var n=r("63b6");n(n.S,"Object",{create:r("a159")})},"95d5":function(t,e,r){var n=r("40c3"),o=r("5168")("iterator"),a=r("481b");t.exports=r("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||a.hasOwnProperty(n(e))}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9b43":function(t,e,r){var n=r("d8e8");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,r){var n=r("2b4c")("unscopables"),o=Array.prototype;null==o[n]&&r("32e9")(o,n,{}),t.exports=function(t){o[n][t]=!0}},"9def":function(t,e,r){var n=r("4588"),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},"9e1e":function(t,e,r){t.exports=!r("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a159:function(t,e,r){var n=r("e4ae"),o=r("7e90"),a=r("1691"),i=r("5559")("IE_PROTO"),s=function(){},l=function(){var t,e=r("1ec9")("iframe"),n=a.length;for(e.style.display="none",r("32fc").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;n--;)delete l.prototype[a[n]];return l()};t.exports=Object.create||function(t,e){var r;return null!==t?(s.prototype=n(t),r=new s,s.prototype=null,r[i]=t):r=l(),void 0===e?r:o(r,e)}},a352:function(t,e){t.exports=r("2O3R")},a3c3:function(t,e,r){var n=r("63b6");n(n.S+n.F,"Object",{assign:r("9306")})},a481:function(t,e,r){"use strict";var n=r("cb7c"),o=r("4bf8"),a=r("9def"),i=r("4588"),s=r("0390"),l=r("5f1b"),c=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;r("214f")("replace",2,(function(t,e,r,f){return[function(n,o){var a=t(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,a,o):r.call(String(a),n,o)},function(t,e){var o=f(r,t,this,e);if(o.done)return o.value;var d=n(t),p=String(this),h="function"==typeof e;h||(e=String(e));var g=d.global;if(g){var b=d.unicode;d.lastIndex=0}for(var v=[];;){var y=l(d,p);if(null===y)break;if(v.push(y),!g)break;""===String(y[0])&&(d.lastIndex=s(p,a(d.lastIndex),b))}for(var O,_="",x=0,w=0;w<v.length;w++){y=v[w];for(var j=String(y[0]),S=c(u(i(y.index),p.length),0),P=[],D=1;D<y.length;D++)P.push(void 0===(O=y[D])?O:String(O));var A=y.groups;if(h){var T=[j].concat(P,S,p);void 0!==A&&T.push(A);var k=String(e.apply(void 0,T))}else k=m(j,p,S,P,A,e);S>=x&&(_+=p.slice(x,S)+k,x=S+j.length)}return _+p.slice(x)}];function m(t,e,n,a,i,s){var l=n+t.length,c=a.length,u=h;return void 0!==i&&(i=o(i),u=p),r.call(s,u,(function(r,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return r;if(u>c){var p=d(u/10);return 0===p?r:p<=c?void 0===a[p-1]?o.charAt(1):a[p-1]+o.charAt(1):r}s=a[u-1]}return void 0===s?"":s}))}}))},a4bb:function(t,e,r){t.exports=r("8aae")},a745:function(t,e,r){t.exports=r("f410")},aae3:function(t,e,r){var n=r("d3f4"),o=r("2d95"),a=r("2b4c")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0c5:function(t,e,r){"use strict";var n=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},b0dc:function(t,e,r){var n=r("e4ae");t.exports=function(t,e,r,o){try{return o?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},b447:function(t,e,r){var n=r("3a38"),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},b8e3:function(t,e){t.exports=!0},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,r){var n=r("6821"),o=r("9def"),a=r("77f1");t.exports=function(t){return function(e,r,i){var s,l=n(e),c=o(l.length),u=a(i,c);if(t&&r!=r){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===r)return t||u||0;return!t&&-1}}},c367:function(t,e,r){"use strict";var n=r("8436"),o=r("50ed"),a=r("481b"),i=r("36c3");t.exports=r("30f1")(Array,"Array",(function(t,e){this._t=i(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?r:"values"==e?t[r]:[r,t[r]])}),"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},c3a1:function(t,e,r){var n=r("e6f3"),o=r("1691");t.exports=Object.keys||function(t){return n(t,o)}},c649:function(t,e,r){"use strict";(function(t){r.d(e,"c",(function(){return d})),r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return u}));r("a481");var n=r("4aa6"),o=r.n(n);var a="undefined"!=typeof window?window.console:t.console;var i,s,l=/-(\w)/g,c=(i=function(t){return t.replace(l,(function(t,e){return e?e.toUpperCase():""}))},s=o()(null),function(t){return s[t]||(s[t]=i(t))});function u(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function d(t,e,r){var n=0===r?t.children[0]:t.children[r-1].nextSibling;t.insertBefore(e,n)}}).call(this,r("c8ba"))},c69a:function(t,e,r){t.exports=!r("9e1e")&&!r("79e5")((function(){return 7!=Object.defineProperty(r("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},c8bb:function(t,e,r){t.exports=r("54a1")},ca5a:function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},cb7c:function(t,e,r){var n=r("d3f4");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},ce7e:function(t,e,r){var n=r("63b6"),o=r("584a"),a=r("294c");t.exports=function(t,e){var r=(o.Object||{})[t]||Object[t],i={};i[t]=e(r),n(n.S+n.F*a((function(){r(1)})),"Object",i)}},d2c8:function(t,e,r){var n=r("aae3"),o=r("be13");t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(o(t))}},d2d5:function(t,e,r){r("1654"),r("549b"),t.exports=r("584a").Array.from},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d864:function(t,e,r){var n=r("79aa");t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,r){var n=r("e4ae"),o=r("794b"),a=r("1bc3"),i=Object.defineProperty;e.f=r("8e60")?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),o)try{return i(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},dbdb:function(t,e,r){var n=r("584a"),o=r("e53d"),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:r("b8e3")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},dc62:function(t,e,r){r("9427");var n=r("584a").Object;t.exports=function(t,e){return n.create(t,e)}},e4ae:function(t,e,r){var n=r("f772");t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},e6f3:function(t,e,r){var n=r("07e3"),o=r("36c3"),a=r("5b4e")(!1),i=r("5559")("IE_PROTO");t.exports=function(t,e){var r,s=o(t),l=0,c=[];for(r in s)r!=i&&n(s,r)&&c.push(r);for(;e.length>l;)n(s,r=e[l++])&&(~a(c,r)||c.push(r));return c}},f410:function(t,e,r){r("1af6"),t.exports=r("584a").Array.isArray},f559:function(t,e,r){"use strict";var n=r("5ca1"),o=r("9def"),a=r("d2c8"),i="".startsWith;n(n.P+n.F*r("5147")("startsWith"),"String",{startsWith:function(t){var e=a(this,t,"startsWith"),r=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return i?i.call(e,n,r):e.slice(r,r+n.length)===n}})},f772:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},fa5b:function(t,e,r){t.exports=r("5537")("native-function-to-string",Function.toString)},fb15:function(t,e,r){"use strict";var n;(r.r(e),"undefined"!=typeof window)&&((n=window.document.currentScript)&&(n=n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(r.p=n[1]));var o=r("5176"),a=r.n(o),i=(r("f559"),r("a4bb")),s=r.n(i),l=r("a745"),c=r.n(l);var u=r("5d73"),d=r.n(u);function p(t,e){return function(t){if(c()(t))return t}(t)||function(t,e){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=d()(t);!(n=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}r("6762"),r("2fdb");var h=r("774e"),f=r.n(h),m=r("c8bb"),g=r.n(m);function b(t){return function(t){if(c()(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}}(t)||function(t){if(g()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return f()(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var v=r("a352"),y=r.n(v),O=r("c649");function _(t,e){var r=this;this.$nextTick((function(){return r.$emit(t.toLowerCase(),e)}))}function x(t){var e=this;return function(r){null!==e.realList&&e["onDrag"+t](r),_.call(e,t,r)}}function w(t){return["transition-group","TransitionGroup"].includes(t)}function j(t,e,r){return t[r]||(e[r]?e[r]():void 0)}var S=["Start","Add","Remove","Update","End"],P=["Choose","Unchoose","Sort","Filter","Clone"],D=["Move"].concat(S,P).map((function(t){return"on"+t})),A=null,T={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=function(t){if(!t||1!==t.length)return!1;var e=p(t,1)[0].componentOptions;return!!e&&w(e.tag)}(e);var r=function(t,e,r){var n=0,o=0,a=j(e,r,"header");a&&(n=a.length,t=t?[].concat(b(a),b(t)):b(a));var i=j(e,r,"footer");return i&&(o=i.length,t=t?[].concat(b(t),b(i)):b(i)),{children:t,headerOffset:n,footerOffset:o}}(e,this.$slots,this.$scopedSlots),n=r.children,o=r.headerOffset,i=r.footerOffset;this.headerOffset=o,this.footerOffset=i;var l=function(t,e){var r=null,n=function(t,e){r=function(t,e,r){return void 0===r?t:((t=t||{})[e]=r,t)}(r,t,e)};if(n("attrs",s()(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,r){return e[r]=t[r],e}),{})),!e)return r;var o=e.on,i=e.props,l=e.attrs;return n("on",o),n("props",i),a()(r.attrs,l),r}(this.$attrs,this.componentData);return t(this.getTag(),l,n)},created:function(){null!==this.list&&null!==this.value&&O.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&O.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&O.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};S.forEach((function(r){e["on"+r]=x.call(t,r)})),P.forEach((function(r){e["on"+r]=_.bind(t,r)}));var r=s()(this.$attrs).reduce((function(e,r){return e[Object(O.a)(r)]=t.$attrs[r],e}),{}),n=a()({},this.options,r,e,{onMove:function(e,r){return t.onDragMove(e,r)}});!("draggable"in n)&&(n.draggable=">*"),this._sortable=new y.a(this.rootContainer,n),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var r=Object(O.a)(e);-1===D.indexOf(r)&&this._sortable.option(r,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=function(t,e,r,n){if(!t)return[];var o=t.map((function(t){return t.elm})),a=e.length-n,i=b(e).map((function(t,e){return e>=a?o.length:o.indexOf(t)}));return r?i.filter((function(t){return-1!==t})):i}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=function(t,e){return t.map((function(t){return t.elm})).indexOf(e)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&w(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=b(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,b(t))};this.alterList(e)},updatePosition:function(t,e){var r=function(r){return r.splice(e,0,r.splice(t,1)[0])};this.alterList(r)},getRelatedContextFromMoveEvent:function(t){var e=t.to,r=t.related,n=this.getUnderlyingPotencialDraggableComponent(e);if(!n)return{component:n};var o=n.realList,i={list:o,component:n};if(e!==r&&o&&n.getUnderlyingVm){var s=n.getUnderlyingVm(r);if(s)return a()(s,i)}return i},getVmIndex:function(t){var e=this.visibleIndexes,r=e.length;return t>r-1?r:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),A=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(O.d)(t.item);var r=this.getVmIndex(t.newIndex);this.spliceList(r,0,e),this.computeIndexes();var n={element:e,newIndex:r};this.emitChanges({added:n})}},onDragRemove:function(t){if(Object(O.c)(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var r={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:r})}else Object(O.d)(t.clone)},onDragUpdate:function(t){Object(O.d)(t.item),Object(O.c)(t.from,t.item,t.oldIndex);var e=this.context.index,r=this.getVmIndex(t.newIndex);this.updatePosition(e,r);var n={element:this.context.element,oldIndex:e,newIndex:r};this.emitChanges({moved:n})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var r=b(e.to.children).filter((function(t){return"none"!==t.style.display})),n=r.indexOf(e.related),o=t.component.getVmIndex(n);return-1!==r.indexOf(A)||!e.willInsertAfter?o:o+1},onDragMove:function(t,e){var r=this.move;if(!r||!this.realList)return!0;var n=this.getRelatedContextFromMoveEvent(t),o=this.context,i=this.computeFutureIndex(n,t);return a()(o,{futureIndex:i}),r(a()({},t,{relatedContext:n,draggedContext:o}),e)},onDragEnd:function(){this.computeIndexes(),A=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",T);var k=T;e.default=k}}).default},waGw:function(t,e,r){"use strict";var n=r("KFC0"),o=r.n(n),a=new(r("BwV9").a)((function(t){t.forEach((function(t){t.target.glResizeHandler(t)}))})),i={bind:function(t,e){var r=e.value;if(!o()(r))throw TypeError("directive value must be a function");t.glResizeHandler=r,a.observe(t)},unbind:function(t){t.glResizeHandler&&(delete t.glResizeHandler,a.unobserve(t))}};e.a=i},yA3Z:function(t,e,r){"use strict";var n=r("4ZIW");e.a={bind(t,e){t.dataset.trackingOptions=JSON.stringify(e.value||{}),t.addEventListener("click",(function(){const{category:e,action:r,label:o,property:a,value:i}=JSON.parse(t.dataset.trackingOptions);e&&r&&n.a.event(e,r,{label:o,property:a,value:i})}))},update(t,e){e.value!==e.oldValue&&(t.dataset.trackingOptions=JSON.stringify(e.value||{}))}}},yoDG:function(t,e,r){"use strict";var n=r("ZfjD"),o=r("PpKG"),a=r("sieV");n({target:"Set",proto:!0,real:!0,forced:o},{deleteAll:function(){return a.apply(this,arguments)}})},zXS2:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o}));r("QifN");const n={business:"business",response:"response",system:"system"},o=function(t){const e=Object.keys(t);return["title","query","yLabel","unit","group","legend"].every((function(t){return e.includes(t)}))}}}]);
//# sourceMappingURL=commons-pages.admin.clusters.show-pages.groups.clusters.show-pages.projects.environments.metrics-pag-755d9497.2c5a2ae7.chunk.js.map