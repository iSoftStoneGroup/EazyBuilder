<?xml version="1.0" encoding="UTF-8"?><ureport><cell expand="None" name="A1" row="1" col="1"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[姓名]]></simple-value></cell><cell expand="None" name="B1" row="1" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" align="center" valign="middle"></cell-style><simple-value><![CDATA[PBI]]></simple-value></cell><cell expand="None" name="C1" row="1" col="3"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[任务项]]></simple-value></cell><cell expand="None" name="D1" row="1" col="4"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[任务状态]]></simple-value></cell><cell expand="None" name="E1" row="1" col="5"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[任务开始时间]]></simple-value></cell><cell expand="None" name="F1" row="1" col="6"><cell-style font-size="10" forecolor="0,0,0" font-family="宋体" bgcolor="51,122,183" bold="true" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><simple-value><![CDATA[任务结束时间]]></simple-value></cell><cell expand="Down" name="A2" row="2" col="1"><cell-style font-size="10" forecolor="0,0,0" bgcolor="255,255,255" bold="false" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="group" property="assigned" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="B2" row="2" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="select" property="PBI_name" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="C2" row="2" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="select" property="subject" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="D2" row="2" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="select" property="status_name" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="E2" row="2" col="5"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="select" property="created_on" order="none" mapping-type="simple"></dataset-value></cell><cell expand="Down" name="F2" row="2" col="6"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"><left-border width="1" style="solid" color="0,0,0"/><right-border width="1" style="solid" color="0,0,0"/><top-border width="1" style="solid" color="0,0,0"/><bottom-border width="1" style="solid" color="0,0,0"/></cell-style><dataset-value dataset-name="issues" aggregate="select" property="closed_on" order="none" mapping-type="simple"></dataset-value></cell><cell expand="None" name="A3" row="3" col="1"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="B3" row="3" col="2"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="C3" row="3" col="3"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="D3" row="3" col="4"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="E3" row="3" col="5"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><cell expand="None" name="F3" row="3" col="6"><cell-style font-size="9" forecolor="0,0,0" font-family="宋体" align="center" valign="middle"></cell-style><simple-value><![CDATA[]]></simple-value></cell><row row-number="1" height="25" band="summary"/><row row-number="2" height="27" band="summary"/><row row-number="3" height="19"/><column col-number="1" width="102"/><column col-number="2" width="211"/><column col-number="3" width="275"/><column col-number="4" width="95"/><column col-number="5" width="158"/><column col-number="6" width="152"/><datasource name="生产环境-grafana" type="jdbc" username="develop" password="develop_123" url="jdbc:mysql://0.0.0.0:3306/grafana?allowMultiQueries=true&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai&amp;allowPublicKeyRetrieval=true" driver="com.mysql.jdbc.Driver"><dataset name="issues" type="sql"><sql><![CDATA[	SELECT
		concat( (SELECT CONCAT( lastname ,firstname)   from redmine_users ru  WHERE  ru.id=ri2.assigned_to_id),'/',ru.login )as 'assigned',
		temp.subject as 'PBI_name',
		ri2.subject,
		(SELECT name from issue_statuses is2 WHERE is2.id=ri2.status_id) as 'status_name',
		ri2.created_on ,
		ri2.closed_on 
-- 		TIMESTAMPDIFF(HOUR, ri2.created_on, ri2.closed_on) as 'spend_time'
	from 
	(
		SELECT 
		ri.id ,ri.subject,status_id 
		from  redmine_issues ri  WHERE
		ri.project_id =(SELECT id from redmine_projects rp WHERE rp.identifier=:teamName)
		AND 
		ri.tracker_id =(SELECT id from redmine_trackers rt WHERE name='需求')
		AND 
		ri.sprint_id =(SELECT id from  redmine_sprints rs WHERE rs.name=:sprintName and rs.project_id=(SELECT id from redmine_projects rp WHERE rp.identifier=:teamName)   )
	) temp
	LEFT join 
		redmine_issues ri2
	on 
		temp.id=ri2.parent_id		
	left JOIN  redmine_users ru 
	on ri2.assigned_to_id=ru.id 
	order by ri2.created_on  asc]]></sql><field name="assigned"/><field name="PBI_name"/><field name="subject"/><field name="status_name"/><field name="created_on"/><field name="closed_on"/><parameter name="teamName" type="String" default-value=""/><parameter name="sprintName" type="String" default-value=""/></dataset></datasource><paper type="A5" left-margin="90" right-margin="90"
    top-margin="72" bottom-margin="72" paging-mode="fitpage" fixrows="0"
    width="420" height="595" orientation="portrait" html-report-align="left" bg-image="" html-interval-refresh-value="0" column-enabled="false"></paper><search-form form-position="up"><grid show-border="false" type="Grid3x3x3" border-width="1" border-color="#cccccc"><col size="4"><input-text label="工程名称" type="Text" label-position="left" bind-parameter="teamName"/></col><col size="4"><input-text label="看板名称" type="Text" label-position="left" bind-parameter="sprintName"/></col><col size="4"/></grid></search-form></ureport>